{
  "version": 3,
  "sources": ["../node_modules/dns-packet/types.js", "../node_modules/dns-packet/rcodes.js", "../node_modules/dns-packet/opcodes.js", "../node_modules/dns-packet/classes.js", "../node_modules/dns-packet/optioncodes.js", "../node_modules/@leichtgewicht/ip-codec/index.cjs", "../node_modules/dns-packet/index.js", "../node_modules/dns-socket/index.js", "../node_modules/defer-to-connect/dist/source/index.js", "../node_modules/get-stream/buffer-stream.js", "../node_modules/get-stream/index.js", "../node_modules/http-cache-semantics/index.js", "../node_modules/json-buffer/index.js", "../node_modules/keyv/src/index.js", "../node_modules/decompress-response/node_modules/mimic-response/index.js", "../node_modules/decompress-response/index.js", "../node_modules/quick-lru/index.js", "../node_modules/http2-wrapper/source/utils/delay-async-destroy.js", "../node_modules/http2-wrapper/source/agent.js", "../node_modules/http2-wrapper/source/incoming-message.js", "../node_modules/http2-wrapper/source/utils/proxy-events.js", "../node_modules/http2-wrapper/source/utils/errors.js", "../node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js", "../node_modules/http2-wrapper/source/utils/validate-header-name.js", "../node_modules/http2-wrapper/source/utils/validate-header-value.js", "../node_modules/http2-wrapper/source/utils/proxy-socket-handler.js", "../node_modules/http2-wrapper/source/client-request.js", "../node_modules/resolve-alpn/index.js", "../node_modules/http2-wrapper/source/utils/calculate-server-name.js", "../node_modules/http2-wrapper/source/auto.js", "../node_modules/http2-wrapper/source/utils/js-stream-socket.js", "../node_modules/http2-wrapper/source/proxies/unexpected-status-code-error.js", "../node_modules/http2-wrapper/source/utils/check-type.js", "../node_modules/http2-wrapper/source/proxies/initialize.js", "../node_modules/http2-wrapper/source/proxies/get-auth-headers.js", "../node_modules/http2-wrapper/source/proxies/h1-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-hx.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h1.js", "../node_modules/http2-wrapper/source/index.js", "../src/copy-ip.tsx", "../src/utils/common-utils.ts", "../src/utils/constants.ts", "../src/types/preferences.ts", "../node_modules/public-ip/index.js", "../node_modules/@sindresorhus/is/dist/index.js", "../node_modules/got/dist/source/as-promise/index.js", "../node_modules/p-cancelable/index.js", "../node_modules/got/dist/source/core/errors.js", "../node_modules/got/dist/source/core/index.js", "../node_modules/@szmarczak/http-timer/dist/source/index.js", "../node_modules/cacheable-request/src/index.ts", "../node_modules/normalize-url/index.js", "../node_modules/responselike/index.js", "../node_modules/lowercase-keys/index.js", "../node_modules/mimic-response/index.js", "../node_modules/cacheable-request/src/types.ts", "../node_modules/form-data-encoder/lib/util/isFunction.js", "../node_modules/form-data-encoder/lib/util/getStreamIterator.js", "../node_modules/form-data-encoder/lib/util/createBoundary.js", "../node_modules/form-data-encoder/lib/util/normalizeValue.js", "../node_modules/form-data-encoder/lib/util/isPlainObject.js", "../node_modules/form-data-encoder/lib/util/proxyHeaders.js", "../node_modules/form-data-encoder/lib/util/isFormData.js", "../node_modules/form-data-encoder/lib/util/escapeName.js", "../node_modules/form-data-encoder/lib/util/isFile.js", "../node_modules/form-data-encoder/lib/FormDataEncoder.js", "../node_modules/got/dist/source/core/utils/get-body-size.js", "../node_modules/got/dist/source/core/utils/is-form-data.js", "../node_modules/got/dist/source/core/utils/proxy-events.js", "../node_modules/got/dist/source/core/timed-out.js", "../node_modules/got/dist/source/core/utils/unhandle.js", "../node_modules/got/dist/source/core/utils/url-to-options.js", "../node_modules/got/dist/source/core/utils/weakable-map.js", "../node_modules/got/dist/source/core/calculate-retry-delay.js", "../node_modules/got/dist/source/core/options.js", "../node_modules/cacheable-lookup/source/index.js", "../node_modules/got/dist/source/core/parse-link-header.js", "../node_modules/got/dist/source/core/response.js", "../node_modules/got/dist/source/core/utils/is-client-request.js", "../node_modules/got/dist/source/core/utils/is-unix-socket-url.js", "../node_modules/got/dist/source/as-promise/types.js", "../node_modules/got/dist/source/create.js", "../node_modules/got/dist/source/index.js", "../node_modules/ip-regex/index.js", "../node_modules/function-timeout/index.js", "../node_modules/is-regexp/index.js", "../node_modules/clone-regexp/index.js", "../node_modules/super-regex/index.js", "../node_modules/is-ip/index.js", "../node_modules/public-ip/core.js"],
  "sourcesContent": ["'use strict'\n\nexports.toString = function (type) {\n  switch (type) {\n    case 1: return 'A'\n    case 10: return 'NULL'\n    case 28: return 'AAAA'\n    case 18: return 'AFSDB'\n    case 42: return 'APL'\n    case 257: return 'CAA'\n    case 60: return 'CDNSKEY'\n    case 59: return 'CDS'\n    case 37: return 'CERT'\n    case 5: return 'CNAME'\n    case 49: return 'DHCID'\n    case 32769: return 'DLV'\n    case 39: return 'DNAME'\n    case 48: return 'DNSKEY'\n    case 43: return 'DS'\n    case 55: return 'HIP'\n    case 13: return 'HINFO'\n    case 45: return 'IPSECKEY'\n    case 25: return 'KEY'\n    case 36: return 'KX'\n    case 29: return 'LOC'\n    case 15: return 'MX'\n    case 35: return 'NAPTR'\n    case 2: return 'NS'\n    case 47: return 'NSEC'\n    case 50: return 'NSEC3'\n    case 51: return 'NSEC3PARAM'\n    case 12: return 'PTR'\n    case 46: return 'RRSIG'\n    case 17: return 'RP'\n    case 24: return 'SIG'\n    case 6: return 'SOA'\n    case 99: return 'SPF'\n    case 33: return 'SRV'\n    case 44: return 'SSHFP'\n    case 32768: return 'TA'\n    case 249: return 'TKEY'\n    case 52: return 'TLSA'\n    case 250: return 'TSIG'\n    case 16: return 'TXT'\n    case 252: return 'AXFR'\n    case 251: return 'IXFR'\n    case 41: return 'OPT'\n    case 255: return 'ANY'\n  }\n  return 'UNKNOWN_' + type\n}\n\nexports.toType = function (name) {\n  switch (name.toUpperCase()) {\n    case 'A': return 1\n    case 'NULL': return 10\n    case 'AAAA': return 28\n    case 'AFSDB': return 18\n    case 'APL': return 42\n    case 'CAA': return 257\n    case 'CDNSKEY': return 60\n    case 'CDS': return 59\n    case 'CERT': return 37\n    case 'CNAME': return 5\n    case 'DHCID': return 49\n    case 'DLV': return 32769\n    case 'DNAME': return 39\n    case 'DNSKEY': return 48\n    case 'DS': return 43\n    case 'HIP': return 55\n    case 'HINFO': return 13\n    case 'IPSECKEY': return 45\n    case 'KEY': return 25\n    case 'KX': return 36\n    case 'LOC': return 29\n    case 'MX': return 15\n    case 'NAPTR': return 35\n    case 'NS': return 2\n    case 'NSEC': return 47\n    case 'NSEC3': return 50\n    case 'NSEC3PARAM': return 51\n    case 'PTR': return 12\n    case 'RRSIG': return 46\n    case 'RP': return 17\n    case 'SIG': return 24\n    case 'SOA': return 6\n    case 'SPF': return 99\n    case 'SRV': return 33\n    case 'SSHFP': return 44\n    case 'TA': return 32768\n    case 'TKEY': return 249\n    case 'TLSA': return 52\n    case 'TSIG': return 250\n    case 'TXT': return 16\n    case 'AXFR': return 252\n    case 'IXFR': return 251\n    case 'OPT': return 41\n    case 'ANY': return 255\n    case '*': return 255\n  }\n  if (name.toUpperCase().startsWith('UNKNOWN_')) return parseInt(name.slice(8))\n  return 0\n}\n", "'use strict'\n\n/*\n * Traditional DNS header RCODEs (4-bits) defined by IANA in\n * https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml\n */\n\nexports.toString = function (rcode) {\n  switch (rcode) {\n    case 0: return 'NOERROR'\n    case 1: return 'FORMERR'\n    case 2: return 'SERVFAIL'\n    case 3: return 'NXDOMAIN'\n    case 4: return 'NOTIMP'\n    case 5: return 'REFUSED'\n    case 6: return 'YXDOMAIN'\n    case 7: return 'YXRRSET'\n    case 8: return 'NXRRSET'\n    case 9: return 'NOTAUTH'\n    case 10: return 'NOTZONE'\n    case 11: return 'RCODE_11'\n    case 12: return 'RCODE_12'\n    case 13: return 'RCODE_13'\n    case 14: return 'RCODE_14'\n    case 15: return 'RCODE_15'\n  }\n  return 'RCODE_' + rcode\n}\n\nexports.toRcode = function (code) {\n  switch (code.toUpperCase()) {\n    case 'NOERROR': return 0\n    case 'FORMERR': return 1\n    case 'SERVFAIL': return 2\n    case 'NXDOMAIN': return 3\n    case 'NOTIMP': return 4\n    case 'REFUSED': return 5\n    case 'YXDOMAIN': return 6\n    case 'YXRRSET': return 7\n    case 'NXRRSET': return 8\n    case 'NOTAUTH': return 9\n    case 'NOTZONE': return 10\n    case 'RCODE_11': return 11\n    case 'RCODE_12': return 12\n    case 'RCODE_13': return 13\n    case 'RCODE_14': return 14\n    case 'RCODE_15': return 15\n  }\n  return 0\n}\n", "'use strict'\n\n/*\n * Traditional DNS header OPCODEs (4-bits) defined by IANA in\n * https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-5\n */\n\nexports.toString = function (opcode) {\n  switch (opcode) {\n    case 0: return 'QUERY'\n    case 1: return 'IQUERY'\n    case 2: return 'STATUS'\n    case 3: return 'OPCODE_3'\n    case 4: return 'NOTIFY'\n    case 5: return 'UPDATE'\n    case 6: return 'OPCODE_6'\n    case 7: return 'OPCODE_7'\n    case 8: return 'OPCODE_8'\n    case 9: return 'OPCODE_9'\n    case 10: return 'OPCODE_10'\n    case 11: return 'OPCODE_11'\n    case 12: return 'OPCODE_12'\n    case 13: return 'OPCODE_13'\n    case 14: return 'OPCODE_14'\n    case 15: return 'OPCODE_15'\n  }\n  return 'OPCODE_' + opcode\n}\n\nexports.toOpcode = function (code) {\n  switch (code.toUpperCase()) {\n    case 'QUERY': return 0\n    case 'IQUERY': return 1\n    case 'STATUS': return 2\n    case 'OPCODE_3': return 3\n    case 'NOTIFY': return 4\n    case 'UPDATE': return 5\n    case 'OPCODE_6': return 6\n    case 'OPCODE_7': return 7\n    case 'OPCODE_8': return 8\n    case 'OPCODE_9': return 9\n    case 'OPCODE_10': return 10\n    case 'OPCODE_11': return 11\n    case 'OPCODE_12': return 12\n    case 'OPCODE_13': return 13\n    case 'OPCODE_14': return 14\n    case 'OPCODE_15': return 15\n  }\n  return 0\n}\n", "'use strict'\n\nexports.toString = function (klass) {\n  switch (klass) {\n    case 1: return 'IN'\n    case 2: return 'CS'\n    case 3: return 'CH'\n    case 4: return 'HS'\n    case 255: return 'ANY'\n  }\n  return 'UNKNOWN_' + klass\n}\n\nexports.toClass = function (name) {\n  switch (name.toUpperCase()) {\n    case 'IN': return 1\n    case 'CS': return 2\n    case 'CH': return 3\n    case 'HS': return 4\n    case 'ANY': return 255\n  }\n  return 0\n}\n", "'use strict'\n\nexports.toString = function (type) {\n  switch (type) {\n    // list at\n    // https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-11\n    case 1: return 'LLQ'\n    case 2: return 'UL'\n    case 3: return 'NSID'\n    case 5: return 'DAU'\n    case 6: return 'DHU'\n    case 7: return 'N3U'\n    case 8: return 'CLIENT_SUBNET'\n    case 9: return 'EXPIRE'\n    case 10: return 'COOKIE'\n    case 11: return 'TCP_KEEPALIVE'\n    case 12: return 'PADDING'\n    case 13: return 'CHAIN'\n    case 14: return 'KEY_TAG'\n    case 26946: return 'DEVICEID'\n  }\n  if (type < 0) {\n    return null\n  }\n  return `OPTION_${type}`\n}\n\nexports.toCode = function (name) {\n  if (typeof name === 'number') {\n    return name\n  }\n  if (!name) {\n    return -1\n  }\n  switch (name.toUpperCase()) {\n    case 'OPTION_0': return 0\n    case 'LLQ': return 1\n    case 'UL': return 2\n    case 'NSID': return 3\n    case 'OPTION_4': return 4\n    case 'DAU': return 5\n    case 'DHU': return 6\n    case 'N3U': return 7\n    case 'CLIENT_SUBNET': return 8\n    case 'EXPIRE': return 9\n    case 'COOKIE': return 10\n    case 'TCP_KEEPALIVE': return 11\n    case 'PADDING': return 12\n    case 'CHAIN': return 13\n    case 'KEY_TAG': return 14\n    case 'DEVICEID': return 26946\n    case 'OPTION_65535': return 65535\n  }\n  const m = name.match(/_(\\d+)$/)\n  if (m) {\n    return parseInt(m[1], 10)\n  }\n  return -1\n}\n", "// GENERATED FILE. DO NOT EDIT.\nvar ipCodec = (function(exports) {\n  \"use strict\";\n  \n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decode = decode;\n  exports.encode = encode;\n  exports.familyOf = familyOf;\n  exports.name = void 0;\n  exports.sizeOf = sizeOf;\n  exports.v6 = exports.v4 = void 0;\n  const v4Regex = /^(\\d{1,3}\\.){3,3}\\d{1,3}$/;\n  const v4Size = 4;\n  const v6Regex = /^(::)?(((\\d{1,3}\\.){3}(\\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;\n  const v6Size = 16;\n  const v4 = {\n    name: 'v4',\n    size: v4Size,\n    isFormat: ip => v4Regex.test(ip),\n  \n    encode(ip, buff, offset) {\n      offset = ~~offset;\n      buff = buff || new Uint8Array(offset + v4Size);\n      const max = ip.length;\n      let n = 0;\n  \n      for (let i = 0; i < max;) {\n        const c = ip.charCodeAt(i++);\n  \n        if (c === 46) {\n          // \".\"\n          buff[offset++] = n;\n          n = 0;\n        } else {\n          n = n * 10 + (c - 48);\n        }\n      }\n  \n      buff[offset] = n;\n      return buff;\n    },\n  \n    decode(buff, offset) {\n      offset = ~~offset;\n      return `${buff[offset++]}.${buff[offset++]}.${buff[offset++]}.${buff[offset]}`;\n    }\n  \n  };\n  exports.v4 = v4;\n  const v6 = {\n    name: 'v6',\n    size: v6Size,\n    isFormat: ip => ip.length > 0 && v6Regex.test(ip),\n  \n    encode(ip, buff, offset) {\n      offset = ~~offset;\n      let end = offset + v6Size;\n      let fill = -1;\n      let hexN = 0;\n      let decN = 0;\n      let prevColon = true;\n      let useDec = false;\n      buff = buff || new Uint8Array(offset + v6Size); // Note: This algorithm needs to check if the offset\n      // could exceed the buffer boundaries as it supports\n      // non-standard compliant encodings that may go beyond\n      // the boundary limits. if (offset < end) checks should\n      // not be necessary...\n  \n      for (let i = 0; i < ip.length; i++) {\n        let c = ip.charCodeAt(i);\n  \n        if (c === 58) {\n          // :\n          if (prevColon) {\n            if (fill !== -1) {\n              // Not Standard! (standard doesn't allow multiple ::)\n              // We need to treat\n              if (offset < end) buff[offset] = 0;\n              if (offset < end - 1) buff[offset + 1] = 0;\n              offset += 2;\n            } else if (offset < end) {\n              // :: in the middle\n              fill = offset;\n            }\n          } else {\n            // : ends the previous number\n            if (useDec === true) {\n              // Non-standard! (ipv4 should be at end only)\n              // A ipv4 address should not be found anywhere else but at\n              // the end. This codec also support putting characters\n              // after the ipv4 address..\n              if (offset < end) buff[offset] = decN;\n              offset++;\n            } else {\n              if (offset < end) buff[offset] = hexN >> 8;\n              if (offset < end - 1) buff[offset + 1] = hexN & 0xff;\n              offset += 2;\n            }\n  \n            hexN = 0;\n            decN = 0;\n          }\n  \n          prevColon = true;\n          useDec = false;\n        } else if (c === 46) {\n          // . indicates IPV4 notation\n          if (offset < end) buff[offset] = decN;\n          offset++;\n          decN = 0;\n          hexN = 0;\n          prevColon = false;\n          useDec = true;\n        } else {\n          prevColon = false;\n  \n          if (c >= 97) {\n            c -= 87; // a-f ... 97~102 -87 => 10~15\n          } else if (c >= 65) {\n            c -= 55; // A-F ... 65~70 -55 => 10~15\n          } else {\n            c -= 48; // 0-9 ... starting from charCode 48\n  \n            decN = decN * 10 + c;\n          } // We don't know yet if its a dec or hex number\n  \n  \n          hexN = (hexN << 4) + c;\n        }\n      }\n  \n      if (prevColon === false) {\n        // Commiting last number\n        if (useDec === true) {\n          if (offset < end) buff[offset] = decN;\n          offset++;\n        } else {\n          if (offset < end) buff[offset] = hexN >> 8;\n          if (offset < end - 1) buff[offset + 1] = hexN & 0xff;\n          offset += 2;\n        }\n      } else if (fill === 0) {\n        // Not Standard! (standard doesn't allow multiple ::)\n        // This means that a : was found at the start AND end which means the\n        // end needs to be treated as 0 entry...\n        if (offset < end) buff[offset] = 0;\n        if (offset < end - 1) buff[offset + 1] = 0;\n        offset += 2;\n      } else if (fill !== -1) {\n        // Non-standard! (standard doens't allow multiple ::)\n        // Here we find that there has been a :: somewhere in the middle\n        // and the end. To treat the end with priority we need to move all\n        // written data two bytes to the right.\n        offset += 2;\n  \n        for (let i = Math.min(offset - 1, end - 1); i >= fill + 2; i--) {\n          buff[i] = buff[i - 2];\n        }\n  \n        buff[fill] = 0;\n        buff[fill + 1] = 0;\n        fill = offset;\n      }\n  \n      if (fill !== offset && fill !== -1) {\n        // Move the written numbers to the end while filling the everything\n        // \"fill\" to the bytes with zeros.\n        if (offset > end - 2) {\n          // Non Standard support, when the cursor exceeds bounds.\n          offset = end - 2;\n        }\n  \n        while (end > fill) {\n          buff[--end] = offset < end && offset > fill ? buff[--offset] : 0;\n        }\n      } else {\n        // Fill the rest with zeros\n        while (offset < end) {\n          buff[offset++] = 0;\n        }\n      }\n  \n      return buff;\n    },\n  \n    decode(buff, offset) {\n      offset = ~~offset;\n      let result = '';\n  \n      for (let i = 0; i < v6Size; i += 2) {\n        if (i !== 0) {\n          result += ':';\n        }\n  \n        result += (buff[offset + i] << 8 | buff[offset + i + 1]).toString(16);\n      }\n  \n      return result.replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3').replace(/:{3,4}/, '::');\n    }\n  \n  };\n  exports.v6 = v6;\n  const name = 'ip';\n  exports.name = name;\n  \n  function sizeOf(ip) {\n    if (v4.isFormat(ip)) return v4.size;\n    if (v6.isFormat(ip)) return v6.size;\n    throw Error(`Invalid ip address: ${ip}`);\n  }\n  \n  function familyOf(string) {\n    return sizeOf(string) === v4.size ? 1 : 2;\n  }\n  \n  function encode(ip, buff, offset) {\n    offset = ~~offset;\n    const size = sizeOf(ip);\n  \n    if (typeof buff === 'function') {\n      buff = buff(offset + size);\n    }\n  \n    if (size === v4.size) {\n      return v4.encode(ip, buff, offset);\n    }\n  \n    return v6.encode(ip, buff, offset);\n  }\n  \n  function decode(buff, offset, length) {\n    offset = ~~offset;\n    length = length || buff.length - offset;\n  \n    if (length === v4.size) {\n      return v4.decode(buff, offset, length);\n    }\n  \n    if (length === v6.size) {\n      return v6.decode(buff, offset, length);\n    }\n  \n    throw Error(`Invalid buffer size needs to be ${v4.size} for v4 or ${v6.size} for v6.`);\n  }\n  return \"default\" in exports ? exports.default : exports;\n})({});\nif (typeof define === 'function' && define.amd) define([], function() { return ipCodec; });\nelse if (typeof module === 'object' && typeof exports==='object') module.exports = ipCodec;\n", "'use strict'\n\nconst Buffer = require('buffer').Buffer\nconst types = require('./types')\nconst rcodes = require('./rcodes')\nconst opcodes = require('./opcodes')\nconst classes = require('./classes')\nconst optioncodes = require('./optioncodes')\nconst ip = require('@leichtgewicht/ip-codec')\n\nconst QUERY_FLAG = 0\nconst RESPONSE_FLAG = 1 << 15\nconst FLUSH_MASK = 1 << 15\nconst NOT_FLUSH_MASK = ~FLUSH_MASK\nconst QU_MASK = 1 << 15\nconst NOT_QU_MASK = ~QU_MASK\n\nconst name = exports.name = {}\n\nname.encode = function (str, buf, offset, { mail = false } = {}) {\n  if (!buf) buf = Buffer.alloc(name.encodingLength(str))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  // strip leading and trailing .\n  const n = str.replace(/^\\.|\\.$/gm, '')\n  if (n.length) {\n    let list = []\n    if (mail) {\n      let localPart = ''\n      n.split('.').forEach(label => {\n        if (label.endsWith('\\\\')) {\n          localPart += (localPart.length ? '.' : '') + label.slice(0, -1)\n        } else {\n          if (list.length === 0 && localPart.length) {\n            list.push(localPart + '.' + label)\n          } else {\n            list.push(label)\n          }\n        }\n      })\n    } else {\n      list = n.split('.')\n    }\n\n    for (let i = 0; i < list.length; i++) {\n      const len = buf.write(list[i], offset + 1)\n      buf[offset] = len\n      offset += len + 1\n    }\n  }\n\n  buf[offset++] = 0\n\n  name.encode.bytes = offset - oldOffset\n  return buf\n}\n\nname.encode.bytes = 0\n\nname.decode = function (buf, offset, { mail = false } = {}) {\n  if (!offset) offset = 0\n\n  const list = []\n  let oldOffset = offset\n  let totalLength = 0\n  let consumedBytes = 0\n  let jumped = false\n\n  while (true) {\n    if (offset >= buf.length) {\n      throw new Error('Cannot decode name (buffer overflow)')\n    }\n    const len = buf[offset++]\n    consumedBytes += jumped ? 0 : 1\n\n    if (len === 0) {\n      break\n    } else if ((len & 0xc0) === 0) {\n      if (offset + len > buf.length) {\n        throw new Error('Cannot decode name (buffer overflow)')\n      }\n      totalLength += len + 1\n      if (totalLength > 254) {\n        throw new Error('Cannot decode name (name too long)')\n      }\n      let label = buf.toString('utf-8', offset, offset + len)\n      if (mail) {\n        label = label.replace(/\\./g, '\\\\.')\n      }\n      list.push(label)\n      offset += len\n      consumedBytes += jumped ? 0 : len\n    } else if ((len & 0xc0) === 0xc0) {\n      if (offset + 1 > buf.length) {\n        throw new Error('Cannot decode name (buffer overflow)')\n      }\n      const jumpOffset = buf.readUInt16BE(offset - 1) - 0xc000\n      if (jumpOffset >= oldOffset) {\n        // Allow only pointers to prior data. RFC 1035, section 4.1.4 states:\n        // \"[...] an entire domain name or a list of labels at the end of a domain name\n        // is replaced with a pointer to a prior occurance (sic) of the same name.\"\n        throw new Error('Cannot decode name (bad pointer)')\n      }\n      offset = jumpOffset\n      oldOffset = jumpOffset\n      consumedBytes += jumped ? 0 : 1\n      jumped = true\n    } else {\n      throw new Error('Cannot decode name (bad label)')\n    }\n  }\n\n  name.decode.bytes = consumedBytes\n  return list.length === 0 ? '.' : list.join('.')\n}\n\nname.decode.bytes = 0\n\nname.encodingLength = function (n) {\n  if (n === '.' || n === '..') return 1\n  return Buffer.byteLength(n.replace(/^\\.|\\.$/gm, '')) + 2\n}\n\nconst string = {}\n\nstring.encode = function (s, buf, offset) {\n  if (!buf) buf = Buffer.alloc(string.encodingLength(s))\n  if (!offset) offset = 0\n\n  const len = buf.write(s, offset + 1)\n  buf[offset] = len\n  string.encode.bytes = len + 1\n  return buf\n}\n\nstring.encode.bytes = 0\n\nstring.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const len = buf[offset]\n  const s = buf.toString('utf-8', offset + 1, offset + 1 + len)\n  string.decode.bytes = len + 1\n  return s\n}\n\nstring.decode.bytes = 0\n\nstring.encodingLength = function (s) {\n  return Buffer.byteLength(s) + 1\n}\n\nconst header = {}\n\nheader.encode = function (h, buf, offset) {\n  if (!buf) buf = header.encodingLength(h)\n  if (!offset) offset = 0\n\n  const flags = (h.flags || 0) & 32767\n  const type = h.type === 'response' ? RESPONSE_FLAG : QUERY_FLAG\n\n  buf.writeUInt16BE(h.id || 0, offset)\n  buf.writeUInt16BE(flags | type, offset + 2)\n  buf.writeUInt16BE(h.questions.length, offset + 4)\n  buf.writeUInt16BE(h.answers.length, offset + 6)\n  buf.writeUInt16BE(h.authorities.length, offset + 8)\n  buf.writeUInt16BE(h.additionals.length, offset + 10)\n\n  return buf\n}\n\nheader.encode.bytes = 12\n\nheader.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  if (buf.length < 12) throw new Error('Header must be 12 bytes')\n  const flags = buf.readUInt16BE(offset + 2)\n\n  return {\n    id: buf.readUInt16BE(offset),\n    type: flags & RESPONSE_FLAG ? 'response' : 'query',\n    flags: flags & 32767,\n    flag_qr: ((flags >> 15) & 0x1) === 1,\n    opcode: opcodes.toString((flags >> 11) & 0xf),\n    flag_aa: ((flags >> 10) & 0x1) === 1,\n    flag_tc: ((flags >> 9) & 0x1) === 1,\n    flag_rd: ((flags >> 8) & 0x1) === 1,\n    flag_ra: ((flags >> 7) & 0x1) === 1,\n    flag_z: ((flags >> 6) & 0x1) === 1,\n    flag_ad: ((flags >> 5) & 0x1) === 1,\n    flag_cd: ((flags >> 4) & 0x1) === 1,\n    rcode: rcodes.toString(flags & 0xf),\n    questions: new Array(buf.readUInt16BE(offset + 4)),\n    answers: new Array(buf.readUInt16BE(offset + 6)),\n    authorities: new Array(buf.readUInt16BE(offset + 8)),\n    additionals: new Array(buf.readUInt16BE(offset + 10))\n  }\n}\n\nheader.decode.bytes = 12\n\nheader.encodingLength = function () {\n  return 12\n}\n\nconst runknown = exports.unknown = {}\n\nrunknown.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(runknown.encodingLength(data))\n  if (!offset) offset = 0\n\n  buf.writeUInt16BE(data.length, offset)\n  data.copy(buf, offset + 2)\n\n  runknown.encode.bytes = data.length + 2\n  return buf\n}\n\nrunknown.encode.bytes = 0\n\nrunknown.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const len = buf.readUInt16BE(offset)\n  const data = buf.slice(offset + 2, offset + 2 + len)\n  runknown.decode.bytes = len + 2\n  return data\n}\n\nrunknown.decode.bytes = 0\n\nrunknown.encodingLength = function (data) {\n  return data.length + 2\n}\n\nconst rns = exports.ns = {}\n\nrns.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rns.encodingLength(data))\n  if (!offset) offset = 0\n\n  name.encode(data, buf, offset + 2)\n  buf.writeUInt16BE(name.encode.bytes, offset)\n  rns.encode.bytes = name.encode.bytes + 2\n  return buf\n}\n\nrns.encode.bytes = 0\n\nrns.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const len = buf.readUInt16BE(offset)\n  const dd = name.decode(buf, offset + 2)\n\n  rns.decode.bytes = len + 2\n  return dd\n}\n\nrns.decode.bytes = 0\n\nrns.encodingLength = function (data) {\n  return name.encodingLength(data) + 2\n}\n\nconst rsoa = exports.soa = {}\n\nrsoa.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rsoa.encodingLength(data))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  offset += 2\n  name.encode(data.mname, buf, offset)\n  offset += name.encode.bytes\n  name.encode(data.rname, buf, offset, { mail: true })\n  offset += name.encode.bytes\n  buf.writeUInt32BE(data.serial || 0, offset)\n  offset += 4\n  buf.writeUInt32BE(data.refresh || 0, offset)\n  offset += 4\n  buf.writeUInt32BE(data.retry || 0, offset)\n  offset += 4\n  buf.writeUInt32BE(data.expire || 0, offset)\n  offset += 4\n  buf.writeUInt32BE(data.minimum || 0, offset)\n  offset += 4\n\n  buf.writeUInt16BE(offset - oldOffset - 2, oldOffset)\n  rsoa.encode.bytes = offset - oldOffset\n  return buf\n}\n\nrsoa.encode.bytes = 0\n\nrsoa.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  const data = {}\n  offset += 2\n  data.mname = name.decode(buf, offset)\n  offset += name.decode.bytes\n  data.rname = name.decode(buf, offset, { mail: true })\n  offset += name.decode.bytes\n  data.serial = buf.readUInt32BE(offset)\n  offset += 4\n  data.refresh = buf.readUInt32BE(offset)\n  offset += 4\n  data.retry = buf.readUInt32BE(offset)\n  offset += 4\n  data.expire = buf.readUInt32BE(offset)\n  offset += 4\n  data.minimum = buf.readUInt32BE(offset)\n  offset += 4\n\n  rsoa.decode.bytes = offset - oldOffset\n  return data\n}\n\nrsoa.decode.bytes = 0\n\nrsoa.encodingLength = function (data) {\n  return 22 + name.encodingLength(data.mname) + name.encodingLength(data.rname)\n}\n\nconst rtxt = exports.txt = {}\n\nrtxt.encode = function (data, buf, offset) {\n  if (!Array.isArray(data)) data = [data]\n  for (let i = 0; i < data.length; i++) {\n    if (typeof data[i] === 'string') {\n      data[i] = Buffer.from(data[i])\n    }\n    if (!Buffer.isBuffer(data[i])) {\n      throw new Error('Must be a Buffer')\n    }\n  }\n\n  if (!buf) buf = Buffer.alloc(rtxt.encodingLength(data))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  offset += 2\n\n  data.forEach(function (d) {\n    buf[offset++] = d.length\n    d.copy(buf, offset, 0, d.length)\n    offset += d.length\n  })\n\n  buf.writeUInt16BE(offset - oldOffset - 2, oldOffset)\n  rtxt.encode.bytes = offset - oldOffset\n  return buf\n}\n\nrtxt.encode.bytes = 0\n\nrtxt.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n  let remaining = buf.readUInt16BE(offset)\n  offset += 2\n\n  let data = []\n  while (remaining > 0) {\n    const len = buf[offset++]\n    --remaining\n    if (remaining < len) {\n      throw new Error('Buffer overflow')\n    }\n    data.push(buf.slice(offset, offset + len))\n    offset += len\n    remaining -= len\n  }\n\n  rtxt.decode.bytes = offset - oldOffset\n  return data\n}\n\nrtxt.decode.bytes = 0\n\nrtxt.encodingLength = function (data) {\n  if (!Array.isArray(data)) data = [data]\n  let length = 2\n  data.forEach(function (buf) {\n    if (typeof buf === 'string') {\n      length += Buffer.byteLength(buf) + 1\n    } else {\n      length += buf.length + 1\n    }\n  })\n  return length\n}\n\nconst rnull = exports.null = {}\n\nrnull.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rnull.encodingLength(data))\n  if (!offset) offset = 0\n\n  if (typeof data === 'string') data = Buffer.from(data)\n  if (!data) data = Buffer.alloc(0)\n\n  const oldOffset = offset\n  offset += 2\n\n  const len = data.length\n  data.copy(buf, offset, 0, len)\n  offset += len\n\n  buf.writeUInt16BE(offset - oldOffset - 2, oldOffset)\n  rnull.encode.bytes = offset - oldOffset\n  return buf\n}\n\nrnull.encode.bytes = 0\n\nrnull.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n  const len = buf.readUInt16BE(offset)\n\n  offset += 2\n\n  const data = buf.slice(offset, offset + len)\n  offset += len\n\n  rnull.decode.bytes = offset - oldOffset\n  return data\n}\n\nrnull.decode.bytes = 0\n\nrnull.encodingLength = function (data) {\n  if (!data) return 2\n  return (Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data)) + 2\n}\n\nconst rhinfo = exports.hinfo = {}\n\nrhinfo.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rhinfo.encodingLength(data))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  offset += 2\n  string.encode(data.cpu, buf, offset)\n  offset += string.encode.bytes\n  string.encode(data.os, buf, offset)\n  offset += string.encode.bytes\n  buf.writeUInt16BE(offset - oldOffset - 2, oldOffset)\n  rhinfo.encode.bytes = offset - oldOffset\n  return buf\n}\n\nrhinfo.encode.bytes = 0\n\nrhinfo.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  const data = {}\n  offset += 2\n  data.cpu = string.decode(buf, offset)\n  offset += string.decode.bytes\n  data.os = string.decode(buf, offset)\n  offset += string.decode.bytes\n  rhinfo.decode.bytes = offset - oldOffset\n  return data\n}\n\nrhinfo.decode.bytes = 0\n\nrhinfo.encodingLength = function (data) {\n  return string.encodingLength(data.cpu) + string.encodingLength(data.os) + 2\n}\n\nconst rptr = exports.ptr = {}\nconst rcname = exports.cname = rptr\nconst rdname = exports.dname = rptr\n\nrptr.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rptr.encodingLength(data))\n  if (!offset) offset = 0\n\n  name.encode(data, buf, offset + 2)\n  buf.writeUInt16BE(name.encode.bytes, offset)\n  rptr.encode.bytes = name.encode.bytes + 2\n  return buf\n}\n\nrptr.encode.bytes = 0\n\nrptr.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const data = name.decode(buf, offset + 2)\n  rptr.decode.bytes = name.decode.bytes + 2\n  return data\n}\n\nrptr.decode.bytes = 0\n\nrptr.encodingLength = function (data) {\n  return name.encodingLength(data) + 2\n}\n\nconst rsrv = exports.srv = {}\n\nrsrv.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rsrv.encodingLength(data))\n  if (!offset) offset = 0\n\n  buf.writeUInt16BE(data.priority || 0, offset + 2)\n  buf.writeUInt16BE(data.weight || 0, offset + 4)\n  buf.writeUInt16BE(data.port || 0, offset + 6)\n  name.encode(data.target, buf, offset + 8)\n\n  const len = name.encode.bytes + 6\n  buf.writeUInt16BE(len, offset)\n\n  rsrv.encode.bytes = len + 2\n  return buf\n}\n\nrsrv.encode.bytes = 0\n\nrsrv.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const len = buf.readUInt16BE(offset)\n\n  const data = {}\n  data.priority = buf.readUInt16BE(offset + 2)\n  data.weight = buf.readUInt16BE(offset + 4)\n  data.port = buf.readUInt16BE(offset + 6)\n  data.target = name.decode(buf, offset + 8)\n\n  rsrv.decode.bytes = len + 2\n  return data\n}\n\nrsrv.decode.bytes = 0\n\nrsrv.encodingLength = function (data) {\n  return 8 + name.encodingLength(data.target)\n}\n\nconst rcaa = exports.caa = {}\n\nrcaa.ISSUER_CRITICAL = 1 << 7\n\nrcaa.encode = function (data, buf, offset) {\n  const len = rcaa.encodingLength(data)\n\n  if (!buf) buf = Buffer.alloc(rcaa.encodingLength(data))\n  if (!offset) offset = 0\n\n  if (data.issuerCritical) {\n    data.flags = rcaa.ISSUER_CRITICAL\n  }\n\n  buf.writeUInt16BE(len - 2, offset)\n  offset += 2\n  buf.writeUInt8(data.flags || 0, offset)\n  offset += 1\n  string.encode(data.tag, buf, offset)\n  offset += string.encode.bytes\n  buf.write(data.value, offset)\n  offset += Buffer.byteLength(data.value)\n\n  rcaa.encode.bytes = len\n  return buf\n}\n\nrcaa.encode.bytes = 0\n\nrcaa.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const len = buf.readUInt16BE(offset)\n  offset += 2\n\n  const oldOffset = offset\n  const data = {}\n  data.flags = buf.readUInt8(offset)\n  offset += 1\n  data.tag = string.decode(buf, offset)\n  offset += string.decode.bytes\n  data.value = buf.toString('utf-8', offset, oldOffset + len)\n\n  data.issuerCritical = !!(data.flags & rcaa.ISSUER_CRITICAL)\n\n  rcaa.decode.bytes = len + 2\n\n  return data\n}\n\nrcaa.decode.bytes = 0\n\nrcaa.encodingLength = function (data) {\n  return string.encodingLength(data.tag) + string.encodingLength(data.value) + 2\n}\n\nconst rmx = exports.mx = {}\n\nrmx.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rmx.encodingLength(data))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  offset += 2\n  buf.writeUInt16BE(data.preference || 0, offset)\n  offset += 2\n  name.encode(data.exchange, buf, offset)\n  offset += name.encode.bytes\n\n  buf.writeUInt16BE(offset - oldOffset - 2, oldOffset)\n  rmx.encode.bytes = offset - oldOffset\n  return buf\n}\n\nrmx.encode.bytes = 0\n\nrmx.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  const data = {}\n  offset += 2\n  data.preference = buf.readUInt16BE(offset)\n  offset += 2\n  data.exchange = name.decode(buf, offset)\n  offset += name.decode.bytes\n\n  rmx.decode.bytes = offset - oldOffset\n  return data\n}\n\nrmx.encodingLength = function (data) {\n  return 4 + name.encodingLength(data.exchange)\n}\n\nconst ra = exports.a = {}\n\nra.encode = function (host, buf, offset) {\n  if (!buf) buf = Buffer.alloc(ra.encodingLength(host))\n  if (!offset) offset = 0\n\n  buf.writeUInt16BE(4, offset)\n  offset += 2\n  ip.v4.encode(host, buf, offset)\n  ra.encode.bytes = 6\n  return buf\n}\n\nra.encode.bytes = 0\n\nra.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  offset += 2\n  const host = ip.v4.decode(buf, offset)\n  ra.decode.bytes = 6\n  return host\n}\n\nra.decode.bytes = 0\n\nra.encodingLength = function () {\n  return 6\n}\n\nconst raaaa = exports.aaaa = {}\n\nraaaa.encode = function (host, buf, offset) {\n  if (!buf) buf = Buffer.alloc(raaaa.encodingLength(host))\n  if (!offset) offset = 0\n\n  buf.writeUInt16BE(16, offset)\n  offset += 2\n  ip.v6.encode(host, buf, offset)\n  raaaa.encode.bytes = 18\n  return buf\n}\n\nraaaa.encode.bytes = 0\n\nraaaa.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  offset += 2\n  const host = ip.v6.decode(buf, offset)\n  raaaa.decode.bytes = 18\n  return host\n}\n\nraaaa.decode.bytes = 0\n\nraaaa.encodingLength = function () {\n  return 18\n}\n\nconst roption = exports.option = {}\n\nroption.encode = function (option, buf, offset) {\n  if (!buf) buf = Buffer.alloc(roption.encodingLength(option))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const code = optioncodes.toCode(option.code)\n  buf.writeUInt16BE(code, offset)\n  offset += 2\n  if (option.data) {\n    buf.writeUInt16BE(option.data.length, offset)\n    offset += 2\n    option.data.copy(buf, offset)\n    offset += option.data.length\n  } else {\n    switch (code) {\n      // case 3: NSID.  No encode makes sense.\n      // case 5,6,7: Not implementable\n      case 8: // ECS\n        // note: do IP math before calling\n        const spl = option.sourcePrefixLength || 0\n        const fam = option.family || ip.familyOf(option.ip)\n        const ipBuf = ip.encode(option.ip, Buffer.alloc)\n        const ipLen = Math.ceil(spl / 8)\n        buf.writeUInt16BE(ipLen + 4, offset)\n        offset += 2\n        buf.writeUInt16BE(fam, offset)\n        offset += 2\n        buf.writeUInt8(spl, offset++)\n        buf.writeUInt8(option.scopePrefixLength || 0, offset++)\n\n        ipBuf.copy(buf, offset, 0, ipLen)\n        offset += ipLen\n        break\n      // case 9: EXPIRE (experimental)\n      // case 10: COOKIE.  No encode makes sense.\n      case 11: // KEEP-ALIVE\n        if (option.timeout) {\n          buf.writeUInt16BE(2, offset)\n          offset += 2\n          buf.writeUInt16BE(option.timeout, offset)\n          offset += 2\n        } else {\n          buf.writeUInt16BE(0, offset)\n          offset += 2\n        }\n        break\n      case 12: // PADDING\n        const len = option.length || 0\n        buf.writeUInt16BE(len, offset)\n        offset += 2\n        buf.fill(0, offset, offset + len)\n        offset += len\n        break\n      // case 13:  CHAIN.  Experimental.\n      case 14: // KEY-TAG\n        const tagsLen = option.tags.length * 2\n        buf.writeUInt16BE(tagsLen, offset)\n        offset += 2\n        for (const tag of option.tags) {\n          buf.writeUInt16BE(tag, offset)\n          offset += 2\n        }\n        break\n      default:\n        throw new Error(`Unknown roption code: ${option.code}`)\n    }\n  }\n\n  roption.encode.bytes = offset - oldOffset\n  return buf\n}\n\nroption.encode.bytes = 0\n\nroption.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const option = {}\n  option.code = buf.readUInt16BE(offset)\n  option.type = optioncodes.toString(option.code)\n  offset += 2\n  const len = buf.readUInt16BE(offset)\n  offset += 2\n  option.data = buf.slice(offset, offset + len)\n  switch (option.code) {\n    // case 3: NSID.  No decode makes sense.\n    case 8: // ECS\n      option.family = buf.readUInt16BE(offset)\n      offset += 2\n      option.sourcePrefixLength = buf.readUInt8(offset++)\n      option.scopePrefixLength = buf.readUInt8(offset++)\n      const padded = Buffer.alloc((option.family === 1) ? 4 : 16)\n      buf.copy(padded, 0, offset, offset + len - 4)\n      option.ip = ip.decode(padded)\n      break\n    // case 12: Padding.  No decode makes sense.\n    case 11: // KEEP-ALIVE\n      if (len > 0) {\n        option.timeout = buf.readUInt16BE(offset)\n        offset += 2\n      }\n      break\n    case 14:\n      option.tags = []\n      for (let i = 0; i < len; i += 2) {\n        option.tags.push(buf.readUInt16BE(offset))\n        offset += 2\n      }\n    // don't worry about default.  caller will use data if desired\n  }\n\n  roption.decode.bytes = len + 4\n  return option\n}\n\nroption.decode.bytes = 0\n\nroption.encodingLength = function (option) {\n  if (option.data) {\n    return option.data.length + 4\n  }\n  const code = optioncodes.toCode(option.code)\n  switch (code) {\n    case 8: // ECS\n      const spl = option.sourcePrefixLength || 0\n      return Math.ceil(spl / 8) + 8\n    case 11: // KEEP-ALIVE\n      return (typeof option.timeout === 'number') ? 6 : 4\n    case 12: // PADDING\n      return option.length + 4\n    case 14: // KEY-TAG\n      return 4 + (option.tags.length * 2)\n  }\n  throw new Error(`Unknown roption code: ${option.code}`)\n}\n\nconst ropt = exports.opt = {}\n\nropt.encode = function (options, buf, offset) {\n  if (!buf) buf = Buffer.alloc(ropt.encodingLength(options))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const rdlen = encodingLengthList(options, roption)\n  buf.writeUInt16BE(rdlen, offset)\n  offset = encodeList(options, roption, buf, offset + 2)\n\n  ropt.encode.bytes = offset - oldOffset\n  return buf\n}\n\nropt.encode.bytes = 0\n\nropt.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const options = []\n  let rdlen = buf.readUInt16BE(offset)\n  offset += 2\n  let o = 0\n  while (rdlen > 0) {\n    options[o++] = roption.decode(buf, offset)\n    offset += roption.decode.bytes\n    rdlen -= roption.decode.bytes\n  }\n  ropt.decode.bytes = offset - oldOffset\n  return options\n}\n\nropt.decode.bytes = 0\n\nropt.encodingLength = function (options) {\n  return 2 + encodingLengthList(options || [], roption)\n}\n\nconst rdnskey = exports.dnskey = {}\n\nrdnskey.PROTOCOL_DNSSEC = 3\nrdnskey.ZONE_KEY = 0x80\nrdnskey.SECURE_ENTRYPOINT = 0x8000\n\nrdnskey.encode = function (key, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rdnskey.encodingLength(key))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const keydata = key.key\n  if (!Buffer.isBuffer(keydata)) {\n    throw new Error('Key must be a Buffer')\n  }\n\n  offset += 2 // Leave space for length\n  buf.writeUInt16BE(key.flags, offset)\n  offset += 2\n  buf.writeUInt8(rdnskey.PROTOCOL_DNSSEC, offset)\n  offset += 1\n  buf.writeUInt8(key.algorithm, offset)\n  offset += 1\n  keydata.copy(buf, offset, 0, keydata.length)\n  offset += keydata.length\n\n  rdnskey.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rdnskey.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrdnskey.encode.bytes = 0\n\nrdnskey.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var key = {}\n  var length = buf.readUInt16BE(offset)\n  offset += 2\n  key.flags = buf.readUInt16BE(offset)\n  offset += 2\n  if (buf.readUInt8(offset) !== rdnskey.PROTOCOL_DNSSEC) {\n    throw new Error('Protocol must be 3')\n  }\n  offset += 1\n  key.algorithm = buf.readUInt8(offset)\n  offset += 1\n  key.key = buf.slice(offset, oldOffset + length + 2)\n  offset += key.key.length\n  rdnskey.decode.bytes = offset - oldOffset\n  return key\n}\n\nrdnskey.decode.bytes = 0\n\nrdnskey.encodingLength = function (key) {\n  return 6 + Buffer.byteLength(key.key)\n}\n\nconst rrrsig = exports.rrsig = {}\n\nrrrsig.encode = function (sig, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rrrsig.encodingLength(sig))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const signature = sig.signature\n  if (!Buffer.isBuffer(signature)) {\n    throw new Error('Signature must be a Buffer')\n  }\n\n  offset += 2 // Leave space for length\n  buf.writeUInt16BE(types.toType(sig.typeCovered), offset)\n  offset += 2\n  buf.writeUInt8(sig.algorithm, offset)\n  offset += 1\n  buf.writeUInt8(sig.labels, offset)\n  offset += 1\n  buf.writeUInt32BE(sig.originalTTL, offset)\n  offset += 4\n  buf.writeUInt32BE(sig.expiration, offset)\n  offset += 4\n  buf.writeUInt32BE(sig.inception, offset)\n  offset += 4\n  buf.writeUInt16BE(sig.keyTag, offset)\n  offset += 2\n  name.encode(sig.signersName, buf, offset)\n  offset += name.encode.bytes\n  signature.copy(buf, offset, 0, signature.length)\n  offset += signature.length\n\n  rrrsig.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rrrsig.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrrrsig.encode.bytes = 0\n\nrrrsig.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var sig = {}\n  var length = buf.readUInt16BE(offset)\n  offset += 2\n  sig.typeCovered = types.toString(buf.readUInt16BE(offset))\n  offset += 2\n  sig.algorithm = buf.readUInt8(offset)\n  offset += 1\n  sig.labels = buf.readUInt8(offset)\n  offset += 1\n  sig.originalTTL = buf.readUInt32BE(offset)\n  offset += 4\n  sig.expiration = buf.readUInt32BE(offset)\n  offset += 4\n  sig.inception = buf.readUInt32BE(offset)\n  offset += 4\n  sig.keyTag = buf.readUInt16BE(offset)\n  offset += 2\n  sig.signersName = name.decode(buf, offset)\n  offset += name.decode.bytes\n  sig.signature = buf.slice(offset, oldOffset + length + 2)\n  offset += sig.signature.length\n  rrrsig.decode.bytes = offset - oldOffset\n  return sig\n}\n\nrrrsig.decode.bytes = 0\n\nrrrsig.encodingLength = function (sig) {\n  return 20 +\n    name.encodingLength(sig.signersName) +\n    Buffer.byteLength(sig.signature)\n}\n\nconst rrp = exports.rp = {}\n\nrrp.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rrp.encodingLength(data))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  offset += 2 // Leave space for length\n  name.encode(data.mbox || '.', buf, offset, { mail: true })\n  offset += name.encode.bytes\n  name.encode(data.txt || '.', buf, offset)\n  offset += name.encode.bytes\n  rrp.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rrp.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrrp.encode.bytes = 0\n\nrrp.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const data = {}\n  offset += 2\n  data.mbox = name.decode(buf, offset, { mail: true }) || '.'\n  offset += name.decode.bytes\n  data.txt = name.decode(buf, offset) || '.'\n  offset += name.decode.bytes\n  rrp.decode.bytes = offset - oldOffset\n  return data\n}\n\nrrp.decode.bytes = 0\n\nrrp.encodingLength = function (data) {\n  return 2 + name.encodingLength(data.mbox || '.') + name.encodingLength(data.txt || '.')\n}\n\nconst typebitmap = {}\n\ntypebitmap.encode = function (typelist, buf, offset) {\n  if (!buf) buf = Buffer.alloc(typebitmap.encodingLength(typelist))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var typesByWindow = []\n  for (var i = 0; i < typelist.length; i++) {\n    var typeid = types.toType(typelist[i])\n    if (typesByWindow[typeid >> 8] === undefined) {\n      typesByWindow[typeid >> 8] = []\n    }\n    typesByWindow[typeid >> 8][(typeid >> 3) & 0x1F] |= 1 << (7 - (typeid & 0x7))\n  }\n\n  for (i = 0; i < typesByWindow.length; i++) {\n    if (typesByWindow[i] !== undefined) {\n      var windowBuf = Buffer.from(typesByWindow[i])\n      buf.writeUInt8(i, offset)\n      offset += 1\n      buf.writeUInt8(windowBuf.length, offset)\n      offset += 1\n      windowBuf.copy(buf, offset)\n      offset += windowBuf.length\n    }\n  }\n\n  typebitmap.encode.bytes = offset - oldOffset\n  return buf\n}\n\ntypebitmap.encode.bytes = 0\n\ntypebitmap.decode = function (buf, offset, length) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var typelist = []\n  while (offset - oldOffset < length) {\n    var window = buf.readUInt8(offset)\n    offset += 1\n    var windowLength = buf.readUInt8(offset)\n    offset += 1\n    for (var i = 0; i < windowLength; i++) {\n      var b = buf.readUInt8(offset + i)\n      for (var j = 0; j < 8; j++) {\n        if (b & (1 << (7 - j))) {\n          var typeid = types.toString((window << 8) | (i << 3) | j)\n          typelist.push(typeid)\n        }\n      }\n    }\n    offset += windowLength\n  }\n\n  typebitmap.decode.bytes = offset - oldOffset\n  return typelist\n}\n\ntypebitmap.decode.bytes = 0\n\ntypebitmap.encodingLength = function (typelist) {\n  var extents = []\n  for (var i = 0; i < typelist.length; i++) {\n    var typeid = types.toType(typelist[i])\n    extents[typeid >> 8] = Math.max(extents[typeid >> 8] || 0, typeid & 0xFF)\n  }\n\n  var len = 0\n  for (i = 0; i < extents.length; i++) {\n    if (extents[i] !== undefined) {\n      len += 2 + Math.ceil((extents[i] + 1) / 8)\n    }\n  }\n\n  return len\n}\n\nconst rnsec = exports.nsec = {}\n\nrnsec.encode = function (record, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rnsec.encodingLength(record))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  offset += 2 // Leave space for length\n  name.encode(record.nextDomain, buf, offset)\n  offset += name.encode.bytes\n  typebitmap.encode(record.rrtypes, buf, offset)\n  offset += typebitmap.encode.bytes\n\n  rnsec.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rnsec.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrnsec.encode.bytes = 0\n\nrnsec.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var record = {}\n  var length = buf.readUInt16BE(offset)\n  offset += 2\n  record.nextDomain = name.decode(buf, offset)\n  offset += name.decode.bytes\n  record.rrtypes = typebitmap.decode(buf, offset, length - (offset - oldOffset))\n  offset += typebitmap.decode.bytes\n\n  rnsec.decode.bytes = offset - oldOffset\n  return record\n}\n\nrnsec.decode.bytes = 0\n\nrnsec.encodingLength = function (record) {\n  return 2 +\n    name.encodingLength(record.nextDomain) +\n    typebitmap.encodingLength(record.rrtypes)\n}\n\nconst rnsec3 = exports.nsec3 = {}\n\nrnsec3.encode = function (record, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rnsec3.encodingLength(record))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const salt = record.salt\n  if (!Buffer.isBuffer(salt)) {\n    throw new Error('salt must be a Buffer')\n  }\n\n  const nextDomain = record.nextDomain\n  if (!Buffer.isBuffer(nextDomain)) {\n    throw new Error('nextDomain must be a Buffer')\n  }\n\n  offset += 2 // Leave space for length\n  buf.writeUInt8(record.algorithm, offset)\n  offset += 1\n  buf.writeUInt8(record.flags, offset)\n  offset += 1\n  buf.writeUInt16BE(record.iterations, offset)\n  offset += 2\n  buf.writeUInt8(salt.length, offset)\n  offset += 1\n  salt.copy(buf, offset, 0, salt.length)\n  offset += salt.length\n  buf.writeUInt8(nextDomain.length, offset)\n  offset += 1\n  nextDomain.copy(buf, offset, 0, nextDomain.length)\n  offset += nextDomain.length\n  typebitmap.encode(record.rrtypes, buf, offset)\n  offset += typebitmap.encode.bytes\n\n  rnsec3.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rnsec3.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrnsec3.encode.bytes = 0\n\nrnsec3.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var record = {}\n  var length = buf.readUInt16BE(offset)\n  offset += 2\n  record.algorithm = buf.readUInt8(offset)\n  offset += 1\n  record.flags = buf.readUInt8(offset)\n  offset += 1\n  record.iterations = buf.readUInt16BE(offset)\n  offset += 2\n  const saltLength = buf.readUInt8(offset)\n  offset += 1\n  record.salt = buf.slice(offset, offset + saltLength)\n  offset += saltLength\n  const hashLength = buf.readUInt8(offset)\n  offset += 1\n  record.nextDomain = buf.slice(offset, offset + hashLength)\n  offset += hashLength\n  record.rrtypes = typebitmap.decode(buf, offset, length - (offset - oldOffset))\n  offset += typebitmap.decode.bytes\n\n  rnsec3.decode.bytes = offset - oldOffset\n  return record\n}\n\nrnsec3.decode.bytes = 0\n\nrnsec3.encodingLength = function (record) {\n  return 8 +\n    record.salt.length +\n    record.nextDomain.length +\n    typebitmap.encodingLength(record.rrtypes)\n}\n\nconst rds = exports.ds = {}\n\nrds.encode = function (digest, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rds.encodingLength(digest))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const digestdata = digest.digest\n  if (!Buffer.isBuffer(digestdata)) {\n    throw new Error('Digest must be a Buffer')\n  }\n\n  offset += 2 // Leave space for length\n  buf.writeUInt16BE(digest.keyTag, offset)\n  offset += 2\n  buf.writeUInt8(digest.algorithm, offset)\n  offset += 1\n  buf.writeUInt8(digest.digestType, offset)\n  offset += 1\n  digestdata.copy(buf, offset, 0, digestdata.length)\n  offset += digestdata.length\n\n  rds.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rds.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrds.encode.bytes = 0\n\nrds.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  var digest = {}\n  var length = buf.readUInt16BE(offset)\n  offset += 2\n  digest.keyTag = buf.readUInt16BE(offset)\n  offset += 2\n  digest.algorithm = buf.readUInt8(offset)\n  offset += 1\n  digest.digestType = buf.readUInt8(offset)\n  offset += 1\n  digest.digest = buf.slice(offset, oldOffset + length + 2)\n  offset += digest.digest.length\n  rds.decode.bytes = offset - oldOffset\n  return digest\n}\n\nrds.decode.bytes = 0\n\nrds.encodingLength = function (digest) {\n  return 6 + Buffer.byteLength(digest.digest)\n}\n\nconst rsshfp = exports.sshfp = {}\n\nrsshfp.getFingerprintLengthForHashType = function getFingerprintLengthForHashType (hashType) {\n  switch (hashType) {\n    case 1: return 20\n    case 2: return 32\n  }\n}\n\nrsshfp.encode = function encode (record, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rsshfp.encodingLength(record))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  offset += 2 // The function call starts with the offset pointer at the RDLENGTH field, not the RDATA one\n  buf[offset] = record.algorithm\n  offset += 1\n  buf[offset] = record.hash\n  offset += 1\n\n  const fingerprintBuf = Buffer.from(record.fingerprint.toUpperCase(), 'hex')\n  if (fingerprintBuf.length !== rsshfp.getFingerprintLengthForHashType(record.hash)) {\n    throw new Error('Invalid fingerprint length')\n  }\n  fingerprintBuf.copy(buf, offset)\n  offset += fingerprintBuf.byteLength\n\n  rsshfp.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rsshfp.encode.bytes - 2, oldOffset)\n\n  return buf\n}\n\nrsshfp.encode.bytes = 0\n\nrsshfp.decode = function decode (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const record = {}\n  offset += 2 // Account for the RDLENGTH field\n  record.algorithm = buf[offset]\n  offset += 1\n  record.hash = buf[offset]\n  offset += 1\n\n  const fingerprintLength = rsshfp.getFingerprintLengthForHashType(record.hash)\n  record.fingerprint = buf.slice(offset, offset + fingerprintLength).toString('hex').toUpperCase()\n  offset += fingerprintLength\n  rsshfp.decode.bytes = offset - oldOffset\n  return record\n}\n\nrsshfp.decode.bytes = 0\n\nrsshfp.encodingLength = function (record) {\n  return 4 + Buffer.from(record.fingerprint, 'hex').byteLength\n}\n\nconst rnaptr = exports.naptr = {}\n\nrnaptr.encode = function (data, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rnaptr.encodingLength(data))\n  if (!offset) offset = 0\n  const oldOffset = offset\n  offset += 2\n  buf.writeUInt16BE(data.order || 0, offset)\n  offset += 2\n  buf.writeUInt16BE(data.preference || 0, offset)\n  offset += 2\n  string.encode(data.flags, buf, offset)\n  offset += string.encode.bytes\n  string.encode(data.services, buf, offset)\n  offset += string.encode.bytes\n  string.encode(data.regexp, buf, offset)\n  offset += string.encode.bytes\n  name.encode(data.replacement, buf, offset)\n  offset += name.encode.bytes\n  rnaptr.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rnaptr.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrnaptr.encode.bytes = 0\n\nrnaptr.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n  const data = {}\n  offset += 2\n  data.order = buf.readUInt16BE(offset)\n  offset += 2\n  data.preference = buf.readUInt16BE(offset)\n  offset += 2\n  data.flags = string.decode(buf, offset)\n  offset += string.decode.bytes\n  data.services = string.decode(buf, offset)\n  offset += string.decode.bytes\n  data.regexp = string.decode(buf, offset)\n  offset += string.decode.bytes\n  data.replacement = name.decode(buf, offset)\n  offset += name.decode.bytes\n  rnaptr.decode.bytes = offset - oldOffset\n  return data\n}\n\nrnaptr.decode.bytes = 0\n\nrnaptr.encodingLength = function (data) {\n  return string.encodingLength(data.flags) +\n    string.encodingLength(data.services) +\n    string.encodingLength(data.regexp) +\n    name.encodingLength(data.replacement) + 6\n}\n\nconst rtlsa = exports.tlsa = {}\n\nrtlsa.encode = function (cert, buf, offset) {\n  if (!buf) buf = Buffer.alloc(rtlsa.encodingLength(cert))\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const certdata = cert.certificate\n  if (!Buffer.isBuffer(certdata)) {\n    throw new Error('Certificate must be a Buffer')\n  }\n\n  offset += 2 // Leave space for length\n  buf.writeUInt8(cert.usage, offset)\n  offset += 1\n  buf.writeUInt8(cert.selector, offset)\n  offset += 1\n  buf.writeUInt8(cert.matchingType, offset)\n  offset += 1\n  certdata.copy(buf, offset, 0, certdata.length)\n  offset += certdata.length\n\n  rtlsa.encode.bytes = offset - oldOffset\n  buf.writeUInt16BE(rtlsa.encode.bytes - 2, oldOffset)\n  return buf\n}\n\nrtlsa.encode.bytes = 0\n\nrtlsa.decode = function (buf, offset) {\n  if (!offset) offset = 0\n  const oldOffset = offset\n\n  const cert = {}\n  const length = buf.readUInt16BE(offset)\n  offset += 2\n  cert.usage = buf.readUInt8(offset)\n  offset += 1\n  cert.selector = buf.readUInt8(offset)\n  offset += 1\n  cert.matchingType = buf.readUInt8(offset)\n  offset += 1\n  cert.certificate = buf.slice(offset, oldOffset + length + 2)\n  offset += cert.certificate.length\n  rtlsa.decode.bytes = offset - oldOffset\n  return cert\n}\n\nrtlsa.decode.bytes = 0\n\nrtlsa.encodingLength = function (cert) {\n  return 5 + Buffer.byteLength(cert.certificate)\n}\n\nconst renc = exports.record = function (type) {\n  switch (type.toUpperCase()) {\n    case 'A': return ra\n    case 'PTR': return rptr\n    case 'CNAME': return rcname\n    case 'DNAME': return rdname\n    case 'TXT': return rtxt\n    case 'NULL': return rnull\n    case 'AAAA': return raaaa\n    case 'SRV': return rsrv\n    case 'HINFO': return rhinfo\n    case 'CAA': return rcaa\n    case 'NS': return rns\n    case 'SOA': return rsoa\n    case 'MX': return rmx\n    case 'OPT': return ropt\n    case 'DNSKEY': return rdnskey\n    case 'RRSIG': return rrrsig\n    case 'RP': return rrp\n    case 'NSEC': return rnsec\n    case 'NSEC3': return rnsec3\n    case 'SSHFP': return rsshfp\n    case 'DS': return rds\n    case 'NAPTR': return rnaptr\n    case 'TLSA': return rtlsa\n  }\n  return runknown\n}\n\nconst answer = exports.answer = {}\n\nanswer.encode = function (a, buf, offset) {\n  if (!buf) buf = Buffer.alloc(answer.encodingLength(a))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  name.encode(a.name, buf, offset)\n  offset += name.encode.bytes\n\n  buf.writeUInt16BE(types.toType(a.type), offset)\n\n  if (a.type.toUpperCase() === 'OPT') {\n    if (a.name !== '.') {\n      throw new Error('OPT name must be root.')\n    }\n    buf.writeUInt16BE(a.udpPayloadSize || 4096, offset + 2)\n    buf.writeUInt8(a.extendedRcode || 0, offset + 4)\n    buf.writeUInt8(a.ednsVersion || 0, offset + 5)\n    buf.writeUInt16BE(a.flags || 0, offset + 6)\n\n    offset += 8\n    ropt.encode(a.options || [], buf, offset)\n    offset += ropt.encode.bytes\n  } else {\n    let klass = classes.toClass(a.class === undefined ? 'IN' : a.class)\n    if (a.flush) klass |= FLUSH_MASK // the 1st bit of the class is the flush bit\n    buf.writeUInt16BE(klass, offset + 2)\n    buf.writeUInt32BE(a.ttl || 0, offset + 4)\n\n    offset += 8\n    const enc = renc(a.type)\n    enc.encode(a.data, buf, offset)\n    offset += enc.encode.bytes\n  }\n\n  answer.encode.bytes = offset - oldOffset\n  return buf\n}\n\nanswer.encode.bytes = 0\n\nanswer.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const a = {}\n  const oldOffset = offset\n\n  a.name = name.decode(buf, offset)\n  offset += name.decode.bytes\n  a.type = types.toString(buf.readUInt16BE(offset))\n  if (a.type === 'OPT') {\n    a.udpPayloadSize = buf.readUInt16BE(offset + 2)\n    a.extendedRcode = buf.readUInt8(offset + 4)\n    a.ednsVersion = buf.readUInt8(offset + 5)\n    a.flags = buf.readUInt16BE(offset + 6)\n    a.flag_do = ((a.flags >> 15) & 0x1) === 1\n    a.options = ropt.decode(buf, offset + 8)\n    offset += 8 + ropt.decode.bytes\n  } else {\n    const klass = buf.readUInt16BE(offset + 2)\n    a.ttl = buf.readUInt32BE(offset + 4)\n\n    a.class = classes.toString(klass & NOT_FLUSH_MASK)\n    a.flush = !!(klass & FLUSH_MASK)\n\n    const enc = renc(a.type)\n    a.data = enc.decode(buf, offset + 8)\n    offset += 8 + enc.decode.bytes\n  }\n\n  answer.decode.bytes = offset - oldOffset\n  return a\n}\n\nanswer.decode.bytes = 0\n\nanswer.encodingLength = function (a) {\n  const data = (a.data !== null && a.data !== undefined) ? a.data : a.options\n  return name.encodingLength(a.name) + 8 + renc(a.type).encodingLength(data)\n}\n\nconst question = exports.question = {}\n\nquestion.encode = function (q, buf, offset) {\n  if (!buf) buf = Buffer.alloc(question.encodingLength(q))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  name.encode(q.name, buf, offset)\n  offset += name.encode.bytes\n\n  buf.writeUInt16BE(types.toType(q.type), offset)\n  offset += 2\n\n  buf.writeUInt16BE(classes.toClass(q.class === undefined ? 'IN' : q.class), offset)\n  offset += 2\n\n  question.encode.bytes = offset - oldOffset\n  return q\n}\n\nquestion.encode.bytes = 0\n\nquestion.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  const q = {}\n\n  q.name = name.decode(buf, offset)\n  offset += name.decode.bytes\n\n  q.type = types.toString(buf.readUInt16BE(offset))\n  offset += 2\n\n  q.class = classes.toString(buf.readUInt16BE(offset))\n  offset += 2\n\n  const qu = !!(q.class & QU_MASK)\n  if (qu) q.class &= NOT_QU_MASK\n\n  question.decode.bytes = offset - oldOffset\n  return q\n}\n\nquestion.decode.bytes = 0\n\nquestion.encodingLength = function (q) {\n  return name.encodingLength(q.name) + 4\n}\n\nexports.AUTHORITATIVE_ANSWER = 1 << 10\nexports.TRUNCATED_RESPONSE = 1 << 9\nexports.RECURSION_DESIRED = 1 << 8\nexports.RECURSION_AVAILABLE = 1 << 7\nexports.AUTHENTIC_DATA = 1 << 5\nexports.CHECKING_DISABLED = 1 << 4\nexports.DNSSEC_OK = 1 << 15\n\nexports.encode = function (result, buf, offset) {\n  const allocing = !buf\n\n  if (allocing) buf = Buffer.alloc(exports.encodingLength(result))\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n\n  if (!result.questions) result.questions = []\n  if (!result.answers) result.answers = []\n  if (!result.authorities) result.authorities = []\n  if (!result.additionals) result.additionals = []\n\n  header.encode(result, buf, offset)\n  offset += header.encode.bytes\n\n  offset = encodeList(result.questions, question, buf, offset)\n  offset = encodeList(result.answers, answer, buf, offset)\n  offset = encodeList(result.authorities, answer, buf, offset)\n  offset = encodeList(result.additionals, answer, buf, offset)\n\n  exports.encode.bytes = offset - oldOffset\n\n  // just a quick sanity check\n  if (allocing && exports.encode.bytes !== buf.length) {\n    return buf.slice(0, exports.encode.bytes)\n  }\n\n  return buf\n}\n\nexports.encode.bytes = 0\n\nexports.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  const oldOffset = offset\n  const result = header.decode(buf, offset)\n  offset += header.decode.bytes\n\n  offset = decodeList(result.questions, question, buf, offset)\n  offset = decodeList(result.answers, answer, buf, offset)\n  offset = decodeList(result.authorities, answer, buf, offset)\n  offset = decodeList(result.additionals, answer, buf, offset)\n\n  exports.decode.bytes = offset - oldOffset\n\n  return result\n}\n\nexports.decode.bytes = 0\n\nexports.encodingLength = function (result) {\n  return header.encodingLength(result) +\n    encodingLengthList(result.questions || [], question) +\n    encodingLengthList(result.answers || [], answer) +\n    encodingLengthList(result.authorities || [], answer) +\n    encodingLengthList(result.additionals || [], answer)\n}\n\nexports.streamEncode = function (result) {\n  const buf = exports.encode(result)\n  const sbuf = Buffer.alloc(2)\n  sbuf.writeUInt16BE(buf.byteLength)\n  const combine = Buffer.concat([sbuf, buf])\n  exports.streamEncode.bytes = combine.byteLength\n  return combine\n}\n\nexports.streamEncode.bytes = 0\n\nexports.streamDecode = function (sbuf) {\n  const len = sbuf.readUInt16BE(0)\n  if (sbuf.byteLength < len + 2) {\n    // not enough data\n    return null\n  }\n  const result = exports.decode(sbuf.slice(2))\n  exports.streamDecode.bytes = exports.decode.bytes\n  return result\n}\n\nexports.streamDecode.bytes = 0\n\nfunction encodingLengthList (list, enc) {\n  let len = 0\n  for (let i = 0; i < list.length; i++) len += enc.encodingLength(list[i])\n  return len\n}\n\nfunction encodeList (list, enc, buf, offset) {\n  for (let i = 0; i < list.length; i++) {\n    enc.encode(list[i], buf, offset)\n    offset += enc.encode.bytes\n  }\n  return offset\n}\n\nfunction decodeList (list, enc, buf, offset) {\n  for (let i = 0; i < list.length; i++) {\n    list[i] = enc.decode(buf, offset)\n    offset += enc.decode.bytes\n  }\n  return offset\n}\n", "'use strict'\n\nconst dgram = require('dgram')\nconst util = require('util')\nconst packet = require('dns-packet')\nconst events = require('events')\n\nmodule.exports = DNS\n\nfunction DNS (opts) {\n  if (!(this instanceof DNS)) {\n    return new DNS(opts)\n  }\n  if (!opts) {\n    opts = {}\n  }\n\n  events.EventEmitter.call(this)\n\n  const self = this\n\n  this.retries = opts.retries !== undefined ? opts.retries : 5\n  this.timeout = opts.timeout || 7500\n  this.timeoutChecks = opts.timeoutChecks || (this.timeout / 10)\n  this.destroyed = false\n  this.inflight = 0\n  this.maxQueries = opts.maxQueries || 10000\n  this.maxRedirects = opts.maxRedirects || 0\n  this.socket = opts.socket || dgram.createSocket('udp4')\n  this._id = Math.ceil(Math.random() * this.maxQueries)\n  this._queries = new Array(this.maxQueries).fill(null)\n  this._interval = null\n\n  this.socket.on('error', onerror)\n  this.socket.on('message', onmessage)\n  if (isListening(this.socket)) onlistening()\n  else this.socket.on('listening', onlistening)\n  this.socket.on('close', onclose)\n\n  function onerror (err) {\n    if (err.code === 'EACCES' || err.code === 'EADDRINUSE') {\n      self.emit('error', err)\n    } else {\n      self.emit('warning', err)\n    }\n  }\n\n  function onmessage (message, rinfo) {\n    self._onmessage(message, rinfo)\n  }\n\n  function ontimeoutCheck () {\n    self._ontimeoutCheck()\n  }\n\n  function onlistening () {\n    self._interval = setInterval(ontimeoutCheck, self.timeoutChecks)\n    self.emit('listening')\n  }\n\n  function onclose () {\n    self.emit('close')\n  }\n}\n\nutil.inherits(DNS, events.EventEmitter)\n\nDNS.RECURSION_DESIRED = DNS.prototype.RECURSION_DESIRED = packet.RECURSION_DESIRED\nDNS.RECURSION_AVAILABLE = DNS.prototype.RECURSION_AVAILABLE = packet.RECURSION_AVAILABLE\nDNS.TRUNCATED_RESPONSE = DNS.prototype.TRUNCATED_RESPONSE = packet.TRUNCATED_RESPONSE\nDNS.AUTHORITATIVE_ANSWER = DNS.prototype.AUTHORITATIVE_ANSWER = packet.AUTHORITATIVE_ANSWER\nDNS.AUTHENTIC_DATA = DNS.prototype.AUTHENTIC_DATA = packet.AUTHENTIC_DATA\nDNS.CHECKING_DISABLED = DNS.prototype.CHECKING_DISABLED = packet.CHECKING_DISABLED\n\nDNS.prototype.address = function () {\n  return this.socket.address()\n}\n\nDNS.prototype.bind = function (...args) {\n  const onlistening = args.length > 0 && args[args.length - 1]\n  if (typeof onlistening === 'function') {\n    this.once('listening', onlistening)\n    this.socket.bind(...args.slice(0, -1))\n  } else {\n    this.socket.bind(...args)\n  }\n}\n\nDNS.prototype.destroy = function (onclose) {\n  if (onclose) {\n    this.once('close', onclose)\n  }\n  if (this.destroyed) {\n    return\n  }\n  this.destroyed = true\n  clearInterval(this._interval)\n  this.socket.close()\n\n  for (let i = 0; i < this.maxQueries; i++) {\n    const q = this._queries[i]\n    if (q) {\n      q.callback(new Error('Socket destroyed'))\n      this._queries[i] = null\n    }\n  }\n  this.inflight = 0\n}\n\nDNS.prototype._ontimeoutCheck = function () {\n  const now = Date.now()\n  for (let i = 0; i < this.maxQueries; i++) {\n    const q = this._queries[i]\n\n    if ((!q) || (now - q.firstTry < (q.tries + 1) * this.timeout)) {\n      continue\n    }\n\n    if (q.tries > this.retries) {\n      this._queries[i] = null\n      this.inflight--\n      this.emit('timeout', q.query, q.port, q.host)\n      q.callback(new Error('Query timed out'))\n      continue\n    }\n    q.tries++\n    this.socket.send(q.buffer, 0, q.buffer.length, q.port, Array.isArray(q.host) ? q.host[Math.floor(q.host.length * Math.random())] : q.host || '127.0.0.1')\n  }\n}\n\nDNS.prototype._shouldRedirect = function (q, result) {\n  // no redirects, no query, more than 1 questions, has any A record answer\n  if (this.maxRedirects <= 0 || (!q) || (q.query.questions.length !== 1) || result.answers.filter(e => e.type === 'A').length > 0) {\n    return false\n  }\n\n  // no more redirects left\n  if (q.redirects > this.maxRedirects) {\n    return false\n  }\n\n  const cnameresults = result.answers.filter(e => e.type === 'CNAME')\n  if (cnameresults.length === 0) {\n    return false\n  }\n\n  const id = this._getNextEmptyId()\n  if (id === -1) {\n    q.callback(new Error('Query array is full!'))\n    return true\n  }\n\n  // replace current query with a new one\n  q.query = {\n    id: id + 1,\n    flags: packet.RECURSION_DESIRED,\n    questions: [{\n      type: 'A',\n      name: cnameresults[0].data\n    }]\n  }\n  q.redirects++\n  q.firstTry = Date.now()\n  q.tries = 0\n  q.buffer = packet.encode(q.query)\n  this._queries[id] = q\n  this.socket.send(q.buffer, 0, q.buffer.length, q.port, Array.isArray(q.host) ? q.host[Math.floor(q.host.length * Math.random())] : q.host || '127.0.0.1')\n  return true\n}\n\nDNS.prototype._onmessage = function (buffer, rinfo) {\n  let message\n\n  try {\n    message = packet.decode(buffer)\n  } catch (err) {\n    this.emit('warning', err)\n    return\n  }\n\n  if (message.type === 'response' && message.id) {\n    const q = this._queries[message.id - 1]\n    if (q) {\n      this._queries[message.id - 1] = null\n      this.inflight--\n\n      if (!this._shouldRedirect(q, message)) {\n        q.callback(null, message)\n      }\n    }\n  }\n\n  this.emit(message.type, message, rinfo.port, rinfo.address)\n}\n\nDNS.prototype.unref = function () {\n  this.socket.unref()\n}\n\nDNS.prototype.ref = function () {\n  this.socket.ref()\n}\n\nDNS.prototype.response = function (query, response, port, host) {\n  if (this.destroyed) {\n    return\n  }\n\n  response.type = 'response'\n  response.id = query.id\n  const buffer = packet.encode(response)\n  this.socket.send(buffer, 0, buffer.length, port, host)\n}\n\nDNS.prototype.cancel = function (id) {\n  const q = this._queries[id]\n  if (!q) return\n\n  this._queries[id] = null\n  this.inflight--\n  q.callback(new Error('Query cancelled'))\n}\n\nDNS.prototype.setRetries = function (id, retries) {\n  const q = this._queries[id]\n  if (!q) return\n  q.firstTry = q.firstTry - this.timeout * (retries - q.retries)\n  q.retries = this.retries - retries\n}\n\nDNS.prototype._getNextEmptyId = function () {\n  // try to find the next unused id\n  let id = -1\n  for (let idtries = this.maxQueries; idtries > 0; idtries--) {\n    const normalizedId = (this._id + idtries) % this.maxQueries\n    if (this._queries[normalizedId] === null) {\n      id = normalizedId\n      this._id = (normalizedId + 1) % this.maxQueries\n      break\n    }\n  }\n  return id\n}\n\nDNS.prototype.query = function (query, port, host, cb) {\n  if (this.destroyed) {\n    cb(new Error('Socket destroyed'))\n    return 0\n  }\n\n  this.inflight++\n  query.type = 'query'\n  query.flags = typeof query.flags === 'number' ? query.flags : DNS.RECURSION_DESIRED\n\n  const id = this._getNextEmptyId()\n  if (id === -1) {\n    cb(new Error('Query array is full!'))\n    return 0\n  }\n\n  query.id = id + 1\n  const buffer = packet.encode(query)\n\n  this._queries[id] = {\n    callback: cb || noop,\n    redirects: 0,\n    firstTry: Date.now(),\n    query: query,\n    tries: 0,\n    buffer: buffer,\n    port: port,\n    host: host\n  }\n  this.socket.send(buffer, 0, buffer.length, port, Array.isArray(host) ? host[Math.floor(host.length * Math.random())] : host || '127.0.0.1')\n  return id\n}\n\nfunction noop () {\n}\n\nfunction isListening (socket) {\n  try {\n    return socket.address().port !== 0\n  } catch (err) {\n    return false\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isTLSSocket(socket) {\n    return socket.encrypted;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTLSSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else if (!socket.authorizationError) {\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        listeners.close(socket._hadError);\n    }\n};\nexports.default = deferToConnect;\n// For CommonJS default export support\nmodule.exports = deferToConnect;\nmodule.exports.default = deferToConnect;\n", "'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n", "'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst stream = require('stream');\nconst {promisify} = require('util');\nconst bufferStream = require('./buffer-stream');\n\nconst streamPipelinePromisified = promisify(stream.pipeline);\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\tthrow new Error('Expected a stream');\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\tconst stream = bufferStream(options);\n\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tawait streamPipelinePromisified(inputStream, stream);\n\t\t\t\tresolve();\n\t\t\t} catch (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t}\n\t\t})();\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n", "'use strict';\n\n/**\n * @typedef {Object} HttpRequest\n * @property {Record<string, string>} headers - Request headers\n * @property {string} [method] - HTTP method\n * @property {string} [url] - Request URL\n */\n\n/**\n * @typedef {Object} HttpResponse\n * @property {Record<string, string>} headers - Response headers\n * @property {number} [status] - HTTP status code\n */\n\n/**\n * Set of default cacheable status codes per RFC 7231 section 6.1.\n * @type {Set<number>}\n */\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n/**\n * Set of HTTP status codes that the cache implementation understands.\n * Note: This implementation does not understand partial responses (206).\n * @type {Set<number>}\n */\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n/**\n * Set of HTTP error status codes.\n * @type {Set<number>}\n */\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503,\n    504,\n]);\n\n/**\n * Object representing hop-by-hop headers that should be removed.\n * @type {Record<string, boolean>}\n */\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\n/**\n * Headers that are excluded from revalidation update.\n * @type {Record<string, boolean>}\n */\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\n/**\n * Converts a string to a number or returns zero if the conversion fails.\n * @param {string} s - The string to convert.\n * @returns {number} The parsed number or 0.\n */\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n/**\n * Determines if the given response is an error response.\n * Implements RFC 5861 behavior.\n * @param {HttpResponse|undefined} response - The HTTP response object.\n * @returns {boolean} true if the response is an error or undefined, false otherwise.\n */\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if (!response) {\n        return true;\n    }\n    return errorStatusCodes.has(response.status);\n}\n\n/**\n * Parses a Cache-Control header string into an object.\n * @param {string} [header] - The Cache-Control header value.\n * @returns {Record<string, string|boolean>} An object representing Cache-Control directives.\n */\nfunction parseCacheControl(header) {\n    /** @type {Record<string, string|boolean>} */\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/,/);\n    for (const part of parts) {\n        const [k, v] = part.split(/=/, 2);\n        cc[k.trim()] = v === undefined ? true : v.trim().replace(/^\"|\"$/g, '');\n    }\n\n    return cc;\n}\n\n/**\n * Formats a Cache-Control directives object into a header string.\n * @param {Record<string, string|boolean>} cc - The Cache-Control directives.\n * @returns {string|undefined} A formatted Cache-Control header string or undefined if empty.\n */\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    /**\n     * Creates a new CachePolicy instance.\n     * @param {HttpRequest} req - Incoming client request.\n     * @param {HttpResponse} res - Received server response.\n     * @param {Object} [options={}] - Configuration options.\n     * @param {boolean} [options.shared=true] - Is the cache shared (a public proxy)? `false` for personal browser caches.\n     * @param {number} [options.cacheHeuristic=0.1] - Fallback heuristic (age fraction) for cache duration.\n     * @param {number} [options.immutableMinTimeToLive=86400000] - Minimum TTL for immutable responses in milliseconds.\n     * @param {boolean} [options.ignoreCargoCult=false] - Detect nonsense cache headers, and override them.\n     * @param {any} [options._fromObject] - Internal parameter for deserialization. Do not use.\n     */\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        /** @type {number} Timestamp when the response was received */\n        this._responseTime = this.now();\n        /** @type {boolean} Indicates if the cache is shared */\n        this._isShared = shared !== false;\n        /** @type {boolean} Indicates if legacy cargo cult directives should be ignored */\n        this._ignoreCargoCult = !!ignoreCargoCult;\n        /** @type {number} Heuristic cache fraction */\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        /** @type {number} Minimum TTL for immutable responses in ms */\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        /** @type {number} HTTP status code */\n        this._status = 'status' in res ? res.status : 200;\n        /** @type {Record<string, string>} Response headers */\n        this._resHeaders = res.headers;\n        /** @type {Record<string, string|boolean>} Parsed Cache-Control directives from response */\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        /** @type {string} HTTP method (e.g., GET, POST) */\n        this._method = 'method' in req ? req.method : 'GET';\n        /** @type {string} Request URL */\n        this._url = req.url;\n        /** @type {string} Host header from the request */\n        this._host = req.headers.host;\n        /** @type {boolean} Whether the request does not include an Authorization header */\n        this._noAuthorization = !req.headers.authorization;\n        /** @type {Record<string, string>|null} Request headers used for Vary matching */\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        /** @type {Record<string, string|boolean>} Parsed Cache-Control directives from request */\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            this._ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    /**\n     * You can monkey-patch it for testing.\n     * @returns {number} Current time in milliseconds.\n     */\n    now() {\n        return Date.now();\n    }\n\n    /**\n     * Determines if the response is storable in a cache.\n     * @returns {boolean} `false` if can never be cached.\n     */\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    /**\n     * @returns {boolean} true if expiration is explicitly defined.\n     */\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return !!(\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    /**\n     * @param {HttpRequest} req - a request\n     * @throws {Error} if the headers are missing.\n     */\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    /**\n     * Checks if the request matches the cache and can be satisfied from the cache immediately,\n     * without having to make a request to the server.\n     *\n     * This doesn't support `stale-while-revalidate`. See `evaluateRequest()` for a more complete solution.\n     *\n     * @param {HttpRequest} req - The new incoming HTTP request.\n     * @returns {boolean} `true`` if the cached response used to construct this cache policy satisfies the request without revalidation.\n     */\n    satisfiesWithoutRevalidation(req) {\n        const result = this.evaluateRequest(req);\n        return !result.revalidation;\n    }\n\n    /**\n     * @param {{headers: Record<string, string>, synchronous: boolean}|undefined} revalidation - Revalidation information, if any.\n     * @returns {{response: {headers: Record<string, string>}, revalidation: {headers: Record<string, string>, synchronous: boolean}|undefined}} An object with a cached response headers and revalidation info.\n     */\n    _evaluateRequestHitResult(revalidation) {\n        return {\n            response: {\n                headers: this.responseHeaders(),\n            },\n            revalidation,\n        };\n    }\n\n    /**\n     * @param {HttpRequest} request - new incoming\n     * @param {boolean} synchronous - whether revalidation must be synchronous (not s-w-r).\n     * @returns {{headers: Record<string, string>, synchronous: boolean}} An object with revalidation headers and a synchronous flag.\n     */\n    _evaluateRequestRevalidation(request, synchronous) {\n        return {\n            synchronous,\n            headers: this.revalidationHeaders(request),\n        };\n    }\n\n    /**\n     * @param {HttpRequest} request - new incoming\n     * @returns {{response: undefined, revalidation: {headers: Record<string, string>, synchronous: boolean}}} An object indicating no cached response and revalidation details.\n     */\n    _evaluateRequestMissResult(request) {\n        return {\n            response: undefined,\n            revalidation: this._evaluateRequestRevalidation(request, true),\n        };\n    }\n\n    /**\n     * Checks if the given request matches this cache entry, and how the cache can be used to satisfy it. Returns an object with:\n     *\n     * ```\n     * {\n     *     // If defined, you must send a request to the server.\n     *     revalidation: {\n     *         headers: {}, // HTTP headers to use when sending the revalidation response\n     *         // If true, you MUST wait for a response from the server before using the cache\n     *         // If false, this is stale-while-revalidate. The cache is stale, but you can use it while you update it asynchronously.\n     *         synchronous: bool,\n     *     },\n     *     // If defined, you can use this cached response.\n     *     response: {\n     *         headers: {}, // Updated cached HTTP headers you must use when responding to the client\n     *     },\n     * }\n     * ```\n     * @param {HttpRequest} req - new incoming HTTP request\n     * @returns {{response: {headers: Record<string, string>}|undefined, revalidation: {headers: Record<string, string>, synchronous: boolean}|undefined}} An object containing keys:\n     *   - revalidation: { headers: Record<string, string>, synchronous: boolean } Set if you should send this to the origin server\n     *   - response: { headers: Record<string, string> } Set if you can respond to the client with these cached headers\n     */\n    evaluateRequest(req) {\n        this._assertRequestHasHeaders(req);\n\n        // In all circumstances, a cache MUST NOT ignore the must-revalidate directive\n        if (this._rescc['must-revalidate']) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (!this._requestMatches(req, false)) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (requestCC['max-age'] && this.age() > toNumberOrZero(requestCC['max-age'])) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (requestCC['min-fresh'] && this.maxAge() - this.age() < toNumberOrZero(requestCC['min-fresh'])) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            // If a value is present, then the client is willing to accept a response that has\n            // exceeded its freshness lifetime by no more than the specified number of seconds\n            const allowsStaleWithoutRevalidation = 'max-stale' in requestCC &&\n                (true === requestCC['max-stale'] || requestCC['max-stale'] > this.age() - this.maxAge());\n\n            if (allowsStaleWithoutRevalidation) {\n                return this._evaluateRequestHitResult(undefined);\n            }\n\n            if (this.useStaleWhileRevalidate()) {\n                return this._evaluateRequestHitResult(this._evaluateRequestRevalidation(req, false));\n            }\n\n            return this._evaluateRequestMissResult(req);\n        }\n\n        return this._evaluateRequestHitResult(undefined);\n    }\n\n    /**\n     * @param {HttpRequest} req - check if this is for the same cache entry\n     * @param {boolean} allowHeadMethod - allow a HEAD method to match.\n     * @returns {boolean} `true` if the request matches.\n     */\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return !!(\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    /**\n     * Determines whether storing authenticated responses is allowed.\n     * @returns {boolean} `true` if allowed.\n     */\n    _allowsStoringAuthenticated() {\n        // following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return !!(\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    /**\n     * Checks whether the Vary header in the response matches the new request.\n     * @param {HttpRequest} req - incoming HTTP request\n     * @returns {boolean} `true` if the vary headers match.\n     */\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    /**\n     * Creates a copy of the given headers without any hop-by-hop headers.\n     * @param {Record<string, string>} inHeaders - old headers from the cached response\n     * @returns {Record<string, string>} A new headers object without hop-by-hop headers.\n     */\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        /** @type {Record<string, string>} */\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    /**\n     * Returns the response headers adjusted for serving the cached response.\n     * Removes hop-by-hop headers and updates the Age and Date headers.\n     * @returns {Record<string, string>} The adjusted response headers.\n     */\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Returns the Date header value from the response or the current time if invalid.\n     * @returns {number} Timestamp (in milliseconds) representing the Date header or response time.\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     * @returns {number} The age in seconds.\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    /**\n     * @returns {number} The Age header value as a number.\n     */\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Possibly outdated value of applicable max-age (or heuristic equivalent) in seconds.\n     * This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * Returns the maximum age (freshness lifetime) of the response in seconds.\n     * @returns {number} The max-age value in seconds.\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    /**\n     * Remaining time this cache entry may be useful for, in *milliseconds*.\n     * You can use this as an expiration time for your cache storage.\n     *\n     * Prefer this method over `maxAge()`, because it includes other factors like `age` and `stale-while-revalidate`.\n     * @returns {number} Time-to-live in milliseconds.\n     */\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.round(Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000);\n    }\n\n    /**\n     * If true, this cache entry is past its expiration date.\n     * Note that stale cache may be useful sometimes, see `evaluateRequest()`.\n     * @returns {boolean} `false` doesn't mean it's fresh nor usable\n     */\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    /**\n     * @returns {boolean} `true` if `stale-if-error` condition allows use of a stale response.\n     */\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    /** See `evaluateRequest()` for a more complete solution\n     * @returns {boolean} `true` if `stale-while-revalidate` is currently allowed.\n     */\n    useStaleWhileRevalidate() {\n        const swr = toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return swr > 0 && this.maxAge() + swr > this.age();\n    }\n\n    /**\n     * Creates a `CachePolicy` instance from a serialized object.\n     * @param {Object} obj - The serialized object.\n     * @returns {CachePolicy} A new CachePolicy instance.\n     */\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    /**\n     * @param {any} obj - The serialized object.\n     * @throws {Error} If already initialized or if the object is invalid.\n     */\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._ignoreCargoCult = !!obj.icc;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    /**\n     * Serializes the `CachePolicy` instance into a JSON-serializable object.\n     * @returns {Object} The serialized object.\n     */\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            icc: this._ignoreCargoCult,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     * @param {HttpRequest} incomingReq - The incoming HTTP request.\n     * @returns {Record<string, string>} The headers for the revalidation request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @param {HttpRequest} request - The latest HTTP request asking for the cached entry.\n     * @param {HttpResponse} response - The latest revalidation HTTP response from the origin server.\n     * @returns {{policy: CachePolicy, modified: boolean, matches: boolean}} The updated policy and modification status.\n     * @throws {Error} If the response headers are missing.\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n\n        if (this._useStaleIfError() && isErrorResponse(response)) {\n          return {\n              policy: this,\n              modified: false,\n              matches: true,\n          };\n        }\n\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        const optionsCopy = {\n            shared: this._isShared,\n            cacheHeuristic: this._cacheHeuristic,\n            immutableMinTimeToLive: this._immutableMinTtl,\n            ignoreCargoCult: this._ignoreCargoCult,\n        };\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response, optionsCopy),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, optionsCopy),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n", "//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = await this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\treturn data.map((row, index) => {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key[index]).then(() => undefined);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? row : row.value;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n", "'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set(Object.keys(fromStream).concat(knownProperties));\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n};\n", "'use strict';\nconst {Transform, PassThrough} = require('stream');\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\n\tif (!['gzip', 'deflate', 'br'].includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\t// TODO: Remove this when targeting Node.js 12.\n\tconst isBrotli = contentEncoding === 'br';\n\tif (isBrotli && typeof zlib.createBrotliDecompress !== 'function') {\n\t\tresponse.destroy(new Error('Brotli is not supported on Node.js < 12'));\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\tconst checker = new Transform({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tisEmpty = false;\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n\n\tconst finalStream = new PassThrough({\n\t\tautoDestroy: false,\n\t\tdestroy(error, callback) {\n\t\t\tresponse.destroy();\n\n\t\t\tcallback(error);\n\t\t}\n\t});\n\n\tconst decompressStream = isBrotli ? zlib.createBrotliDecompress() : zlib.createUnzip();\n\n\tdecompressStream.once('error', error => {\n\t\tif (isEmpty && !response.readable) {\n\t\t\tfinalStream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tfinalStream.destroy(error);\n\t});\n\n\tmimicResponse(response, finalStream);\n\tresponse.pipe(checker).pipe(decompressStream).pipe(finalStream);\n\n\treturn finalStream;\n};\n", "'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n", "'use strict';\n\nmodule.exports = stream => {\n\tif (stream.listenerCount('error') !== 0) {\n\t\treturn stream;\n\t}\n\n\tstream.__destroy = stream._destroy;\n\tstream._destroy = (...args) => {\n\t\tconst callback = args.pop();\n\n\t\tstream.__destroy(...args, async error => {\n\t\t\tawait Promise.resolve();\n\t\t\tcallback(error);\n\t\t});\n\t};\n\n\tconst onError = error => {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tPromise.resolve().then(() => {\n\t\t\tstream.emit('error', error);\n\t\t});\n\t};\n\n\tstream.once('error', onError);\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tPromise.resolve().then(() => {\n\t\tstream.off('error', onError);\n\t});\n\n\treturn stream;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst kCurrentStreamCount = Symbol('currentStreamCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\nconst kLength = Symbol('length');\n\nconst nameKeys = [\n\t// Not an Agent option actually\n\t'createConnection',\n\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSettings',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\t'peerMaxConcurrentStreams',\n\t'settings',\n\n\t// `tls.connect()` source options\n\t'family',\n\t'localAddress',\n\t'rejectUnauthorized',\n\n\t// `tls.connect()` secure context options\n\t'pskCallback',\n\t'minDHSize',\n\n\t// `tls.connect()` destination options\n\t// - `servername` is automatically validated, skip it\n\t// - `host` and `port` just describe the destination server,\n\t'path',\n\t'socket',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'sigalgs',\n\t'ciphers',\n\t'clientCertEngine',\n\t'crl',\n\t'dhparam',\n\t'ecdhCurve',\n\t'honorCipherOrder',\n\t'key',\n\t'privateKeyEngine',\n\t'privateKeyIdentifier',\n\t'maxVersion',\n\t'minVersion',\n\t'pfx',\n\t'secureOptions',\n\t'secureProtocol',\n\t'sessionIdContext',\n\t'ticketKeys'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\tif (compare(array[mid], value)) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst coveredSession = where[index];\n\n\t\tif (\n\t\t\t// Unfortunately `.every()` returns true for an empty array\n\t\t\tcoveredSession[kOriginSet].length > 0\n\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst session = where[index];\n\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length > 0\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 0, maxSessions = Number.POSITIVE_INFINITY, maxEmptySessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// It's faster when there are many origins. If there's only one, then QUEUE[`${options}:${origin}`] is faster.\n\t\t// I guess object creation / deletion is causing the slowdown.\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max empty sessions in total\n\t\tthis.maxEmptySessions = maxEmptySessions;\n\n\t\tthis._emptySessionCount = 0;\n\t\tthis._sessionCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false,\n\t\t\tinitialWindowSize: 1024 * 1024 * 32 // 32MB, see https://github.com/nodejs/node/issues/38426\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tget protocol() {\n\t\treturn 'https:';\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tfor (let index = 0; index < nameKeys.length; index++) {\n\t\t\tconst key = nameKeys[index];\n\n\t\t\tnormalized += ':';\n\n\t\t\tif (options && options[key] !== undefined) {\n\t\t\t\tnormalized += options[key];\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_processQueue() {\n\t\tif (this._sessionCount >= this.maxSessions) {\n\t\t\tthis.closeEmptySessions(this.maxSessions - this._sessionCount + 1);\n\t\t\treturn;\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in this.queue) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t// The entry function can be run only once.\n\t\t\t\tif (!item.completed) {\n\t\t\t\t\titem.completed = true;\n\n\t\t\t\t\titem();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_isBetterSession(thisStreamCount, thatStreamCount) {\n\t\treturn thisStreamCount > thatStreamCount;\n\t}\n\n\t_accept(session, listeners, normalizedOrigin, options) {\n\t\tlet index = 0;\n\n\t\twhile (index < listeners.length && session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams) {\n\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t// otherwise the session will get overloaded.\n\t\t\tlisteners[index].resolve(session);\n\n\t\t\tindex++;\n\t\t}\n\n\t\tlisteners.splice(0, index);\n\n\t\tif (listeners.length > 0) {\n\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\tlisteners.length = 0;\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners) && listeners.length > 0) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Parse origin\n\t\t\t\tif (typeof origin === 'string') {\n\t\t\t\t\torigin = new URL(origin);\n\t\t\t\t} else if (!(origin instanceof URL)) {\n\t\t\t\t\tthrow new TypeError('The `origin` argument needs to be a string or an URL object');\n\t\t\t\t}\n\n\t\t\t\tif (options) {\n\t\t\t\t\t// Validate servername\n\t\t\t\t\tconst {servername} = options;\n\t\t\t\t\tconst {hostname} = origin;\n\t\t\t\t\tif (servername && hostname !== servername) {\n\t\t\t\t\t\tthrow new Error(`Origin ${hostname} differs from servername ${servername}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = origin.origin;\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\t//\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t// | Session: A | | Session: B | | Session: C | | Session: D |\n\t\t\t\t// | Pending: 5 |-| Pending: 8 |-| Pending: 9 |-| Pending: 4 |\n\t\t\t\t// | Max:    10 | | Max:    10 | | Max:     9 | | Max:     5 |\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t//                     ^\n\t\t\t\t//                     |\n\t\t\t\t//     pick this one  --\n\t\t\t\t//\n\t\t\t\tfor (let index = 0; index < sessions.length; index++) {\n\t\t\t\t\tconst session = sessions[index];\n\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamCount];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams\n\t\t\t\t\t\t|| session[kGracefullyClosing]\n\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t|| session.destroyed\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need set this once.\n\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Either get the session which has biggest current stream count or the lowest.\n\t\t\t\t\tif (this._isBetterSession(sessionCurrentStreamsCount, currentStreamsCount)) {\n\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\tthis._accept(optimalSession, listeners, normalizedOrigin, options);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {\n\t\t\t\t\t[kLength]: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (--this.queue[normalizedOptions][kLength] === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = async () => {\n\t\t\t\tthis._sessionCount++;\n\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\t\t\t\tlet socket;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst computedOptions = {...options};\n\n\t\t\t\t\tif (computedOptions.settings === undefined) {\n\t\t\t\t\t\tcomputedOptions.settings = this.settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (computedOptions.session === undefined) {\n\t\t\t\t\t\tcomputedOptions.session = this.tlsSessionCache.get(name);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst createConnection = computedOptions.createConnection || this.createConnection;\n\n\t\t\t\t\t// A hacky workaround to enable async `createConnection`\n\t\t\t\t\tsocket = await createConnection.call(this, origin, computedOptions);\n\t\t\t\t\tcomputedOptions.createConnection = () => socket;\n\n\t\t\t\t\tconst session = http2.connect(origin, computedOptions);\n\t\t\t\t\tsession[kCurrentStreamCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\t// Node.js return https://false:443 instead of https://1.1.1.1:443\n\t\t\t\t\tconst getOriginSet = () => {\n\t\t\t\t\t\tconst {socket} = session;\n\n\t\t\t\t\t\tlet originSet;\n\t\t\t\t\t\tif (socket.servername === false) {\n\t\t\t\t\t\t\tsocket.servername = socket.remoteAddress;\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t\tsocket.servername = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn originSet;\n\t\t\t\t\t};\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// Assumes session `close` is emitted after request `close`\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\n\t\t\t\t\t\t\tif (where.length === 1) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tconst queue = this.queue[normalizedOptions];\n\t\t\t\t\t\tif (!queue) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst originSet = session[kOriginSet];\n\n\t\t\t\t\t\tfor (let index = 0; index < originSet.length; index++) {\n\t\t\t\t\t\t\tconst origin = originSet[index];\n\n\t\t\t\t\t\t\tif (origin in queue) {\n\t\t\t\t\t\t\t\tconst {listeners, completed} = queue[origin];\n\n\t\t\t\t\t\t\t\tlet index = 0;\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (index < listeners.length && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners[index].resolve(session);\n\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tqueue[origin].listeners.splice(0, index);\n\n\t\t\t\t\t\t\t\tif (queue[origin].listeners.length === 0 && !completed) {\n\t\t\t\t\t\t\t\t\tdelete queue[origin];\n\n\t\t\t\t\t\t\t\t\tif (--queue[kLength] === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\t\t\t\t\t\tsession[kGracefullyClosing] = false;\n\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\tif (session[kGracefullyClosing] || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// See https://github.com/nodejs/node/issues/38426\n\t\t\t\t\t\tif (session.setLocalWindowSize) {\n\t\t\t\t\t\t\tsession.setLocalWindowSize(1024 * 1024 * 4); // 4 MB\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\n\t\t\t\t\t\tif (session.socket.encrypted) {\n\t\t\t\t\t\t\tconst mainOrigin = session[kOriginSet][0];\n\t\t\t\t\t\t\tif (mainOrigin !== normalizedOrigin) {\n\t\t\t\t\t\t\t\tconst error = new Error(`Requested origin ${normalizedOrigin} does not match server ${mainOrigin}`);\n\n\t\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treceivedSettings = true;\n\t\t\t\t\t\tthis._emptySessionCount++;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\t\t\t\t\t\tthis._accept(session, listeners, normalizedOrigin, options);\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0 && this._emptySessionCount > this.maxEmptySessions) {\n\t\t\t\t\t\t\tthis.closeEmptySessions(this._emptySessionCount - this.maxEmptySessions);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount]++ === 0) {\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\tif (--session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\tthis._emptySessionCount++;\n\t\t\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\t\t\tif (this._emptySessionCount > this.maxEmptySessions || session[kGracefullyClosing]) {\n\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (session.destroyed || session.closed) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isFree() && !closeSessionIfCovered(this.sessions[normalizedOptions], session)) {\n\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis.queue[normalizedOptions][kLength]++;\n\t\t\tthis._processQueue();\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst stream = session.request(headers, streamOptions);\n\n\t\t\t\t\t\t// Do not throw before `request(...)` has been awaited\n\t\t\t\t\t\tdelayAsyncDestroy(stream);\n\n\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tasync createConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\tconst socket = tls.connect(port, host, options);\n\n\t\tif (options.socket) {\n\t\t\tsocket._peername = {\n\t\t\t\tfamily: undefined,\n\t\t\t\taddress: undefined,\n\t\t\t\tport\n\t\t\t};\n\t\t}\n\n\t\treturn socket;\n\t}\n\n\tcloseEmptySessions(maxCount = Number.POSITIVE_INFINITY) {\n\t\tlet closedCount = 0;\n\n\t\tconst {sessions} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tconst session = thisSessions[index];\n\n\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\tclosedCount++;\n\t\t\t\t\tsession.close();\n\n\t\t\t\t\tif (closedCount >= maxCount) {\n\t\t\t\t\t\treturn closedCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn closedCount;\n\t}\n\n\tdestroy(reason) {\n\t\tconst {sessions, queue} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tthisSessions[index].destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in queue) {\n\t\t\tconst entries = queue[normalizedOptions];\n\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in entries) {\n\t\t\t\tentries[normalizedOrigin].destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t\tthis.tlsSessionCache.clear();\n\t}\n\n\tget emptySessionCount() {\n\t\treturn this._emptySessionCount;\n\t}\n\n\tget pendingSessionCount() {\n\t\treturn this._sessionCount - this._emptySessionCount;\n\t}\n\n\tget sessionCount() {\n\t\treturn this._sessionCount;\n\t}\n}\n\nAgent.kCurrentStreamCount = kCurrentStreamCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n", "'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\temitClose: false,\n\t\t\tautoDestroy: true,\n\t\t\thighWaterMark\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (!this.readableEnded) {\n\t\t\tthis.aborted = true;\n\t\t}\n\n\t\t// See https://github.com/nodejs/node/issues/35303\n\t\tcallback();\n\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n", "'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args =>\n\t`Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`\n);\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args =>\n\t`Cannot ${args[0]} headers after they are sent to the client`\n);\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args =>\n\t`${args[0]} must be a valid HTTP token [${args[1]}]`\n);\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args =>\n\t`Invalid value \"${args[0]} for header \"${args[1]}\"`\n);\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args =>\n\t`Invalid character in ${args[0]} [${args[1]}]`\n);\n\nmakeError(\n\tError,\n\t'ERR_HTTP2_NO_SOCKET_MANIPULATION',\n\t'HTTP/2 sockets should not be directly manipulated (e.g. read and written)'\n);\n", "'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n", "'use strict';\nconst {ERR_INVALID_HTTP_TOKEN} = require('./errors.js');\nconst isRequestPseudoHeader = require('./is-request-pseudo-header.js');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\n\nmodule.exports = name => {\n\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t}\n};\n", "'use strict';\nconst {\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./errors.js');\n\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nmodule.exports = (name, value) => {\n\tif (typeof value === 'undefined') {\n\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t}\n\n\tif (isInvalidHeaderValue.test(value)) {\n\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t}\n};\n", "'use strict';\nconst {ERR_HTTP2_NO_SOCKET_MANIPULATION} = require('./errors.js');\n\n/* istanbul ignore file */\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\nconst proxySocketHandler = {\n\thas(stream, property) {\n\t\t// Replaced [kSocket] with .socket\n\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\treturn (property in stream) || (property in reference);\n\t},\n\n\tget(stream, property) {\n\t\tswitch (property) {\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\treturn stream[property].bind(stream);\n\t\t\tcase 'writable':\n\t\t\tcase 'destroyed':\n\t\t\t\treturn stream[property];\n\t\t\tcase 'readable':\n\t\t\t\tif (stream.destroyed) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn stream.readable;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session !== undefined) {\n\t\t\t\t\treturn session.setTimeout.bind(session);\n\t\t\t\t}\n\n\t\t\t\treturn stream.setTimeout.bind(stream);\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\tconst value = reference[property];\n\n\t\t\t\treturn typeof value === 'function' ? value.bind(reference) : value;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPrototypeOf(stream) {\n\t\tif (stream.session !== undefined) {\n\t\t\t// Replaced [kSocket] with .socket\n\t\t\treturn Reflect.getPrototypeOf(stream.session.socket);\n\t\t}\n\n\t\treturn Reflect.getPrototypeOf(stream);\n\t},\n\n\tset(stream, property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'writable':\n\t\t\tcase 'readable':\n\t\t\tcase 'destroyed':\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\tstream[property] = value;\n\t\t\t\treturn true;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session === undefined) {\n\t\t\t\t\tstream.setTimeout = value;\n\t\t\t\t} else {\n\t\t\t\t\tsession.setTimeout = value;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\treference[property] = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nmodule.exports = proxySocketHandler;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst proxyEvents = require('./utils/proxy-events.js');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT\n} = require('./utils/errors.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\nconst proxySocketHandler = require('./utils/proxy-socket-handler.js');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_HEADER_AUTHORITY,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\nconst kPendingAgentPromise = Symbol('pendingAgentPromise');\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false,\n\t\t\temitClose: false\n\t\t});\n\n\t\tif (typeof input === 'string') {\n\t\t\tinput = urlToHttpOptions(new URL(input));\n\t\t} else if (input instanceof URL) {\n\t\t\tinput = urlToHttpOptions(input);\n\t\t} else {\n\t\t\tinput = {...input};\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = input;\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = Object.assign(input, options);\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\n\t\t\tif (this[kSession].destroyed) {\n\t\t\t\tthrow new Error('The session has been closed already');\n\t\t\t}\n\n\t\t\tthis.protocol = this[kSession].socket.encrypted ? 'https:' : 'http:';\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxEmptySessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tthis.agent = globalAgent;\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['http2wrapper.Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (this.agent) {\n\t\t\tthis.protocol = this.agent.protocol;\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== this.protocol) {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, this.protocol);\n\t\t}\n\n\t\tif (!options.port) {\n\t\t\toptions.port = options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\t}\n\n\t\toptions.host = options.hostname || options.host || 'localhost';\n\n\t\t// Unused\n\t\tdelete options.hostname;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis[kPendingAgentPromise] = undefined;\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\n\t\tif (!(this.method === 'CONNECT' && (options.path === '/' || options.path === undefined))) {\n\t\t\tthis.path = options.path;\n\t\t}\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tconst {headers} = options;\n\t\tif (headers) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const header in headers) {\n\t\t\t\tthis.setHeader(header, headers[header]);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tthis[kOrigin] = new URL(`${this.protocol}//${options.servername || options.host}:${options.port}`);\n\n\t\t// A socket is being reused\n\t\tconst reuseSocket = options._reuseSocket;\n\t\tif (reuseSocket) {\n\t\t\toptions.createConnection = (...args) => {\n\t\t\t\tif (reuseSocket.destroyed) {\n\t\t\t\t\treturn this.agent.createConnection(...args);\n\t\t\t\t}\n\n\t\t\t\treturn reuseSocket;\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\tthis.agent.getSession(this[kOrigin], this[kOptions]).catch(() => {});\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\treturn this[kHeaders][header];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\t\tthis[kHeaders][header] = value;\n\t\t}\n\t}\n\n\tget host() {\n\t\treturn this[kOrigin].hostname;\n\t}\n\n\tset host(_value) {\n\t\t// Do nothing as this is read only.\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE and CONNECT\n\t\t\tif (this._mustNotHaveABody || this.method === 'CONNECT') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\tasync _destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t} else {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tawait this[kPendingAgentPromise];\n\t\t} catch (internalError) {\n\t\t\tif (this.aborted) {\n\t\t\t\terror = internalError;\n\t\t\t}\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\t// TODO: Should we proxy `close` here?\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue']);\n\t\t\t}\n\n\t\t\tstream.once('error', error => {\n\t\t\t\tthis.destroy(error);\n\t\t\t});\n\n\t\t\tstream.once('aborted', () => {\n\t\t\t\tconst {res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tres.aborted = true;\n\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\tres.destroy();\n\t\t\t\t} else {\n\t\t\t\t\tthis.destroy(new Error('The server aborted the HTTP/2 stream'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst onResponse = (headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\t// Undocumented, but it is used by `cacheable-request`\n\t\t\t\tresponse.url = `${this[kOrigin].origin}${this.path}`;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\tresponse.connection = null;\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tif (!this.aborted) {\n\t\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', onResponse);\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', headers => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]}));\n\n\t\t\tstream.once('trailers', (trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// https://github.com/nodejs/node/issues/41251\n\t\t\t\tif (res === null) {\n\t\t\t\t\tonResponse(trailers, flags, rawTrailers);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t});\n\n\t\t\tstream.once('close', () => {\n\t\t\t\tconst {aborted, res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tif (aborted) {\n\t\t\t\t\t\tres.aborted = true;\n\t\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\t\tres.destroy();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst finish = () => {\n\t\t\t\t\t\tres.emit('close');\n\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t};\n\n\t\t\t\t\tif (res.readable) {\n\t\t\t\t\t\tres.once('end', finish);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinish();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this.destroyed) {\n\t\t\t\t\tthis.destroy(new Error('The HTTP/2 stream has been early terminated'));\n\t\t\t\t\tthis.emit('close');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\n\t\t\tthis.socket = new Proxy(stream, proxySocketHandler);\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis[kJobs].length = 0;\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\tif (!(HTTP2_HEADER_AUTHORITY in this[kHeaders]) && !isConnectMethod) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = this[kOrigin].host;\n\t\t}\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tconst promise = this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]);\n\t\t\t\tthis[kPendingAgentPromise] = promise;\n\n\t\t\t\tonStream(await promise);\n\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\tgetHeaderNames() {\n\t\treturn Object.keys(this[kHeaders]);\n\t}\n\n\thasHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn Boolean(this[kHeaders][name.toLowerCase()]);\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tvalidateHeaderName(name);\n\t\tvalidateHeaderValue(name, value);\n\n\t\tconst lowercased = name.toLowerCase();\n\n\t\tif (lowercased === 'connection') {\n\t\t\tif (value.toLowerCase() === 'keep-alive') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new Error(`Invalid 'connection' header: ${value}`);\n\t\t}\n\n\t\tif (lowercased === 'host' && this.method === 'CONNECT') {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = value;\n\t\t} else {\n\t\t\tthis[kHeaders][lowercased] = value;\n\t\t}\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n", "'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n", "'use strict';\nconst {isIP} = require('net');\nconst assert = require('assert');\n\nconst getHost = host => {\n\tif (host[0] === '[') {\n\t\tconst idx = host.indexOf(']');\n\n\t\tassert(idx !== -1);\n\t\treturn host.slice(1, idx);\n\t}\n\n\tconst idx = host.indexOf(':');\n\tif (idx === -1) {\n\t\treturn host;\n\t}\n\n\treturn host.slice(0, idx);\n};\n\nmodule.exports = host => {\n\tconst servername = getHost(host);\n\n\tif (isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst {Agent, globalAgent} = require('./agent.js');\nconst Http2ClientRequest = require('./client-request.js');\nconst calculateServerName = require('./utils/calculate-server-name.js');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onTimeout = () => {\n\t\tconst {freeSockets} = agent;\n\n\t\tfor (const sockets of Object.values(freeSockets)) {\n\t\t\tif (sockets.includes(socket)) {\n\t\t\t\tsocket.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n\n\tsocket.on('timeout', onTimeout);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst createResolveProtocol = (cache, queue = new Map(), connect = undefined) => {\n\treturn async options => {\n\t\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\t\tif (!cache.has(name)) {\n\t\t\tif (queue.has(name)) {\n\t\t\t\tconst result = await queue.get(name);\n\t\t\t\treturn {alpnProtocol: result.alpnProtocol};\n\t\t\t}\n\n\t\t\tconst {path} = options;\n\t\t\toptions.path = options.socketPath;\n\n\t\t\tconst resultPromise = resolveALPN(options, connect);\n\t\t\tqueue.set(name, resultPromise);\n\n\t\t\ttry {\n\t\t\t\tconst result = await resultPromise;\n\n\t\t\t\tcache.set(name, result.alpnProtocol);\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\treturn result;\n\t\t\t} catch (error) {\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {alpnProtocol: cache.get(name)};\n\t};\n};\n\nconst defaultResolveProtocol = createResolveProtocol(cache, queue);\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string') {\n\t\tinput = urlToHttpOptions(new URL(input));\n\t} else if (input instanceof URL) {\n\t\tinput = urlToHttpOptions(input);\n\t} else {\n\t\tinput = {...input};\n\t}\n\n\tif (typeof options === 'function' || options === undefined) {\n\t\t// (options, callback)\n\t\tcallback = options;\n\t\toptions = input;\n\t} else {\n\t\t// (input, options, callback)\n\t\toptions = Object.assign(input, options);\n\t}\n\n\toptions.ALPNProtocols = options.ALPNProtocols || ['h2', 'http/1.1'];\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName((options.headers && options.headers.host) || options.host);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst resolveProtocol = options.resolveProtocol || defaultResolveProtocol;\n\n\t// Note: We don't support `h2session` here\n\n\tlet {agent} = options;\n\tif (agent !== undefined && agent !== false && agent.constructor.name !== 'Object') {\n\t\tthrow new Error('The `options.agent` can be only an object `http`, `https` or `http2` properties');\n\t}\n\n\tif (isHttps) {\n\t\toptions.resolveSocket = true;\n\n\t\tlet {socket, alpnProtocol, timeout} = await resolveProtocol(options);\n\n\t\tif (timeout) {\n\t\t\tif (socket) {\n\t\t\t\tsocket.destroy();\n\t\t\t}\n\n\t\t\tconst error = new Error(`Timed out resolving ALPN: ${options.timeout} ms`);\n\t\t\terror.code = 'ETIMEDOUT';\n\t\t\terror.ms = options.timeout;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\t// We can't accept custom `createConnection` because the API is different for HTTP/2\n\t\tif (socket && options.createConnection) {\n\t\t\tsocket.destroy();\n\t\t\tsocket = undefined;\n\t\t}\n\n\t\tdelete options.resolveSocket;\n\n\t\tconst isHttp2 = alpnProtocol === 'h2';\n\n\t\tif (agent) {\n\t\t\tagent = isHttp2 ? agent.http2 : agent.https;\n\t\t\toptions.agent = agent;\n\t\t}\n\n\t\tif (agent === undefined) {\n\t\t\tagent = isHttp2 ? globalAgent : https.globalAgent;\n\t\t}\n\n\t\tif (socket) {\n\t\t\tif (agent === false) {\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst defaultCreateConnection = (isHttp2 ? Agent : https.Agent).prototype.createConnection;\n\n\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tif (isHttp2) {\n\t\t\t\t\t\toptions._reuseSocket = socket;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (isHttp2) {\n\t\t\treturn delayAsyncDestroy(new Http2ClientRequest(options, callback));\n\t\t}\n\t} else if (agent) {\n\t\toptions.agent = agent.http;\n\t}\n\n\t// If we're sending HTTP/1.1, handle any explicitly set H2 headers in the options:\n\tif (options.headers) {\n\t\toptions.headers = {...options.headers};\n\n\t\t// :authority is equivalent to the HTTP/1.1 host header\n\t\tif (options.headers[':authority']) {\n\t\t\tif (!options.headers.host) {\n\t\t\t\toptions.headers.host = options.headers[':authority'];\n\t\t\t}\n\n\t\t\tdelete options.headers[':authority'];\n\t\t}\n\n\t\t// Remove other HTTP/2 headers as they have their counterparts in the options\n\t\tdelete options.headers[':method'];\n\t\tdelete options.headers[':scheme'];\n\t\tdelete options.headers[':path'];\n\t}\n\n\treturn delayAsyncDestroy(http.request(options, callback));\n};\n\nmodule.exports.protocolCache = cache;\nmodule.exports.resolveProtocol = defaultResolveProtocol;\nmodule.exports.createResolveProtocol = createResolveProtocol;\n", "'use strict';\nconst stream = require('stream');\nconst tls = require('tls');\n\n// Really awesome hack.\nconst JSStreamSocket = (new tls.TLSSocket(new stream.PassThrough()))._handle._parentWrap.constructor;\n\nmodule.exports = JSStreamSocket;\n", "'use strict';\n\nclass UnexpectedStatusCodeError extends Error {\n\tconstructor(statusCode, statusMessage = '') {\n\t\tsuper(`The proxy server rejected the request with status code ${statusCode} (${statusMessage || 'empty status message'})`);\n\t\tthis.statusCode = statusCode;\n\t\tthis.statusMessage = statusMessage;\n\t}\n}\n\nmodule.exports = UnexpectedStatusCodeError;\n", "'use strict';\n\nconst checkType = (name, value, types) => {\n\tconst valid = types.some(type => {\n\t\tconst typeofType = typeof type;\n\t\tif (typeofType === 'string') {\n\t\t\treturn typeof value === type;\n\t\t}\n\n\t\treturn value instanceof type;\n\t});\n\n\tif (!valid) {\n\t\tconst names = types.map(type => typeof type === 'string' ? type : type.name);\n\n\t\tthrow new TypeError(`Expected '${name}' to be a type of ${names.join(' or ')}, got ${typeof value}`);\n\t}\n};\n\nmodule.exports = checkType;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst checkType = require('../utils/check-type.js');\n\nmodule.exports = (self, proxyOptions) => {\n\tcheckType('proxyOptions', proxyOptions, ['object']);\n\tcheckType('proxyOptions.headers', proxyOptions.headers, ['object', 'undefined']);\n\tcheckType('proxyOptions.raw', proxyOptions.raw, ['boolean', 'undefined']);\n\tcheckType('proxyOptions.url', proxyOptions.url, [URL, 'string']);\n\n\tconst url = new URL(proxyOptions.url);\n\n\tself.proxyOptions = {\n\t\traw: true,\n\t\t...proxyOptions,\n\t\theaders: {...proxyOptions.headers},\n\t\turl\n\t};\n};\n", "'use strict';\n\nmodule.exports = self => {\n\tconst {username, password} = self.proxyOptions.url;\n\n\tif (username || password) {\n\t\tconst data = `${username}:${password}`;\n\t\tconst authorization = `Basic ${Buffer.from(data).toString('base64')}`;\n\n\t\treturn {\n\t\t\t'proxy-authorization': authorization,\n\t\t\tauthorization\n\t\t};\n\t}\n\n\treturn {};\n};\n", "'use strict';\nconst tls = require('tls');\nconst http = require('http');\nconst https = require('https');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst {globalAgent} = require('../agent.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst createConnection = (self, options, callback) => {\n\t(async () => {\n\t\ttry {\n\t\t\tconst {proxyOptions} = self;\n\t\t\tconst {url, headers, raw} = proxyOptions;\n\n\t\t\tconst stream = await globalAgent.request(url, proxyOptions, {\n\t\t\t\t...getAuthorizationHeaders(self),\n\t\t\t\t...headers,\n\t\t\t\t':method': 'CONNECT',\n\t\t\t\t':authority': `${options.host}:${options.port}`\n\t\t\t});\n\n\t\t\tstream.once('error', callback);\n\t\t\tstream.once('response', headers => {\n\t\t\t\tconst statusCode = headers[':status'];\n\n\t\t\t\tif (statusCode !== 200) {\n\t\t\t\t\tcallback(new UnexpectedStatusCodeError(statusCode, ''));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst encrypted = self instanceof https.Agent;\n\n\t\t\t\tif (raw && encrypted) {\n\t\t\t\t\toptions.socket = stream;\n\t\t\t\t\tconst secureStream = tls.connect(options);\n\n\t\t\t\t\tsecureStream.once('close', () => {\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback(null, secureStream);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\t\tsocket.encrypted = false;\n\t\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\t\tout.family = undefined;\n\t\t\t\t\tout.address = undefined;\n\t\t\t\t\tout.port = undefined;\n\t\t\t\t};\n\n\t\t\t\tcallback(null, socket);\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tcallback(error);\n\t\t}\n\t})();\n};\n\nclass HttpOverHttp2 extends http.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nclass HttpsOverHttp2 extends https.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nmodule.exports = {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n};\n", "'use strict';\nconst {Agent} = require('../agent.js');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\n\nclass Http2OverHttpX extends Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tasync createConnection(origin, options) {\n\t\tconst authority = `${origin.hostname}:${origin.port || 443}`;\n\n\t\tconst [stream, statusCode, statusMessage] = await this._getProxyStream(authority);\n\t\tif (statusCode !== 200) {\n\t\t\tthrow new UnexpectedStatusCodeError(statusCode, statusMessage);\n\t\t}\n\n\t\tif (this.proxyOptions.raw) {\n\t\t\toptions.socket = stream;\n\t\t} else {\n\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\tsocket.encrypted = false;\n\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\tout.family = undefined;\n\t\t\t\tout.address = undefined;\n\t\t\t\tout.port = undefined;\n\t\t\t};\n\n\t\t\treturn socket;\n\t\t}\n\n\t\treturn super.createConnection(origin, options);\n\t}\n}\n\nmodule.exports = Http2OverHttpX;\n", "'use strict';\nconst {globalAgent} = require('../agent.js');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStatusCode = stream => new Promise((resolve, reject) => {\n\tstream.once('error', reject);\n\tstream.once('response', headers => {\n\t\tstream.off('error', reject);\n\t\tresolve(headers[':status']);\n\t});\n});\n\nclass Http2OverHttp2 extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\n\t\tconst headers = {\n\t\t\t...getAuthorizationHeaders(this),\n\t\t\t...proxyOptions.headers,\n\t\t\t':method': 'CONNECT',\n\t\t\t':authority': authority\n\t\t};\n\n\t\tconst stream = await globalAgent.request(proxyOptions.url, proxyOptions, headers);\n\t\tconst statusCode = await getStatusCode(stream);\n\n\t\treturn [stream, statusCode, ''];\n\t}\n}\n\nmodule.exports = Http2OverHttp2;\n", "'use strict';\nconst http = require('http');\nconst https = require('https');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStream = request => new Promise((resolve, reject) => {\n\tconst onConnect = (response, socket, head) => {\n\t\tsocket.unshift(head);\n\n\t\trequest.off('error', reject);\n\t\tresolve([socket, response.statusCode, response.statusMessage]);\n\t};\n\n\trequest.once('error', reject);\n\trequest.once('connect', onConnect);\n});\n\nclass Http2OverHttp extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\t\tconst {url, headers} = this.proxyOptions;\n\n\t\tconst network = url.protocol === 'https:' ? https : http;\n\n\t\t// `new URL('https://localhost/httpbin.org:443')` results in\n\t\t// a `/httpbin.org:443` path, which has an invalid leading slash.\n\t\tconst request = network.request({\n\t\t\t...proxyOptions,\n\t\t\thostname: url.hostname,\n\t\t\tport: url.port,\n\t\t\tpath: authority,\n\t\t\theaders: {\n\t\t\t\t...getAuthorizationHeaders(this),\n\t\t\t\t...headers,\n\t\t\t\thost: authority\n\t\t\t},\n\t\t\tmethod: 'CONNECT'\n\t\t}).end();\n\n\t\treturn getStream(request);\n\t}\n}\n\nmodule.exports = {\n\tHttp2OverHttp,\n\tHttp2OverHttps: Http2OverHttp\n};\n", "'use strict';\nconst http2 = require('http2');\nconst {\n\tAgent,\n\tglobalAgent\n} = require('./agent.js');\nconst ClientRequest = require('./client-request.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst auto = require('./auto.js');\nconst {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n} = require('./proxies/h1-over-h2.js');\nconst Http2OverHttp2 = require('./proxies/h2-over-h2.js');\nconst {\n\tHttp2OverHttp,\n\tHttp2OverHttps\n} = require('./proxies/h2-over-h1.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\n\nconst request = (url, options, callback) => new ClientRequest(url, options, callback);\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\tAgent,\n\tglobalAgent,\n\trequest,\n\tget,\n\tauto,\n\tproxies: {\n\t\tHttpOverHttp2,\n\t\tHttpsOverHttp2,\n\t\tHttp2OverHttp2,\n\t\tHttp2OverHttp,\n\t\tHttp2OverHttps\n\t},\n\tvalidateHeaderName,\n\tvalidateHeaderValue\n};\n", "import { getArguments, getIPV4Address, getIPV6Address, isEmpty } from \"./utils/common-utils\";\nimport {\n  captureException,\n  Clipboard,\n  closeMainWindow,\n  environment,\n  LaunchProps,\n  LaunchType,\n  showHUD,\n  updateCommandMetadata,\n} from \"@raycast/api\";\nimport { publicIpv4, publicIpv6 } from \"public-ip\";\nimport { CopyIpArguments, IpType, IpVersion } from \"./types/preferences\";\n\nexport default async (props: LaunchProps<{ arguments: CopyIpArguments }>) => {\n  const { args } = getArguments([props.arguments.ipType, props.arguments.ipVersion], [\"ipType\", \"IpVersion\"]);\n  const ipTypeString = args[0] === IpType.PUBLIC ? IpType.PUBLIC : IpType.LOCAL;\n  const ipVersionString = args[1] === IpVersion.IPV6 ? IpVersion.IPV6 : IpVersion.IPV4;\n\n  try {\n    if (environment.launchType === LaunchType.UserInitiated) {\n      await closeMainWindow();\n    }\n    let ip = \"\";\n    if (ipTypeString === IpType.LOCAL) {\n      let ip_;\n      if (ipVersionString === IpVersion.IPV4) {\n        ip_ = getIPV4Address();\n      } else {\n        ip_ = getIPV6Address();\n      }\n      ip = ip_ ? ip_ : \"\";\n    } else {\n      let ip_;\n      if (ipVersionString === IpVersion.IPV4) {\n        ip_ = await publicIpv4({ onlyHttps: true })\n          .then((ip) => ip)\n          .catch(() => \"\");\n      } else {\n        ip_ = await publicIpv6({ onlyHttps: true })\n          .then((ip) => ip)\n          .catch(() => \"\");\n      }\n      ip = ip_ ? ip_ : \"\";\n    }\n\n    if (environment.launchType === LaunchType.UserInitiated) {\n      if (!isEmpty(ip)) {\n        await Clipboard.copy(`${ip}`);\n        await showHUD(`\uD83C\uDD7F\uFE0F ${ipTypeString} ${ipVersionString} ${ip}`);\n      } else {\n        await showHUD(`\uD83D\uDEA8 Failed to get ${ipTypeString} ${ipVersionString} `);\n      }\n    }\n\n    if (ip) {\n      await updateCommandMetadata({ subtitle: ` ${ipTypeString} ${ipVersionString} ${ip}` });\n    } else {\n      await updateCommandMetadata({ subtitle: `IP Geolocation` });\n    }\n  } catch (e) {\n    captureException(e);\n    console.error(e);\n  }\n};\n", "import * as os from \"os\";\nimport { Cache } from \"@raycast/api\";\nimport axios from \"axios\";\nimport { IP_GEOLOCATION_API } from \"./constants\";\nimport { IPGeolocation } from \"../types/ip-geolocation\";\nimport { language } from \"../types/preferences\";\n\nexport const isEmpty = (string: string | null | undefined) => {\n  return !(string != null && String(string).length > 0);\n};\n\nexport function getIPV4Address() {\n  const interfaces = os.networkInterfaces();\n  for (const devName in interfaces) {\n    const iface = interfaces[devName];\n    if (typeof iface !== \"undefined\") {\n      for (let i = 0; i < iface.length; i++) {\n        const alias = iface[i];\n        //console.log(alias)\n        if (alias.family === \"IPv4\" && alias.address !== \"127.0.0.1\" && !alias.internal) {\n          return alias.address;\n        }\n      }\n    }\n  }\n  return null;\n}\n\nexport function getIPV6Address() {\n  const interfaces = os.networkInterfaces();\n  for (const devName in interfaces) {\n    //\n    const iface = interfaces[devName];\n    if (typeof iface !== \"undefined\") {\n      for (let i = 0; i < iface.length; i++) {\n        const alias = iface[i];\n        //console.log(alias)\n        if (alias.family === \"IPv6\" && alias.address !== \"::1\" && !alias.internal) {\n          return alias.address;\n        }\n      }\n    }\n  }\n  return null;\n}\n\nexport async function getIPGeolocation(ipv4: string) {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: IP_GEOLOCATION_API + ipv4,\n      params: {\n        lang: language,\n        fields: \"585727\",\n      },\n    });\n    return response.data as IPGeolocation;\n  } catch (reason) {\n    console.error(`getIPGeolocation error: ${reason}`);\n    return { status: \"fail\" } as IPGeolocation;\n  }\n}\n\nexport const getArgument = (arg: string, argKey: string) => {\n  const cache = new Cache({ namespace: \"Args\" });\n  if (typeof arg !== \"undefined\") {\n    // call from main window\n    cache.set(argKey, arg);\n    return arg;\n  } else {\n    // call from hotkey\n    const cacheStr = cache.get(argKey);\n    if (typeof cacheStr !== \"undefined\") {\n      return cacheStr;\n    } else {\n      return \"\";\n    }\n  }\n};\n\nexport const getArguments = (args: string[], argKeys: string[]) => {\n  if (args.length !== argKeys.length) {\n    return { args: [] };\n  } else {\n    const argsObj = [];\n    for (let i = 0; i < args.length; i++) {\n      argsObj.push(getArgument(args[i], argKeys[i]));\n    }\n    return { args: argsObj };\n  }\n};\n", "import { Icon } from \"@raycast/api\";\n\nexport const IP_GEOLOCATION_API = \"http://ip-api.com/json/\";\n\nexport const ipListIcons = [Icon.Globe, Icon.Map, Icon.Pin, Icon.Clock, Icon.EditShape, Icon.Network, Icon.Building];\nexport const myIpListIcons = [\n  Icon.Info,\n  Icon.Cd,\n  Icon.Globe,\n  Icon.BullsEye,\n  Icon.Map,\n  Icon.Pin,\n  Icon.Clock,\n  Icon.EditShape,\n  Icon.Network,\n  Icon.Building,\n];\n", "import { getPreferenceValues } from \"@raycast/api\";\n\ninterface Preferences {\n  language: string;\n  showIPv6: boolean;\n  coordinatesFormat: \"latLon\" | \"lonLat\";\n}\n\nexport const { language, showIPv6, coordinatesFormat } = getPreferenceValues<Preferences>();\n\nexport interface CopyIpArguments {\n  ipType: string;\n  ipVersion: string;\n}\n\nexport enum IpType {\n  LOCAL = \"Local\",\n  PUBLIC = \"Public\",\n}\n\nexport enum IpVersion {\n  IPV4 = \"IPv4\",\n  IPV6 = \"IPv6\",\n}\n", "import {promisify} from 'node:util';\nimport dgram from 'node:dgram';\nimport dns from 'dns-socket';\nimport got, {CancelError} from 'got';\nimport {isIPv6, isIPv4} from 'is-ip';\nimport {createPublicIp, IpNotFoundError} from './core.js';\n\nexport {IpNotFoundError} from './core.js';\n\nconst defaults = {\n\ttimeout: 5000,\n\tonlyHttps: false,\n};\n\nconst dnsServers = [\n\t{\n\t\tv4: {\n\t\t\tservers: [\n\t\t\t\t'208.67.222.222',\n\t\t\t\t'208.67.220.220',\n\t\t\t\t'208.67.222.220',\n\t\t\t\t'208.67.220.222',\n\t\t\t],\n\t\t\tname: 'myip.opendns.com',\n\t\t\ttype: 'A',\n\t\t},\n\t\tv6: {\n\t\t\tservers: [\n\t\t\t\t'2620:0:ccc::2',\n\t\t\t\t'2620:0:ccd::2',\n\t\t\t],\n\t\t\tname: 'myip.opendns.com',\n\t\t\ttype: 'AAAA',\n\t\t},\n\t},\n\t{\n\t\tv4: {\n\t\t\tservers: [\n\t\t\t\t'216.239.32.10',\n\t\t\t\t'216.239.34.10',\n\t\t\t\t'216.239.36.10',\n\t\t\t\t'216.239.38.10',\n\t\t\t],\n\t\t\tname: 'o-o.myaddr.l.google.com',\n\t\t\ttype: 'TXT',\n\t\t\ttransform: ip => ip.replaceAll('\"', ''),\n\t\t},\n\t\tv6: {\n\t\t\tservers: [\n\t\t\t\t'2001:4860:4802:32::a',\n\t\t\t\t'2001:4860:4802:34::a',\n\t\t\t\t'2001:4860:4802:36::a',\n\t\t\t\t'2001:4860:4802:38::a',\n\t\t\t],\n\t\t\tname: 'o-o.myaddr.l.google.com',\n\t\t\ttype: 'TXT',\n\t\t\ttransform: ip => ip.replaceAll('\"', ''),\n\t\t},\n\t},\n];\n\nconst type = {\n\tv4: {\n\t\tdnsServers: dnsServers.map(({v4: {servers, ...question}}) => ({\n\t\t\tservers, question,\n\t\t})),\n\t\thttpsUrls: [\n\t\t\t'https://icanhazip.com/',\n\t\t\t'https://api.ipify.org/',\n\t\t],\n\t},\n\tv6: {\n\t\tdnsServers: dnsServers.map(({v6: {servers, ...question}}) => ({\n\t\t\tservers, question,\n\t\t})),\n\t\thttpsUrls: [\n\t\t\t'https://icanhazip.com/',\n\t\t\t'https://api6.ipify.org/',\n\t\t],\n\t},\n};\n\nconst queryDns = (version, options) => {\n\tconst data = type[version];\n\n\tconst socket = dns({\n\t\tretries: 0,\n\t\tmaxQueries: 1,\n\t\tsocket: dgram.createSocket(version === 'v6' ? 'udp6' : 'udp4'),\n\t\ttimeout: options.timeout,\n\t});\n\n\tconst socketQuery = promisify(socket.query.bind(socket));\n\n\tconst promise = (async () => {\n\t\tlet lastError;\n\n\t\tfor (const dnsServerInfo of data.dnsServers) {\n\t\t\tconst {servers, question} = dnsServerInfo;\n\t\t\tfor (const server of servers) {\n\t\t\t\tif (socket.destroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst {name, type, transform} = question;\n\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst dnsResponse = await socketQuery({questions: [{name, type}]}, 53, server);\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\tanswers: {\n\t\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t} = dnsResponse;\n\n\t\t\t\t\tconst response = (typeof data === 'string' ? data : data.toString()).trim();\n\n\t\t\t\t\tconst ip = transform ? transform(response) : response;\n\n\t\t\t\t\tconst method = version === 'v6' ? isIPv6 : isIPv4;\n\n\t\t\t\t\tif (ip && method(ip)) {\n\t\t\t\t\t\tsocket.destroy();\n\t\t\t\t\t\treturn ip;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlastError = error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsocket.destroy();\n\n\t\tthrow new IpNotFoundError({cause: lastError});\n\t})();\n\n\tpromise.cancel = () => {\n\t\tsocket.destroy();\n\t};\n\n\treturn promise;\n};\n\nconst queryHttps = (version, options) => {\n\tlet cancel;\n\n\tconst promise = (async () => {\n\t\ttry {\n\t\t\tconst requestOptions = {\n\t\t\t\tdnsLookupIpVersion: version === 'v6' ? 6 : 4,\n\t\t\t\tretry: {\n\t\t\t\t\tlimit: 0,\n\t\t\t\t},\n\t\t\t\ttimeout: {\n\t\t\t\t\trequest: options.timeout,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst urls = [\n\t\t\t\t...type[version].httpsUrls,\n\t\t\t\t...(options.fallbackUrls ?? []),\n\t\t\t];\n\n\t\t\tlet lastError;\n\t\t\tfor (const url of urls) {\n\t\t\t\ttry {\n\t\t\t\t\t// Note: We use `.get` to allow for mocking.\n\t\t\t\t\tconst gotPromise = got.get(url, requestOptions);\n\t\t\t\t\tcancel = gotPromise.cancel;\n\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst response = await gotPromise;\n\n\t\t\t\t\tconst ip = response.body?.trim();\n\t\t\t\t\tconst method = version === 'v6' ? isIPv6 : isIPv4;\n\n\t\t\t\t\tif (ip && method(ip)) {\n\t\t\t\t\t\treturn ip;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlastError = error;\n\n\t\t\t\t\tif (error instanceof CancelError) {\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthrow new IpNotFoundError({cause: lastError});\n\t\t} catch (error) {\n\t\t\t// Don't throw a cancellation error for consistency with DNS\n\t\t\tif (!(error instanceof CancelError)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t})();\n\n\tpromise.cancel = function () {\n\t\treturn cancel.apply(this);\n\t};\n\n\treturn promise;\n};\n\nconst queryAll = (version, options) => {\n\tlet cancel;\n\tconst promise = (async () => {\n\t\tlet response;\n\t\tconst dnsPromise = queryDns(version, options);\n\t\tcancel = dnsPromise.cancel;\n\t\ttry {\n\t\t\tresponse = await dnsPromise;\n\t\t} catch {\n\t\t\tconst httpsPromise = queryHttps(version, options);\n\t\t\tcancel = httpsPromise.cancel;\n\t\t\tresponse = await httpsPromise;\n\t\t}\n\n\t\treturn response;\n\t})();\n\n\tpromise.cancel = cancel;\n\n\treturn promise;\n};\n\nexport const publicIp = createPublicIp(publicIpv4, publicIpv6);\n\nexport function publicIpv4(options) {\n\toptions = {\n\t\t...defaults,\n\t\t...options,\n\t};\n\n\tif (!options.onlyHttps) {\n\t\treturn queryAll('v4', options);\n\t}\n\n\tif (options.onlyHttps) {\n\t\treturn queryHttps('v4', options);\n\t}\n\n\treturn queryDns('v4', options);\n}\n\nexport function publicIpv6(options) {\n\toptions = {\n\t\t...defaults,\n\t\t...options,\n\t};\n\n\tif (!options.onlyHttps) {\n\t\treturn queryAll('v6', options);\n\t}\n\n\tif (options.onlyHttps) {\n\t\treturn queryHttps('v6', options);\n\t}\n\n\treturn queryDns('v6', options);\n}\n\nexport {CancelError} from 'got';\n", "const typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array',\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Blob',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'WeakRef',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    'NaN',\n    ...typedArrayTypeNames,\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol',\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isOfType(type) {\n    return (value) => typeof value === type;\n}\nconst { toString } = Object.prototype;\nconst getObjectType = (value) => {\n    const objectTypeName = toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && is.domElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nconst isObjectOfType = (type) => (value) => getObjectType(value) === type;\nfunction is(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined': {\n            return 'undefined';\n        }\n        case 'string': {\n            return 'string';\n        }\n        case 'number': {\n            return Number.isNaN(value) ? 'NaN' : 'number';\n        }\n        case 'boolean': {\n            return 'boolean';\n        }\n        case 'function': {\n            return 'Function';\n        }\n        case 'bigint': {\n            return 'bigint';\n        }\n        case 'symbol': {\n            return 'symbol';\n        }\n        default:\n    }\n    if (is.observable(value)) {\n        return 'Observable';\n    }\n    if (is.array(value)) {\n        return 'Array';\n    }\n    if (is.buffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType) {\n        return tagType;\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nis.undefined = isOfType('undefined');\nis.string = isOfType('string');\nconst isNumberType = isOfType('number');\nis.number = (value) => isNumberType(value) && !is.nan(value);\nis.positiveNumber = (value) => is.number(value) && value > 0;\nis.negativeNumber = (value) => is.number(value) && value < 0;\nis.bigint = isOfType('bigint');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.function_ = isOfType('function');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.null_ = (value) => value === null;\nis.class_ = (value) => is.function_(value) && value.toString().startsWith('class ');\nis.boolean = (value) => value === true || value === false;\nis.symbol = isOfType('symbol');\nis.numericString = (value) => is.string(value) && !is.emptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\nis.array = (value, assertion) => {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!is.function_(assertion)) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return value.every(element => assertion(element));\n};\n// eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call\nis.buffer = (value) => value?.constructor?.isBuffer?.(value) ?? false;\nis.blob = (value) => isObjectOfType('Blob')(value);\nis.nullOrUndefined = (value) => is.null_(value) || is.undefined(value); // eslint-disable-line @typescript-eslint/ban-types\nis.object = (value) => !is.null_(value) && (typeof value === 'object' || is.function_(value)); // eslint-disable-line @typescript-eslint/ban-types\nis.iterable = (value) => is.function_(value?.[Symbol.iterator]);\nis.asyncIterable = (value) => is.function_(value?.[Symbol.asyncIterator]);\nis.generator = (value) => is.iterable(value) && is.function_(value?.next) && is.function_(value?.throw);\nis.asyncGenerator = (value) => is.asyncIterable(value) && is.function_(value.next) && is.function_(value.throw);\nis.nativePromise = (value) => isObjectOfType('Promise')(value);\nconst hasPromiseApi = (value) => is.function_(value?.then)\n    && is.function_(value?.catch);\nis.promise = (value) => is.nativePromise(value) || hasPromiseApi(value);\nis.generatorFunction = isObjectOfType('GeneratorFunction');\nis.asyncGeneratorFunction = (value) => getObjectType(value) === 'AsyncGeneratorFunction';\nis.asyncFunction = (value) => getObjectType(value) === 'AsyncFunction';\n// eslint-disable-next-line no-prototype-builtins, @typescript-eslint/ban-types\nis.boundFunction = (value) => is.function_(value) && !value.hasOwnProperty('prototype');\nis.regExp = isObjectOfType('RegExp');\nis.date = isObjectOfType('Date');\nis.error = isObjectOfType('Error');\nis.map = (value) => isObjectOfType('Map')(value);\nis.set = (value) => isObjectOfType('Set')(value);\nis.weakMap = (value) => isObjectOfType('WeakMap')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakSet = (value) => isObjectOfType('WeakSet')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakRef = (value) => isObjectOfType('WeakRef')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.int8Array = isObjectOfType('Int8Array');\nis.uint8Array = isObjectOfType('Uint8Array');\nis.uint8ClampedArray = isObjectOfType('Uint8ClampedArray');\nis.int16Array = isObjectOfType('Int16Array');\nis.uint16Array = isObjectOfType('Uint16Array');\nis.int32Array = isObjectOfType('Int32Array');\nis.uint32Array = isObjectOfType('Uint32Array');\nis.float32Array = isObjectOfType('Float32Array');\nis.float64Array = isObjectOfType('Float64Array');\nis.bigInt64Array = isObjectOfType('BigInt64Array');\nis.bigUint64Array = isObjectOfType('BigUint64Array');\nis.arrayBuffer = isObjectOfType('ArrayBuffer');\nis.sharedArrayBuffer = isObjectOfType('SharedArrayBuffer');\nis.dataView = isObjectOfType('DataView');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\nis.enumCase = (value, targetEnum) => Object.values(targetEnum).includes(value);\nis.directInstanceOf = (instance, class_) => Object.getPrototypeOf(instance) === class_.prototype;\nis.urlInstance = (value) => isObjectOfType('URL')(value);\nis.urlString = (value) => {\n    if (!is.string(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\nis.truthy = (value) => Boolean(value); // eslint-disable-line unicorn/prefer-native-coercion-functions\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nis.falsy = (value) => !value;\nis.nan = (value) => Number.isNaN(value);\nis.primitive = (value) => is.null_(value) || isPrimitiveTypeName(typeof value);\nis.integer = (value) => Number.isInteger(value);\nis.safeInteger = (value) => Number.isSafeInteger(value);\nis.plainObject = (value) => {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const prototype = Object.getPrototypeOf(value);\n    return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n};\nis.typedArray = (value) => isTypedArrayName(getObjectType(value));\nconst isValidLength = (value) => is.safeInteger(value) && value >= 0;\nis.arrayLike = (value) => !is.nullOrUndefined(value) && !is.function_(value) && isValidLength(value.length);\nis.tupleLike = (value, guards) => {\n    if (is.array(guards) && is.array(value) && guards.length === value.length) {\n        return guards.every((guard, index) => guard(value[index]));\n    }\n    return false;\n};\nis.inRange = (value, range) => {\n    if (is.number(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (is.array(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n};\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst NODE_TYPE_ELEMENT = 1;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue',\n];\nis.domElement = (value) => is.object(value)\n    && value.nodeType === NODE_TYPE_ELEMENT\n    && is.string(value.nodeName)\n    && !is.plainObject(value)\n    && DOM_PROPERTIES_TO_CHECK.every(property => property in value);\nis.observable = (value) => {\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native, @typescript-eslint/no-unsafe-call\n    if (value === value[Symbol.observable]?.()) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    if (value === value['@@observable']?.()) {\n        return true;\n    }\n    return false;\n};\nis.nodeStream = (value) => is.object(value) && is.function_(value.pipe) && !is.observable(value);\nis.infinite = (value) => value === Number.POSITIVE_INFINITY || value === Number.NEGATIVE_INFINITY;\nconst isAbsoluteMod2 = (remainder) => (value) => is.integer(value) && Math.abs(value % 2) === remainder;\nis.evenInteger = isAbsoluteMod2(0);\nis.oddInteger = isAbsoluteMod2(1);\nis.emptyArray = (value) => is.array(value) && value.length === 0;\nis.nonEmptyArray = (value) => is.array(value) && value.length > 0;\nis.emptyString = (value) => is.string(value) && value.length === 0;\nconst isWhiteSpaceString = (value) => is.string(value) && !/\\S/.test(value);\nis.emptyStringOrWhitespace = (value) => is.emptyString(value) || isWhiteSpaceString(value);\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyString = (value) => is.string(value) && value.length > 0;\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyStringAndNotWhitespace = (value) => is.string(value) && !is.emptyStringOrWhitespace(value);\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length === 0;\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length > 0;\nis.emptySet = (value) => is.set(value) && value.size === 0;\nis.nonEmptySet = (value) => is.set(value) && value.size > 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyMap = (value) => is.map(value) && value.size === 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyMap = (value) => is.map(value) && value.size > 0;\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nis.propertyKey = (value) => is.any([is.string, is.number, is.symbol], value);\nis.formData = (value) => isObjectOfType('FormData')(value);\nis.urlSearchParams = (value) => isObjectOfType('URLSearchParams')(value);\nconst predicateOnArray = (method, predicate, values) => {\n    if (!is.function_(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n};\nis.any = (predicate, ...values) => {\n    const predicates = is.array(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n};\nis.all = (predicate, ...values) => predicateOnArray(Array.prototype.every, predicate, values);\nconst assertType = (condition, description, value, options = {}) => {\n    if (!condition) {\n        const { multipleValues } = options;\n        const valuesMessage = multipleValues\n            ? `received values of types ${[\n                ...new Set(value.map(singleValue => `\\`${is(singleValue)}\\``)),\n            ].join(', ')}`\n            : `received value of type \\`${is(value)}\\``;\n        throw new TypeError(`Expected value which is \\`${description}\\`, ${valuesMessage}.`);\n    }\n};\n/* eslint-disable @typescript-eslint/no-confusing-void-expression */\nexport const assert = {\n    // Unknowns.\n    undefined: (value) => assertType(is.undefined(value), 'undefined', value),\n    string: (value) => assertType(is.string(value), 'string', value),\n    number: (value) => assertType(is.number(value), 'number', value),\n    positiveNumber: (value) => assertType(is.positiveNumber(value), \"positive number\" /* AssertionTypeDescription.positiveNumber */, value),\n    negativeNumber: (value) => assertType(is.negativeNumber(value), \"negative number\" /* AssertionTypeDescription.negativeNumber */, value),\n    bigint: (value) => assertType(is.bigint(value), 'bigint', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function_: (value) => assertType(is.function_(value), 'Function', value),\n    null_: (value) => assertType(is.null_(value), 'null', value),\n    class_: (value) => assertType(is.class_(value), \"Class\" /* AssertionTypeDescription.class_ */, value),\n    boolean: (value) => assertType(is.boolean(value), 'boolean', value),\n    symbol: (value) => assertType(is.symbol(value), 'symbol', value),\n    numericString: (value) => assertType(is.numericString(value), \"string with a number\" /* AssertionTypeDescription.numericString */, value),\n    array: (value, assertion) => {\n        const assert = assertType;\n        assert(is.array(value), 'Array', value);\n        if (assertion) {\n            // eslint-disable-next-line unicorn/no-array-for-each, unicorn/no-array-callback-reference\n            value.forEach(assertion);\n        }\n    },\n    buffer: (value) => assertType(is.buffer(value), 'Buffer', value),\n    blob: (value) => assertType(is.blob(value), 'Blob', value),\n    nullOrUndefined: (value) => assertType(is.nullOrUndefined(value), \"null or undefined\" /* AssertionTypeDescription.nullOrUndefined */, value),\n    object: (value) => assertType(is.object(value), 'Object', value),\n    iterable: (value) => assertType(is.iterable(value), \"Iterable\" /* AssertionTypeDescription.iterable */, value),\n    asyncIterable: (value) => assertType(is.asyncIterable(value), \"AsyncIterable\" /* AssertionTypeDescription.asyncIterable */, value),\n    generator: (value) => assertType(is.generator(value), 'Generator', value),\n    asyncGenerator: (value) => assertType(is.asyncGenerator(value), 'AsyncGenerator', value),\n    nativePromise: (value) => assertType(is.nativePromise(value), \"native Promise\" /* AssertionTypeDescription.nativePromise */, value),\n    promise: (value) => assertType(is.promise(value), 'Promise', value),\n    generatorFunction: (value) => assertType(is.generatorFunction(value), 'GeneratorFunction', value),\n    asyncGeneratorFunction: (value) => assertType(is.asyncGeneratorFunction(value), 'AsyncGeneratorFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    asyncFunction: (value) => assertType(is.asyncFunction(value), 'AsyncFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    boundFunction: (value) => assertType(is.boundFunction(value), 'Function', value),\n    regExp: (value) => assertType(is.regExp(value), 'RegExp', value),\n    date: (value) => assertType(is.date(value), 'Date', value),\n    error: (value) => assertType(is.error(value), 'Error', value),\n    map: (value) => assertType(is.map(value), 'Map', value),\n    set: (value) => assertType(is.set(value), 'Set', value),\n    weakMap: (value) => assertType(is.weakMap(value), 'WeakMap', value),\n    weakSet: (value) => assertType(is.weakSet(value), 'WeakSet', value),\n    weakRef: (value) => assertType(is.weakRef(value), 'WeakRef', value),\n    int8Array: (value) => assertType(is.int8Array(value), 'Int8Array', value),\n    uint8Array: (value) => assertType(is.uint8Array(value), 'Uint8Array', value),\n    uint8ClampedArray: (value) => assertType(is.uint8ClampedArray(value), 'Uint8ClampedArray', value),\n    int16Array: (value) => assertType(is.int16Array(value), 'Int16Array', value),\n    uint16Array: (value) => assertType(is.uint16Array(value), 'Uint16Array', value),\n    int32Array: (value) => assertType(is.int32Array(value), 'Int32Array', value),\n    uint32Array: (value) => assertType(is.uint32Array(value), 'Uint32Array', value),\n    float32Array: (value) => assertType(is.float32Array(value), 'Float32Array', value),\n    float64Array: (value) => assertType(is.float64Array(value), 'Float64Array', value),\n    bigInt64Array: (value) => assertType(is.bigInt64Array(value), 'BigInt64Array', value),\n    bigUint64Array: (value) => assertType(is.bigUint64Array(value), 'BigUint64Array', value),\n    arrayBuffer: (value) => assertType(is.arrayBuffer(value), 'ArrayBuffer', value),\n    sharedArrayBuffer: (value) => assertType(is.sharedArrayBuffer(value), 'SharedArrayBuffer', value),\n    dataView: (value) => assertType(is.dataView(value), 'DataView', value),\n    enumCase: (value, targetEnum) => assertType(is.enumCase(value, targetEnum), 'EnumCase', value),\n    urlInstance: (value) => assertType(is.urlInstance(value), 'URL', value),\n    urlString: (value) => assertType(is.urlString(value), \"string with a URL\" /* AssertionTypeDescription.urlString */, value),\n    truthy: (value) => assertType(is.truthy(value), \"truthy\" /* AssertionTypeDescription.truthy */, value),\n    falsy: (value) => assertType(is.falsy(value), \"falsy\" /* AssertionTypeDescription.falsy */, value),\n    nan: (value) => assertType(is.nan(value), \"NaN\" /* AssertionTypeDescription.nan */, value),\n    primitive: (value) => assertType(is.primitive(value), \"primitive\" /* AssertionTypeDescription.primitive */, value),\n    integer: (value) => assertType(is.integer(value), \"integer\" /* AssertionTypeDescription.integer */, value),\n    safeInteger: (value) => assertType(is.safeInteger(value), \"integer\" /* AssertionTypeDescription.safeInteger */, value),\n    plainObject: (value) => assertType(is.plainObject(value), \"plain object\" /* AssertionTypeDescription.plainObject */, value),\n    typedArray: (value) => assertType(is.typedArray(value), \"TypedArray\" /* AssertionTypeDescription.typedArray */, value),\n    arrayLike: (value) => assertType(is.arrayLike(value), \"array-like\" /* AssertionTypeDescription.arrayLike */, value),\n    tupleLike: (value, guards) => assertType(is.tupleLike(value, guards), \"tuple-like\" /* AssertionTypeDescription.tupleLike */, value),\n    domElement: (value) => assertType(is.domElement(value), \"HTMLElement\" /* AssertionTypeDescription.domElement */, value),\n    observable: (value) => assertType(is.observable(value), 'Observable', value),\n    nodeStream: (value) => assertType(is.nodeStream(value), \"Node.js Stream\" /* AssertionTypeDescription.nodeStream */, value),\n    infinite: (value) => assertType(is.infinite(value), \"infinite number\" /* AssertionTypeDescription.infinite */, value),\n    emptyArray: (value) => assertType(is.emptyArray(value), \"empty array\" /* AssertionTypeDescription.emptyArray */, value),\n    nonEmptyArray: (value) => assertType(is.nonEmptyArray(value), \"non-empty array\" /* AssertionTypeDescription.nonEmptyArray */, value),\n    emptyString: (value) => assertType(is.emptyString(value), \"empty string\" /* AssertionTypeDescription.emptyString */, value),\n    emptyStringOrWhitespace: (value) => assertType(is.emptyStringOrWhitespace(value), \"empty string or whitespace\" /* AssertionTypeDescription.emptyStringOrWhitespace */, value),\n    nonEmptyString: (value) => assertType(is.nonEmptyString(value), \"non-empty string\" /* AssertionTypeDescription.nonEmptyString */, value),\n    nonEmptyStringAndNotWhitespace: (value) => assertType(is.nonEmptyStringAndNotWhitespace(value), \"non-empty string and not whitespace\" /* AssertionTypeDescription.nonEmptyStringAndNotWhitespace */, value),\n    emptyObject: (value) => assertType(is.emptyObject(value), \"empty object\" /* AssertionTypeDescription.emptyObject */, value),\n    nonEmptyObject: (value) => assertType(is.nonEmptyObject(value), \"non-empty object\" /* AssertionTypeDescription.nonEmptyObject */, value),\n    emptySet: (value) => assertType(is.emptySet(value), \"empty set\" /* AssertionTypeDescription.emptySet */, value),\n    nonEmptySet: (value) => assertType(is.nonEmptySet(value), \"non-empty set\" /* AssertionTypeDescription.nonEmptySet */, value),\n    emptyMap: (value) => assertType(is.emptyMap(value), \"empty map\" /* AssertionTypeDescription.emptyMap */, value),\n    nonEmptyMap: (value) => assertType(is.nonEmptyMap(value), \"non-empty map\" /* AssertionTypeDescription.nonEmptyMap */, value),\n    propertyKey: (value) => assertType(is.propertyKey(value), 'PropertyKey', value),\n    formData: (value) => assertType(is.formData(value), 'FormData', value),\n    urlSearchParams: (value) => assertType(is.urlSearchParams(value), 'URLSearchParams', value),\n    // Numbers.\n    evenInteger: (value) => assertType(is.evenInteger(value), \"even integer\" /* AssertionTypeDescription.evenInteger */, value),\n    oddInteger: (value) => assertType(is.oddInteger(value), \"odd integer\" /* AssertionTypeDescription.oddInteger */, value),\n    // Two arguments.\n    directInstanceOf: (instance, class_) => assertType(is.directInstanceOf(instance, class_), \"T\" /* AssertionTypeDescription.directInstanceOf */, instance),\n    inRange: (value, range) => assertType(is.inRange(value, range), \"in range\" /* AssertionTypeDescription.inRange */, value),\n    // Variadic functions.\n    any: (predicate, ...values) => assertType(is.any(predicate, ...values), \"predicate returns truthy for any value\" /* AssertionTypeDescription.any */, values, { multipleValues: true }),\n    all: (predicate, ...values) => assertType(is.all(predicate, ...values), \"predicate returns truthy for all values\" /* AssertionTypeDescription.all */, values, { multipleValues: true }),\n};\n/* eslint-enable @typescript-eslint/no-confusing-void-expression */\n// Some few keywords are reserved, but we'll populate them for Node.js users\n// See https://github.com/Microsoft/TypeScript/issues/2536\nObject.defineProperties(is, {\n    class: {\n        value: is.class_,\n    },\n    function: {\n        value: is.function_,\n    },\n    null: {\n        value: is.null_,\n    },\n});\nObject.defineProperties(assert, {\n    class: {\n        value: assert.class_,\n    },\n    function: {\n        value: assert.function_,\n    },\n    null: {\n        value: assert.null_,\n    },\n});\nexport default is;\n", "import { EventEmitter } from 'node:events';\nimport is from '@sindresorhus/is';\nimport PCancelable from 'p-cancelable';\nimport { HTTPError, RetryError, } from '../core/errors.js';\nimport Request from '../core/index.js';\nimport { parseBody, isResponseOk } from '../core/response.js';\nimport proxyEvents from '../core/utils/proxy-events.js';\nimport { CancelError } from './types.js';\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress',\n];\nexport default function asPromise(firstRequest) {\n    let globalRequest;\n    let globalResponse;\n    let normalizedOptions;\n    const emitter = new EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        onCancel(() => {\n            globalRequest.destroy();\n        });\n        onCancel.shouldReject = false;\n        onCancel(() => {\n            reject(new CancelError(globalRequest));\n        });\n        const makeRequest = (retryCount) => {\n            // Errors when a new request is made after the promise settles.\n            // Used to detect a race condition.\n            // See https://github.com/sindresorhus/got/issues/1489\n            onCancel(() => { });\n            const request = firstRequest ?? new Request(undefined, undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            globalRequest = request;\n            request.once('response', async (response) => {\n                // Parse body\n                const contentEncoding = (response.headers['content-encoding'] ?? '').toLowerCase();\n                const isCompressed = contentEncoding === 'gzip' || contentEncoding === 'deflate' || contentEncoding === 'br';\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = response.rawBody;\n                }\n                else {\n                    try {\n                        response.body = parseBody(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fall back to `utf8`\n                        response.body = response.rawBody.toString();\n                        if (isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    const hooks = options.hooks.afterResponse;\n                    for (const [index, hook] of hooks.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            options.merge(updatedOptions);\n                            options.prefixUrl = '';\n                            if (updatedOptions.url) {\n                                options.url = updatedOptions.url;\n                            }\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            options.hooks.afterResponse = options.hooks.afterResponse.slice(0, index);\n                            throw new RetryError(request);\n                        });\n                        if (!(is.object(response) && is.number(response.statusCode) && !is.nullOrUndefined(response.body))) {\n                            throw new TypeError('The `afterResponse` hook returned an invalid value');\n                        }\n                    }\n                }\n                catch (error) {\n                    request._beforeError(error);\n                    return;\n                }\n                globalResponse = response;\n                if (!isResponseOk(response)) {\n                    request._beforeError(new HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    request.destroy();\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options?.body;\n            request.once('retry', (newRetryCount, error) => {\n                firstRequest = undefined;\n                const newBody = request.options.body;\n                if (previousBody === newBody && is.nodeStream(newBody)) {\n                    error.message = 'Cannot retry with consumed body stream';\n                    onError(error);\n                    return;\n                }\n                // This is needed! We need to reuse `request.options` because they can get modified!\n                // For example, by calling `promise.json()`.\n                normalizedOptions = request.options;\n                makeRequest(newRetryCount);\n            });\n            proxyEvents(request, emitter, proxiedRequestEvents);\n            if (is.undefined(firstRequest)) {\n                void request.flush();\n            }\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    promise.off = (event, fn) => {\n        emitter.off(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parseBody(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        if (globalRequest.options) {\n            const { headers } = globalRequest.options;\n            if (!globalRequest.writableFinished && !('accept' in headers)) {\n                headers.accept = 'application/json';\n            }\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\n", "export class CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\n// TODO: Use private class fields when ESLint 8 is out.\n\nexport default class PCancelable {\n\tstatic fn(userFunction) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFunction(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\texecutor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n", "import is from '@sindresorhus/is';\n// A hacky check to prevent circular references.\nfunction isRequest(x) {\n    return is.object(x) && '_onResponse' in x;\n}\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nexport class RequestError extends Error {\n    constructor(message, error, self) {\n        super(message);\n        Object.defineProperty(this, \"input\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stack\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = error.code ?? 'ERR_GOT_REQUEST_ERROR';\n        this.input = error.input;\n        if (isRequest(self)) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self,\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self.response,\n            });\n            this.options = self.options;\n        }\n        else {\n            this.options = self;\n        }\n        this.timings = this.request?.timings;\n        // Recover the original stacktrace\n        if (is.string(error.stack) && is.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length > 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nexport class MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport class HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nexport class CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nexport class UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nexport class TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nexport class ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\n/**\nAn error which always triggers a new retry when thrown.\n*/\nexport class RetryError extends RequestError {\n    constructor(request) {\n        super('Retrying', {}, request);\n        this.name = 'RetryError';\n        this.code = 'ERR_RETRYING';\n    }\n}\n/**\nAn error to be thrown when the request is aborted by AbortController.\n*/\nexport class AbortError extends RequestError {\n    constructor(request) {\n        super('This operation was aborted.', {}, request);\n        this.code = 'ERR_ABORTED';\n        this.name = 'AbortError';\n    }\n}\n", "import process from 'node:process';\nimport { Buffer } from 'node:buffer';\nimport { Duplex } from 'node:stream';\nimport http, { ServerResponse } from 'node:http';\nimport timer from '@szmarczak/http-timer';\nimport CacheableRequest, { CacheError as CacheableCacheError, } from 'cacheable-request';\nimport decompressResponse from 'decompress-response';\nimport is from '@sindresorhus/is';\nimport getStream from 'get-stream';\nimport { FormDataEncoder, isFormData as isFormDataLike } from 'form-data-encoder';\nimport getBodySize from './utils/get-body-size.js';\nimport isFormData from './utils/is-form-data.js';\nimport proxyEvents from './utils/proxy-events.js';\nimport timedOut, { TimeoutError as TimedOutTimeoutError } from './timed-out.js';\nimport urlToOptions from './utils/url-to-options.js';\nimport WeakableMap from './utils/weakable-map.js';\nimport calculateRetryDelay from './calculate-retry-delay.js';\nimport Options from './options.js';\nimport { isResponseOk } from './response.js';\nimport isClientRequest from './utils/is-client-request.js';\nimport isUnixSocketURL from './utils/is-unix-socket-url.js';\nimport { RequestError, ReadError, MaxRedirectsError, HTTPError, TimeoutError, UploadError, CacheError, AbortError, } from './errors.js';\nconst { buffer: getStreamAsBuffer } = getStream;\nconst supportsBrotli = is.string(process.versions.brotli);\nconst methodsWithoutBody = new Set(['GET', 'HEAD']);\nconst cacheableStore = new WeakableMap();\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n];\nconst noop = () => { };\nexport default class Request extends Duplex {\n    constructor(url, options, defaults) {\n        super({\n            // Don't destroy immediately, as the error may be emitted on unsuccessful retry\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0,\n        });\n        // @ts-expect-error - Ignoring for now.\n        Object.defineProperty(this, 'constructor', {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_noPipe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/9568\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"requestUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"redirectUrls\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retryCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopRetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_downloadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_uploadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopReading\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_pipedServerResponses\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_responseSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_bodySize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_unproxyEvents\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isFromCache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cannotHaveBody\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_triggerRead\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cancelTimeouts\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_removeListeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_nativeResponse\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_flushed\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_aborted\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // We need this because `this._request` if `undefined` when using cache\n        Object.defineProperty(this, \"_requestInitialized\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this._downloadedSize = 0;\n        this._uploadedSize = 0;\n        this._stopReading = false;\n        this._pipedServerResponses = new Set();\n        this._cannotHaveBody = false;\n        this._unproxyEvents = noop;\n        this._triggerRead = false;\n        this._cancelTimeouts = noop;\n        this._removeListeners = noop;\n        this._jobs = [];\n        this._flushed = false;\n        this._requestInitialized = false;\n        this._aborted = false;\n        this.redirectUrls = [];\n        this.retryCount = 0;\n        this._stopRetry = noop;\n        this.on('pipe', (source) => {\n            if (source?.headers) {\n                Object.assign(this.options.headers, source.headers);\n            }\n        });\n        this.on('newListener', event => {\n            if (event === 'retry' && this.listenerCount('retry') > 0) {\n                throw new Error('A retry listener has been attached already.');\n            }\n        });\n        try {\n            this.options = new Options(url, options, defaults);\n            if (!this.options.url) {\n                if (this.options.prefixUrl === '') {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.options.url = '';\n            }\n            this.requestUrl = this.options.url;\n        }\n        catch (error) {\n            const { options } = error;\n            if (options) {\n                this.options = options;\n            }\n            this.flush = async () => {\n                this.flush = async () => { };\n                this.destroy(error);\n            };\n            return;\n        }\n        // Important! If you replace `body` in a handler with another stream, make sure it's readable first.\n        // The below is run only once.\n        const { body } = this.options;\n        if (is.nodeStream(body)) {\n            body.once('error', error => {\n                if (this._flushed) {\n                    this._beforeError(new UploadError(error, this));\n                }\n                else {\n                    this.flush = async () => {\n                        this.flush = async () => { };\n                        this._beforeError(new UploadError(error, this));\n                    };\n                }\n            });\n        }\n        if (this.options.signal) {\n            const abort = () => {\n                this.destroy(new AbortError(this));\n            };\n            if (this.options.signal.aborted) {\n                abort();\n            }\n            else {\n                this.options.signal.addEventListener('abort', abort);\n                this._removeListeners = () => {\n                    this.options.signal?.removeEventListener('abort', abort);\n                };\n            }\n        }\n    }\n    async flush() {\n        if (this._flushed) {\n            return;\n        }\n        this._flushed = true;\n        try {\n            await this._finalizeBody();\n            if (this.destroyed) {\n                return;\n            }\n            await this._makeRequest();\n            if (this.destroyed) {\n                this._request?.destroy();\n                return;\n            }\n            // Queued writes etc.\n            for (const job of this._jobs) {\n                job();\n            }\n            // Prevent memory leak\n            this._jobs.length = 0;\n            this._requestInitialized = true;\n        }\n        catch (error) {\n            this._beforeError(error);\n        }\n    }\n    _beforeError(error) {\n        if (this._stopReading) {\n            return;\n        }\n        const { response, options } = this;\n        const attemptCount = this.retryCount + (error.name === 'RetryError' ? 0 : 1);\n        this._stopReading = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        void (async () => {\n            // Node.js parser is really weird.\n            // It emits post-request Parse Errors on the same instance as previous request. WTF.\n            // Therefore we need to check if it has been destroyed as well.\n            //\n            // Furthermore, Node.js 16 `response.destroy()` doesn't immediately destroy the socket,\n            // but makes the response unreadable. So we additionally need to check `response.readable`.\n            if (response?.readable && !response.rawBody && !this._request?.socket?.destroyed) {\n                // @types/node has incorrect typings. `setEncoding` accepts `null` as well.\n                response.setEncoding(this.readableEncoding);\n                const success = await this._setRawBody(response);\n                if (success) {\n                    response.body = response.rawBody.toString();\n                }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    const retryOptions = options.retry;\n                    backoff = await retryOptions.calculateDelay({\n                        attemptCount,\n                        retryOptions,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculateRetryDelay({\n                            attemptCount,\n                            retryOptions,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: retryOptions.maxRetryAfter ?? options.timeout.request ?? Number.POSITIVE_INFINITY,\n                        }),\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    await new Promise(resolve => {\n                        const timeout = setTimeout(resolve, backoff);\n                        this._stopRetry = () => {\n                            clearTimeout(timeout);\n                            resolve();\n                        };\n                    });\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    try {\n                        for (const hook of this.options.hooks.beforeRetry) {\n                            // eslint-disable-next-line no-await-in-loop\n                            await hook(typedError, this.retryCount + 1);\n                        }\n                    }\n                    catch (error_) {\n                        void this._error(new RequestError(error_.message, error, this));\n                        return;\n                    }\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    this.destroy();\n                    this.emit('retry', this.retryCount + 1, error, (updatedOptions) => {\n                        const request = new Request(options.url, updatedOptions, options);\n                        request.retryCount = this.retryCount + 1;\n                        process.nextTick(() => {\n                            void request.flush();\n                        });\n                        return request;\n                    });\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this._triggerRead = true;\n        const { response } = this;\n        if (response && !this._stopReading) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this._triggerRead = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this._downloadedSize += data.length; // eslint-disable-line @typescript-eslint/restrict-plus-operands\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this._requestInitialized) {\n            write();\n        }\n        else {\n            this._jobs.push(write);\n        }\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // We need to check if `this._request` is present,\n            // because it isn't when we use cache.\n            if (!this._request || this._request.destroyed) {\n                callback();\n                return;\n            }\n            this._request.end((error) => {\n                // The request has been destroyed before `_final` finished.\n                // See https://github.com/nodejs/node/issues/39356\n                if (this._request._writableState?.errored) {\n                    return;\n                }\n                if (!error) {\n                    this._bodySize = this._uploadedSize;\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this._request.emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this._requestInitialized) {\n            endRequest();\n        }\n        else {\n            this._jobs.push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        this._stopReading = true;\n        this.flush = async () => { };\n        // Prevent further retries\n        this._stopRetry();\n        this._cancelTimeouts();\n        this._removeListeners();\n        if (this.options) {\n            const { body } = this.options;\n            if (is.nodeStream(body)) {\n                body.destroy();\n            }\n        }\n        if (this._request) {\n            this._request.destroy();\n        }\n        if (error !== null && !is.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    pipe(destination, options) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is.undefined(options.form);\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const isJSON = !is.undefined(options.json);\n        const isBody = !is.undefined(options.body);\n        const cannotHaveBody = methodsWithoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (isForm || isJSON || isBody) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            // Serialize body\n            const noContentType = !is.string(headers['content-type']);\n            if (isBody) {\n                // Body is spec-compliant FormData\n                if (isFormDataLike(options.body)) {\n                    const encoder = new FormDataEncoder(options.body);\n                    if (noContentType) {\n                        headers['content-type'] = encoder.headers['Content-Type'];\n                    }\n                    if ('Content-Length' in encoder.headers) {\n                        headers['content-length'] = encoder.headers['Content-Length'];\n                    }\n                    options.body = encoder.encode();\n                }\n                // Special case for https://github.com/form-data/form-data\n                if (isFormData(options.body) && noContentType) {\n                    headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                }\n            }\n            else if (isForm) {\n                if (noContentType) {\n                    headers['content-type'] = 'application/x-www-form-urlencoded';\n                }\n                const { form } = options;\n                options.form = undefined;\n                options.body = (new URLSearchParams(form)).toString();\n            }\n            else {\n                if (noContentType) {\n                    headers['content-type'] = 'application/json';\n                }\n                const { json } = options;\n                options.json = undefined;\n                options.body = options.stringifyJson(json);\n            }\n            const uploadBodySize = await getBodySize(options.body, options.headers);\n            // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n            // A user agent SHOULD send a Content-Length in a request message when\n            // no Transfer-Encoding is sent and the request method defines a meaning\n            // for an enclosed payload body.  For example, a Content-Length header\n            // field is normally sent in a POST request even when the value is 0\n            // (indicating an empty payload body).  A user agent SHOULD NOT send a\n            // Content-Length header field when the request message does not contain\n            // a payload body and the method semantics do not anticipate such a\n            // body.\n            if (is.undefined(headers['content-length']) && is.undefined(headers['transfer-encoding']) && !cannotHaveBody && !is.undefined(uploadBodySize)) {\n                headers['content-length'] = String(uploadBodySize);\n            }\n        }\n        if (options.responseType === 'json' && !('accept' in options.headers)) {\n            options.headers.accept = 'application/json';\n        }\n        this._bodySize = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        // This will be called e.g. when using cache so we need to check if this request has been aborted.\n        if (this.isAborted) {\n            return;\n        }\n        const { options } = this;\n        const { url } = options;\n        this._nativeResponse = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ?? http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirectUrls;\n        typedResponse.request = this;\n        typedResponse.isFromCache = this._nativeResponse.fromCache ?? false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        typedResponse.ok = isResponseOk(typedResponse);\n        this._isFromCache = typedResponse.isFromCache;\n        this._responseSize = Number(response.headers['content-length']) || undefined;\n        this.response = typedResponse;\n        response.once('end', () => {\n            this._responseSize = this._downloadedSize;\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._aborted = true;\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET',\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (promise) => {\n                    try {\n                        await promise;\n                    }\n                    catch { }\n                });\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        // The above is running a promise, therefore we need to check if this request has been aborted yet again.\n        if (this.isAborted) {\n            return;\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            this._cancelTimeouts();\n            this._unproxyEvents();\n            if (this.redirectUrls.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            this._request = undefined;\n            const updatedOptions = new Options(undefined, undefined, this.options);\n            const serverRequestedGet = statusCode === 303 && updatedOptions.method !== 'GET' && updatedOptions.method !== 'HEAD';\n            const canRewrite = statusCode !== 307 && statusCode !== 308;\n            const userRequestedGet = updatedOptions.methodRewriting && canRewrite;\n            if (serverRequestedGet || userRequestedGet) {\n                updatedOptions.method = 'GET';\n                updatedOptions.body = undefined;\n                updatedOptions.json = undefined;\n                updatedOptions.form = undefined;\n                delete updatedOptions.headers['content-length'];\n            }\n            try {\n                // We need this in order to support UTF-8\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                const redirectUrl = new URL(redirectBuffer, url);\n                if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                    this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in updatedOptions.headers) {\n                        delete updatedOptions.headers.host;\n                    }\n                    if ('cookie' in updatedOptions.headers) {\n                        delete updatedOptions.headers.cookie;\n                    }\n                    if ('authorization' in updatedOptions.headers) {\n                        delete updatedOptions.headers.authorization;\n                    }\n                    if (updatedOptions.username || updatedOptions.password) {\n                        updatedOptions.username = '';\n                        updatedOptions.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = updatedOptions.username;\n                    redirectUrl.password = updatedOptions.password;\n                }\n                this.redirectUrls.push(redirectUrl);\n                updatedOptions.prefixUrl = '';\n                updatedOptions.url = redirectUrl;\n                for (const hook of updatedOptions.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(updatedOptions, typedResponse);\n                }\n                this.emit('redirect', updatedOptions, typedResponse);\n                this.options = updatedOptions;\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        // `HTTPError`s always have `error.response.body` defined.\n        // Therefore we cannot retry if `options.throwHttpErrors` is false.\n        // On the last retry, if `options.throwHttpErrors` is false, we would need to return the body,\n        // but that wouldn't be possible since the body would be already read in `error.response.body`.\n        if (options.isStream && options.throwHttpErrors && !isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this._triggerRead) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        if (this._noPipe) {\n            const success = await this._setRawBody();\n            if (success) {\n                this.emit('response', response);\n            }\n            return;\n        }\n        this.emit('response', response);\n        for (const destination of this._pipedServerResponses) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _setRawBody(from = this) {\n        if (from.readableEnded) {\n            return false;\n        }\n        try {\n            // Errors are emitted via the `error` event\n            const rawBody = await getStreamAsBuffer(from);\n            // TODO: Switch to this:\n            // let rawBody = await from.toArray();\n            // rawBody = Buffer.concat(rawBody);\n            // On retry Request is destroyed with no error, therefore the above will successfully resolve.\n            // So in order to check if this was really successfull, we need to check if it has been properly ended.\n            if (!this.isAborted) {\n                this.response.rawBody = rawBody;\n                return true;\n            }\n        }\n        catch { }\n        return false;\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        timer(request);\n        if (this.options.http2) {\n            // Unset stream timeout, as the `timeout` option was used only for connection timeout.\n            request.setTimeout(0);\n        }\n        this._cancelTimeouts = timedOut(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            error = error instanceof TimedOutTimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this._unproxyEvents = proxyEvents(request, this, proxiedRequestEvents);\n        this._request = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        this._sendBody();\n        this.emit('request', request);\n    }\n    async _asyncWrite(chunk) {\n        return new Promise((resolve, reject) => {\n            super.write(chunk, error => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve();\n            });\n        });\n    }\n    _sendBody() {\n        // Send body\n        const { body } = this.options;\n        const currentRequest = this.redirectUrls.length === 0 ? this : this._request ?? this;\n        if (is.nodeStream(body)) {\n            body.pipe(currentRequest);\n        }\n        else if (is.generator(body) || is.asyncGenerator(body)) {\n            (async () => {\n                try {\n                    for await (const chunk of body) {\n                        await this._asyncWrite(chunk);\n                    }\n                    super.end();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                }\n            })();\n        }\n        else if (!is.undefined(body)) {\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (this._cannotHaveBody || this._noPipe) {\n            currentRequest.end();\n        }\n    }\n    _prepareCache(cache) {\n        if (!cacheableStore.has(cache)) {\n            const cacheableRequest = new CacheableRequest(((requestOptions, handler) => {\n                const result = requestOptions._request(requestOptions, handler);\n                // TODO: remove this when `cacheable-request` supports async request functions.\n                if (is.promise(result)) {\n                    // We only need to implement the error handler in order to support HTTP2 caching.\n                    // The result will be a promise anyway.\n                    // @ts-expect-error ignore\n                    result.once = (event, handler) => {\n                        if (event === 'error') {\n                            (async () => {\n                                try {\n                                    await result;\n                                }\n                                catch (error) {\n                                    handler(error);\n                                }\n                            })();\n                        }\n                        else if (event === 'abort') {\n                            // The empty catch is needed here in case when\n                            // it rejects before it's `await`ed in `_makeRequest`.\n                            (async () => {\n                                try {\n                                    const request = (await result);\n                                    request.once('abort', handler);\n                                }\n                                catch { }\n                            })();\n                        }\n                        else {\n                            /* istanbul ignore next: safety check */\n                            throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                        }\n                        return result;\n                    };\n                }\n                return result;\n            }), cache);\n            cacheableStore.set(cache, cacheableRequest.request());\n        }\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, urlToOptions(url));\n            let request;\n            // TODO: Fix `cacheable-response`. This is ugly.\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    const fix = () => {\n                        if (response.req) {\n                            response.complete = response.req.res.complete;\n                        }\n                    };\n                    response.prependOnceListener('end', fix);\n                    fix();\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        const { options } = this;\n        const { headers, username, password } = options;\n        const cookieJar = options.cookieJar;\n        for (const key in headers) {\n            if (is.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        if (username || password) {\n            const credentials = Buffer.from(`${username}:${password}`).toString('base64');\n            headers.authorization = `Basic ${credentials}`;\n        }\n        // Set cookies\n        if (cookieJar) {\n            const cookieString = await cookieJar.getCookieString(options.url.toString());\n            if (is.nonEmptyString(cookieString)) {\n                headers.cookie = cookieString;\n            }\n        }\n        // Reset `prefixUrl`\n        options.prefixUrl = '';\n        let request;\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                request = () => result;\n                break;\n            }\n        }\n        if (!request) {\n            request = options.getRequestFunction();\n        }\n        const url = options.url;\n        this._requestOptions = options.createNativeRequestOptions();\n        if (options.cache) {\n            this._requestOptions._request = request;\n            this._requestOptions.cache = options.cache;\n            this._requestOptions.body = options.body;\n            this._prepareCache(options.cache);\n        }\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : request;\n        try {\n            // We can't do `await fn(...)`,\n            // because stream `error` event can be emitted before `Promise.resolve()`.\n            let requestOrResponse = fn(url, this._requestOptions);\n            if (is.promise(requestOrResponse)) {\n                requestOrResponse = await requestOrResponse;\n            }\n            // Fallback\n            if (is.undefined(requestOrResponse)) {\n                requestOrResponse = options.getFallbackRequestFunction()(url, this._requestOptions);\n                if (is.promise(requestOrResponse)) {\n                    requestOrResponse = await requestOrResponse;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._sendBody();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableCacheError) {\n                throw new CacheError(error, this);\n            }\n            throw error;\n        }\n    }\n    async _error(error) {\n        try {\n            if (error instanceof HTTPError && !this.options.throwHttpErrors) {\n                // This branch can be reached only when using the Promise API\n                // Skip calling the hooks on purpose.\n                // See https://github.com/sindresorhus/got/issues/2103\n            }\n            else {\n                for (const hook of this.options.hooks.beforeError) {\n                    // eslint-disable-next-line no-await-in-loop\n                    error = await hook(error);\n                }\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (!this._request || this._request.destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._request.write(chunk, encoding, (error) => {\n            // The `!destroyed` check is required to prevent `uploadProgress` being emitted after the stream was destroyed\n            if (!error && !this._request.destroyed) {\n                this._uploadedSize += Buffer.byteLength(chunk, encoding);\n                const progress = this.uploadProgress;\n                if (progress.percent < 1) {\n                    this.emit('uploadProgress', progress);\n                }\n            }\n            callback(error);\n        });\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        return this.socket?.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get isAborted() {\n        return this._aborted;\n    }\n    get socket() {\n        return this._request?.socket ?? undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this._responseSize) {\n            percent = this._downloadedSize / this._responseSize;\n        }\n        else if (this._responseSize === this._downloadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._downloadedSize,\n            total: this._responseSize,\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this._bodySize) {\n            percent = this._uploadedSize / this._bodySize;\n        }\n        else if (this._bodySize === this._uploadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._uploadedSize,\n            total: this._bodySize,\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        return this._request?.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this._isFromCache;\n    }\n    get reusedSocket() {\n        return this._request?.reusedSocket;\n    }\n}\n", "import { errorMonitor } from 'events';\nimport { types } from 'util';\nimport deferToConnect from 'defer-to-connect';\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined,\n        },\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        origin.once(errorMonitor, () => {\n            timings.error = Date.now();\n            timings.phases.total = timings.error - timings.start;\n        });\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        timings.phases.total = timings.abort - timings.start;\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        deferToConnect(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            },\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - (timings.secureConnect ?? timings.connect);\n    };\n    if (request.writableFinished) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            request.off('abort', onAbort);\n            response.off('aborted', onAbort);\n            if (timings.phases.total) {\n                // Aborted or errored\n                return;\n            }\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexport default timer;\n", "import EventEmitter from 'node:events';\nimport urlLib from 'node:url';\nimport crypto from 'node:crypto';\nimport stream, {PassThrough as PassThroughStream} from 'node:stream';\nimport {IncomingMessage} from 'node:http';\nimport normalizeUrl from 'normalize-url';\nimport getStream from 'get-stream';\nimport CachePolicy from 'http-cache-semantics';\nimport Response from 'responselike';\nimport Keyv from 'keyv';\nimport mimicResponse from 'mimic-response';\nimport {RequestFn, StorageAdapter, CacheResponse, CacheValue, CacheableOptions, UrlOption, CacheError, RequestError, Emitter, CacheableRequestFunction} from './types.js';\n\ntype Func = (...args: any[]) => any;\n\nclass CacheableRequest {\n\tcache: StorageAdapter;\n\tcacheRequest: RequestFn;\n\thooks: Map<string, Func> = new Map<string, Func>();\n\tconstructor(cacheRequest: RequestFn, cacheAdapter?: StorageAdapter | string) {\n\t\tif (cacheAdapter instanceof Keyv) {\n\t\t\tthis.cache = cacheAdapter;\n\t\t} else if (typeof cacheAdapter === 'string') {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\turi: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\tstore: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t}\n\n\t\tthis.request = this.request.bind(this);\n\t\tthis.cacheRequest = cacheRequest;\n\t}\n\n\trequest = () => (options: CacheableOptions,\n\t\tcb?: (response: CacheResponse) => void): Emitter => {\n\t\tlet url;\n\t\tif (typeof options === 'string') {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options));\n\t\t\toptions = {};\n\t\t} else if (options instanceof urlLib.URL) {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options.toString()));\n\t\t\toptions = {};\n\t\t} else {\n\t\t\tconst [pathname, ...searchParts] = (options.path ?? '').split('?');\n\t\t\tconst search = searchParts.length > 0\n\t\t\t\t? `?${searchParts.join('?')}`\n\t\t\t\t: '';\n\t\t\turl = normalizeUrlObject({...options, pathname, search});\n\t\t}\n\n\t\toptions = {\n\t\t\theaders: {},\n\t\t\tmethod: 'GET',\n\t\t\tcache: true,\n\t\t\tstrictTtl: false,\n\t\t\tautomaticFailover: false,\n\t\t\t...options,\n\t\t\t...urlObjectToRequestOptions(url),\n\t\t};\n\t\toptions.headers = Object.fromEntries(entries(options.headers).map(([key, value]) => [(key as string).toLowerCase(), value]));\n\t\tconst ee: Emitter = new EventEmitter() as Emitter;\n\t\tconst normalizedUrlString = normalizeUrl(urlLib.format(url), {\n\t\t\tstripWWW: false, // eslint-disable-line @typescript-eslint/naming-convention\n\t\t\tremoveTrailingSlash: false,\n\t\t\tstripAuthentication: false,\n\t\t});\n\t\tlet key = `${options.method}:${normalizedUrlString}`;\n\t\t// POST, PATCH, and PUT requests may be cached, depending on the response\n\t\t// cache-control headers. As a result, the body of the request should be\n\t\t// added to the cache key in order to avoid collisions.\n\t\tif (options.body && options.method !== undefined && ['POST', 'PATCH', 'PUT'].includes(options.method)) {\n\t\t\tif (options.body instanceof stream.Readable) {\n\t\t\t\t// Streamed bodies should completely skip the cache because they may\n\t\t\t\t// or may not be hashable and in either case the stream would need to\n\t\t\t\t// close before the cache key could be generated.\n\t\t\t\toptions.cache = false;\n\t\t\t} else {\n\t\t\t\tkey += `:${crypto.createHash('md5').update(options.body).digest('hex')}`;\n\t\t\t}\n\t\t}\n\n\t\tlet revalidate: any = false;\n\t\tlet madeRequest = false;\n\t\tconst makeRequest = (options_: any) => {\n\t\t\tmadeRequest = true;\n\t\t\tlet requestErrored = false;\n\t\t\tlet requestErrorCallback: (...args: any[]) => void = () => {/* do nothing */};\n\n\t\t\tconst requestErrorPromise = new Promise<void>(resolve => {\n\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t\tconst handler = async (response: any) => {\n\t\t\t\tif (revalidate) {\n\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(options_, response);\n\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\tresponse.resume();\n\t\t\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\t\t\t// Skipping 'error' handler cause 'error' event should't be emitted for 304 response\n\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t\t\t.once('end', resolve);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst headers = convertHeaders(revalidatedPolicy.policy.responseHeaders());\n\t\t\t\t\t\tresponse = new Response({statusCode: revalidate.statusCode, headers, body: revalidate.body, url: revalidate.url});\n\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\tresponse.cachePolicy = new CachePolicy(options_, response, options_);\n\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t}\n\n\t\t\t\tlet clonedResponse;\n\t\t\t\tif (options_.cache && response.cachePolicy.storable()) {\n\t\t\t\t\tclonedResponse = cloneResponse(response);\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('close', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\tconst body = await bodyPromise;\n\t\t\t\t\t\t\tlet value: CacheValue = {\n\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet ttl = options_.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\tif (options_.maxTtl) {\n\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, options_.maxTtl) : options_.maxTtl;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.hooks.size > 0) {\n\t\t\t\t\t\t\t\t/* eslint-disable no-await-in-loop */\n\t\t\t\t\t\t\t\tfor (const key_ of this.hooks.keys()) {\n\t\t\t\t\t\t\t\t\tvalue = await this.runHook(key_, value, response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* eslint-enable no-await-in-loop */\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t} else if (options_.cache && revalidate) {\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\n\t\t\t\tee.emit('response', clonedResponse ?? response);\n\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\tcb(clonedResponse ?? response);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconst request_ = this.cacheRequest(options_, handler);\n\t\t\t\trequest_.once('error', requestErrorCallback);\n\t\t\t\trequest_.once('abort', requestErrorCallback);\n\t\t\t\trequest_.once('destroy', requestErrorCallback);\n\t\t\t\tee.emit('request', request_);\n\t\t\t} catch (error: any) {\n\t\t\t\tee.emit('error', new RequestError(error));\n\t\t\t}\n\t\t};\n\n\t\t(async () => {\n\t\t\tconst get = async (options_: any) => {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tconst cacheEntry = options_.cache ? await this.cache.get(key) : undefined;\n\n\t\t\t\tif (cacheEntry === undefined && !options_.forceRefresh) {\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\tif (policy.satisfiesWithoutRevalidation(options_) && !options_.forceRefresh) {\n\t\t\t\t\tconst headers = convertHeaders(policy.responseHeaders());\n\t\t\t\t\tconst response: any = new Response({statusCode: cacheEntry.statusCode, headers, body: cacheEntry.body, url: cacheEntry.url});\n\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(response);\n\t\t\t\t\t}\n\t\t\t\t} else if (policy.satisfiesWithoutRevalidation(options_) && Date.now() >= policy.timeToLive() && options_.forceRefresh) {\n\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t} else {\n\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst errorHandler = (error: Error) => ee.emit('error', new CacheError(error));\n\t\t\tif (this.cache instanceof Keyv) {\n\t\t\t\tconst cachek = this.cache;\n\t\t\t\tcachek.once('error', errorHandler);\n\t\t\t\tee.on('error', () => cachek.removeListener('error', errorHandler));\n\t\t\t\tee.on('response', () => cachek.removeListener('error', errorHandler));\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait get(options);\n\t\t\t} catch (error: any) {\n\t\t\t\tif (options.automaticFailover && !madeRequest) {\n\t\t\t\t\tmakeRequest(options);\n\t\t\t\t}\n\n\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t}\n\t\t})();\n\n\t\treturn ee;\n\t};\n\n\taddHook = (name: string, fn: Func) => {\n\t\tif (!this.hooks.has(name)) {\n\t\t\tthis.hooks.set(name, fn);\n\t\t}\n\t};\n\n\tremoveHook = (name: string) => this.hooks.delete(name);\n\n\tgetHook = (name: string) => this.hooks.get(name);\n\n\trunHook = async (name: string, ...args: any[]): Promise<CacheValue> => this.hooks.get(name)?.(...args);\n}\n\nconst entries = Object.entries as <T>(object: T) => Array<[keyof T, T[keyof T]]>;\n\nconst cloneResponse = (response: IncomingMessage) => {\n\tconst clone = new PassThroughStream({autoDestroy: false});\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nconst urlObjectToRequestOptions = (url: any) => {\n\tconst options: UrlOption = {...url};\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n};\n\nconst normalizeUrlObject = (url: any) =>\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\t({\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search,\n\t});\n\nconst convertHeaders = (headers: CachePolicy.Headers) => {\n\tconst result: any = [];\n\tfor (const name of Object.keys(headers)) {\n\t\tresult[name.toLowerCase()] = headers[name];\n\t}\n\n\treturn result;\n};\n\nexport default CacheableRequest;\nexport * from './types.js';\nexport const onResponse = 'onResponse';\n", "// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n\nconst supportedProtocols = new Set([\n\t'https:',\n\t'http:',\n\t'file:',\n]);\n\nconst hasCustomProtocol = urlString => {\n\ttry {\n\t\tconst {protocol} = new URL(urlString);\n\n\t\treturn protocol.endsWith(':')\n\t\t\t&& !protocol.includes('.')\n\t\t\t&& !supportedProtocols.has(protocol);\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = mediaType.shift()?.toLowerCase() ?? '';\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes,\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length > 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nexport default function normalizeUrl(urlString, options) {\n\toptions = {\n\t\tdefaultProtocol: 'http',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tremoveExplicitPort: false,\n\t\tsortQueryParameters: true,\n\t\t...options,\n\t};\n\n\t// Legacy: Append `:` to the protocol if missing.\n\tif (typeof options.defaultProtocol === 'string' && !options.defaultProtocol.endsWith(':')) {\n\t\toptions.defaultProtocol = `${options.defaultProtocol}:`;\n\t}\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (hasCustomProtocol(urlString)) {\n\t\treturn urlString;\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObject = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObject.protocol === 'https:') {\n\t\turlObject.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObject.protocol === 'http:') {\n\t\turlObject.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObject.username = '';\n\t\turlObject.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObject.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObject.hash = urlObject.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\t// NOTE: This could be implemented using a single negative lookbehind\n\t// regex, but we avoid that to maintain compatibility with older js engines\n\t// which do not have support for that feature.\n\tif (urlObject.pathname) {\n\t\t// TODO: Replace everything below with `urlObject.pathname = urlObject.pathname.replace(/(?<!\\b[a-z][a-z\\d+\\-.]{1,50}:)\\/{2,}/g, '/');` when Safari supports negative lookbehind.\n\n\t\t// Split the string by occurrences of this protocol regex, and perform\n\t\t// duplicate-slash replacement on the strings between those occurrences\n\t\t// (if any).\n\t\tconst protocolRegex = /\\b[a-z][a-z\\d+\\-.]{1,50}:\\/\\//g;\n\n\t\tlet lastIndex = 0;\n\t\tlet result = '';\n\t\tfor (;;) {\n\t\t\tconst match = protocolRegex.exec(urlObject.pathname);\n\t\t\tif (!match) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst protocol = match[0];\n\t\t\tconst protocolAtIndex = match.index;\n\t\t\tconst intermediate = urlObject.pathname.slice(lastIndex, protocolAtIndex);\n\n\t\t\tresult += intermediate.replace(/\\/{2,}/g, '/');\n\t\t\tresult += protocol;\n\t\t\tlastIndex = protocolAtIndex + protocol.length;\n\t\t}\n\n\t\tconst remnant = urlObject.pathname.slice(lastIndex, urlObject.pathname.length);\n\t\tresult += remnant.replace(/\\/{2,}/g, '/');\n\n\t\turlObject.pathname = result;\n\t}\n\n\t// Decode URI octets\n\tif (urlObject.pathname) {\n\t\ttry {\n\t\t\turlObject.pathname = decodeURI(urlObject.pathname).replace(/\\\\/g, '%5C');\n\t\t} catch {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObject.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, -1);\n\t\t\turlObject.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\tif (urlObject.hostname) {\n\t\t// Remove trailing dot\n\t\turlObject.hostname = urlObject.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)[a-z\\-\\d]{1,63}\\.[a-z.\\-\\d]{2,63}$/.test(urlObject.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObject.hostname = urlObject.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!Array.isArray(options.keepQueryParameters) && options.removeQueryParameters === true) {\n\t\turlObject.search = '';\n\t}\n\n\t// Keep wanted query parameters\n\tif (Array.isArray(options.keepQueryParameters) && options.keepQueryParameters.length > 0) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (!testParameter(key, options.keepQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\turlObject.searchParams.sort();\n\n\t\t// Calling `.sort()` encodes the search parameters, so we need to decode them again.\n\t\ttry {\n\t\t\turlObject.search = decodeURIComponent(urlObject.search);\n\t\t} catch {}\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObject.pathname = urlObject.pathname.replace(/\\/$/, '');\n\t}\n\n\t// Remove an explicit port number, excluding a default port number, if applicable\n\tif (options.removeExplicitPort && urlObject.port) {\n\t\turlObject.port = '';\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObject.toString();\n\n\tif (!options.removeSingleSlash && urlObject.pathname === '/' && !oldUrlString.endsWith('/') && urlObject.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObject.pathname === '/') && urlObject.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n}\n", "import {Readable as ReadableStream} from 'node:stream';\nimport lowercaseKeys from 'lowercase-keys';\n\nexport default class Response extends ReadableStream {\n\tstatusCode;\n\theaders;\n\tbody;\n\turl;\n\n\tconstructor({statusCode, headers, body, url}) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\n\t\tif (!(body instanceof Uint8Array)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tsuper({\n\t\t\tread() {\n\t\t\t\tthis.push(body);\n\t\t\t\tthis.push(null);\n\t\t\t},\n\t\t});\n\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t}\n}\n", "export default function lowercaseKeys(object) {\n\treturn Object.fromEntries(Object.entries(object).map(([key, value]) => [key.toLowerCase(), value]));\n}\n", "// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url',\n];\n\nexport default function mimicResponse(fromStream, toStream) {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set([...Object.keys(fromStream), ...knownProperties]);\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n}\n", "// Type definitions for cacheable-request 6.0\n// Project: https://github.com/lukechilds/cacheable-request#readme\n// Definitions by: BendingBender <https://github.com/BendingBender>\n//                 Paul Melnikow <https://github.com/paulmelnikow>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 2.3\n\n/// <reference types=\"node\" />\n\nimport {request, RequestOptions, ClientRequest, ServerResponse} from 'node:http';\nimport {URL} from 'node:url';\nimport {EventEmitter} from 'node:events';\nimport {Buffer} from 'node:buffer';\nimport {Store} from 'keyv';\nimport ResponseLike from 'responselike';\nimport {CachePolicyObject} from 'http-cache-semantics';\n\nexport type RequestFn = typeof request;\nexport type RequestFunction = typeof request;\nexport type CacheResponse = ServerResponse | typeof ResponseLike;\n\nexport type CacheableRequestFunction = (\n\toptions: CacheableOptions,\n\tcb?: (response: CacheResponse) => void\n) => Emitter;\n\nexport type CacheableOptions = Options & RequestOptions | string | URL;\n\nexport type StorageAdapter = Store<any>;\n\nexport interface Options {\n\t/**\n\t\t\t * If the cache should be used. Setting this to `false` will completely bypass the cache for the current request.\n\t\t\t * @default true\n\t\t\t */\n\tcache?: boolean | undefined;\n\n\t/**\n\t\t\t * If set to `true` once a cached resource has expired it is deleted and will have to be re-requested.\n\t\t\t *\n\t\t\t * If set to `false`, after a cached resource's TTL expires it is kept in the cache and will be revalidated\n\t\t\t * on the next request with `If-None-Match`/`If-Modified-Since` headers.\n\t\t\t * @default false\n\t\t\t */\n\tstrictTtl?: boolean | undefined;\n\n\t/**\n\t\t\t * Limits TTL. The `number` represents milliseconds.\n\t\t\t * @default undefined\n\t\t\t */\n\tmaxTtl?: number | undefined;\n\n\t/**\n\t\t\t * When set to `true`, if the DB connection fails we will automatically fallback to a network request.\n\t\t\t * DB errors will still be emitted to notify you of the problem even though the request callback may succeed.\n\t\t\t * @default false\n\t\t\t */\n\tautomaticFailover?: boolean | undefined;\n\n\t/**\n * Forces refreshing the cache. If the response could be retrieved from the cache, it will perform a\n * new request and override the cache instead.\n * @default false\n */\n\tforceRefresh?: boolean | undefined;\n\tremoteAddress?: boolean | undefined;\n\n\turl?: string | undefined;\n\n\theaders?: Record<string, string | string[] | undefined>;\n\n\tbody?: Buffer;\n}\n\nexport interface CacheValue extends Record<string, any> {\n\turl: string;\n\tstatusCode: number;\n\tbody: Buffer | string;\n\tcachePolicy: CachePolicyObject;\n}\n\nexport interface Emitter extends EventEmitter {\n\taddListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\taddListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\taddListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\ton(event: 'request', listener: (request: ClientRequest) => void): this;\n\ton(event: 'response', listener: (response: CacheResponse) => void): this;\n\ton(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tonce(event: 'request', listener: (request: ClientRequest) => void): this;\n\tonce(event: 'response', listener: (response: CacheResponse) => void): this;\n\tonce(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependOnceListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependOnceListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependOnceListener(\n\t\tevent: 'error',\n\t\tlistener: (error: RequestError | CacheError) => void\n\t): this;\n\tremoveListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tremoveListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tremoveListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\toff(event: 'request', listener: (request: ClientRequest) => void): this;\n\toff(event: 'response', listener: (response: CacheResponse) => void): this;\n\toff(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tremoveAllListeners(event?: 'request' | 'response' | 'error'): this;\n\tlisteners(event: 'request'): Array<(request: ClientRequest) => void>;\n\tlisteners(event: 'response'): Array<(response: CacheResponse) => void>;\n\tlisteners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\trawListeners(event: 'request'): Array<(request: ClientRequest) => void>;\n\trawListeners(event: 'response'): Array<(response: CacheResponse) => void>;\n\trawListeners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\temit(event: 'request', request: ClientRequest): boolean;\n\temit(event: 'response', response: CacheResponse): boolean;\n\temit(event: 'error', error: RequestError | CacheError): boolean;\n\teventNames(): Array<'request' | 'response' | 'error'>;\n\tlistenerCount(type: 'request' | 'response' | 'error'): number;\n}\n\nexport class RequestError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\nexport class CacheError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\n\nexport interface UrlOption {\n\tpath: string;\n\tpathname?: string;\n\tsearch?: string;\n}\n", "export const isFunction = (value) => (typeof value === \"function\");\n", "import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = (value) => (isFunction(value[Symbol.asyncIterator]));\nasync function* readStream(readable) {\n    const reader = readable.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield value;\n    }\n}\nexport const getStreamIterator = (source) => {\n    if (isAsyncIterable(source)) {\n        return source;\n    }\n    if (isFunction(source.getReader)) {\n        return readStream(source);\n    }\n    throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};\n", "const alphabet = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nexport function createBoundary() {\n    let size = 16;\n    let res = \"\";\n    while (size--) {\n        res += alphabet[(Math.random() * alphabet.length) << 0];\n    }\n    return res;\n}\n", "export const normalizeValue = (value) => String(value)\n    .replace(/\\r|\\n/g, (match, i, str) => {\n    if ((match === \"\\r\" && str[i + 1] !== \"\\n\")\n        || (match === \"\\n\" && str[i - 1] !== \"\\r\")) {\n        return \"\\r\\n\";\n    }\n    return match;\n});\n", "const getType = (value) => (Object.prototype.toString.call(value).slice(8, -1).toLowerCase());\nexport function isPlainObject(value) {\n    if (getType(value) !== \"object\") {\n        return false;\n    }\n    const pp = Object.getPrototypeOf(value);\n    if (pp === null || pp === undefined) {\n        return true;\n    }\n    const Ctor = pp.constructor && pp.constructor.toString();\n    return Ctor === Object.toString();\n}\n", "function getProperty(target, prop) {\n    if (typeof prop === \"string\") {\n        for (const [name, value] of Object.entries(target)) {\n            if (prop.toLowerCase() === name.toLowerCase()) {\n                return value;\n            }\n        }\n    }\n    return undefined;\n}\nexport const proxyHeaders = (object) => new Proxy(object, {\n    get: (target, prop) => getProperty(target, prop),\n    has: (target, prop) => getProperty(target, prop) !== undefined\n});\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFormData = (value) => Boolean(value\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"FormData\"\n    && isFunction(value.append)\n    && isFunction(value.getAll)\n    && isFunction(value.entries)\n    && isFunction(value[Symbol.iterator]));\n", "export const escapeName = (name) => String(name)\n    .replace(/\\r/g, \"%0D\")\n    .replace(/\\n/g, \"%0A\")\n    .replace(/\"/g, \"%22\");\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFile = (value) => Boolean(value\n    && typeof value === \"object\"\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"File\"\n    && isFunction(value.stream)\n    && value.name != null);\nexport const isFileLike = isFile;\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormDataEncoder_instances, _FormDataEncoder_CRLF, _FormDataEncoder_CRLF_BYTES, _FormDataEncoder_CRLF_BYTES_LENGTH, _FormDataEncoder_DASHES, _FormDataEncoder_encoder, _FormDataEncoder_footer, _FormDataEncoder_form, _FormDataEncoder_options, _FormDataEncoder_getFieldHeader, _FormDataEncoder_getContentLength;\nimport { getStreamIterator } from \"./util/getStreamIterator.js\";\nimport { createBoundary } from \"./util/createBoundary.js\";\nimport { normalizeValue } from \"./util/normalizeValue.js\";\nimport { isPlainObject } from \"./util/isPlainObject.js\";\nimport { proxyHeaders } from \"./util/proxyHeaders.js\";\nimport { isFormData } from \"./util/isFormData.js\";\nimport { escapeName } from \"./util/escapeName.js\";\nimport { isFile } from \"./util/isFile.js\";\nconst defaultOptions = {\n    enableAdditionalHeaders: false\n};\nconst readonlyProp = { writable: false, configurable: false };\nexport class FormDataEncoder {\n    constructor(form, boundaryOrOptions, options) {\n        _FormDataEncoder_instances.add(this);\n        _FormDataEncoder_CRLF.set(this, \"\\r\\n\");\n        _FormDataEncoder_CRLF_BYTES.set(this, void 0);\n        _FormDataEncoder_CRLF_BYTES_LENGTH.set(this, void 0);\n        _FormDataEncoder_DASHES.set(this, \"-\".repeat(2));\n        _FormDataEncoder_encoder.set(this, new TextEncoder());\n        _FormDataEncoder_footer.set(this, void 0);\n        _FormDataEncoder_form.set(this, void 0);\n        _FormDataEncoder_options.set(this, void 0);\n        if (!isFormData(form)) {\n            throw new TypeError(\"Expected first argument to be a FormData instance.\");\n        }\n        let boundary;\n        if (isPlainObject(boundaryOrOptions)) {\n            options = boundaryOrOptions;\n        }\n        else {\n            boundary = boundaryOrOptions;\n        }\n        if (!boundary) {\n            boundary = createBoundary();\n        }\n        if (typeof boundary !== \"string\") {\n            throw new TypeError(\"Expected boundary argument to be a string.\");\n        }\n        if (options && !isPlainObject(options)) {\n            throw new TypeError(\"Expected options argument to be an object.\");\n        }\n        __classPrivateFieldSet(this, _FormDataEncoder_form, Array.from(form.entries()), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_options, { ...defaultOptions, ...options }, \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\").byteLength, \"f\");\n        this.boundary = `form-data-boundary-${boundary}`;\n        this.contentType = `multipart/form-data; boundary=${this.boundary}`;\n        __classPrivateFieldSet(this, _FormDataEncoder_footer, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`), \"f\");\n        const headers = {\n            \"Content-Type\": this.contentType\n        };\n        const contentLength = __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getContentLength).call(this);\n        if (contentLength) {\n            this.contentLength = contentLength;\n            headers[\"Content-Length\"] = contentLength;\n        }\n        this.headers = proxyHeaders(Object.freeze(headers));\n        Object.defineProperties(this, {\n            boundary: readonlyProp,\n            contentType: readonlyProp,\n            contentLength: readonlyProp,\n            headers: readonlyProp\n        });\n    }\n    getContentLength() {\n        return this.contentLength == null ? undefined : Number(this.contentLength);\n    }\n    *values() {\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            yield __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value);\n            yield value;\n            yield __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\");\n        }\n        yield __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\");\n    }\n    async *encode() {\n        for (const part of this.values()) {\n            if (isFile(part)) {\n                yield* getStreamIterator(part.stream());\n            }\n            else {\n                yield part;\n            }\n        }\n    }\n    [(_FormDataEncoder_CRLF = new WeakMap(), _FormDataEncoder_CRLF_BYTES = new WeakMap(), _FormDataEncoder_CRLF_BYTES_LENGTH = new WeakMap(), _FormDataEncoder_DASHES = new WeakMap(), _FormDataEncoder_encoder = new WeakMap(), _FormDataEncoder_footer = new WeakMap(), _FormDataEncoder_form = new WeakMap(), _FormDataEncoder_options = new WeakMap(), _FormDataEncoder_instances = new WeakSet(), _FormDataEncoder_getFieldHeader = function _FormDataEncoder_getFieldHeader(name, value) {\n        let header = \"\";\n        header += `${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n        header += `Content-Disposition: form-data; name=\"${escapeName(name)}\"`;\n        if (isFile(value)) {\n            header += `; filename=\"${escapeName(value.name)}\"${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n            header += `Content-Type: ${value.type || \"application/octet-stream\"}`;\n        }\n        const size = isFile(value) ? value.size : value.byteLength;\n        if (__classPrivateFieldGet(this, _FormDataEncoder_options, \"f\").enableAdditionalHeaders === true\n            && size != null\n            && !isNaN(size)) {\n            header += `${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}Content-Length: ${isFile(value) ? value.size : value.byteLength}`;\n        }\n        return __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${header}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`);\n    }, _FormDataEncoder_getContentLength = function _FormDataEncoder_getContentLength() {\n        let length = 0;\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            const size = isFile(value) ? value.size : value.byteLength;\n            if (size == null || isNaN(size)) {\n                return undefined;\n            }\n            length += __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value).byteLength;\n            length += size;\n            length += __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, \"f\");\n        }\n        return String(length + __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\").byteLength);\n    }, Symbol.iterator)]() {\n        return this.values();\n    }\n    [Symbol.asyncIterator]() {\n        return this.encode();\n    }\n}\n", "import { Buffer } from 'node:buffer';\nimport { promisify } from 'node:util';\nimport is from '@sindresorhus/is';\nimport isFormData from './is-form-data.js';\nexport default async function getBodySize(body, headers) {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is.buffer(body)) {\n        return body.length;\n    }\n    if (isFormData(body)) {\n        return promisify(body.getLength.bind(body))();\n    }\n    return undefined;\n}\n", "import is from '@sindresorhus/is';\nexport default function isFormData(body) {\n    return is.nodeStream(body) && is.function_(body.getBoundary);\n}\n", "export default function proxyEvents(from, to, events) {\n    const eventFunctions = {};\n    for (const event of events) {\n        const eventFunction = (...args) => {\n            to.emit(event, ...args);\n        };\n        eventFunctions[event] = eventFunction;\n        from.on(event, eventFunction);\n    }\n    return () => {\n        for (const [event, eventFunction] of Object.entries(eventFunctions)) {\n            from.off(event, eventFunction);\n        }\n    };\n}\n", "import net from 'node:net';\nimport unhandler from './utils/unhandle.js';\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nexport class TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: event\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexport default function timedOut(request, delays, options) {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandler();\n    const addTimeout = (delay, callback, event) => {\n        const timeout = setTimeout(callback, delay, delay, event);\n        timeout.unref?.();\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    if (delays.request !== undefined) {\n        const cancelTimeout = addTimeout(delays.request, timeoutHandler, 'request');\n        once(request, 'response', (response) => {\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    if (delays.socket !== undefined) {\n        const { socket } = delays;\n        const socketTimeoutHandler = () => {\n            timeoutHandler(socket, 'socket');\n        };\n        request.setTimeout(socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    const hasLookup = delays.lookup !== undefined;\n    const hasConnect = delays.connect !== undefined;\n    const hasSecureConnect = delays.secureConnect !== undefined;\n    const hasSend = delays.send !== undefined;\n    if (hasLookup || hasConnect || hasSecureConnect || hasSend) {\n        once(request, 'socket', (socket) => {\n            const { socketPath } = request;\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                const hasPath = Boolean(socketPath ?? net.isIP(hostname ?? host ?? '') !== 0);\n                if (hasLookup && !hasPath && socket.address().address === undefined) {\n                    const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                    once(socket, 'lookup', cancelTimeout);\n                }\n                if (hasConnect) {\n                    const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                    if (hasPath) {\n                        once(socket, 'connect', timeConnect());\n                    }\n                    else {\n                        once(socket, 'lookup', (error) => {\n                            if (error === null) {\n                                once(socket, 'connect', timeConnect());\n                            }\n                        });\n                    }\n                }\n                if (hasSecureConnect && options.protocol === 'https:') {\n                    once(socket, 'connect', () => {\n                        const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                        once(socket, 'secureConnect', cancelTimeout);\n                    });\n                }\n            }\n            if (hasSend) {\n                const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n                /* istanbul ignore next: hard to test */\n                if (socket.connecting) {\n                    once(socket, 'connect', () => {\n                        once(request, 'upload-complete', timeRequest());\n                    });\n                }\n                else {\n                    once(request, 'upload-complete', timeRequest());\n                }\n            }\n        });\n    }\n    if (delays.response !== undefined) {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    if (delays.read !== undefined) {\n        once(request, 'response', (response) => {\n            const cancelTimeout = addTimeout(delays.read, timeoutHandler, 'read');\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n}\n", "// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexport default function unhandle() {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        },\n    };\n}\n", "import is from '@sindresorhus/is';\nexport default function urlToOptions(url) {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`,\n    };\n    if (is.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n}\n", "export default class WeakableMap {\n    constructor() {\n        Object.defineProperty(this, \"weakMap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"map\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\n", "const calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter, computedValue, }) => {\n    if (error.name === 'RetryError') {\n        return 1;\n    }\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            // In this case `computedValue` is `options.request.timeout`\n            if (retryAfter > computedValue) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * retryOptions.noise;\n    return Math.min(((2 ** (attemptCount - 1)) * 1000), retryOptions.backoffLimit) + noise;\n};\nexport default calculateRetryDelay;\n", "import process from 'node:process';\nimport { promisify, inspect } from 'node:util';\nimport { checkServerIdentity } from 'node:tls';\n// DO NOT use destructuring for `https.request` and `http.request` as it's not compatible with `nock`.\nimport http from 'node:http';\nimport https from 'node:https';\nimport is, { assert } from '@sindresorhus/is';\nimport lowercaseKeys from 'lowercase-keys';\nimport CacheableLookup from 'cacheable-lookup';\nimport http2wrapper from 'http2-wrapper';\nimport { isFormData } from 'form-data-encoder';\nimport parseLinkHeader from './parse-link-header.js';\nconst [major, minor] = process.versions.node.split('.').map(Number);\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        assert.any([is.string, is.number, is.boolean, is.null_, is.undefined], value);\n    }\n}\nconst globalCache = new Map();\nlet globalDnsCache;\nconst getGlobalDnsCache = () => {\n    if (globalDnsCache) {\n        return globalDnsCache;\n    }\n    globalDnsCache = new CacheableLookup();\n    return globalDnsCache;\n};\nconst defaultInternals = {\n    request: undefined,\n    agent: {\n        http: undefined,\n        https: undefined,\n        http2: undefined,\n    },\n    h2session: undefined,\n    decompress: true,\n    timeout: {\n        connect: undefined,\n        lookup: undefined,\n        read: undefined,\n        request: undefined,\n        response: undefined,\n        secureConnect: undefined,\n        send: undefined,\n        socket: undefined,\n    },\n    prefixUrl: '',\n    body: undefined,\n    form: undefined,\n    json: undefined,\n    cookieJar: undefined,\n    ignoreInvalidCookies: false,\n    searchParams: undefined,\n    dnsLookup: undefined,\n    dnsCache: undefined,\n    context: {},\n    hooks: {\n        init: [],\n        beforeRequest: [],\n        beforeError: [],\n        beforeRedirect: [],\n        beforeRetry: [],\n        afterResponse: [],\n    },\n    followRedirect: true,\n    maxRedirects: 10,\n    cache: undefined,\n    throwHttpErrors: true,\n    username: '',\n    password: '',\n    http2: false,\n    allowGetBody: false,\n    headers: {\n        'user-agent': 'got (https://github.com/sindresorhus/got)',\n    },\n    methodRewriting: false,\n    dnsLookupIpVersion: undefined,\n    parseJson: JSON.parse,\n    stringifyJson: JSON.stringify,\n    retry: {\n        limit: 2,\n        methods: [\n            'GET',\n            'PUT',\n            'HEAD',\n            'DELETE',\n            'OPTIONS',\n            'TRACE',\n        ],\n        statusCodes: [\n            408,\n            413,\n            429,\n            500,\n            502,\n            503,\n            504,\n            521,\n            522,\n            524,\n        ],\n        errorCodes: [\n            'ETIMEDOUT',\n            'ECONNRESET',\n            'EADDRINUSE',\n            'ECONNREFUSED',\n            'EPIPE',\n            'ENOTFOUND',\n            'ENETUNREACH',\n            'EAI_AGAIN',\n        ],\n        maxRetryAfter: undefined,\n        calculateDelay: ({ computedValue }) => computedValue,\n        backoffLimit: Number.POSITIVE_INFINITY,\n        noise: 100,\n    },\n    localAddress: undefined,\n    method: 'GET',\n    createConnection: undefined,\n    cacheOptions: {\n        shared: undefined,\n        cacheHeuristic: undefined,\n        immutableMinTimeToLive: undefined,\n        ignoreCargoCult: undefined,\n    },\n    https: {\n        alpnProtocols: undefined,\n        rejectUnauthorized: undefined,\n        checkServerIdentity: undefined,\n        certificateAuthority: undefined,\n        key: undefined,\n        certificate: undefined,\n        passphrase: undefined,\n        pfx: undefined,\n        ciphers: undefined,\n        honorCipherOrder: undefined,\n        minVersion: undefined,\n        maxVersion: undefined,\n        signatureAlgorithms: undefined,\n        tlsSessionLifetime: undefined,\n        dhparam: undefined,\n        ecdhCurve: undefined,\n        certificateRevocationLists: undefined,\n    },\n    encoding: undefined,\n    resolveBodyOnly: false,\n    isStream: false,\n    responseType: 'text',\n    url: undefined,\n    pagination: {\n        transform(response) {\n            if (response.request.options.responseType === 'json') {\n                return response.body;\n            }\n            return JSON.parse(response.body);\n        },\n        paginate({ response }) {\n            const rawLinkHeader = response.headers.link;\n            if (typeof rawLinkHeader !== 'string' || rawLinkHeader.trim() === '') {\n                return false;\n            }\n            const parsed = parseLinkHeader(rawLinkHeader);\n            const next = parsed.find(entry => entry.parameters.rel === 'next' || entry.parameters.rel === '\"next\"');\n            if (next) {\n                return {\n                    url: new URL(next.reference, response.url),\n                };\n            }\n            return false;\n        },\n        filter: () => true,\n        shouldContinue: () => true,\n        countLimit: Number.POSITIVE_INFINITY,\n        backoff: 0,\n        requestLimit: 10000,\n        stackAllItems: false,\n    },\n    setHost: true,\n    maxHeaderSize: undefined,\n    signal: undefined,\n    enableUnixSockets: false,\n};\nconst cloneInternals = (internals) => {\n    const { hooks, retry } = internals;\n    const result = {\n        ...internals,\n        context: { ...internals.context },\n        cacheOptions: { ...internals.cacheOptions },\n        https: { ...internals.https },\n        agent: { ...internals.agent },\n        headers: { ...internals.headers },\n        retry: {\n            ...retry,\n            errorCodes: [...retry.errorCodes],\n            methods: [...retry.methods],\n            statusCodes: [...retry.statusCodes],\n        },\n        timeout: { ...internals.timeout },\n        hooks: {\n            init: [...hooks.init],\n            beforeRequest: [...hooks.beforeRequest],\n            beforeError: [...hooks.beforeError],\n            beforeRedirect: [...hooks.beforeRedirect],\n            beforeRetry: [...hooks.beforeRetry],\n            afterResponse: [...hooks.afterResponse],\n        },\n        searchParams: internals.searchParams ? new URLSearchParams(internals.searchParams) : undefined,\n        pagination: { ...internals.pagination },\n    };\n    if (result.url !== undefined) {\n        result.prefixUrl = '';\n    }\n    return result;\n};\nconst cloneRaw = (raw) => {\n    const { hooks, retry } = raw;\n    const result = { ...raw };\n    if (is.object(raw.context)) {\n        result.context = { ...raw.context };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...raw.cacheOptions };\n    }\n    if (is.object(raw.https)) {\n        result.https = { ...raw.https };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...result.cacheOptions };\n    }\n    if (is.object(raw.agent)) {\n        result.agent = { ...raw.agent };\n    }\n    if (is.object(raw.headers)) {\n        result.headers = { ...raw.headers };\n    }\n    if (is.object(retry)) {\n        result.retry = { ...retry };\n        if (is.array(retry.errorCodes)) {\n            result.retry.errorCodes = [...retry.errorCodes];\n        }\n        if (is.array(retry.methods)) {\n            result.retry.methods = [...retry.methods];\n        }\n        if (is.array(retry.statusCodes)) {\n            result.retry.statusCodes = [...retry.statusCodes];\n        }\n    }\n    if (is.object(raw.timeout)) {\n        result.timeout = { ...raw.timeout };\n    }\n    if (is.object(hooks)) {\n        result.hooks = {\n            ...hooks,\n        };\n        if (is.array(hooks.init)) {\n            result.hooks.init = [...hooks.init];\n        }\n        if (is.array(hooks.beforeRequest)) {\n            result.hooks.beforeRequest = [...hooks.beforeRequest];\n        }\n        if (is.array(hooks.beforeError)) {\n            result.hooks.beforeError = [...hooks.beforeError];\n        }\n        if (is.array(hooks.beforeRedirect)) {\n            result.hooks.beforeRedirect = [...hooks.beforeRedirect];\n        }\n        if (is.array(hooks.beforeRetry)) {\n            result.hooks.beforeRetry = [...hooks.beforeRetry];\n        }\n        if (is.array(hooks.afterResponse)) {\n            result.hooks.afterResponse = [...hooks.afterResponse];\n        }\n    }\n    // TODO: raw.searchParams\n    if (is.object(raw.pagination)) {\n        result.pagination = { ...raw.pagination };\n    }\n    return result;\n};\nconst getHttp2TimeoutOption = (internals) => {\n    const delays = [internals.timeout.socket, internals.timeout.connect, internals.timeout.lookup, internals.timeout.request, internals.timeout.secureConnect].filter(delay => typeof delay === 'number');\n    if (delays.length > 0) {\n        return Math.min(...delays);\n    }\n    return undefined;\n};\nconst init = (options, withOptions, self) => {\n    const initHooks = options.hooks?.init;\n    if (initHooks) {\n        for (const hook of initHooks) {\n            hook(withOptions, self);\n        }\n    }\n};\nexport default class Options {\n    constructor(input, options, defaults) {\n        Object.defineProperty(this, \"_unixOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_internals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_merging\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_init\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        assert.any([is.string, is.urlInstance, is.object, is.undefined], input);\n        assert.any([is.object, is.undefined], options);\n        assert.any([is.object, is.undefined], defaults);\n        if (input instanceof Options || options instanceof Options) {\n            throw new TypeError('The defaults must be passed as the third argument');\n        }\n        this._internals = cloneInternals(defaults?._internals ?? defaults ?? defaultInternals);\n        this._init = [...(defaults?._init ?? [])];\n        this._merging = false;\n        this._unixOptions = undefined;\n        // This rule allows `finally` to be considered more important.\n        // Meaning no matter the error thrown in the `try` block,\n        // if `finally` throws then the `finally` error will be thrown.\n        //\n        // Yes, we want this. If we set `url` first, then the `url.searchParams`\n        // would get merged. Instead we set the `searchParams` first, then\n        // `url.searchParams` is overwritten as expected.\n        //\n        /* eslint-disable no-unsafe-finally */\n        try {\n            if (is.plainObject(input)) {\n                try {\n                    this.merge(input);\n                    this.merge(options);\n                }\n                finally {\n                    this.url = input.url;\n                }\n            }\n            else {\n                try {\n                    this.merge(options);\n                }\n                finally {\n                    if (options?.url !== undefined) {\n                        if (input === undefined) {\n                            this.url = options.url;\n                        }\n                        else {\n                            throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n                        }\n                    }\n                    else if (input !== undefined) {\n                        this.url = input;\n                    }\n                }\n            }\n        }\n        catch (error) {\n            error.options = this;\n            throw error;\n        }\n        /* eslint-enable no-unsafe-finally */\n    }\n    merge(options) {\n        if (!options) {\n            return;\n        }\n        if (options instanceof Options) {\n            for (const init of options._init) {\n                this.merge(init);\n            }\n            return;\n        }\n        options = cloneRaw(options);\n        init(this, options, this);\n        init(options, options, this);\n        this._merging = true;\n        // Always merge `isStream` first\n        if ('isStream' in options) {\n            this.isStream = options.isStream;\n        }\n        try {\n            let push = false;\n            for (const key in options) {\n                // `got.extend()` options\n                if (key === 'mutableDefaults' || key === 'handlers') {\n                    continue;\n                }\n                // Never merge `url`\n                if (key === 'url') {\n                    continue;\n                }\n                if (!(key in this)) {\n                    throw new Error(`Unexpected option: ${key}`);\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                const value = options[key];\n                if (value === undefined) {\n                    continue;\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                this[key] = value;\n                push = true;\n            }\n            if (push) {\n                this._init.push(options);\n            }\n        }\n        finally {\n            this._merging = false;\n        }\n    }\n    /**\n    Custom request function.\n    The main purpose of this is to [support HTTP2 using a wrapper](https://github.com/szmarczak/http2-wrapper).\n\n    @default http.request | https.request\n    */\n    get request() {\n        return this._internals.request;\n    }\n    set request(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.request = value;\n    }\n    /**\n    An object representing `http`, `https` and `http2` keys for [`http.Agent`](https://nodejs.org/api/http.html#http_class_http_agent), [`https.Agent`](https://nodejs.org/api/https.html#https_class_https_agent) and [`http2wrapper.Agent`](https://github.com/szmarczak/http2-wrapper#new-http2agentoptions) instance.\n    This is necessary because a request to one protocol might redirect to another.\n    In such a scenario, Got will switch over to the right protocol agent for you.\n\n    If a key is not present, it will default to a global agent.\n\n    @example\n    ```\n    import got from 'got';\n    import HttpAgent from 'agentkeepalive';\n\n    const {HttpsAgent} = HttpAgent;\n\n    await got('https://sindresorhus.com', {\n        agent: {\n            http: new HttpAgent(),\n            https: new HttpsAgent()\n        }\n    });\n    ```\n    */\n    get agent() {\n        return this._internals.agent;\n    }\n    set agent(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.agent)) {\n                throw new TypeError(`Unexpected agent option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.object, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.agent, value);\n        }\n        else {\n            this._internals.agent = { ...value };\n        }\n    }\n    get h2session() {\n        return this._internals.h2session;\n    }\n    set h2session(value) {\n        this._internals.h2session = value;\n    }\n    /**\n    Decompress the response automatically.\n\n    This will set the `accept-encoding` header to `gzip, deflate, br` unless you set it yourself.\n\n    If this is disabled, a compressed response is returned as a `Buffer`.\n    This may be useful if you want to handle decompression yourself or stream the raw compressed data.\n\n    @default true\n    */\n    get decompress() {\n        return this._internals.decompress;\n    }\n    set decompress(value) {\n        assert.boolean(value);\n        this._internals.decompress = value;\n    }\n    /**\n    Milliseconds to wait for the server to end the response before aborting the request with `got.TimeoutError` error (a.k.a. `request` property).\n    By default, there's no timeout.\n\n    This also accepts an `object` with the following fields to constrain the duration of each phase of the request lifecycle:\n\n    - `lookup` starts when a socket is assigned and ends when the hostname has been resolved.\n        Does not apply when using a Unix domain socket.\n    - `connect` starts when `lookup` completes (or when the socket is assigned if lookup does not apply to the request) and ends when the socket is connected.\n    - `secureConnect` starts when `connect` completes and ends when the handshaking process completes (HTTPS only).\n    - `socket` starts when the socket is connected. See [request.setTimeout](https://nodejs.org/api/http.html#http_request_settimeout_timeout_callback).\n    - `response` starts when the request has been written to the socket and ends when the response headers are received.\n    - `send` starts when the socket is connected and ends with the request has been written to the socket.\n    - `request` starts when the request is initiated and ends when the response's end event fires.\n    */\n    get timeout() {\n        // We always return `Delays` here.\n        // It has to be `Delays | number`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.timeout;\n    }\n    set timeout(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.timeout)) {\n                throw new Error(`Unexpected timeout option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.number, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.timeout, value);\n        }\n        else {\n            this._internals.timeout = { ...value };\n        }\n    }\n    /**\n    When specified, `prefixUrl` will be prepended to `url`.\n    The prefix can be any valid URL, either relative or absolute.\n    A trailing slash `/` is optional - one will be added automatically.\n\n    __Note__: `prefixUrl` will be ignored if the `url` argument is a URL instance.\n\n    __Note__: Leading slashes in `input` are disallowed when using this option to enforce consistency and avoid confusion.\n    For example, when the prefix URL is `https://example.com/foo` and the input is `/bar`, there's ambiguity whether the resulting URL would become `https://example.com/foo/bar` or `https://example.com/bar`.\n    The latter is used by browsers.\n\n    __Tip__: Useful when used with `got.extend()` to create niche-specific Got instances.\n\n    __Tip__: You can change `prefixUrl` using hooks as long as the URL still includes the `prefixUrl`.\n    If the URL doesn't include it anymore, it will throw.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got('unicorn', {prefixUrl: 'https://cats.com'});\n    //=> 'https://cats.com/unicorn'\n\n    const instance = got.extend({\n        prefixUrl: 'https://google.com'\n    });\n\n    await instance('unicorn', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    options.prefixUrl = 'https://cats.com';\n                }\n            ]\n        }\n    });\n    //=> 'https://cats.com/unicorn'\n    ```\n    */\n    get prefixUrl() {\n        // We always return `string` here.\n        // It has to be `string | URL`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.prefixUrl;\n    }\n    set prefixUrl(value) {\n        assert.any([is.string, is.urlInstance], value);\n        if (value === '') {\n            this._internals.prefixUrl = '';\n            return;\n        }\n        value = value.toString();\n        if (!value.endsWith('/')) {\n            value += '/';\n        }\n        if (this._internals.prefixUrl && this._internals.url) {\n            const { href } = this._internals.url;\n            this._internals.url.href = value + href.slice(this._internals.prefixUrl.length);\n        }\n        this._internals.prefixUrl = value;\n    }\n    /**\n    __Note #1__: The `body` option cannot be used with the `json` or `form` option.\n\n    __Note #2__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #3__: If you provide a payload with the `GET` or `HEAD` method, it will throw a `TypeError` unless the method is `GET` and the `allowGetBody` option is set to `true`.\n\n    __Note #4__: This option is not enumerable and will not be merged with the instance defaults.\n\n    The `content-length` header will be automatically set if `body` is a `string` / `Buffer` / [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) / [`form-data` instance](https://github.com/form-data/form-data), and `content-length` and `transfer-encoding` are not manually set in `options.headers`.\n\n    Since Got 12, the `content-length` is not automatically set when `body` is a `fs.createReadStream`.\n    */\n    get body() {\n        return this._internals.body;\n    }\n    set body(value) {\n        assert.any([is.string, is.buffer, is.nodeStream, is.generator, is.asyncGenerator, isFormData, is.undefined], value);\n        if (is.nodeStream(value)) {\n            assert.truthy(value.readable);\n        }\n        if (value !== undefined) {\n            assert.undefined(this._internals.form);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.body = value;\n    }\n    /**\n    The form body is converted to a query string using [`(new URLSearchParams(object)).toString()`](https://nodejs.org/api/url.html#url_constructor_new_urlsearchparams_obj).\n\n    If the `Content-Type` header is not present, it will be set to `application/x-www-form-urlencoded`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get form() {\n        return this._internals.form;\n    }\n    set form(value) {\n        assert.any([is.plainObject, is.undefined], value);\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.form = value;\n    }\n    /**\n    JSON body. If the `Content-Type` header is not set, it will be set to `application/json`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get json() {\n        return this._internals.json;\n    }\n    set json(value) {\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.form);\n        }\n        this._internals.json = value;\n    }\n    /**\n    The URL to request, as a string, a [`https.request` options object](https://nodejs.org/api/https.html#https_https_request_options_callback), or a [WHATWG `URL`](https://nodejs.org/api/url.html#url_class_url).\n\n    Properties from `options` will override properties in the parsed `url`.\n\n    If no protocol is specified, it will throw a `TypeError`.\n\n    __Note__: The query string is **not** parsed as search params.\n\n    @example\n    ```\n    await got('https://example.com/?query=a b'); //=> https://example.com/?query=a%20b\n    await got('https://example.com/', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n\n    // The query string is overridden by `searchParams`\n    await got('https://example.com/?query=a b', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n    ```\n    */\n    get url() {\n        return this._internals.url;\n    }\n    set url(value) {\n        assert.any([is.string, is.urlInstance, is.undefined], value);\n        if (value === undefined) {\n            this._internals.url = undefined;\n            return;\n        }\n        if (is.string(value) && value.startsWith('/')) {\n            throw new Error('`url` must not start with a slash');\n        }\n        const urlString = `${this.prefixUrl}${value.toString()}`;\n        const url = new URL(urlString);\n        this._internals.url = url;\n        if (url.protocol === 'unix:') {\n            url.href = `http://unix${url.pathname}${url.search}`;\n        }\n        if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n            const error = new Error(`Unsupported protocol: ${url.protocol}`);\n            error.code = 'ERR_UNSUPPORTED_PROTOCOL';\n            throw error;\n        }\n        if (this._internals.username) {\n            url.username = this._internals.username;\n            this._internals.username = '';\n        }\n        if (this._internals.password) {\n            url.password = this._internals.password;\n            this._internals.password = '';\n        }\n        if (this._internals.searchParams) {\n            url.search = this._internals.searchParams.toString();\n            this._internals.searchParams = undefined;\n        }\n        if (url.hostname === 'unix') {\n            if (!this._internals.enableUnixSockets) {\n                throw new Error('Using UNIX domain sockets but option `enableUnixSockets` is not enabled');\n            }\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches?.groups) {\n                const { socketPath, path } = matches.groups;\n                this._unixOptions = {\n                    socketPath,\n                    path,\n                    host: '',\n                };\n            }\n            else {\n                this._unixOptions = undefined;\n            }\n            return;\n        }\n        this._unixOptions = undefined;\n    }\n    /**\n    Cookie support. You don't have to care about parsing or how to store them.\n\n    __Note__: If you provide this option, `options.headers.cookie` will be overridden.\n    */\n    get cookieJar() {\n        return this._internals.cookieJar;\n    }\n    set cookieJar(value) {\n        assert.any([is.object, is.undefined], value);\n        if (value === undefined) {\n            this._internals.cookieJar = undefined;\n            return;\n        }\n        let { setCookie, getCookieString } = value;\n        assert.function_(setCookie);\n        assert.function_(getCookieString);\n        /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n        if (setCookie.length === 4 && getCookieString.length === 0) {\n            setCookie = promisify(setCookie.bind(value));\n            getCookieString = promisify(getCookieString.bind(value));\n            this._internals.cookieJar = {\n                setCookie,\n                getCookieString: getCookieString,\n            };\n        }\n        else {\n            this._internals.cookieJar = value;\n        }\n    }\n    /**\n    You can abort the `request` using [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n\n    @example\n    ```\n    import got from 'got';\n\n    const abortController = new AbortController();\n\n    const request = got('https://httpbin.org/anything', {\n        signal: abortController.signal\n    });\n\n    setTimeout(() => {\n        abortController.abort();\n    }, 100);\n    ```\n    */\n    get signal() {\n        return this._internals.signal;\n    }\n    set signal(value) {\n        assert.object(value);\n        this._internals.signal = value;\n    }\n    /**\n    Ignore invalid cookies instead of throwing an error.\n    Only useful when the `cookieJar` option has been set. Not recommended.\n\n    @default false\n    */\n    get ignoreInvalidCookies() {\n        return this._internals.ignoreInvalidCookies;\n    }\n    set ignoreInvalidCookies(value) {\n        assert.boolean(value);\n        this._internals.ignoreInvalidCookies = value;\n    }\n    /**\n    Query string that will be added to the request URL.\n    This will override the query string in `url`.\n\n    If you need to pass in an array, you can do it using a `URLSearchParams` instance.\n\n    @example\n    ```\n    import got from 'got';\n\n    const searchParams = new URLSearchParams([['key', 'a'], ['key', 'b']]);\n\n    await got('https://example.com', {searchParams});\n\n    console.log(searchParams.toString());\n    //=> 'key=a&key=b'\n    ```\n    */\n    get searchParams() {\n        if (this._internals.url) {\n            return this._internals.url.searchParams;\n        }\n        if (this._internals.searchParams === undefined) {\n            this._internals.searchParams = new URLSearchParams();\n        }\n        return this._internals.searchParams;\n    }\n    set searchParams(value) {\n        assert.any([is.string, is.object, is.undefined], value);\n        const url = this._internals.url;\n        if (value === undefined) {\n            this._internals.searchParams = undefined;\n            if (url) {\n                url.search = '';\n            }\n            return;\n        }\n        const searchParameters = this.searchParams;\n        let updated;\n        if (is.string(value)) {\n            updated = new URLSearchParams(value);\n        }\n        else if (value instanceof URLSearchParams) {\n            updated = value;\n        }\n        else {\n            validateSearchParameters(value);\n            updated = new URLSearchParams();\n            // eslint-disable-next-line guard-for-in\n            for (const key in value) {\n                const entry = value[key];\n                if (entry === null) {\n                    updated.append(key, '');\n                }\n                else if (entry === undefined) {\n                    searchParameters.delete(key);\n                }\n                else {\n                    updated.append(key, entry);\n                }\n            }\n        }\n        if (this._merging) {\n            // These keys will be replaced\n            for (const key of updated.keys()) {\n                searchParameters.delete(key);\n            }\n            for (const [key, value] of updated) {\n                searchParameters.append(key, value);\n            }\n        }\n        else if (url) {\n            url.search = searchParameters.toString();\n        }\n        else {\n            this._internals.searchParams = searchParameters;\n        }\n    }\n    get searchParameters() {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    set searchParameters(_value) {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    get dnsLookup() {\n        return this._internals.dnsLookup;\n    }\n    set dnsLookup(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.dnsLookup = value;\n    }\n    /**\n    An instance of [`CacheableLookup`](https://github.com/szmarczak/cacheable-lookup) used for making DNS lookups.\n    Useful when making lots of requests to different *public* hostnames.\n\n    `CacheableLookup` uses `dns.resolver4(..)` and `dns.resolver6(...)` under the hood and fall backs to `dns.lookup(...)` when the first two fail, which may lead to additional delay.\n\n    __Note__: This should stay disabled when making requests to internal hostnames such as `localhost`, `database.local` etc.\n\n    @default false\n    */\n    get dnsCache() {\n        return this._internals.dnsCache;\n    }\n    set dnsCache(value) {\n        assert.any([is.object, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.dnsCache = getGlobalDnsCache();\n        }\n        else if (value === false) {\n            this._internals.dnsCache = undefined;\n        }\n        else {\n            this._internals.dnsCache = value;\n        }\n    }\n    /**\n    User data. `context` is shallow merged and enumerable. If it contains non-enumerable properties they will NOT be merged.\n\n    @example\n    ```\n    import got from 'got';\n\n    const instance = got.extend({\n        hooks: {\n            beforeRequest: [\n                options => {\n                    if (!options.context || !options.context.token) {\n                        throw new Error('Token required');\n                    }\n\n                    options.headers.token = options.context.token;\n                }\n            ]\n        }\n    });\n\n    const context = {\n        token: 'secret'\n    };\n\n    const response = await instance('https://httpbin.org/headers', {context});\n\n    // Let's see the headers\n    console.log(response.body);\n    ```\n    */\n    get context() {\n        return this._internals.context;\n    }\n    set context(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.context, value);\n        }\n        else {\n            this._internals.context = { ...value };\n        }\n    }\n    /**\n    Hooks allow modifications during the request lifecycle.\n    Hook functions may be async and are run serially.\n    */\n    get hooks() {\n        return this._internals.hooks;\n    }\n    set hooks(value) {\n        assert.object(value);\n        // eslint-disable-next-line guard-for-in\n        for (const knownHookEvent in value) {\n            if (!(knownHookEvent in this._internals.hooks)) {\n                throw new Error(`Unexpected hook event: ${knownHookEvent}`);\n            }\n            const typedKnownHookEvent = knownHookEvent;\n            const hooks = value[typedKnownHookEvent];\n            assert.any([is.array, is.undefined], hooks);\n            if (hooks) {\n                for (const hook of hooks) {\n                    assert.function_(hook);\n                }\n            }\n            if (this._merging) {\n                if (hooks) {\n                    // @ts-expect-error FIXME\n                    this._internals.hooks[typedKnownHookEvent].push(...hooks);\n                }\n            }\n            else {\n                if (!hooks) {\n                    throw new Error(`Missing hook event: ${knownHookEvent}`);\n                }\n                // @ts-expect-error FIXME\n                this._internals.hooks[knownHookEvent] = [...hooks];\n            }\n        }\n    }\n    /**\n    Defines if redirect responses should be followed automatically.\n\n    Note that if a `303` is sent by the server in response to any request type (`POST`, `DELETE`, etc.), Got will automatically request the resource pointed to in the location header via `GET`.\n    This is in accordance with [the spec](https://tools.ietf.org/html/rfc7231#section-6.4.4). You can optionally turn on this behavior also for other redirect codes - see `methodRewriting`.\n\n    @default true\n    */\n    get followRedirect() {\n        return this._internals.followRedirect;\n    }\n    set followRedirect(value) {\n        assert.boolean(value);\n        this._internals.followRedirect = value;\n    }\n    get followRedirects() {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    set followRedirects(_value) {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    /**\n    If exceeded, the request will be aborted and a `MaxRedirectsError` will be thrown.\n\n    @default 10\n    */\n    get maxRedirects() {\n        return this._internals.maxRedirects;\n    }\n    set maxRedirects(value) {\n        assert.number(value);\n        this._internals.maxRedirects = value;\n    }\n    /**\n    A cache adapter instance for storing cached response data.\n\n    @default false\n    */\n    get cache() {\n        return this._internals.cache;\n    }\n    set cache(value) {\n        assert.any([is.object, is.string, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.cache = globalCache;\n        }\n        else if (value === false) {\n            this._internals.cache = undefined;\n        }\n        else {\n            this._internals.cache = value;\n        }\n    }\n    /**\n    Determines if a `got.HTTPError` is thrown for unsuccessful responses.\n\n    If this is disabled, requests that encounter an error status code will be resolved with the `response` instead of throwing.\n    This may be useful if you are checking for resource availability and are expecting error responses.\n\n    @default true\n    */\n    get throwHttpErrors() {\n        return this._internals.throwHttpErrors;\n    }\n    set throwHttpErrors(value) {\n        assert.boolean(value);\n        this._internals.throwHttpErrors = value;\n    }\n    get username() {\n        const url = this._internals.url;\n        const value = url ? url.username : this._internals.username;\n        return decodeURIComponent(value);\n    }\n    set username(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.username = fixedValue;\n        }\n        else {\n            this._internals.username = fixedValue;\n        }\n    }\n    get password() {\n        const url = this._internals.url;\n        const value = url ? url.password : this._internals.password;\n        return decodeURIComponent(value);\n    }\n    set password(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.password = fixedValue;\n        }\n        else {\n            this._internals.password = fixedValue;\n        }\n    }\n    /**\n    If set to `true`, Got will additionally accept HTTP2 requests.\n\n    It will choose either HTTP/1.1 or HTTP/2 depending on the ALPN protocol.\n\n    __Note__: This option requires Node.js 15.10.0 or newer as HTTP/2 support on older Node.js versions is very buggy.\n\n    __Note__: Overriding `options.request` will disable HTTP2 support.\n\n    @default false\n\n    @example\n    ```\n    import got from 'got';\n\n    const {headers} = await got('https://nghttp2.org/httpbin/anything', {http2: true});\n\n    console.log(headers.via);\n    //=> '2 nghttpx'\n    ```\n    */\n    get http2() {\n        return this._internals.http2;\n    }\n    set http2(value) {\n        assert.boolean(value);\n        this._internals.http2 = value;\n    }\n    /**\n    Set this to `true` to allow sending body for the `GET` method.\n    However, the [HTTP/2 specification](https://tools.ietf.org/html/rfc7540#section-8.1.3) says that `An HTTP GET request includes request header fields and no payload body`, therefore when using the HTTP/2 protocol this option will have no effect.\n    This option is only meant to interact with non-compliant servers when you have no other choice.\n\n    __Note__: The [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.1) doesn't specify any particular behavior for the GET method having a payload, therefore __it's considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern)__.\n\n    @default false\n    */\n    get allowGetBody() {\n        return this._internals.allowGetBody;\n    }\n    set allowGetBody(value) {\n        assert.boolean(value);\n        this._internals.allowGetBody = value;\n    }\n    /**\n    Request headers.\n\n    Existing headers will be overwritten. Headers set to `undefined` will be omitted.\n\n    @default {}\n    */\n    get headers() {\n        return this._internals.headers;\n    }\n    set headers(value) {\n        assert.plainObject(value);\n        if (this._merging) {\n            Object.assign(this._internals.headers, lowercaseKeys(value));\n        }\n        else {\n            this._internals.headers = lowercaseKeys(value);\n        }\n    }\n    /**\n    Specifies if the HTTP request method should be [rewritten as `GET`](https://tools.ietf.org/html/rfc7231#section-6.4) on redirects.\n\n    As the [specification](https://tools.ietf.org/html/rfc7231#section-6.4) prefers to rewrite the HTTP method only on `303` responses, this is Got's default behavior.\n    Setting `methodRewriting` to `true` will also rewrite `301` and `302` responses, as allowed by the spec. This is the behavior followed by `curl` and browsers.\n\n    __Note__: Got never performs method rewriting on `307` and `308` responses, as this is [explicitly prohibited by the specification](https://www.rfc-editor.org/rfc/rfc7231#section-6.4.7).\n\n    @default false\n    */\n    get methodRewriting() {\n        return this._internals.methodRewriting;\n    }\n    set methodRewriting(value) {\n        assert.boolean(value);\n        this._internals.methodRewriting = value;\n    }\n    /**\n    Indicates which DNS record family to use.\n\n    Values:\n    - `undefined`: IPv4 (if present) or IPv6\n    - `4`: Only IPv4\n    - `6`: Only IPv6\n\n    @default undefined\n    */\n    get dnsLookupIpVersion() {\n        return this._internals.dnsLookupIpVersion;\n    }\n    set dnsLookupIpVersion(value) {\n        if (value !== undefined && value !== 4 && value !== 6) {\n            throw new TypeError(`Invalid DNS lookup IP version: ${value}`);\n        }\n        this._internals.dnsLookupIpVersion = value;\n    }\n    /**\n    A function used to parse JSON responses.\n\n    @example\n    ```\n    import got from 'got';\n    import Bourne from '@hapi/bourne';\n\n    const parsed = await got('https://example.com', {\n        parseJson: text => Bourne.parse(text)\n    }).json();\n\n    console.log(parsed);\n    ```\n    */\n    get parseJson() {\n        return this._internals.parseJson;\n    }\n    set parseJson(value) {\n        assert.function_(value);\n        this._internals.parseJson = value;\n    }\n    /**\n    A function used to stringify the body of JSON requests.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (key.startsWith('_')) {\n                return;\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            _ignoreMe: 1234\n        }\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (typeof value === 'number') {\n                return value.toString();\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            number: 1\n        }\n    });\n    ```\n    */\n    get stringifyJson() {\n        return this._internals.stringifyJson;\n    }\n    set stringifyJson(value) {\n        assert.function_(value);\n        this._internals.stringifyJson = value;\n    }\n    /**\n    An object representing `limit`, `calculateDelay`, `methods`, `statusCodes`, `maxRetryAfter` and `errorCodes` fields for maximum retry count, retry handler, allowed methods, allowed status codes, maximum [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) time and allowed error codes.\n\n    Delays between retries counts with function `1000 * Math.pow(2, retry) + Math.random() * 100`, where `retry` is attempt number (starts from 1).\n\n    The `calculateDelay` property is a `function` that receives an object with `attemptCount`, `retryOptions`, `error` and `computedValue` properties for current retry count, the retry options, error and default computed value.\n    The function must return a delay in milliseconds (or a Promise resolving with it) (`0` return value cancels retry).\n\n    By default, it retries *only* on the specified methods, status codes, and on these network errors:\n\n    - `ETIMEDOUT`: One of the [timeout](#timeout) limits were reached.\n    - `ECONNRESET`: Connection was forcibly closed by a peer.\n    - `EADDRINUSE`: Could not bind to any free port.\n    - `ECONNREFUSED`: Connection was refused by the server.\n    - `EPIPE`: The remote side of the stream being written has been closed.\n    - `ENOTFOUND`: Couldn't resolve the hostname to an IP address.\n    - `ENETUNREACH`: No internet connection.\n    - `EAI_AGAIN`: DNS lookup timed out.\n\n    __Note__: If `maxRetryAfter` is set to `undefined`, it will use `options.timeout`.\n    __Note__: If [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header is greater than `maxRetryAfter`, it will cancel the request.\n    */\n    get retry() {\n        return this._internals.retry;\n    }\n    set retry(value) {\n        assert.plainObject(value);\n        assert.any([is.function_, is.undefined], value.calculateDelay);\n        assert.any([is.number, is.undefined], value.maxRetryAfter);\n        assert.any([is.number, is.undefined], value.limit);\n        assert.any([is.array, is.undefined], value.methods);\n        assert.any([is.array, is.undefined], value.statusCodes);\n        assert.any([is.array, is.undefined], value.errorCodes);\n        assert.any([is.number, is.undefined], value.noise);\n        if (value.noise && Math.abs(value.noise) > 100) {\n            throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${value.noise}`);\n        }\n        for (const key in value) {\n            if (!(key in this._internals.retry)) {\n                throw new Error(`Unexpected retry option: ${key}`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.retry, value);\n        }\n        else {\n            this._internals.retry = { ...value };\n        }\n        const { retry } = this._internals;\n        retry.methods = [...new Set(retry.methods.map(method => method.toUpperCase()))];\n        retry.statusCodes = [...new Set(retry.statusCodes)];\n        retry.errorCodes = [...new Set(retry.errorCodes)];\n    }\n    /**\n    From `http.RequestOptions`.\n\n    The IP address used to send the request from.\n    */\n    get localAddress() {\n        return this._internals.localAddress;\n    }\n    set localAddress(value) {\n        assert.any([is.string, is.undefined], value);\n        this._internals.localAddress = value;\n    }\n    /**\n    The HTTP method used to make the request.\n\n    @default 'GET'\n    */\n    get method() {\n        return this._internals.method;\n    }\n    set method(value) {\n        assert.string(value);\n        this._internals.method = value.toUpperCase();\n    }\n    get createConnection() {\n        return this._internals.createConnection;\n    }\n    set createConnection(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.createConnection = value;\n    }\n    /**\n    From `http-cache-semantics`\n\n    @default {}\n    */\n    get cacheOptions() {\n        return this._internals.cacheOptions;\n    }\n    set cacheOptions(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.shared);\n        assert.any([is.number, is.undefined], value.cacheHeuristic);\n        assert.any([is.number, is.undefined], value.immutableMinTimeToLive);\n        assert.any([is.boolean, is.undefined], value.ignoreCargoCult);\n        for (const key in value) {\n            if (!(key in this._internals.cacheOptions)) {\n                throw new Error(`Cache option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.cacheOptions, value);\n        }\n        else {\n            this._internals.cacheOptions = { ...value };\n        }\n    }\n    /**\n    Options for the advanced HTTPS API.\n    */\n    get https() {\n        return this._internals.https;\n    }\n    set https(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.rejectUnauthorized);\n        assert.any([is.function_, is.undefined], value.checkServerIdentity);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificateAuthority);\n        assert.any([is.string, is.object, is.array, is.undefined], value.key);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificate);\n        assert.any([is.string, is.undefined], value.passphrase);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.pfx);\n        assert.any([is.array, is.undefined], value.alpnProtocols);\n        assert.any([is.string, is.undefined], value.ciphers);\n        assert.any([is.string, is.buffer, is.undefined], value.dhparam);\n        assert.any([is.string, is.undefined], value.signatureAlgorithms);\n        assert.any([is.string, is.undefined], value.minVersion);\n        assert.any([is.string, is.undefined], value.maxVersion);\n        assert.any([is.boolean, is.undefined], value.honorCipherOrder);\n        assert.any([is.number, is.undefined], value.tlsSessionLifetime);\n        assert.any([is.string, is.undefined], value.ecdhCurve);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.certificateRevocationLists);\n        for (const key in value) {\n            if (!(key in this._internals.https)) {\n                throw new Error(`HTTPS option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.https, value);\n        }\n        else {\n            this._internals.https = { ...value };\n        }\n    }\n    /**\n    [Encoding](https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings) to be used on `setEncoding` of the response data.\n\n    To get a [`Buffer`](https://nodejs.org/api/buffer.html), you need to set `responseType` to `buffer` instead.\n    Don't set this option to `null`.\n\n    __Note__: This doesn't affect streams! Instead, you need to do `got.stream(...).setEncoding(encoding)`.\n\n    @default 'utf-8'\n    */\n    get encoding() {\n        return this._internals.encoding;\n    }\n    set encoding(value) {\n        if (value === null) {\n            throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n        }\n        assert.any([is.string, is.undefined], value);\n        this._internals.encoding = value;\n    }\n    /**\n    When set to `true` the promise will return the Response body instead of the Response object.\n\n    @default false\n    */\n    get resolveBodyOnly() {\n        return this._internals.resolveBodyOnly;\n    }\n    set resolveBodyOnly(value) {\n        assert.boolean(value);\n        this._internals.resolveBodyOnly = value;\n    }\n    /**\n    Returns a `Stream` instead of a `Promise`.\n    This is equivalent to calling `got.stream(url, options?)`.\n\n    @default false\n    */\n    get isStream() {\n        return this._internals.isStream;\n    }\n    set isStream(value) {\n        assert.boolean(value);\n        this._internals.isStream = value;\n    }\n    /**\n    The parsing method.\n\n    The promise also has `.text()`, `.json()` and `.buffer()` methods which return another Got promise for the parsed body.\n\n    It's like setting the options to `{responseType: 'json', resolveBodyOnly: true}` but without affecting the main Got promise.\n\n    __Note__: When using streams, this option is ignored.\n\n    @example\n    ```\n    const responsePromise = got(url);\n    const bufferPromise = responsePromise.buffer();\n    const jsonPromise = responsePromise.json();\n\n    const [response, buffer, json] = Promise.all([responsePromise, bufferPromise, jsonPromise]);\n    // `response` is an instance of Got Response\n    // `buffer` is an instance of Buffer\n    // `json` is an object\n    ```\n\n    @example\n    ```\n    // This\n    const body = await got(url).json();\n\n    // is semantically the same as this\n    const body = await got(url, {responseType: 'json', resolveBodyOnly: true});\n    ```\n    */\n    get responseType() {\n        return this._internals.responseType;\n    }\n    set responseType(value) {\n        if (value === undefined) {\n            this._internals.responseType = 'text';\n            return;\n        }\n        if (value !== 'text' && value !== 'buffer' && value !== 'json') {\n            throw new Error(`Invalid \\`responseType\\` option: ${value}`);\n        }\n        this._internals.responseType = value;\n    }\n    get pagination() {\n        return this._internals.pagination;\n    }\n    set pagination(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.pagination, value);\n        }\n        else {\n            this._internals.pagination = value;\n        }\n    }\n    get auth() {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    set auth(_value) {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    get setHost() {\n        return this._internals.setHost;\n    }\n    set setHost(value) {\n        assert.boolean(value);\n        this._internals.setHost = value;\n    }\n    get maxHeaderSize() {\n        return this._internals.maxHeaderSize;\n    }\n    set maxHeaderSize(value) {\n        assert.any([is.number, is.undefined], value);\n        this._internals.maxHeaderSize = value;\n    }\n    get enableUnixSockets() {\n        return this._internals.enableUnixSockets;\n    }\n    set enableUnixSockets(value) {\n        assert.boolean(value);\n        this._internals.enableUnixSockets = value;\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    toJSON() {\n        return { ...this._internals };\n    }\n    [Symbol.for('nodejs.util.inspect.custom')](_depth, options) {\n        return inspect(this._internals, options);\n    }\n    createNativeRequestOptions() {\n        const internals = this._internals;\n        const url = internals.url;\n        let agent;\n        if (url.protocol === 'https:') {\n            agent = internals.http2 ? internals.agent : internals.agent.https;\n        }\n        else {\n            agent = internals.agent.http;\n        }\n        const { https } = internals;\n        let { pfx } = https;\n        if (is.array(pfx) && is.plainObject(pfx[0])) {\n            pfx = pfx.map(object => ({\n                buf: object.buffer,\n                passphrase: object.passphrase,\n            }));\n        }\n        return {\n            ...internals.cacheOptions,\n            ...this._unixOptions,\n            // HTTPS options\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            ALPNProtocols: https.alpnProtocols,\n            ca: https.certificateAuthority,\n            cert: https.certificate,\n            key: https.key,\n            passphrase: https.passphrase,\n            pfx: https.pfx,\n            rejectUnauthorized: https.rejectUnauthorized,\n            checkServerIdentity: https.checkServerIdentity ?? checkServerIdentity,\n            ciphers: https.ciphers,\n            honorCipherOrder: https.honorCipherOrder,\n            minVersion: https.minVersion,\n            maxVersion: https.maxVersion,\n            sigalgs: https.signatureAlgorithms,\n            sessionTimeout: https.tlsSessionLifetime,\n            dhparam: https.dhparam,\n            ecdhCurve: https.ecdhCurve,\n            crl: https.certificateRevocationLists,\n            // HTTP options\n            lookup: internals.dnsLookup ?? internals.dnsCache?.lookup,\n            family: internals.dnsLookupIpVersion,\n            agent,\n            setHost: internals.setHost,\n            method: internals.method,\n            maxHeaderSize: internals.maxHeaderSize,\n            localAddress: internals.localAddress,\n            headers: internals.headers,\n            createConnection: internals.createConnection,\n            timeout: internals.http2 ? getHttp2TimeoutOption(internals) : undefined,\n            // HTTP/2 options\n            h2session: internals.h2session,\n        };\n    }\n    getRequestFunction() {\n        const url = this._internals.url;\n        const { request } = this._internals;\n        if (!request && url) {\n            return this.getFallbackRequestFunction();\n        }\n        return request;\n    }\n    getFallbackRequestFunction() {\n        const url = this._internals.url;\n        if (!url) {\n            return;\n        }\n        if (url.protocol === 'https:') {\n            if (this._internals.http2) {\n                if (major < 15 || (major === 15 && minor < 10)) {\n                    const error = new Error('To use the `http2` option, install Node.js 15.10.0 or above');\n                    error.code = 'EUNSUPPORTED';\n                    throw error;\n                }\n                return http2wrapper.auto;\n            }\n            return https.request;\n        }\n        return http.request;\n    }\n    freeze() {\n        const options = this._internals;\n        Object.freeze(options);\n        Object.freeze(options.hooks);\n        Object.freeze(options.hooks.afterResponse);\n        Object.freeze(options.hooks.beforeError);\n        Object.freeze(options.hooks.beforeRedirect);\n        Object.freeze(options.hooks.beforeRequest);\n        Object.freeze(options.hooks.beforeRetry);\n        Object.freeze(options.hooks.init);\n        Object.freeze(options.https);\n        Object.freeze(options.cacheOptions);\n        Object.freeze(options.agent);\n        Object.freeze(options.headers);\n        Object.freeze(options.timeout);\n        Object.freeze(options.retry);\n        Object.freeze(options.retry.errorCodes);\n        Object.freeze(options.retry.methods);\n        Object.freeze(options.retry.statusCodes);\n    }\n}\n", "import {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises as dnsPromises,\n\tlookup as dnsLookup\n} from 'node:dns';\nimport {promisify} from 'node:util';\nimport os from 'node:os';\n\nconst {Resolver: AsyncResolver} = dnsPromises;\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ignoreNoResultErrors = dnsPromise => {\n\treturn dnsPromise.catch(error => {\n\t\tif (\n\t\t\terror.code === 'ENODATA' ||\n\t\t\terror.code === 'ENOTFOUND' ||\n\t\t\terror.code === 'ENOENT' // Windows: name exists, but not this record type\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthrow error;\n\t});\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\nconst all4 = {all: true, family: 4};\nconst all6 = {all: true, family: 6};\n\nexport default class CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = lookup && promisify(lookup);\n\t\tthis.stats = {\n\t\t\tcache: 0,\n\t\t\tquery: 0\n\t\t};\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tthis.fallbackDuration = fallbackDuration;\n\n\t\tif (fallbackDuration > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\n\t\t\tthis._fallbackInterval = interval;\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl, result.source);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet source = 'cache';\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (cached) {\n\t\t\tthis.stats.cache++;\n\t\t}\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\t\t\tif (pending) {\n\t\t\t\tthis.stats.cache++;\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tsource = 'query';\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\t\t\t\tthis.stats.query++;\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry, source};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tignoreNoResultErrors(this._resolve4(hostname, ttl)),\n\t\t\tignoreNoResultErrors(this._resolve6(hostname, ttl))\n\t\t]);\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst [A, AAAA] = await Promise.all([\n\t\t\t\t// Passing {all: true} doesn't return all IPv4 and IPv6 entries.\n\t\t\t\t// See https://github.com/szmarczak/cacheable-lookup/issues/42\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all4)),\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all6))\n\t\t\t]);\n\n\t\t\treturn {\n\t\t\t\tentries: [\n\t\t\t\t\t...A,\n\t\t\t\t\t...AAAA\n\t\t\t\t],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._dnsLookup) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0 && this.fallbackDuration > 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n", "export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n", "import { RequestError } from './errors.js';\nexport const isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = 'ERR_BODY_PARSE_FAILURE';\n    }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n", "function isClientRequest(clientRequest) {\n    return clientRequest.writable && !clientRequest.writableEnded;\n}\nexport default isClientRequest;\n", "// eslint-disable-next-line @typescript-eslint/naming-convention\nexport default function isUnixSocketURL(url) {\n    return url.protocol === 'unix:' || url.hostname === 'unix';\n}\n", "import { RequestError } from '../core/errors.js';\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nexport class CancelError extends RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    /**\n    Whether the promise is canceled.\n    */\n    get isCanceled() {\n        return true;\n    }\n}\n", "import is, { assert } from '@sindresorhus/is';\nimport asPromise from './as-promise/index.js';\nimport Request from './core/index.js';\nimport Options from './core/options.js';\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst isGotInstance = (value) => is.function_(value);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete',\n];\nconst create = (defaults) => {\n    defaults = {\n        options: new Options(undefined, undefined, defaults.options),\n        handlers: [...defaults.handlers],\n        mutableDefaults: defaults.mutableDefaults,\n    };\n    Object.defineProperty(defaults, 'mutableDefaults', {\n        enumerable: true,\n        configurable: false,\n        writable: false,\n    });\n    // Got interface\n    const got = ((url, options, defaultOptions = defaults.options) => {\n        const request = new Request(url, options, defaultOptions);\n        let promise;\n        const lastHandler = (normalized) => {\n            // Note: `options` is `undefined` when `new Options(...)` fails\n            request.options = normalized;\n            request._noPipe = !normalized.isStream;\n            void request.flush();\n            if (normalized.isStream) {\n                return request;\n            }\n            if (!promise) {\n                promise = asPromise(request);\n            }\n            return promise;\n        };\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            const handler = defaults.handlers[iteration++] ?? lastHandler;\n            const result = handler(newOptions, iterateHandlers);\n            if (is.promise(result) && !request.options.isStream) {\n                if (!promise) {\n                    promise = asPromise(request);\n                }\n                if (result !== promise) {\n                    const descriptors = Object.getOwnPropertyDescriptors(promise);\n                    for (const key in descriptors) {\n                        if (key in result) {\n                            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                            delete descriptors[key];\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    Object.defineProperties(result, descriptors);\n                    result.cancel = promise.cancel;\n                }\n            }\n            return result;\n        };\n        return iterateHandlers(request.options);\n    });\n    got.extend = (...instancesOrOptions) => {\n        const options = new Options(undefined, undefined, defaults.options);\n        const handlers = [...defaults.handlers];\n        let mutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                options.merge(value.defaults.options);\n                handlers.push(...value.defaults.handlers);\n                mutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                options.merge(value);\n                if (value.handlers) {\n                    handlers.push(...value.handlers);\n                }\n                mutableDefaults = value.mutableDefaults;\n            }\n        }\n        return create({\n            options,\n            handlers,\n            mutableDefaults: Boolean(mutableDefaults),\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        let normalizedOptions = new Options(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const { pagination } = normalizedOptions;\n        assert.function_(pagination.transform);\n        assert.function_(pagination.shouldContinue);\n        assert.function_(pagination.filter);\n        assert.function_(pagination.paginate);\n        assert.number(pagination.countLimit);\n        assert.number(pagination.requestLimit);\n        assert.number(pagination.backoff);\n        const allItems = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // eslint-disable-next-line no-await-in-loop\n            const response = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(response);\n            const currentItems = [];\n            assert.array(parsed);\n            for (const item of parsed) {\n                if (pagination.filter({ item, currentItems, allItems })) {\n                    if (!pagination.shouldContinue({ item, currentItems, allItems })) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        allItems.push(item);\n                    }\n                    currentItems.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate({\n                response,\n                currentItems,\n                allItems,\n            });\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === response.request.options) {\n                normalizedOptions = response.request.options;\n            }\n            else {\n                normalizedOptions.merge(optionsToMerge);\n                assert.any([is.urlInstance, is.undefined], optionsToMerge.url);\n                if (optionsToMerge.url !== undefined) {\n                    normalizedOptions.prefixUrl = '';\n                    normalizedOptions.url = optionsToMerge.url;\n                }\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => got(url, { ...options, method, isStream: true }));\n    }\n    if (!defaults.mutableDefaults) {\n        Object.freeze(defaults.handlers);\n        defaults.options.freeze();\n    }\n    Object.defineProperty(got, 'defaults', {\n        value: defaults,\n        writable: false,\n        configurable: false,\n        enumerable: true,\n    });\n    return got;\n};\nexport default create;\n", "import create from './create.js';\nimport Options from './core/options.js';\nconst defaults = {\n    options: new Options(),\n    handlers: [],\n    mutableDefaults: false,\n};\nconst got = create(defaults);\nexport default got;\nexport { got };\nexport { default as Options } from './core/options.js';\nexport * from './core/options.js';\nexport * from './core/response.js';\nexport * from './core/index.js';\nexport * from './core/errors.js';\nexport { default as calculateRetryDelay } from './core/calculate-retry-delay.js';\nexport * from './as-promise/types.js';\nexport * from './types.js';\nexport { default as create } from './create.js';\nexport { default as parseLinkHeader } from './core/parse-link-header.js';\n", "const word = '[a-fA-F\\\\d:]';\n\nconst boundry = options => options && options.includeBoundaries\n\t? `(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))`\n\t: '';\n\nconst v4 = '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\nconst v6segment = '[a-fA-F\\\\d]{1,4}';\n\nconst v6 = `\n(?:\n(?:${v6segment}:){7}(?:${v6segment}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6segment}:){6}(?:${v4}|:${v6segment}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6segment}:){5}(?::${v4}|(?::${v6segment}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6segment}:){4}(?:(?::${v6segment}){0,1}:${v4}|(?::${v6segment}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6segment}:){3}(?:(?::${v6segment}){0,2}:${v4}|(?::${v6segment}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6segment}:){2}(?:(?::${v6segment}){0,3}:${v4}|(?::${v6segment}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6segment}:){1}(?:(?::${v6segment}){0,4}:${v4}|(?::${v6segment}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6segment}){0,5}:${v4}|(?::${v6segment}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\n// Pre-compile only the exact regexes because adding a global flag make regexes stateful\nconst v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\nconst v4exact = new RegExp(`^${v4}$`);\nconst v6exact = new RegExp(`^${v6}$`);\n\nconst ipRegex = options => options && options.exact\n\t? v46Exact\n\t: new RegExp(`(?:${boundry(options)}${v4}${boundry(options)})|(?:${boundry(options)}${v6}${boundry(options)})`, 'g');\n\nipRegex.v4 = options => options && options.exact ? v4exact : new RegExp(`${boundry(options)}${v4}${boundry(options)}`, 'g');\nipRegex.v6 = options => options && options.exact ? v6exact : new RegExp(`${boundry(options)}${v6}${boundry(options)}`, 'g');\n\nexport default ipRegex;\n", "import vm from 'node:vm';\n\nexport default function functionTimeout(function_, {timeout} = {}) {\n\tconst script = new vm.Script('returnValue = function_()');\n\n\tconst wrappedFunction = (...arguments_) => {\n\t\tconst context = {\n\t\t\tfunction_: () => function_(...arguments_),\n\t\t};\n\n\t\tscript.runInNewContext(context, {timeout});\n\n\t\treturn context.returnValue;\n\t};\n\n\tObject.defineProperty(wrappedFunction, 'name', {\n\t\tvalue: `functionTimeout(${function_.name || '<anonymous>'})`,\n\t\tconfigurable: true,\n\t});\n\n\treturn wrappedFunction;\n}\n\nexport function isTimeoutError(error) {\n\treturn error?.code === 'ERR_SCRIPT_EXECUTION_TIMEOUT';\n}\n", "const {toString} = Object.prototype;\n\nexport default function isRegexp(value) {\n\treturn toString.call(value) === '[object RegExp]';\n}\n", "import isRegexp from 'is-regexp';\n\nconst flagMap = {\n\tglobal: 'g',\n\tignoreCase: 'i',\n\tmultiline: 'm',\n\tdotAll: 's',\n\tsticky: 'y',\n\tunicode: 'u'\n};\n\nexport default function clonedRegexp(regexp, options = {}) {\n\tif (!isRegexp(regexp)) {\n\t\tthrow new TypeError('Expected a RegExp instance');\n\t}\n\n\tconst flags = Object.keys(flagMap).map(flag => (\n\t\t(typeof options[flag] === 'boolean' ? options[flag] : regexp[flag]) ? flagMap[flag] : ''\n\t)).join('');\n\n\tconst clonedRegexp = new RegExp(options.source || regexp.source, flags);\n\n\tclonedRegexp.lastIndex = typeof options.lastIndex === 'number' ?\n\t\toptions.lastIndex :\n\t\tregexp.lastIndex;\n\n\treturn clonedRegexp;\n}\n", "import functionTimeout, {isTimeoutError} from 'function-timeout';\nimport timeSpan from 'time-span';\nimport cloneRegexp from 'clone-regexp'; // TODO: Use `structuredClone` instead when targeting Node.js 18.\n\nconst resultToMatch = result => ({\n\tmatch: result[0],\n\tindex: result.index,\n\tgroups: result.slice(1),\n\tnamedGroups: result.groups ?? {},\n\tinput: result.input,\n});\n\nexport function isMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\treturn functionTimeout(() => cloneRegexp(regex).test(string), {timeout})();\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function firstMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\tconst result = functionTimeout(() => cloneRegexp(regex).exec(string), {timeout})();\n\n\t\tif (result === null) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn resultToMatch(result);\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function matches(regex, string, {timeout = Number.POSITIVE_INFINITY, matchTimeout = Number.POSITIVE_INFINITY} = {}) {\n\tif (!regex.global) {\n\t\tthrow new Error('The regex must have the global flag, otherwise, use `firstMatch()` instead');\n\t}\n\n\treturn {\n\t\t* [Symbol.iterator]() {\n\t\t\ttry {\n\t\t\t\tconst matches = string.matchAll(regex); // The regex is only executed when iterated over.\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tconst nextMatch = functionTimeout(() => matches.next(), {timeout: (timeout !== Number.POSITIVE_INFINITY || matchTimeout !== Number.POSITIVE_INFINITY) ? Math.min(timeout, matchTimeout) : undefined}); // `matches.next` must be called within an arrow function so that it doesn't loose its context.\n\n\t\t\t\t\tconst end = timeSpan();\n\t\t\t\t\tconst {value, done} = nextMatch();\n\t\t\t\t\ttimeout -= Math.ceil(end());\n\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tyield resultToMatch(value);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (!isTimeoutError(error)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n}\n", "import ipRegex from 'ip-regex';\nimport {isMatch} from 'super-regex';\n\nconst maxIPv4Length = 15;\nconst maxIPv6Length = 45;\n\nconst options = {\n\ttimeout: 400,\n};\n\nexport function isIP(string) {\n\tif (string.length > maxIPv6Length) {\n\t\treturn false;\n\t}\n\n\treturn isMatch(ipRegex({exact: true}), string, options);\n}\n\nexport function isIPv6(string) {\n\tif (string.length > maxIPv6Length) {\n\t\treturn false;\n\t}\n\n\treturn isMatch(ipRegex.v6({exact: true}), string, options);\n}\n\nexport function isIPv4(string) {\n\tif (string.length > maxIPv4Length) {\n\t\treturn false;\n\t}\n\n\treturn isMatch(ipRegex.v4({exact: true}), string, options);\n}\n\nexport function ipVersion(string) {\n\tif (isIPv6(string)) {\n\t\treturn 6;\n\t}\n\n\tif (isIPv4(string)) {\n\t\treturn 4;\n\t}\n}\n", "export class IpNotFoundError extends Error {\n\tconstructor(options) {\n\t\tsuper('Could not get the public IP address', options);\n\t\tthis.name = 'IpNotFoundError';\n\t}\n}\n\nexport function createPublicIp(publicIpv4, publicIpv6) {\n\treturn function publicIp(options) { // eslint-disable-line func-names\n\t\tconst ipv4Promise = publicIpv4(options);\n\t\tconst ipv6Promise = publicIpv6(options);\n\n\t\tconst promise = (async () => {\n\t\t\ttry {\n\t\t\t\tconst ipv6 = await ipv6Promise;\n\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tipv4Promise.catch(() => {}); // Don't throw when cancelling\n\n\t\t\t\tipv4Promise.cancel();\n\t\t\t\treturn ipv6;\n\t\t\t} catch (ipv6Error) {\n\t\t\t\tif (!(ipv6Error instanceof IpNotFoundError)) {\n\t\t\t\t\tthrow ipv6Error;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\treturn await ipv4Promise;\n\t\t\t\t} catch (ipv4Error) {\n\t\t\t\t\tthrow new AggregateError([ipv4Error, ipv6Error]); // eslint-disable-line unicorn/error-message\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\n\t\tpromise.cancel = () => {\n\t\t\tipv4Promise.cancel();\n\t\t\tipv6Promise.cancel();\n\t\t};\n\n\t\treturn promise;\n\t};\n}\n"],
  "mappings": "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,IAAI,IACpBC,GACEC,GAAoB,IAClBD,KAGJA,GAAiB,IAAIE,GACdF,IAELG,GAAmB,CACrB,QAAS,OACT,MAAO,CACH,KAAM,OACN,MAAO,OACP,MAAO,MACX,EACA,UAAW,OACX,WAAY,GACZ,QAAS,CACL,QAAS,OACT,OAAQ,OACR,KAAM,OACN,QAAS,OACT,SAAU,OACV,cAAe,OACf,KAAM,OACN,OAAQ,MACZ,EACA,UAAW,GACX,KAAM,OACN,KAAM,OACN,KAAM,OACN,UAAW,OACX,qBAAsB,GACtB,aAAc,OACd,UAAW,OACX,SAAU,OACV,QAAS,CAAC,EACV,MAAO,CACH,KAAM,CAAC,EACP,cAAe,CAAC,EAChB,YAAa,CAAC,EACd,eAAgB,CAAC,EACjB,YAAa,CAAC,EACd,cAAe,CAAC,CACpB,EACA,eAAgB,GAChB,aAAc,GACd,MAAO,OACP,gBAAiB,GACjB,SAAU,GACV,SAAU,GACV,MAAO,GACP,aAAc,GACd,QAAS,CACL,aAAc,2CAClB,EACA,gBAAiB,GACjB,mBAAoB,OACpB,UAAW,KAAK,MAChB,cAAe,KAAK,UACpB,MAAO,CACH,MAAO,EACP,QAAS,CACL,MACA,MACA,OACA,SACA,UACA,OACJ,EACA,YAAa,CACT,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACJ,EACA,WAAY,CACR,YACA,aACA,aACA,eACA,QACA,YACA,cACA,WACJ,EACA,cAAe,OACf,eAAgB,CAAC,CAAE,cAAAC,CAAc,IAAMA,EACvC,aAAc,OAAO,kBACrB,MAAO,GACX,EACA,aAAc,OACd,OAAQ,MACR,iBAAkB,OAClB,aAAc,CACV,OAAQ,OACR,eAAgB,OAChB,uBAAwB,OACxB,gBAAiB,MACrB,EACA,MAAO,CACH,cAAe,OACf,mBAAoB,OACpB,oBAAqB,OACrB,qBAAsB,OACtB,IAAK,OACL,YAAa,OACb,WAAY,OACZ,IAAK,OACL,QAAS,OACT,iBAAkB,OAClB,WAAY,OACZ,WAAY,OACZ,oBAAqB,OACrB,mBAAoB,OACpB,QAAS,OACT,UAAW,OACX,2BAA4B,MAChC,EACA,S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",
  "names": ["require_types", "__commonJSMin", "exports", "type", "name", "require_rcodes", "__commonJSMin", "exports", "rcode", "code", "require_opcodes", "__commonJSMin", "exports", "opcode", "code", "require_classes", "__commonJSMin", "exports", "klass", "name", "require_optioncodes", "__commonJSMin", "exports", "type", "name", "m", "require_ip_codec", "__commonJSMin", "exports", "module", "ipCodec", "decode", "encode", "familyOf", "sizeOf", "v4Regex", "v4Size", "v6Regex", "v6Size", "v4", "ip", "buff", "offset", "max", "n", "i", "c", "v6", "end", "fill", "hexN", "decN", "prevColon", "useDec", "result", "name", "string", "size", "length", "require_dns_packet", "__commonJSMin", "exports", "Buffer", "types", "rcodes", "opcodes", "classes", "optioncodes", "ip", "QUERY_FLAG", "RESPONSE_FLAG", "FLUSH_MASK", "NOT_FLUSH_MASK", "QU_MASK", "NOT_QU_MASK", "name", "str", "buf", "offset", "mail", "oldOffset", "n", "list", "localPart", "label", "i", "len", "totalLength", "consumedBytes", "jumped", "jumpOffset", "string", "s", "header", "h", "flags", "type", "runknown", "data", "rns", "dd", "rsoa", "rtxt", "d", "remaining", "length", "rnull", "rhinfo", "rptr", "rcname", "rdname", "rsrv", "rcaa", "rmx", "ra", "host", "raaaa", "roption", "option", "code", "spl", "fam", "ipBuf", "ipLen", "tagsLen", "tag", "padded", "ropt", "options", "rdlen", "encodingLengthList", "encodeList", "o", "rdnskey", "key", "keydata", "rrrsig", "sig", "signature", "rrp", "typebitmap", "typelist", "typesByWindow", "typeid", "windowBuf", "window", "windowLength", "b", "j", "extents", "rnsec", "record", "rnsec3", "salt", "nextDomain", "saltLength", "hashLength", "rds", "digest", "digestdata", "rsshfp", "hashType", "fingerprintBuf", "fingerprintLength", "rnaptr", "rtlsa", "cert", "certdata", "renc", "answer", "a", "klass", "enc", "question", "q", "result", "allocing", "decodeList", "sbuf", "combine", "require_dns_socket", "__commonJSMin", "exports", "module", "dgram", "util", "packet", "events", "DNS", "opts", "self", "onerror", "onmessage", "isListening", "onlistening", "onclose", "err", "message", "rinfo", "ontimeoutCheck", "args", "i", "q", "now", "result", "e", "cnameresults", "id", "buffer", "query", "response", "port", "host", "retries", "idtries", "normalizedId", "cb", "noop", "socket", "require_source", "__commonJSMin", "exports", "module", "isTLSSocket", "socket", "deferToConnect", "fn", "listeners", "hasConnectListener", "hasSecureConnectListener", "hasCloseListener", "onConnect", "require_buffer_stream", "__commonJSMin", "exports", "module", "PassThroughStream", "options", "array", "encoding", "isBuffer", "objectMode", "stream", "length", "chunks", "chunk", "require_get_stream", "__commonJSMin", "exports", "module", "BufferConstants", "stream", "promisify", "bufferStream", "streamPipelinePromisified", "MaxBufferError", "getStream", "inputStream", "options", "maxBuffer", "resolve", "reject", "rejectPromise", "error", "require_http_cache_semantics", "__commonJSMin", "exports", "module", "statusCodeCacheableByDefault", "understoodStatuses", "errorStatusCodes", "hopByHopHeaders", "excludedFromRevalidationUpdate", "toNumberOrZero", "s", "n", "isErrorResponse", "response", "parseCacheControl", "header", "cc", "parts", "part", "k", "v", "formatCacheControl", "req", "res", "shared", "cacheHeuristic", "immutableMinTimeToLive", "ignoreCargoCult", "_fromObject", "revalidation", "request", "synchronous", "requestCC", "allowHeadMethod", "fields", "name", "inHeaders", "headers", "tokens", "warnings", "warning", "age", "serverDate", "residentTime", "defaultMinTtl", "expires", "lastModified", "staleIfErrorAge", "staleWhileRevalidateAge", "swr", "obj", "incomingReq", "etags", "etag", "matches", "optionsCopy", "newResponse", "require_json_buffer", "__commonJSMin", "exports", "stringify", "o", "s", "array", "first", "k", "ignore", "key", "value", "require_src", "__commonJSMin", "exports", "module", "EventEmitter", "JSONB", "loadStore", "options", "adapters", "adapter", "iterableAdapters", "Keyv", "uri", "emitErrors", "adapterOptions", "compression", "error", "generateIterator", "iterator", "key", "raw", "data", "element", "keys", "store", "isArray", "keyPrefixed", "promises", "values", "value", "row", "index", "ttl", "expires", "x", "require_mimic_response", "__commonJSMin", "exports", "module", "knownProperties", "fromStream", "toStream", "fromProperties", "properties", "property", "value", "require_decompress_response", "__commonJSMin", "exports", "module", "Transform", "PassThrough", "zlib", "mimicResponse", "response", "contentEncoding", "isBrotli", "isEmpty", "checker", "data", "_encoding", "callback", "finalStream", "error", "decompressStream", "require_quick_lru", "__commonJSMin", "exports", "module", "QuickLRU", "options", "key", "value", "deleted", "item", "oldCacheSize", "require_delay_async_destroy", "__commonJSMin", "exports", "module", "stream", "args", "callback", "error", "onError", "require_agent", "__commonJSMin", "exports", "module", "URL", "EventEmitter", "tls", "http2", "QuickLRU", "delayAsyncDestroy", "kCurrentStreamCount", "kRequest", "kOriginSet", "kGracefullyClosing", "kLength", "nameKeys", "getSortedIndex", "array", "value", "compare", "low", "high", "mid", "compareSessions", "a", "b", "closeCoveredSessions", "where", "session", "index", "coveredSession", "origin", "gracefullyClose", "closeSessionIfCovered", "Agent", "_Agent", "timeout", "maxSessions", "maxEmptySessions", "maxCachedTlsSessions", "options", "normalized", "key", "normalizedOptions", "normalizedOrigin", "item", "thisStreamCount", "thatStreamCount", "listeners", "resolve", "reject", "servername", "hostname", "error", "sessions", "maxConcurrentStreams", "currentStreamsCount", "optimalSession", "sessionMaxConcurrentStreams", "sessionCurrentStreamsCount", "removeFromQueue", "entry", "name", "receivedSettings", "socket", "computedOptions", "getOriginSet", "originSet", "isFree", "tlsSession", "processListeners", "queue", "completed", "mainOrigin", "headers", "streamOptions", "stream", "port", "host", "maxCount", "closedCount", "thisSessions", "reason", "entries", "require_incoming_message", "__commonJSMin", "exports", "module", "Readable", "IncomingMessage", "socket", "highWaterMark", "value", "error", "callback", "ms", "require_proxy_events", "__commonJSMin", "exports", "module", "from", "to", "events", "event", "args", "require_errors", "__commonJSMin", "exports", "module", "makeError", "Base", "key", "getMessage", "args", "type", "valid", "isManyTypes", "require_is_request_pseudo_header", "__commonJSMin", "exports", "module", "header", "require_validate_header_name", "__commonJSMin", "exports", "module", "ERR_INVALID_HTTP_TOKEN", "isRequestPseudoHeader", "isValidHttpToken", "name", "require_validate_header_value", "__commonJSMin", "exports", "module", "ERR_HTTP_INVALID_HEADER_VALUE", "ERR_INVALID_CHAR", "isInvalidHeaderValue", "name", "value", "require_proxy_socket_handler", "__commonJSMin", "exports", "module", "ERR_HTTP2_NO_SOCKET_MANIPULATION", "proxySocketHandler", "stream", "property", "reference", "session", "value", "require_client_request", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http2", "Writable", "Agent", "globalAgent", "IncomingMessage", "proxyEvents", "ERR_INVALID_ARG_TYPE", "ERR_INVALID_PROTOCOL", "ERR_HTTP_HEADERS_SENT", "validateHeaderName", "validateHeaderValue", "proxySocketHandler", "HTTP2_HEADER_STATUS", "HTTP2_HEADER_METHOD", "HTTP2_HEADER_PATH", "HTTP2_HEADER_AUTHORITY", "HTTP2_METHOD_CONNECT", "kHeaders", "kOrigin", "kSession", "kOptions", "kFlushedHeaders", "kJobs", "kPendingAgentPromise", "ClientRequest", "input", "options", "callback", "timeout", "headers", "header", "reuseSocket", "args", "value", "_value", "chunk", "encoding", "callWrite", "callEnd", "error", "internalError", "isConnectMethod", "onStream", "stream", "res", "onResponse", "flags", "rawHeaders", "response", "trailers", "rawTrailers", "aborted", "finish", "job", "promise", "name", "lowercased", "ms", "applyTimeout", "require_resolve_alpn", "__commonJSMin", "exports", "module", "tls", "options", "connect", "resolve", "reject", "timeout", "socket", "callback", "socketPromise", "onTimeout", "error", "require_calculate_server_name", "__commonJSMin", "exports", "module", "isIP", "assert", "getHost", "host", "idx", "servername", "require_auto", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http", "https", "resolveALPN", "QuickLRU", "Agent", "globalAgent", "Http2ClientRequest", "calculateServerName", "delayAsyncDestroy", "cache", "queue", "installSocket", "agent", "socket", "options", "onFree", "onClose", "onTimeout", "freeSockets", "sockets", "onRemove", "createResolveProtocol", "connect", "name", "path", "resultPromise", "result", "error", "defaultResolveProtocol", "input", "callback", "isHttps", "resolveProtocol", "alpnProtocol", "timeout", "isHttp2", "defaultCreateConnection", "require_js_stream_socket", "__commonJSMin", "exports", "module", "stream", "tls", "JSStreamSocket", "require_unexpected_status_code_error", "__commonJSMin", "exports", "module", "UnexpectedStatusCodeError", "statusCode", "statusMessage", "require_check_type", "__commonJSMin", "exports", "module", "checkType", "name", "value", "types", "type", "names", "require_initialize", "__commonJSMin", "exports", "module", "URL", "checkType", "self", "proxyOptions", "url", "require_get_auth_headers", "__commonJSMin", "exports", "module", "self", "username", "password", "data", "authorization", "require_h1_over_h2", "__commonJSMin", "exports", "module", "tls", "http", "https", "JSStreamSocket", "globalAgent", "UnexpectedStatusCodeError", "initialize", "getAuthorizationHeaders", "createConnection", "self", "options", "callback", "proxyOptions", "url", "headers", "raw", "stream", "statusCode", "encrypted", "secureStream", "socket", "out", "error", "HttpOverHttp2", "HttpsOverHttp2", "require_h2_over_hx", "__commonJSMin", "exports", "module", "Agent", "JSStreamSocket", "UnexpectedStatusCodeError", "initialize", "Http2OverHttpX", "options", "origin", "authority", "stream", "statusCode", "statusMessage", "socket", "out", "require_h2_over_h2", "__commonJSMin", "exports", "module", "globalAgent", "Http2OverHttpX", "getAuthorizationHeaders", "getStatusCode", "stream", "resolve", "reject", "headers", "Http2OverHttp2", "authority", "proxyOptions", "statusCode", "require_h2_over_h1", "__commonJSMin", "exports", "module", "http", "https", "Http2OverHttpX", "getAuthorizationHeaders", "getStream", "request", "resolve", "reject", "onConnect", "response", "socket", "head", "Http2OverHttp", "authority", "proxyOptions", "url", "headers", "require_source", "__commonJSMin", "exports", "module", "http2", "Agent", "globalAgent", "ClientRequest", "IncomingMessage", "auto", "HttpOverHttp2", "HttpsOverHttp2", "Http2OverHttp2", "Http2OverHttp", "Http2OverHttps", "validateHeaderName", "validateHeaderValue", "request", "url", "options", "callback", "get", "req", "copy_ip_exports", "__export", "copy_ip_default", "__toCommonJS", "os", "import_api", "import_api", "ipListIcons", "myIpListIcons", "import_api", "language", "showIPv6", "coordinatesFormat", "isEmpty", "string", "getIPV4Address", "interfaces", "devName", "iface", "i", "alias", "getIPV6Address", "getArgument", "arg", "argKey", "cache", "cacheStr", "getArguments", "args", "argKeys", "argsObj", "i", "import_api", "import_node_util", "import_node_dgram", "import_dns_socket", "typedArrayTypeNames", "isTypedArrayName", "name", "objectTypeNames", "isObjectTypeName", "primitiveTypeNames", "isPrimitiveTypeName", "isOfType", "type", "value", "toString", "getObjectType", "objectTypeName", "is", "isObjectOfType", "tagType", "isNumberType", "assertion", "element", "hasPromiseApi", "targetEnum", "instance", "class_", "prototype", "isValidLength", "guards", "guard", "index", "range", "NODE_TYPE_ELEMENT", "DOM_PROPERTIES_TO_CHECK", "property", "isAbsoluteMod2", "remainder", "isWhiteSpaceString", "predicateOnArray", "method", "predicate", "values", "singlePredicate", "assertType", "condition", "description", "options", "multipleValues", "valuesMessage", "singleValue", "assert", "dist_default", "import_node_events", "CancelError", "reason", "PCancelable", "_PCancelable", "userFunction", "arguments_", "resolve", "reject", "onCancel", "executor", "onResolve", "value", "onReject", "error", "handler", "boolean", "onFulfilled", "onRejected", "onFinally", "isRequest", "x", "dist_default", "RequestError", "message", "error", "self", "indexOfMessage", "thisStackTrace", "errorStackTrace", "MaxRedirectsError", "request", "HTTPError", "response", "CacheError", "UploadError", "TimeoutError", "timings", "ReadError", "RetryError", "AbortError", "import_node_process", "import_node_buffer", "import_node_stream", "import_node_http", "import_events", "import_util", "import_defer_to_connect", "timer", "request", "timings", "handleError", "origin", "onAbort", "onSocket", "socket", "lookupListener", "deferToConnect", "onUpload", "response", "source_default", "import_node_events", "import_node_url", "import_node_crypto", "import_node_stream", "DATA_URL_DEFAULT_MIME_TYPE", "DATA_URL_DEFAULT_CHARSET", "testParameter", "name", "filters", "filter", "supportedProtocols", "hasCustomProtocol", "urlString", "protocol", "normalizeDataURL", "stripHash", "match", "type", "data", "hash", "mediaType", "isBase64", "mimeType", "normalizedMediaType", "attribute", "key", "value", "string", "normalizeUrl", "options", "hasRelativeProtocol", "urlObject", "protocolRegex", "lastIndex", "result", "protocolAtIndex", "intermediate", "remnant", "pathComponents", "lastComponent", "oldUrlString", "import_get_stream", "import_http_cache_semantics", "import_node_stream", "lowercaseKeys", "object", "key", "value", "Response", "ReadableStream", "statusCode", "headers", "body", "url", "lowercaseKeys", "import_keyv", "knownProperties", "mimicResponse", "fromStream", "toStream", "fromProperties", "properties", "property", "value", "RequestError", "error", "CacheError", "CacheableRequest", "cacheRequest", "cacheAdapter", "options", "cb", "url", "normalizeUrlObject", "urlLib", "pathname", "searchParts", "search", "urlObjectToRequestOptions", "entries", "key", "value", "ee", "EventEmitter", "normalizedUrlString", "normalizeUrl", "stream", "crypto", "revalidate", "madeRequest", "makeRequest", "options_", "requestErrored", "requestErrorCallback", "requestErrorPromise", "resolve", "handler", "response", "revalidatedPolicy", "CachePolicy", "headers", "convertHeaders", "Response", "clonedResponse", "cloneResponse", "bodyPromise", "getStream", "body", "ttl", "key_", "error", "CacheError", "request_", "RequestError", "get", "cacheEntry", "policy", "errorHandler", "Keyv", "cachek", "name", "fn", "args", "clone", "PassThroughStream", "mimicResponse", "result", "dist_default", "import_decompress_response", "import_get_stream", "isFunction", "value", "isAsyncIterable", "value", "isFunction", "readStream", "readable", "reader", "done", "getStreamIterator", "source", "alphabet", "createBoundary", "size", "res", "normalizeValue", "value", "match", "i", "str", "getType", "value", "isPlainObject", "pp", "getProperty", "target", "prop", "name", "value", "proxyHeaders", "object", "isFormData", "value", "isFunction", "escapeName", "name", "isFile", "value", "isFunction", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_FormDataEncoder_instances", "_FormDataEncoder_CRLF", "_FormDataEncoder_CRLF_BYTES", "_FormDataEncoder_CRLF_BYTES_LENGTH", "_FormDataEncoder_DASHES", "_FormDataEncoder_encoder", "_FormDataEncoder_footer", "_FormDataEncoder_form", "_FormDataEncoder_options", "_FormDataEncoder_getFieldHeader", "_FormDataEncoder_getContentLength", "defaultOptions", "readonlyProp", "FormDataEncoder", "form", "boundaryOrOptions", "options", "isFormData", "boundary", "isPlainObject", "createBoundary", "headers", "contentLength", "proxyHeaders", "name", "raw", "isFile", "normalizeValue", "part", "getStreamIterator", "header", "escapeName", "size", "length", "import_node_buffer", "import_node_util", "isFormData", "body", "dist_default", "getBodySize", "body", "headers", "dist_default", "isFormData", "proxyEvents", "from", "to", "events", "eventFunctions", "event", "eventFunction", "args", "import_node_net", "unhandle", "handlers", "origin", "event", "fn", "handler", "reentry", "noop", "TimeoutError", "threshold", "event", "timedOut", "request", "delays", "options", "cancelers", "once", "unhandleAll", "unhandle", "addTimeout", "delay", "callback", "timeout", "cancel", "host", "hostname", "timeoutHandler", "cancelTimeouts", "error", "cancelTimeout", "response", "socket", "socketTimeoutHandler", "hasLookup", "hasConnect", "hasSecureConnect", "hasSend", "socketPath", "hasPath", "net", "timeConnect", "timeRequest", "urlToOptions", "url", "options", "dist_default", "WeakableMap", "key", "value", "calculateRetryDelay", "attemptCount", "retryOptions", "error", "retryAfter", "computedValue", "hasMethod", "hasErrorCode", "hasStatusCode", "noise", "calculate_retry_delay_default", "import_node_process", "import_node_util", "import_node_tls", "import_node_http", "import_node_https", "import_node_dns", "import_node_util", "import_node_os", "AsyncResolver", "dnsPromises", "kCacheableLookupCreateConnection", "kCacheableLookupInstance", "kExpires", "supportsALL", "verifyAgent", "agent", "map4to6", "entries", "entry", "getIfaceInfo", "has4", "has6", "device", "os", "iface", "isIterable", "map", "ignoreNoResultErrors", "dnsPromise", "error", "ttl", "all", "all4", "all6", "CacheableLookup", "cache", "maxTtl", "fallbackDuration", "errorTtl", "resolver", "lookup", "dnsLookup", "interval", "servers", "hostname", "options", "callback", "result", "cached", "filtered", "_iface", "source", "pending", "newPromise", "A", "AAAA", "aTtl", "aaaaTtl", "cacheTtl", "now", "data", "cacheError", "query", "ms", "nextRemovalTime", "nextExpiry", "expires", "import_http2_wrapper", "parseLinkHeader", "link", "parsed", "items", "item", "rawUriReference", "rawLinkParameters", "trimmedUriReference", "reference", "parameters", "rawParameter", "trimmedRawParameter", "center", "name", "value", "major", "minor", "process", "validateSearchParameters", "searchParameters", "key", "value", "assert", "dist_default", "globalCache", "globalDnsCache", "getGlobalDnsCache", "CacheableLookup", "defaultInternals", "computedValue", "response", "rawLinkHeader", "next", "parseLinkHeader", "entry", "cloneInternals", "internals", "hooks", "retry", "result", "cloneRaw", "raw", "getHttp2TimeoutOption", "delays", "delay", "init", "options", "withOptions", "self", "initHooks", "hook", "Options", "_Options", "input", "defaults", "error", "push", "href", "isFormData", "urlString", "url", "matches", "socketPath", "path", "setCookie", "getCookieString", "updated", "_value", "knownHookEvent", "typedKnownHookEvent", "fixedValue", "lowercaseKeys", "method", "_depth", "agent", "https", "pfx", "object", "request", "http2wrapper", "http", "isResponseOk", "response", "statusCode", "limitStatusCode", "ParseError", "RequestError", "error", "options", "parseBody", "responseType", "parseJson", "encoding", "rawBody", "isClientRequest", "clientRequest", "is_client_request_default", "isUnixSocketURL", "url", "getStreamAsBuffer", "getStream", "supportsBrotli", "dist_default", "process", "methodsWithoutBody", "cacheableStore", "WeakableMap", "redirectCodes", "proxiedRequestEvents", "noop", "Request", "_Request", "url", "options", "defaults", "source", "event", "Options", "error", "body", "UploadError", "abort", "AbortError", "job", "response", "attemptCount", "RequestError", "typedError", "backoff", "retryAfter", "retryOptions", "calculate_retry_delay_default", "error_", "resolve", "timeout", "hook", "updatedOptions", "request", "data", "progress", "chunk", "encoding", "callback", "write", "endRequest", "destination", "headers", "isForm", "isJSON", "isBody", "cannotHaveBody", "noContentType", "isFormData", "encoder", "FormDataEncoder", "form", "json", "uploadBodySize", "getBodySize", "decompressResponse", "statusCode", "typedResponse", "http", "isResponseOk", "ReadError", "rawCookies", "promises", "rawCookie", "promise", "MaxRedirectsError", "serverRequestedGet", "canRewrite", "userRequestedGet", "redirectBuffer", "redirectUrl", "isUnixSocketURL", "HTTPError", "key", "isAllowed", "value", "from", "rawBody", "source_default", "timedOut", "responseEventName", "TimeoutError", "proxyEvents", "reject", "currentRequest", "cache", "cacheableRequest", "requestOptions", "handler", "result", "urlToOptions", "cacheRequest", "fix", "requestOrPromise", "username", "password", "cookieJar", "credentials", "cookieString", "fn", "requestOrResponse", "is_client_request_default", "CacheError", "percent", "CancelError", "RequestError", "request", "proxiedRequestEvents", "asPromise", "firstRequest", "globalRequest", "globalResponse", "normalizedOptions", "emitter", "promise", "PCancelable", "resolve", "reject", "onCancel", "CancelError", "makeRequest", "retryCount", "request", "Request", "response", "contentEncoding", "isCompressed", "options", "parseBody", "error", "isResponseOk", "hooks", "index", "hook", "updatedOptions", "RetryError", "dist_default", "HTTPError", "onError", "previousBody", "newRetryCount", "newBody", "proxyEvents", "event", "fn", "shortcut", "responseType", "newPromise", "headers", "delay", "ms", "resolve", "isGotInstance", "value", "dist_default", "aliases", "create", "defaults", "Options", "got", "url", "options", "defaultOptions", "request", "Request", "promise", "lastHandler", "normalized", "asPromise", "iteration", "iterateHandlers", "newOptions", "result", "descriptors", "key", "instancesOrOptions", "handlers", "mutableDefaults", "paginateEach", "normalizedOptions", "pagination", "assert", "allItems", "countLimit", "numberOfRequests", "response", "parsed", "currentItems", "item", "optionsToMerge", "results", "method", "create_default", "defaults", "Options", "got", "create_default", "source_default", "word", "boundry", "options", "v4", "v6segment", "v6", "v46Exact", "v4exact", "v6exact", "ipRegex", "ip_regex_default", "import_node_vm", "functionTimeout", "function_", "timeout", "script", "vm", "wrappedFunction", "arguments_", "context", "isTimeoutError", "error", "toString", "isRegexp", "value", "flagMap", "clonedRegexp", "regexp", "options", "isRegexp", "flags", "flag", "isMatch", "regex", "string", "timeout", "functionTimeout", "clonedRegexp", "error", "isTimeoutError", "maxIPv4Length", "maxIPv6Length", "options", "isIPv6", "string", "maxIPv6Length", "isMatch", "ip_regex_default", "options", "isIPv4", "maxIPv4Length", "IpNotFoundError", "options", "createPublicIp", "publicIpv4", "publicIpv6", "ipv4Promise", "ipv6Promise", "promise", "ipv6", "ipv6Error", "ipv4Error", "defaults", "dnsServers", "ip", "type", "servers", "question", "queryDns", "version", "options", "data", "socket", "dns", "dgram", "socketQuery", "promise", "lastError", "dnsServerInfo", "server", "name", "transform", "dnsResponse", "response", "isIPv6", "isIPv4", "error", "IpNotFoundError", "queryHttps", "cancel", "requestOptions", "urls", "url", "gotPromise", "source_default", "CancelError", "queryAll", "dnsPromise", "httpsPromise", "publicIp", "createPublicIp", "publicIpv4", "publicIpv6", "copy_ip_default", "props", "args", "getArguments", "ipTypeString", "ipVersionString", "ip", "ip_", "getIPV4Address", "getIPV6Address", "publicIpv4", "publicIpv6", "isEmpty", "e"]
}
