"use strict";var p=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var O=(t,r)=>{for(var i in r)p(t,i,{get:r[i],enumerable:!0})},D=(t,r,i,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of F(r))!C.call(t,n)&&n!==i&&p(t,n,{get:()=>r[n],enumerable:!(o=A(r,n))||o.enumerable});return t};var I=t=>D(p({},"__esModule",{value:!0}),t);var P={};O(P,{default:()=>y});module.exports=I(P);var e=require("@raycast/api"),k=require("react");var c=require("react"),f=require("@raycast/api");function g(t="com.google.Chrome"){let[r,i]=(0,c.useState)([{name:"Google Chrome",bundleId:"com.google.Chrome",path:""}]),[o,n]=(0,c.useState)(t);return(0,c.useEffect)(()=>{let s=!0;return(async()=>{let l=await(0,f.getApplications)(),m=["com.google.Chrome","com.apple.Safari","com.brave.Browser","org.mozilla.firefox","com.microsoft.edgemac","com.operasoftware.Opera","org.chromium.Chromium","com.vivaldi.Vivaldi","company.thebrowser.Browser","com.sigmaos.sigmaos.macos","company.thebrowser.dia","ai.perplexity.comet"],B=l.filter(S=>m.includes(String(S.bundleId)));s&&i(B)})(),()=>{s=!1}},[]),{browsers:r,selectedBrowser:o,setSelectedBrowser:n}}var w=require("@raycast/api"),u=require("react/jsx-runtime");function d({browsers:t,selectedBrowser:r,onBrowserChange:i}){return(0,u.jsx)(w.Form.Dropdown,{id:"browser",title:"Open with",value:r,onChange:i,children:t.map(o=>(0,u.jsx)(w.Form.Dropdown.Item,{value:String(o.bundleId),title:o.name},o.bundleId))})}var h=require("@raycast/api");async function b(t,r){let i=t.split(`
`).filter(o=>o.trim()!=="");for(let o=0;o<i.length;o++){let n=i[o].trim();n&&await(0,h.open)(n,r)}return i.length}var a=require("react/jsx-runtime");function y(){let{browsers:t,selectedBrowser:r,setSelectedBrowser:i}=g(),o=(0,k.useRef)(null);async function n(s){if(s.links.trim()===""){await(0,e.showToast)({style:e.Toast.Style.Failure,title:"Please add links"}),o.current?.focus();return}let l=s.links.split(`
`).filter(m=>m.trim()!=="");if(l.length===0){await(0,e.showToast)({style:e.Toast.Style.Failure,title:"No valid links found"});return}await(0,e.showToast)({style:e.Toast.Style.Animated,title:`Opening ${l.length} link${l.length>1?"s":""}...`});try{await b(s.links,s.browser),await(0,e.showToast)({style:e.Toast.Style.Success,title:`Opened ${l.length} link${l.length>1?"s":""}!`}),o.current?.reset(),await(0,e.popToRoot)()}catch(m){await(0,e.showToast)({style:e.Toast.Style.Failure,title:"Failed to open links",message:String(m)})}}return(0,a.jsxs)(e.Form,{actions:(0,a.jsx)(e.ActionPanel,{children:(0,a.jsx)(e.Action.SubmitForm,{icon:e.Icon.ArrowRight,title:"Open Links",onSubmit:n})}),children:[(0,a.jsx)(e.Form.TextArea,{title:"Links",id:"links",placeholder:"Paste your links here (one per line)",ref:o,autoFocus:!0}),(0,a.jsx)(d,{browsers:t,selectedBrowser:r,onBrowserChange:i})]})}
