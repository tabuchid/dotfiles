{
  "version": 3,
  "sources": ["../src/multi-links.tsx", "../src/Service.ts", "../src/Components/CreateForm.tsx", "../src/hooks/useBrowsers.ts", "../src/Components/BrowserDropdown.tsx", "../src/utils/linkHelpers.ts"],
  "sourcesContent": ["import { ActionPanel, Action, List, confirmAlert, Alert, showToast, Toast, Icon } from \"@raycast/api\";\nimport { useState, useEffect } from \"react\";\nimport Service from \"./Service\";\nimport CreateForm from \"./Components/CreateForm\";\nimport { LinkItem } from \"./types\";\nimport { openMultipleLinks } from \"./utils/linkHelpers\";\n\nexport default function () {\n  const [links, setLinks] = useState<LinkItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchLinks = async function () {\n    const links = await Service.getLinks();\n    setLinks([...links]);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchLinks();\n  }, []);\n\n  async function openLinks(linkItem: LinkItem) {\n    await openMultipleLinks(linkItem.links, linkItem.browser);\n  }\n\n  async function deleteLink(index: number) {\n    const options: Alert.Options = {\n      title: \"Are you sure?\",\n      primaryAction: {\n        title: \"Confirm\",\n        style: Alert.ActionStyle.Destructive,\n        onAction: async () => {\n          await Service.deleteLink(index);\n          fetchLinks();\n          showToast(Toast.Style.Success, \"Multilink deleted!\");\n        },\n      },\n    };\n    await confirmAlert(options);\n  }\n\n  return (\n    <List\n      isLoading={loading}\n      actions={\n        <ActionPanel>\n          <Action.Push title=\"Create Link\" target={<CreateForm onCreate={fetchLinks} />} />\n        </ActionPanel>\n      }\n    >\n      {links.map((link, index) => (\n        <List.Item\n          key={`${link.name}-${index}`}\n          title={link.name}\n          subtitle={`${link.links.split(\"\\n\").length} links`}\n          actions={\n            <ActionPanel>\n              <Action title=\"Open Links\" onAction={() => openLinks(link)} icon={{ source: Icon.Globe }} />\n              <Action.Push\n                title=\"Edit\"\n                target={<CreateForm data={link} onCreate={fetchLinks} />}\n                icon={{ source: Icon.Pencil }}\n              />\n              <Action title=\"Delete\" onAction={() => deleteLink(index)} icon={{ source: Icon.Trash }} />\n            </ActionPanel>\n          }\n        />\n      ))}\n    </List>\n  );\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport { LinkItem } from \"./types\";\n\nclass Service {\n  static async getLinks() {\n    const links = await LocalStorage.getItem(\"links\");\n    return links ? JSON.parse(String(links)) : [];\n  }\n\n  static async setLink(item: LinkItem) {\n    const links = await this.getLinks();\n    links.push(item);\n    await LocalStorage.setItem(\"links\", JSON.stringify(links));\n  }\n\n  static async updateLink(id: string, item: LinkItem) {\n    const links = await this.getLinks();\n    const index = links.findIndex((link: LinkItem) => link.id === id);\n    if (index !== -1) {\n      links[index] = item;\n      await LocalStorage.setItem(\"links\", JSON.stringify(links));\n\n      return true;\n    }\n\n    return false;\n  }\n\n  static async deleteLink(index: number) {\n    const links = await this.getLinks();\n    links.splice(index, 1);\n    await LocalStorage.setItem(\"links\", JSON.stringify(links));\n\n    return links;\n  }\n}\n\nexport default Service;\n", "import { Form, ActionPanel, Action, showToast, Toast, useNavigation, Icon } from \"@raycast/api\";\nimport { useRef } from \"react\";\nimport { LinkItem } from \"../types\";\nimport Service from \"./../Service\";\nimport MultiLinks from \"../multi-links\";\nimport { useBrowsers } from \"../hooks/useBrowsers\";\nimport BrowserDropdown from \"./BrowserDropdown\";\n\nfunction CreateForm(props: { data?: LinkItem; onCreate?: () => void }) {\n  const initialValues = props.data ?? { name: \"\", links: \"\", id: \"\", browser: \"com.google.Chrome\" };\n  const { browsers, selectedBrowser, setSelectedBrowser } = useBrowsers(initialValues.browser);\n  const nameFieldRef = useRef<Form.TextField>(null);\n  const linksFieldRef = useRef<Form.TextArea>(null);\n  const mode = props.data ? \"edit\" : \"create\";\n  const { pop, push } = useNavigation();\n\n  async function handleSubmit(values: LinkItem) {\n    if (values.name.trim() === \"\") {\n      await showToast({ style: Toast.Style.Failure, title: \"Name is required\" });\n      nameFieldRef.current?.focus();\n      return;\n    } else if (values.links.trim() === \"\") {\n      await showToast({ style: Toast.Style.Failure, title: \"Please add links\" });\n      linksFieldRef.current?.focus();\n      return;\n    }\n\n    if (mode === \"create\") {\n      values.id = Math.random().toString(36).replace(\"0.\", \"\");\n      await Service.setLink(values);\n      showToast({ title: \"Multilink Created\" });\n      nameFieldRef.current?.reset();\n      linksFieldRef.current?.reset();\n      props.onCreate?.();\n\n      if (props.onCreate) {\n        pop();\n      } else {\n        push(<MultiLinks />);\n      }\n    } else {\n      const success = await Service.updateLink(initialValues.id, { ...props.data, ...values });\n      if (success) {\n        showToast({ title: \"Multilink Updated\" });\n        props.onCreate?.();\n        pop();\n      } else {\n        showToast({ title: \"Update failed\", style: Toast.Style.Failure });\n      }\n    }\n  }\n\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm\n            icon={Icon.Checkmark}\n            title={`${mode === \"create\" ? \"Create\" : \"Update\"} Multilink`}\n            onSubmit={handleSubmit}\n          />\n        </ActionPanel>\n      }\n    >\n      <Form.TextField\n        id=\"name\"\n        title=\"Name\"\n        defaultValue={initialValues.name}\n        placeholder=\"Multilink name\"\n        ref={nameFieldRef}\n        autoFocus={true}\n      />\n\n      <Form.TextArea\n        title=\"Links\"\n        id=\"links\"\n        placeholder=\"List of links (one per line)\"\n        defaultValue={initialValues.links}\n        ref={linksFieldRef}\n      />\n\n      <BrowserDropdown browsers={browsers} selectedBrowser={selectedBrowser} onBrowserChange={setSelectedBrowser} />\n    </Form>\n  );\n}\n\nexport default CreateForm;\n", "import { useState, useEffect } from \"react\";\nimport { getApplications, Application } from \"@raycast/api\";\n\nexport function useBrowsers(initialBrowser = \"com.google.Chrome\") {\n  const [browsers, setBrowsers] = useState<Application[]>([\n    { name: \"Google Chrome\", bundleId: \"com.google.Chrome\", path: \"\" },\n  ]);\n  const [selectedBrowser, setSelectedBrowser] = useState<string>(initialBrowser);\n\n  useEffect(() => {\n    let updateBrowserList = true;\n\n    (async () => {\n      const installedApplications = await getApplications();\n\n      const browserIds = [\n        \"com.google.Chrome\",\n        \"com.apple.Safari\",\n        \"com.brave.Browser\",\n        \"org.mozilla.firefox\",\n        \"com.microsoft.edgemac\",\n        \"com.operasoftware.Opera\",\n        \"org.chromium.Chromium\",\n        \"com.vivaldi.Vivaldi\",\n        \"company.thebrowser.Browser\",\n        \"com.sigmaos.sigmaos.macos\",\n        \"company.thebrowser.dia\",\n        \"ai.perplexity.comet\",\n      ];\n\n      const browsers = installedApplications.filter((app) => browserIds.includes(String(app.bundleId)));\n\n      if (updateBrowserList) {\n        setBrowsers(browsers);\n      }\n    })();\n\n    return () => {\n      updateBrowserList = false;\n    };\n  }, []);\n\n  return { browsers, selectedBrowser, setSelectedBrowser };\n}\n", "import { Form, Application } from \"@raycast/api\";\n\ninterface BrowserDropdownProps {\n  browsers: Application[];\n  selectedBrowser: string;\n  onBrowserChange: (browser: string) => void;\n}\n\nexport default function BrowserDropdown({ browsers, selectedBrowser, onBrowserChange }: BrowserDropdownProps) {\n  return (\n    <Form.Dropdown id=\"browser\" title=\"Open with\" value={selectedBrowser} onChange={onBrowserChange}>\n      {browsers.map((app) => (\n        <Form.Dropdown.Item key={app.bundleId} value={String(app.bundleId)} title={app.name} />\n      ))}\n    </Form.Dropdown>\n  );\n}\n", "import { open } from \"@raycast/api\";\n\nexport async function openMultipleLinks(links: string, browser: string): Promise<number> {\n  const linksToOpen = links.split(\"\\n\").filter((link) => link.trim() !== \"\");\n\n  for (let i = 0; i < linksToOpen.length; i++) {\n    const link = linksToOpen[i].trim();\n    if (link) {\n      await open(link, browser);\n    }\n  }\n\n  return linksToOpen.length;\n}\n"],
  "mappings": "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",
  "names": ["multi_links_exports", "__export", "multi_links_default", "__toCommonJS", "import_api", "import_react", "import_api", "Service", "links", "item", "id", "index", "link", "Service_default", "import_api", "import_react", "import_react", "import_api", "useBrowsers", "initialBrowser", "browsers", "setBrowsers", "selectedBrowser", "setSelectedBrowser", "updateBrowserList", "installedApplications", "browserIds", "app", "import_api", "import_jsx_runtime", "BrowserDropdown", "browsers", "selectedBrowser", "onBrowserChange", "app", "import_jsx_runtime", "CreateForm", "props", "initialValues", "browsers", "selectedBrowser", "setSelectedBrowser", "useBrowsers", "nameFieldRef", "linksFieldRef", "mode", "pop", "push", "handleSubmit", "values", "Service_default", "multi_links_default", "BrowserDropdown", "CreateForm_default", "import_api", "openMultipleLinks", "links", "browser", "linksToOpen", "link", "i", "import_jsx_runtime", "multi_links_default", "links", "setLinks", "loading", "setLoading", "fetchLinks", "Service_default", "openLinks", "linkItem", "openMultipleLinks", "deleteLink", "index", "options", "CreateForm_default", "link"]
}
