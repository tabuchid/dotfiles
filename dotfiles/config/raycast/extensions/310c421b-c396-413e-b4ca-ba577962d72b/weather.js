"use strict";var Hl=Object.create;var ds=Object.defineProperty;var jl=Object.getOwnPropertyDescriptor;var Vl=Object.getOwnPropertyNames;var Gl=Object.getPrototypeOf,Ql=Object.prototype.hasOwnProperty;var ci=(u,s)=>()=>(u&&(s=u(u=0)),s);var fs=(u,s)=>()=>(s||u((s={exports:{}}).exports,s),s.exports),qa=(u,s)=>{for(var d in s)ds(u,d,{get:s[d],enumerable:!0})},za=(u,s,d,c)=>{if(s&&typeof s=="object"||typeof s=="function")for(let m of Vl(s))!Ql.call(u,m)&&m!==d&&ds(u,m,{get:()=>s[m],enumerable:!(c=jl(s,m))||c.enumerable});return u};var yt=(u,s,d)=>(d=u!=null?Hl(Gl(u)):{},za(s||!u||!u.__esModule?ds(d,"default",{value:u,enumerable:!0}):d,u)),Zl=u=>za(ds({},"__esModule",{value:!0}),u);var Va=fs((cs,ja)=>{(function(u,s){typeof cs=="object"&&typeof ja<"u"?s(cs):typeof define=="function"&&define.amd?define(["exports"],s):(u=typeof globalThis<"u"?globalThis:u||self,s(u.WebStreamsPolyfill={}))})(cs,function(u){"use strict";let s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function d(){}function c(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let m=c();function p(t){return typeof t=="object"&&t!==null||typeof t=="function"}let w=d,T=Promise,D=Promise.prototype.then,k=Promise.resolve.bind(T),N=Promise.reject.bind(T);function x(t){return new T(t)}function M(t){return k(t)}function P(t){return N(t)}function g(t,n,o){return D.call(t,n,o)}function Z(t,n,o){g(g(t,n,o),void 0,w)}function q(t,n){Z(t,n)}function U(t,n){Z(t,void 0,n)}function re(t,n,o){return g(t,n,o)}function pe(t){g(t,void 0,w)}let $=(()=>{let t=m&&m.queueMicrotask;if(typeof t=="function")return t;let n=M(void 0);return o=>g(n,o)})();function ne(t,n,o){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,n,o)}function L(t,n,o){try{return M(ne(t,n,o))}catch(f){return P(f)}}let je=16384;class ae{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let o=this._back,f=o;o._elements.length===je-1&&(f={_elements:[],_next:void 0}),o._elements.push(n),f!==o&&(this._back=f,o._next=f),++this._size}shift(){let n=this._front,o=n,f=this._cursor,y=f+1,b=n._elements,S=b[f];return y===je&&(o=n._next,y=0),--this._size,this._cursor=y,n!==o&&(this._front=o),b[f]=void 0,S}forEach(n){let o=this._cursor,f=this._front,y=f._elements;for(;(o!==y.length||f._next!==void 0)&&!(o===y.length&&(f=f._next,y=f._elements,o=0,y.length===0));)n(y[o]),++o}peek(){let n=this._front,o=this._cursor;return n._elements[o]}}function Pn(t,n){t._ownerReadableStream=n,n._reader=t,n._state==="readable"?Xt(t):n._state==="closed"?Cn(t):Yr(t,n._storedError)}function Fr(t,n){let o=t._ownerReadableStream;return Ee(o,n)}function ce(t){t._ownerReadableStream._state==="readable"?En(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ts(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function Mt(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function Xt(t){t._closedPromise=x((n,o)=>{t._closedPromise_resolve=n,t._closedPromise_reject=o})}function Yr(t,n){Xt(t),En(t,n)}function Cn(t){Xt(t),We(t)}function En(t,n){t._closedPromise_reject!==void 0&&(pe(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function Ts(t,n){Yr(t,n)}function We(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}let Lr=s("[[AbortSteps]]"),er=s("[[ErrorSteps]]"),tr=s("[[CancelSteps]]"),st=s("[[PullSteps]]"),O=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},ks=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function vs(t){return typeof t=="object"||typeof t=="function"}function De(t,n){if(t!==void 0&&!vs(t))throw new TypeError(`${n} is not an object.`)}function Pe(t,n){if(typeof t!="function")throw new TypeError(`${n} is not a function.`)}function Ds(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Ti(t,n){if(!Ds(t))throw new TypeError(`${n} is not an object.`)}function Ve(t,n,o){if(t===void 0)throw new TypeError(`Parameter ${n} is required in '${o}'.`)}function Mn(t,n,o){if(t===void 0)throw new TypeError(`${n} is required in '${o}'.`)}function On(t){return Number(t)}function ki(t){return t===0?0:t}function Ps(t){return ki(ks(t))}function vi(t,n){let f=Number.MAX_SAFE_INTEGER,y=Number(t);if(y=ki(y),!O(y))throw new TypeError(`${n} is not a finite number`);if(y=Ps(y),y<0||y>f)throw new TypeError(`${n} is outside the accepted range of 0 to ${f}, inclusive`);return!O(y)||y===0?0:y}function An(t,n){if(!ft(t))throw new TypeError(`${n} is not a ReadableStream.`)}function Ot(t){return new rr(t)}function Wn(t,n){t._reader._readRequests.push(n)}function we(t,n,o){let y=t._reader._readRequests.shift();o?y._closeSteps():y._chunkSteps(n)}function At(t){return t._reader._readRequests.length}function Di(t){let n=t._reader;return!(n===void 0||!Ge(n))}class rr{constructor(n){if(Ve(n,1,"ReadableStreamDefaultReader"),An(n,"First parameter"),ct(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Pn(this,n),this._readRequests=new ae}get closed(){return Ge(this)?this._closedPromise:P(nr("closed"))}cancel(n=void 0){return Ge(this)?this._ownerReadableStream===void 0?P(Mt("cancel")):Fr(this,n):P(nr("cancel"))}read(){if(!Ge(this))return P(nr("read"));if(this._ownerReadableStream===void 0)return P(Mt("read from"));let n,o,f=x((b,S)=>{n=b,o=S});return he(this,{_chunkSteps:b=>n({value:b,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:b=>o(b)}),f}releaseLock(){if(!Ge(this))throw nr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ce(this)}}}Object.defineProperties(rr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(rr.prototype,s.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ge(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_readRequests")?!1:t instanceof rr}function he(t,n){let o=t._ownerReadableStream;o._disturbed=!0,o._state==="closed"?n._closeSteps():o._state==="errored"?n._errorSteps(o._storedError):o._readableStreamController[st](n)}function nr(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let Ir=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ir{constructor(n,o){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=o}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?re(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let o=()=>this._returnSteps(n);return this._ongoingPromise?re(this._ongoingPromise,o,o):o()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return P(Mt("iterate"));let o,f,y=x((S,E)=>{o=S,f=E});return he(n,{_chunkSteps:S=>{this._ongoingPromise=void 0,$(()=>o({value:S,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(n),o({value:void 0,done:!0})},_errorSteps:S=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(n),f(S)}}),y}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let o=this._reader;if(o._ownerReadableStream===void 0)return P(Mt("finish iterating"));if(!this._preventCancel){let f=Fr(o,n);return ce(o),re(f,()=>({value:n,done:!0}))}return ce(o),M({value:n,done:!0})}}let K={next(){return xn(this)?this._asyncIteratorImpl.next():P(sr("next"))},return(t){return xn(this)?this._asyncIteratorImpl.return(t):P(sr("return"))}};Ir!==void 0&&Object.setPrototypeOf(K,Ir);function Pi(t,n){let o=Ot(t),f=new ir(o,n),y=Object.create(K);return y._asyncIteratorImpl=f,y}function xn(t){if(!p(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof ir}catch{return!1}}function sr(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}let Nr=Number.isNaN||function(t){return t!==t};function at(t){return t.slice()}function bt(t,n,o,f,y){new Uint8Array(t).set(new Uint8Array(o,f,y),n)}function Fn(t){return t}function Br(t){return!1}function ar(t,n,o){if(t.slice)return t.slice(n,o);let f=o-n,y=new ArrayBuffer(f);return bt(y,0,t,n,f),y}function Cs(t){return!(typeof t!="number"||Nr(t)||t<0)}function Wt(t){let n=ar(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(n)}function ot(t){let n=t._queue.shift();return t._queueTotalSize-=n.size,t._queueTotalSize<0&&(t._queueTotalSize=0),n.value}function or(t,n,o){if(!Cs(o)||o===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:n,size:o}),t._queueTotalSize+=o}function Ur(t){return t._queue.peek().value}function v(t){t._queue=new ae,t._queueTotalSize=0}class lr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Re(this))throw Gr("view");return this._view}respond(n){if(!Re(this))throw Gr("respond");if(Ve(n,1,"respond"),n=vi(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Br(this._view.buffer),jr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!Re(this))throw Gr("respondWithNewView");if(Ve(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Br(n.buffer),Vr(this._associatedReadableByteStreamController,n)}}Object.defineProperties(lr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(lr.prototype,s.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!be(this))throw Yt("byobRequest");return Hr(this)}get desiredSize(){if(!be(this))throw Yt("desiredSize");return Ei(this)}close(){if(!be(this))throw Yt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);cr(this)}enqueue(n){if(!be(this))throw Yt("enqueue");if(Ve(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be enqueued to`);Ze(this,n)}error(n=void 0){if(!be(this))throw Yt("error");ge(this,n)}[tr](n){$r(this),v(this);let o=this._cancelAlgorithm(n);return fr(this),o}[st](n){let o=this._controlledReadableByteStream;if(this._queueTotalSize>0){let y=this._queue.shift();this._queueTotalSize-=y.byteLength,Be(this);let b=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);n._chunkSteps(b);return}let f=this._autoAllocateChunkSize;if(f!==void 0){let y;try{y=new ArrayBuffer(f)}catch(S){n._errorSteps(S);return}let b={buffer:y,bufferByteLength:f,byteOffset:0,byteLength:f,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(b)}Wn(o,n),F(this)}}Object.defineProperties(xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,s.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function be(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")?!1:t instanceof xt}function Re(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")?!1:t instanceof lr}function F(t){if(!dr(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let o=t._pullAlgorithm();Z(o,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,F(t))},f=>{ge(t,f)})}function $r(t){Ce(t),t._pendingPullIntos=new ae}function G(t,n){let o=!1;t._state==="closed"&&(o=!0);let f=Ft(n);n.readerType==="default"?we(t,f,o):Ms(t,f,o)}function Ft(t){let n=t.bytesFilled,o=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/o)}function qr(t,n,o,f){t._queue.push({buffer:n,byteOffset:o,byteLength:f}),t._queueTotalSize+=f}function ur(t,n){let o=n.elementSize,f=n.bytesFilled-n.bytesFilled%o,y=Math.min(t._queueTotalSize,n.byteLength-n.bytesFilled),b=n.bytesFilled+y,S=b-b%o,E=y,Y=!1;S>f&&(E=S-n.bytesFilled,Y=!0);let B=t._queue;for(;E>0;){let H=B.peek(),j=Math.min(E,H.byteLength),fe=n.byteOffset+n.bytesFilled;bt(n.buffer,fe,H.buffer,H.byteOffset,j),H.byteLength===j?B.shift():(H.byteOffset+=j,H.byteLength-=j),t._queueTotalSize-=j,me(t,j,n),E-=j}return Y}function me(t,n,o){o.bytesFilled+=n}function Be(t){t._queueTotalSize===0&&t._closeRequested?(fr(t),vr(t._controlledReadableByteStream)):F(t)}function Ce(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function de(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;let n=t._pendingPullIntos.peek();ur(t,n)&&(zr(t),G(t._controlledReadableByteStream,n))}}function xe(t,n,o){let f=t._controlledReadableByteStream,y=1;n.constructor!==DataView&&(y=n.constructor.BYTES_PER_ELEMENT);let b=n.constructor,S=n.buffer,E={buffer:S,bufferByteLength:S.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:y,viewConstructor:b,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(E),Oi(f,o);return}if(f._state==="closed"){let Y=new b(E.buffer,E.byteOffset,0);o._closeSteps(Y);return}if(t._queueTotalSize>0){if(ur(t,E)){let Y=Ft(E);Be(t),o._chunkSteps(Y);return}if(t._closeRequested){let Y=new TypeError("Insufficient bytes to fill elements in the given buffer");ge(t,Y),o._errorSteps(Y);return}}t._pendingPullIntos.push(E),Oi(f,o),F(t)}function Qe(t,n){let o=t._controlledReadableByteStream;if(Ln(o))for(;Ai(o)>0;){let f=zr(t);G(o,f)}}function gt(t,n,o){if(me(t,n,o),o.bytesFilled<o.elementSize)return;zr(t);let f=o.bytesFilled%o.elementSize;if(f>0){let y=o.byteOffset+o.bytesFilled,b=ar(o.buffer,y-f,y);qr(t,b,0,b.byteLength)}o.bytesFilled-=f,G(t._controlledReadableByteStream,o),de(t)}function Ci(t,n){let o=t._pendingPullIntos.peek();Ce(t),t._controlledReadableByteStream._state==="closed"?Qe(t):gt(t,n,o),F(t)}function zr(t){return t._pendingPullIntos.shift()}function dr(t){let n=t._controlledReadableByteStream;return n._state!=="readable"||t._closeRequested||!t._started?!1:!!(Di(n)&&At(n)>0||Ln(n)&&Ai(n)>0||Ei(t)>0)}function fr(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function cr(t){let n=t._controlledReadableByteStream;if(!(t._closeRequested||n._state!=="readable")){if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ge(t,f),f}fr(t),vr(n)}}function Ze(t,n){let o=t._controlledReadableByteStream;if(t._closeRequested||o._state!=="readable")return;let f=n.buffer,y=n.byteOffset,b=n.byteLength,S=f;if(t._pendingPullIntos.length>0){let E=t._pendingPullIntos.peek();Br(E.buffer),E.buffer=E.buffer}if(Ce(t),Di(o))if(At(o)===0)qr(t,S,y,b);else{t._pendingPullIntos.length>0&&zr(t);let E=new Uint8Array(S,y,b);we(o,E,!1)}else Ln(o)?(qr(t,S,y,b),de(t)):qr(t,S,y,b);F(t)}function ge(t,n){let o=t._controlledReadableByteStream;o._state==="readable"&&($r(t),v(t),fr(t),Xi(o,n))}function Hr(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){let n=t._pendingPullIntos.peek(),o=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),f=Object.create(lr.prototype);Es(f,t,o),t._byobRequest=f}return t._byobRequest}function Ei(t){let n=t._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:t._strategyHWM-t._queueTotalSize}function jr(t,n){let o=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(o.bytesFilled+n>o.byteLength)throw new RangeError("bytesWritten out of range")}o.buffer=o.buffer,Ci(t,n)}function Vr(t,n){let o=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(o.byteOffset+o.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(o.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(o.bytesFilled+n.byteLength>o.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let y=n.byteLength;o.buffer=n.buffer,Ci(t,y)}function le(t,n,o,f,y,b,S){n._controlledReadableByteStream=t,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,v(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=b,n._pullAlgorithm=f,n._cancelAlgorithm=y,n._autoAllocateChunkSize=S,n._pendingPullIntos=new ae,t._readableStreamController=n;let E=o();Z(M(E),()=>{n._started=!0,F(n)},Y=>{ge(n,Y)})}function Yn(t,n,o){let f=Object.create(xt.prototype),y=()=>{},b=()=>M(void 0),S=()=>M(void 0);n.start!==void 0&&(y=()=>n.start(f)),n.pull!==void 0&&(b=()=>n.pull(f)),n.cancel!==void 0&&(S=Y=>n.cancel(Y));let E=n.autoAllocateChunkSize;if(E===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");le(t,f,y,b,S,o,E)}function Es(t,n,o){t._associatedReadableByteStreamController=n,t._view=o}function Gr(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function Yt(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Mi(t){return new hr(t)}function Oi(t,n){t._reader._readIntoRequests.push(n)}function Ms(t,n,o){let y=t._reader._readIntoRequests.shift();o?y._closeSteps(n):y._chunkSteps(n)}function Ai(t){return t._reader._readIntoRequests.length}function Ln(t){let n=t._reader;return!(n===void 0||!lt(n))}class hr{constructor(n){if(Ve(n,1,"ReadableStreamBYOBReader"),An(n,"First parameter"),ct(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!be(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Pn(this,n),this._readIntoRequests=new ae}get closed(){return lt(this)?this._closedPromise:P(Qr("closed"))}cancel(n=void 0){return lt(this)?this._ownerReadableStream===void 0?P(Mt("cancel")):Fr(this,n):P(Qr("cancel"))}read(n){if(!lt(this))return P(Qr("read"));if(!ArrayBuffer.isView(n))return P(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return P(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return P(new TypeError("view's buffer must have non-zero byteLength"));if(Br(n.buffer),this._ownerReadableStream===void 0)return P(Mt("read from"));let o,f,y=x((S,E)=>{o=S,f=E});return In(this,n,{_chunkSteps:S=>o({value:S,done:!1}),_closeSteps:S=>o({value:S,done:!0}),_errorSteps:S=>f(S)}),y}releaseLock(){if(!lt(this))throw Qr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ce(this)}}}Object.defineProperties(hr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,s.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function lt(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")?!1:t instanceof hr}function In(t,n,o){let f=t._ownerReadableStream;f._disturbed=!0,f._state==="errored"?o._errorSteps(f._storedError):xe(f._readableStreamController,n,o)}function Qr(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function mr(t,n){let{highWaterMark:o}=t;if(o===void 0)return n;if(Nr(o)||o<0)throw new RangeError("Invalid highWaterMark");return o}function Zr(t){let{size:n}=t;return n||(()=>1)}function yr(t,n){De(t,n);let o=t?.highWaterMark,f=t?.size;return{highWaterMark:o===void 0?void 0:On(o),size:f===void 0?void 0:Os(f,`${n} has member 'size' that`)}}function Os(t,n){return Pe(t,n),o=>On(t(o))}function pr(t,n){De(t,n);let o=t?.abort,f=t?.close,y=t?.start,b=t?.type,S=t?.write;return{abort:o===void 0?void 0:Jr(o,t,`${n} has member 'abort' that`),close:f===void 0?void 0:Wi(f,t,`${n} has member 'close' that`),start:y===void 0?void 0:_r(y,t,`${n} has member 'start' that`),write:S===void 0?void 0:Je(S,t,`${n} has member 'write' that`),type:b}}function Jr(t,n,o){return Pe(t,o),f=>L(t,n,[f])}function Wi(t,n,o){return Pe(t,o),()=>L(t,n,[])}function _r(t,n,o){return Pe(t,o),f=>ne(t,n,[f])}function Je(t,n,o){return Pe(t,o),(f,y)=>L(t,n,[f,y])}function xi(t,n){if(!ut(t))throw new TypeError(`${n} is not a WritableStream.`)}function As(t){if(typeof t!="object"||t===null)return!1;try{return typeof t.aborted=="boolean"}catch{return!1}}let Ws=typeof AbortController=="function";function xs(){if(Ws)return new AbortController}class br{constructor(n={},o={}){n===void 0?n=null:Ti(n,"First parameter");let f=yr(o,"Second parameter"),y=pr(n,"First parameter");if(Yi(this),y.type!==void 0)throw new RangeError("Invalid type is specified");let S=Zr(f),E=mr(f,1);$i(this,y,E,S)}get locked(){if(!ut(this))throw rn("locked");return Lt(this)}abort(n=void 0){return ut(this)?Lt(this)?P(new TypeError("Cannot abort a stream that already has a writer")):gr(this,n):P(rn("abort"))}close(){return ut(this)?Lt(this)?P(new TypeError("Cannot close a stream that already has a writer")):Ue(this)?P(new TypeError("Cannot close an already-closing stream")):Li(this):P(rn("close"))}getWriter(){if(!ut(this))throw rn("getWriter");return Fi(this)}}Object.defineProperties(br.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(br.prototype,s.toStringTag,{value:"WritableStream",configurable:!0});function Fi(t){return new St(t)}function Fs(t,n,o,f,y=1,b=()=>1){let S=Object.create(br.prototype);Yi(S);let E=Object.create($e.prototype);return Ui(S,E,t,n,o,f,y,b),S}function Yi(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new ae,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function ut(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")?!1:t instanceof br}function Lt(t){return t._writer!==void 0}function gr(t,n){var o;if(t._state==="closed"||t._state==="errored")return M(void 0);t._writableStreamController._abortReason=n,(o=t._writableStreamController._abortController)===null||o===void 0||o.abort();let f=t._state;if(f==="closed"||f==="errored")return M(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let y=!1;f==="erroring"&&(y=!0,n=void 0);let b=x((S,E)=>{t._pendingAbortRequest={_promise:void 0,_resolve:S,_reject:E,_reason:n,_wasAlreadyErroring:y}});return t._pendingAbortRequest._promise=b,y||Bn(t,n),b}function Li(t){let n=t._state;if(n==="closed"||n==="errored")return P(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let o=x((y,b)=>{let S={_resolve:y,_reject:b};t._closeRequest=S}),f=t._writer;return f!==void 0&&t._backpressure&&n==="writable"&&wr(f),Vs(t._writableStreamController),o}function Ys(t){return x((o,f)=>{let y={_resolve:o,_reject:f};t._writeRequests.push(y)})}function Nn(t,n){if(t._state==="writable"){Bn(t,n);return}Un(t)}function Bn(t,n){let o=t._writableStreamController;t._state="erroring",t._storedError=n;let f=t._writer;f!==void 0&&Ni(f,n),!Us(t)&&o._started&&Un(t)}function Un(t){t._state="errored",t._writableStreamController[er]();let n=t._storedError;if(t._writeRequests.forEach(y=>{y._reject(n)}),t._writeRequests=new ae,t._pendingAbortRequest===void 0){Kr(t);return}let o=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,o._wasAlreadyErroring){o._reject(n),Kr(t);return}let f=t._writableStreamController[Lr](o._reason);Z(f,()=>{o._resolve(),Kr(t)},y=>{o._reject(y),Kr(t)})}function Ls(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function Is(t,n){t._inFlightWriteRequest._reject(n),t._inFlightWriteRequest=void 0,Nn(t,n)}function Ns(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,t._state==="erroring"&&(t._storedError=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let o=t._writer;o!==void 0&&ji(o)}function Bs(t,n){t._inFlightCloseRequest._reject(n),t._inFlightCloseRequest=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._reject(n),t._pendingAbortRequest=void 0),Nn(t,n)}function Ue(t){return!(t._closeRequest===void 0&&t._inFlightCloseRequest===void 0)}function Us(t){return!(t._inFlightWriteRequest===void 0&&t._inFlightCloseRequest===void 0)}function $s(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function qs(t){t._inFlightWriteRequest=t._writeRequests.shift()}function Kr(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let n=t._writer;n!==void 0&&Gn(n,t._storedError)}function $n(t,n){let o=t._writer;o!==void 0&&n!==t._backpressure&&(n?Nt(o):wr(o)),t._backpressure=n}class St{constructor(n){if(Ve(n,1,"WritableStreamDefaultWriter"),xi(n,"First parameter"),Lt(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let o=n._state;if(o==="writable")!Ue(n)&&n._backpressure?sn(this):Zn(this),nn(this);else if(o==="erroring")Qn(this,n._storedError),nn(this);else if(o==="closed")Zn(this),Hi(this);else{let f=n._storedError;Qn(this,f),zi(this,f)}}get closed(){return Ke(this)?this._closedPromise:P(et("closed"))}get desiredSize(){if(!Ke(this))throw et("desiredSize");if(this._ownerWritableStream===void 0)throw Sr("desiredSize");return js(this)}get ready(){return Ke(this)?this._readyPromise:P(et("ready"))}abort(n=void 0){return Ke(this)?this._ownerWritableStream===void 0?P(Sr("abort")):zs(this,n):P(et("abort"))}close(){if(!Ke(this))return P(et("close"));let n=this._ownerWritableStream;return n===void 0?P(Sr("close")):Ue(n)?P(new TypeError("Cannot close an already-closing stream")):qn(this)}releaseLock(){if(!Ke(this))throw et("releaseLock");this._ownerWritableStream!==void 0&&Bi(this)}write(n=void 0){return Ke(this)?this._ownerWritableStream===void 0?P(Sr("write to")):zn(this,n):P(et("write"))}}Object.defineProperties(St.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(St.prototype,s.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ke(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")?!1:t instanceof St}function zs(t,n){let o=t._ownerWritableStream;return gr(o,n)}function qn(t){let n=t._ownerWritableStream;return Li(n)}function Ii(t){let n=t._ownerWritableStream,o=n._state;return Ue(n)||o==="closed"?M(void 0):o==="errored"?P(n._storedError):qn(t)}function Hs(t,n){t._closedPromiseState==="pending"?Gn(t,n):Qs(t,n)}function Ni(t,n){t._readyPromiseState==="pending"?Vi(t,n):Zs(t,n)}function js(t){let n=t._ownerWritableStream,o=n._state;return o==="errored"||o==="erroring"?null:o==="closed"?0:Xe(n._writableStreamController)}function Bi(t){let n=t._ownerWritableStream,o=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ni(t,o),Hs(t,o),n._writer=void 0,t._ownerWritableStream=void 0}function zn(t,n){let o=t._ownerWritableStream,f=o._writableStreamController,y=en(f,n);if(o!==t._ownerWritableStream)return P(Sr("write to"));let b=o._state;if(b==="errored")return P(o._storedError);if(Ue(o)||b==="closed")return P(new TypeError("The stream is closing or closed and cannot be written to"));if(b==="erroring")return P(o._storedError);let S=Ys(o);return Hn(f,n,y),S}let ie={};class $e{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!wt(this))throw It("abortReason");return this._abortReason}get signal(){if(!wt(this))throw It("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!wt(this))throw It("error");this._controlledWritableStream._state==="writable"&&qi(this,n)}[Lr](n){let o=this._abortAlgorithm(n);return Xr(this),o}[er](){v(this)}}Object.defineProperties($e.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty($e.prototype,s.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function wt(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")?!1:t instanceof $e}function Ui(t,n,o,f,y,b,S,E){n._controlledWritableStream=t,t._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,v(n),n._abortReason=void 0,n._abortController=xs(),n._started=!1,n._strategySizeAlgorithm=E,n._strategyHWM=S,n._writeAlgorithm=f,n._closeAlgorithm=y,n._abortAlgorithm=b;let Y=Vn(n);$n(t,Y);let B=o(),H=M(B);Z(H,()=>{n._started=!0,tn(n)},j=>{n._started=!0,Nn(t,j)})}function $i(t,n,o,f){let y=Object.create($e.prototype),b=()=>{},S=()=>M(void 0),E=()=>M(void 0),Y=()=>M(void 0);n.start!==void 0&&(b=()=>n.start(y)),n.write!==void 0&&(S=B=>n.write(B,y)),n.close!==void 0&&(E=()=>n.close()),n.abort!==void 0&&(Y=B=>n.abort(B)),Ui(t,y,b,S,E,Y,o,f)}function Xr(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Vs(t){or(t,ie,0),tn(t)}function en(t,n){try{return t._strategySizeAlgorithm(n)}catch(o){return Fe(t,o),1}}function Xe(t){return t._strategyHWM-t._queueTotalSize}function Hn(t,n,o){try{or(t,n,o)}catch(y){Fe(t,y);return}let f=t._controlledWritableStream;if(!Ue(f)&&f._state==="writable"){let y=Vn(t);$n(f,y)}tn(t)}function tn(t){let n=t._controlledWritableStream;if(!t._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){Un(n);return}if(t._queue.length===0)return;let f=Ur(t);f===ie?Gs(t):jn(t,f)}function Fe(t,n){t._controlledWritableStream._state==="writable"&&qi(t,n)}function Gs(t){let n=t._controlledWritableStream;$s(n),ot(t);let o=t._closeAlgorithm();Xr(t),Z(o,()=>{Ns(n)},f=>{Bs(n,f)})}function jn(t,n){let o=t._controlledWritableStream;qs(o);let f=t._writeAlgorithm(n);Z(f,()=>{Ls(o);let y=o._state;if(ot(t),!Ue(o)&&y==="writable"){let b=Vn(t);$n(o,b)}tn(t)},y=>{o._state==="writable"&&Xr(t),Is(o,y)})}function Vn(t){return Xe(t)<=0}function qi(t,n){let o=t._controlledWritableStream;Xr(t),Bn(o,n)}function rn(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function It(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function et(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Sr(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function nn(t){t._closedPromise=x((n,o)=>{t._closedPromise_resolve=n,t._closedPromise_reject=o,t._closedPromiseState="pending"})}function zi(t,n){nn(t),Gn(t,n)}function Hi(t){nn(t),ji(t)}function Gn(t,n){t._closedPromise_reject!==void 0&&(pe(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Qs(t,n){zi(t,n)}function ji(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function sn(t){t._readyPromise=x((n,o)=>{t._readyPromise_resolve=n,t._readyPromise_reject=o}),t._readyPromiseState="pending"}function Qn(t,n){sn(t),Vi(t,n)}function Zn(t){sn(t),wr(t)}function Vi(t,n){t._readyPromise_reject!==void 0&&(pe(t._readyPromise),t._readyPromise_reject(n),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function Nt(t){sn(t)}function Zs(t,n){Qn(t,n)}function wr(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}let Gi=typeof DOMException<"u"?DOMException:void 0;function Jn(t){if(!(typeof t=="function"||typeof t=="object"))return!1;try{return new t,!0}catch{return!1}}function Js(){let t=function(o,f){this.message=o||"",this.name=f||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}let Ks=Jn(Gi)?Gi:Js();function Qi(t,n,o,f,y,b){let S=Ot(t),E=Fi(n);t._disturbed=!0;let Y=!1,B=M(void 0);return x((H,j)=>{let fe;if(b!==void 0){if(fe=()=>{let A=new Ks("Aborted","AbortError"),I=[];f||I.push(()=>n._state==="writable"?gr(n,A):M(void 0)),y||I.push(()=>t._state==="readable"?Ee(t,A):M(void 0)),Te(()=>Promise.all(I.map(X=>X())),!0,A)},b.aborted){fe();return}b.addEventListener("abort",fe)}function Ye(){return x((A,I)=>{function X(ke){ke?A():g(qt(),X,I)}X(!1)})}function qt(){return Y?M(!0):g(E._readyPromise,()=>x((A,I)=>{he(S,{_chunkSteps:X=>{B=g(zn(E,X),void 0,d),A(!1)},_closeSteps:()=>A(!0),_errorSteps:I})}))}if(rt(t,S._closedPromise,A=>{f?Me(!0,A):Te(()=>gr(n,A),!0,A)}),rt(n,E._closedPromise,A=>{y?Me(!0,A):Te(()=>Ee(t,A),!0,A)}),Se(t,S._closedPromise,()=>{o?Me():Te(()=>Ii(E))}),Ue(n)||n._state==="closed"){let A=new TypeError("the destination writable stream closed before all data could be piped to it");y?Me(!0,A):Te(()=>Ee(t,A),!0,A)}pe(Ye());function mt(){let A=B;return g(B,()=>A!==B?mt():void 0)}function rt(A,I,X){A._state==="errored"?X(A._storedError):U(I,X)}function Se(A,I,X){A._state==="closed"?X():q(I,X)}function Te(A,I,X){if(Y)return;Y=!0,n._state==="writable"&&!Ue(n)?q(mt(),ke):ke();function ke(){Z(A(),()=>nt(I,X),zt=>nt(!0,zt))}}function Me(A,I){Y||(Y=!0,n._state==="writable"&&!Ue(n)?q(mt(),()=>nt(A,I)):nt(A,I))}function nt(A,I){Bi(E),ce(S),b!==void 0&&b.removeEventListener("abort",fe),A?j(I):H(void 0)}})}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Rr(this))throw on("desiredSize");return Xn(this)}close(){if(!Rr(this))throw on("close");if(!Ut(this))throw new TypeError("The stream is not in a state that permits close");kr(this)}enqueue(n=void 0){if(!Rr(this))throw on("enqueue");if(!Ut(this))throw new TypeError("The stream is not in a state that permits enqueue");return an(this,n)}error(n=void 0){if(!Rr(this))throw on("error");tt(this,n)}[tr](n){v(this);let o=this._cancelAlgorithm(n);return J(this),o}[st](n){let o=this._controlledReadableStream;if(this._queue.length>0){let f=ot(this);this._closeRequested&&this._queue.length===0?(J(this),vr(o)):Tr(this),n._chunkSteps(f)}else Wn(o,n),Tr(this)}}Object.defineProperties(Bt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,s.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Rr(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")?!1:t instanceof Bt}function Tr(t){if(!Kn(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let o=t._pullAlgorithm();Z(o,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Tr(t))},f=>{tt(t,f)})}function Kn(t){let n=t._controlledReadableStream;return!Ut(t)||!t._started?!1:!!(ct(n)&&At(n)>0||Xn(t)>0)}function J(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function kr(t){if(!Ut(t))return;let n=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(J(t),vr(n))}function an(t,n){if(!Ut(t))return;let o=t._controlledReadableStream;if(ct(o)&&At(o)>0)we(o,n,!1);else{let f;try{f=t._strategySizeAlgorithm(n)}catch(y){throw tt(t,y),y}try{or(t,n,f)}catch(y){throw tt(t,y),y}}Tr(t)}function tt(t,n){let o=t._controlledReadableStream;o._state==="readable"&&(v(t),J(t),Xi(o,n))}function Xn(t){let n=t._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:t._strategyHWM-t._queueTotalSize}function Xs(t){return!Kn(t)}function Ut(t){let n=t._controlledReadableStream._state;return!t._closeRequested&&n==="readable"}function $t(t,n,o,f,y,b,S){n._controlledReadableStream=t,n._queue=void 0,n._queueTotalSize=void 0,v(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=S,n._strategyHWM=b,n._pullAlgorithm=f,n._cancelAlgorithm=y,t._readableStreamController=n;let E=o();Z(M(E),()=>{n._started=!0,Tr(n)},Y=>{tt(n,Y)})}function ea(t,n,o,f){let y=Object.create(Bt.prototype),b=()=>{},S=()=>M(void 0),E=()=>M(void 0);n.start!==void 0&&(b=()=>n.start(y)),n.pull!==void 0&&(S=()=>n.pull(y)),n.cancel!==void 0&&(E=Y=>n.cancel(Y)),$t(t,y,b,S,E,o,f)}function on(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function ta(t,n){return be(t._readableStreamController)?un(t):ln(t)}function ln(t,n){let o=Ot(t),f=!1,y=!1,b=!1,S=!1,E,Y,B,H,j,fe=x(Se=>{j=Se});function Ye(){return f?(y=!0,M(void 0)):(f=!0,he(o,{_chunkSteps:Te=>{$(()=>{y=!1;let Me=Te,nt=Te;b||an(B._readableStreamController,Me),S||an(H._readableStreamController,nt),f=!1,y&&Ye()})},_closeSteps:()=>{f=!1,b||kr(B._readableStreamController),S||kr(H._readableStreamController),(!b||!S)&&j(void 0)},_errorSteps:()=>{f=!1}}),M(void 0))}function qt(Se){if(b=!0,E=Se,S){let Te=at([E,Y]),Me=Ee(t,Te);j(Me)}return fe}function mt(Se){if(S=!0,Y=Se,b){let Te=at([E,Y]),Me=Ee(t,Te);j(Me)}return fe}function rt(){}return B=ii(rt,Ye,qt),H=ii(rt,Ye,mt),U(o._closedPromise,Se=>{tt(B._readableStreamController,Se),tt(H._readableStreamController,Se),(!b||!S)&&j(void 0)}),[B,H]}function un(t){let n=Ot(t),o=!1,f=!1,y=!1,b=!1,S=!1,E,Y,B,H,j,fe=x(A=>{j=A});function Ye(A){U(A._closedPromise,I=>{A===n&&(ge(B._readableStreamController,I),ge(H._readableStreamController,I),(!b||!S)&&j(void 0))})}function qt(){lt(n)&&(ce(n),n=Ot(t),Ye(n)),he(n,{_chunkSteps:I=>{$(()=>{f=!1,y=!1;let X=I,ke=I;if(!b&&!S)try{ke=Wt(I)}catch(zt){ge(B._readableStreamController,zt),ge(H._readableStreamController,zt),j(Ee(t,zt));return}b||Ze(B._readableStreamController,X),S||Ze(H._readableStreamController,ke),o=!1,f?rt():y&&Se()})},_closeSteps:()=>{o=!1,b||cr(B._readableStreamController),S||cr(H._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&jr(B._readableStreamController,0),H._readableStreamController._pendingPullIntos.length>0&&jr(H._readableStreamController,0),(!b||!S)&&j(void 0)},_errorSteps:()=>{o=!1}})}function mt(A,I){Ge(n)&&(ce(n),n=Mi(t),Ye(n));let X=I?H:B,ke=I?B:H;In(n,A,{_chunkSteps:Ht=>{$(()=>{f=!1,y=!1;let jt=I?S:b;if(I?b:S)jt||Vr(X._readableStreamController,Ht);else{let gn;try{gn=Wt(Ht)}catch(fi){ge(X._readableStreamController,fi),ge(ke._readableStreamController,fi),j(Ee(t,fi));return}jt||Vr(X._readableStreamController,Ht),Ze(ke._readableStreamController,gn)}o=!1,f?rt():y&&Se()})},_closeSteps:Ht=>{o=!1;let jt=I?S:b,bn=I?b:S;jt||cr(X._readableStreamController),bn||cr(ke._readableStreamController),Ht!==void 0&&(jt||Vr(X._readableStreamController,Ht),!bn&&ke._readableStreamController._pendingPullIntos.length>0&&jr(ke._readableStreamController,0)),(!jt||!bn)&&j(void 0)},_errorSteps:()=>{o=!1}})}function rt(){if(o)return f=!0,M(void 0);o=!0;let A=Hr(B._readableStreamController);return A===null?qt():mt(A._view,!1),M(void 0)}function Se(){if(o)return y=!0,M(void 0);o=!0;let A=Hr(H._readableStreamController);return A===null?qt():mt(A._view,!0),M(void 0)}function Te(A){if(b=!0,E=A,S){let I=at([E,Y]),X=Ee(t,I);j(X)}return fe}function Me(A){if(S=!0,Y=A,b){let I=at([E,Y]),X=Ee(t,I);j(X)}return fe}function nt(){}return B=Ki(nt,rt,Te),H=Ki(nt,Se,Me),Ye(n),[B,H]}function ei(t,n){De(t,n);let o=t,f=o?.autoAllocateChunkSize,y=o?.cancel,b=o?.pull,S=o?.start,E=o?.type;return{autoAllocateChunkSize:f===void 0?void 0:vi(f,`${n} has member 'autoAllocateChunkSize' that`),cancel:y===void 0?void 0:ra(y,o,`${n} has member 'cancel' that`),pull:b===void 0?void 0:Zi(b,o,`${n} has member 'pull' that`),start:S===void 0?void 0:na(S,o,`${n} has member 'start' that`),type:E===void 0?void 0:ti(E,`${n} has member 'type' that`)}}function ra(t,n,o){return Pe(t,o),f=>L(t,n,[f])}function Zi(t,n,o){return Pe(t,o),f=>L(t,n,[f])}function na(t,n,o){return Pe(t,o),f=>ne(t,n,[f])}function ti(t,n){if(t=`${t}`,t!=="bytes")throw new TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function ri(t,n){De(t,n);let o=t?.mode;return{mode:o===void 0?void 0:ni(o,`${n} has member 'mode' that`)}}function ni(t,n){if(t=`${t}`,t!=="byob")throw new TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function ia(t,n){return De(t,n),{preventCancel:!!t?.preventCancel}}function Ji(t,n){De(t,n);let o=t?.preventAbort,f=t?.preventCancel,y=t?.preventClose,b=t?.signal;return b!==void 0&&sa(b,`${n} has member 'signal' that`),{preventAbort:!!o,preventCancel:!!f,preventClose:!!y,signal:b}}function sa(t,n){if(!As(t))throw new TypeError(`${n} is not an AbortSignal.`)}function aa(t,n){De(t,n);let o=t?.readable;Mn(o,"readable","ReadableWritablePair"),An(o,`${n} has member 'readable' that`);let f=t?.writable;return Mn(f,"writable","ReadableWritablePair"),xi(f,`${n} has member 'writable' that`),{readable:o,writable:f}}class dt{constructor(n={},o={}){n===void 0?n=null:Ti(n,"First parameter");let f=yr(o,"Second parameter"),y=ei(n,"First parameter");if(si(this),y.type==="bytes"){if(f.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let b=mr(f,0);Yn(this,y,b)}else{let b=Zr(f),S=mr(f,1);ea(this,y,S,b)}}get locked(){if(!ft(this))throw ye("locked");return ct(this)}cancel(n=void 0){return ft(this)?ct(this)?P(new TypeError("Cannot cancel a stream that already has a reader")):Ee(this,n):P(ye("cancel"))}getReader(n=void 0){if(!ft(this))throw ye("getReader");return ri(n,"First parameter").mode===void 0?Ot(this):Mi(this)}pipeThrough(n,o={}){if(!ft(this))throw ye("pipeThrough");Ve(n,1,"pipeThrough");let f=aa(n,"First parameter"),y=Ji(o,"Second parameter");if(ct(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Lt(f.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let b=Qi(this,f.writable,y.preventClose,y.preventAbort,y.preventCancel,y.signal);return pe(b),f.readable}pipeTo(n,o={}){if(!ft(this))return P(ye("pipeTo"));if(n===void 0)return P("Parameter 1 is required in 'pipeTo'.");if(!ut(n))return P(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let f;try{f=Ji(o,"Second parameter")}catch(y){return P(y)}return ct(this)?P(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Lt(n)?P(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qi(this,n,f.preventClose,f.preventAbort,f.preventCancel,f.signal)}tee(){if(!ft(this))throw ye("tee");let n=ta(this);return at(n)}values(n=void 0){if(!ft(this))throw ye("values");let o=ia(n,"First parameter");return Pi(this,o.preventCancel)}}Object.defineProperties(dt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(dt.prototype,s.toStringTag,{value:"ReadableStream",configurable:!0}),typeof s.asyncIterator=="symbol"&&Object.defineProperty(dt.prototype,s.asyncIterator,{value:dt.prototype.values,writable:!0,configurable:!0});function ii(t,n,o,f=1,y=()=>1){let b=Object.create(dt.prototype);si(b);let S=Object.create(Bt.prototype);return $t(b,S,t,n,o,f,y),b}function Ki(t,n,o){let f=Object.create(dt.prototype);si(f);let y=Object.create(xt.prototype);return le(f,y,t,n,o,0,void 0),f}function si(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function ft(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")?!1:t instanceof dt}function ct(t){return t._reader!==void 0}function Ee(t,n){if(t._disturbed=!0,t._state==="closed")return M(void 0);if(t._state==="errored")return P(t._storedError);vr(t);let o=t._reader;o!==void 0&&lt(o)&&(o._readIntoRequests.forEach(y=>{y._closeSteps(void 0)}),o._readIntoRequests=new ae);let f=t._readableStreamController[tr](n);return re(f,d)}function vr(t){t._state="closed";let n=t._reader;n!==void 0&&(We(n),Ge(n)&&(n._readRequests.forEach(o=>{o._closeSteps()}),n._readRequests=new ae))}function Xi(t,n){t._state="errored",t._storedError=n;let o=t._reader;o!==void 0&&(En(o,n),Ge(o)?(o._readRequests.forEach(f=>{f._errorSteps(n)}),o._readRequests=new ae):(o._readIntoRequests.forEach(f=>{f._errorSteps(n)}),o._readIntoRequests=new ae))}function ye(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function ht(t,n){De(t,n);let o=t?.highWaterMark;return Mn(o,"highWaterMark","QueuingStrategyInit"),{highWaterMark:On(o)}}let ai=t=>t.byteLength;try{Object.defineProperty(ai,"name",{value:"size",configurable:!0})}catch{}class dn{constructor(n){Ve(n,1,"ByteLengthQueuingStrategy"),n=ht(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!li(this))throw oi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!li(this))throw oi("size");return ai}}Object.defineProperties(dn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(dn.prototype,s.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function oi(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function li(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")?!1:t instanceof dn}let es=()=>1;try{Object.defineProperty(es,"name",{value:"size",configurable:!0})}catch{}class fn{constructor(n){Ve(n,1,"CountQueuingStrategy"),n=ht(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!ts(this))throw ui("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ts(this))throw ui("size");return es}}Object.defineProperties(fn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(fn.prototype,s.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ui(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function ts(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")?!1:t instanceof fn}function oa(t,n){De(t,n);let o=t?.flush,f=t?.readableType,y=t?.start,b=t?.transform,S=t?.writableType;return{flush:o===void 0?void 0:la(o,t,`${n} has member 'flush' that`),readableType:f,start:y===void 0?void 0:ua(y,t,`${n} has member 'start' that`),transform:b===void 0?void 0:da(b,t,`${n} has member 'transform' that`),writableType:S}}function la(t,n,o){return Pe(t,o),f=>L(t,n,[f])}function ua(t,n,o){return Pe(t,o),f=>ne(t,n,[f])}function da(t,n,o){return Pe(t,o),(f,y)=>L(t,n,[f,y])}class cn{constructor(n={},o={},f={}){n===void 0&&(n=null);let y=yr(o,"Second parameter"),b=yr(f,"Third parameter"),S=oa(n,"First parameter");if(S.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(S.writableType!==void 0)throw new RangeError("Invalid writableType specified");let E=mr(b,0),Y=Zr(b),B=mr(y,1),H=Zr(y),j,fe=x(Ye=>{j=Ye});fa(this,fe,B,H,E,Y),_n(this,S),S.start!==void 0?j(S.start(this._transformStreamController)):j(void 0)}get readable(){if(!rs(this))throw di("readable");return this._readable}get writable(){if(!rs(this))throw di("writable");return this._writable}}Object.defineProperties(cn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(cn.prototype,s.toStringTag,{value:"TransformStream",configurable:!0});function fa(t,n,o,f,y,b){function S(){return n}function E(fe){return ya(t,fe)}function Y(fe){return pa(t,fe)}function B(){return _a(t)}t._writable=Fs(S,E,B,Y,o,f);function H(){return as(t)}function j(fe){return mn(t,fe),M(void 0)}t._readable=ii(S,H,j,y,b),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,yn(t,!0),t._transformStreamController=void 0}function rs(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")?!1:t instanceof cn}function hn(t,n){tt(t._readable._readableStreamController,n),mn(t,n)}function mn(t,n){ns(t._transformStreamController),Fe(t._writable._writableStreamController,n),t._backpressure&&yn(t,!1)}function yn(t,n){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=x(o=>{t._backpressureChangePromise_resolve=o}),t._backpressure=n}class Dr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!pn(this))throw Pr("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return Xn(n)}enqueue(n=void 0){if(!pn(this))throw Pr("enqueue");is(this,n)}error(n=void 0){if(!pn(this))throw Pr("error");ha(this,n)}terminate(){if(!pn(this))throw Pr("terminate");ma(this)}}Object.defineProperties(Dr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Dr.prototype,s.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function pn(t){return!p(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")?!1:t instanceof Dr}function ca(t,n,o,f){n._controlledTransformStream=t,t._transformStreamController=n,n._transformAlgorithm=o,n._flushAlgorithm=f}function _n(t,n){let o=Object.create(Dr.prototype),f=b=>{try{return is(o,b),M(void 0)}catch(S){return P(S)}},y=()=>M(void 0);n.transform!==void 0&&(f=b=>n.transform(b,o)),n.flush!==void 0&&(y=()=>n.flush(o)),ca(t,o,f,y)}function ns(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function is(t,n){let o=t._controlledTransformStream,f=o._readable._readableStreamController;if(!Ut(f))throw new TypeError("Readable side is not in a state that permits enqueue");try{an(f,n)}catch(b){throw mn(o,b),o._readable._storedError}Xs(f)!==o._backpressure&&yn(o,!0)}function ha(t,n){hn(t._controlledTransformStream,n)}function ss(t,n){let o=t._transformAlgorithm(n);return re(o,void 0,f=>{throw hn(t._controlledTransformStream,f),f})}function ma(t){let n=t._controlledTransformStream,o=n._readable._readableStreamController;kr(o);let f=new TypeError("TransformStream terminated");mn(n,f)}function ya(t,n){let o=t._transformStreamController;if(t._backpressure){let f=t._backpressureChangePromise;return re(f,()=>{let y=t._writable;if(y._state==="erroring")throw y._storedError;return ss(o,n)})}return ss(o,n)}function pa(t,n){return hn(t,n),M(void 0)}function _a(t){let n=t._readable,o=t._transformStreamController,f=o._flushAlgorithm();return ns(o),re(f,()=>{if(n._state==="errored")throw n._storedError;kr(n._readableStreamController)},y=>{throw hn(t,y),n._storedError})}function as(t){return yn(t,!1),t._backpressureChangePromise}function Pr(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function di(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}u.ByteLengthQueuingStrategy=dn,u.CountQueuingStrategy=fn,u.ReadableByteStreamController=xt,u.ReadableStream=dt,u.ReadableStreamBYOBReader=hr,u.ReadableStreamBYOBRequest=lr,u.ReadableStreamDefaultController=Bt,u.ReadableStreamDefaultReader=rr,u.TransformStream=cn,u.TransformStreamDefaultController=Dr,u.WritableStream=br,u.WritableStreamDefaultController=$e,u.WritableStreamDefaultWriter=St,Object.defineProperty(u,"__esModule",{value:!0})})});var Ga=fs(()=>{if(!globalThis.ReadableStream)try{let u=require("node:process"),{emitWarning:s}=u;try{u.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),u.emitWarning=s}catch(d){throw u.emitWarning=s,d}}catch{Object.assign(globalThis,Va())}try{let{Blob:u}=require("buffer");u&&!u.prototype.stream&&(u.prototype.stream=function(d){let c=0,m=this;return new ReadableStream({type:"bytes",async pull(p){let T=await m.slice(c,Math.min(m.size,c+65536)).arrayBuffer();c+=T.byteLength,p.enqueue(new Uint8Array(T)),c===m.size&&p.close()}})})}catch{}});async function*Ra(u,s=!0){for(let d of u)if("stream"in d)yield*d.stream();else if(ArrayBuffer.isView(d))if(s){let c=d.byteOffset,m=d.byteOffset+d.byteLength;for(;c!==m;){let p=Math.min(m-c,Qa),w=d.buffer.slice(c,c+p);c+=w.byteLength,yield new Uint8Array(w)}}else yield d;else{let c=0,m=d;for(;c!==m.size;){let w=await m.slice(c,Math.min(m.size,c+Qa)).arrayBuffer();c+=w.byteLength,yield new Uint8Array(w)}}}var Wu,Qa,Za,Xl,Dt,hi=ci(()=>{Wu=yt(Ga(),1);Qa=65536;Za=class Ta{#e=[];#t="";#r=0;#n="transparent";constructor(s=[],d={}){if(typeof s!="object"||s===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof s[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof d!="object"&&typeof d!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");d===null&&(d={});let c=new TextEncoder;for(let p of s){let w;ArrayBuffer.isView(p)?w=new Uint8Array(p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength)):p instanceof ArrayBuffer?w=new Uint8Array(p.slice(0)):p instanceof Ta?w=p:w=c.encode(`${p}`);let T=ArrayBuffer.isView(w)?w.byteLength:w.size;T&&(this.#r+=T,this.#e.push(w))}this.#n=`${d.endings===void 0?"transparent":d.endings}`;let m=d.type===void 0?"":String(d.type);this.#t=/^[\x20-\x7E]*$/.test(m)?m:""}get size(){return this.#r}get type(){return this.#t}async text(){let s=new TextDecoder,d="";for await(let c of Ra(this.#e,!1))d+=s.decode(c,{stream:!0});return d+=s.decode(),d}async arrayBuffer(){let s=new Uint8Array(this.size),d=0;for await(let c of Ra(this.#e,!1))s.set(c,d),d+=c.length;return s.buffer}stream(){let s=Ra(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(d){let c=await s.next();c.done?d.close():d.enqueue(c.value)},async cancel(){await s.return()}})}slice(s=0,d=this.size,c=""){let{size:m}=this,p=s<0?Math.max(m+s,0):Math.min(s,m),w=d<0?Math.max(m+d,0):Math.min(d,m),T=Math.max(w-p,0),D=this.#e,k=[],N=0;for(let M of D){if(N>=T)break;let P=ArrayBuffer.isView(M)?M.byteLength:M.size;if(p&&P<=p)p-=P,w-=P;else{let g;ArrayBuffer.isView(M)?(g=M.subarray(p,Math.min(P,w)),N+=g.byteLength):(g=M.slice(p,Math.min(P,w)),N+=g.size),w-=P,k.push(g),p=0}}let x=new Ta([],{type:String(c).toLowerCase()});return x.#r=T,x.#e=k,x}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](s){return s&&typeof s=="object"&&typeof s.constructor=="function"&&(typeof s.stream=="function"||typeof s.arrayBuffer=="function")&&/^(Blob|File)$/.test(s[Symbol.toStringTag])}};Object.defineProperties(Za.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Xl=Za,Dt=Xl});var eu,tu,Rn,ka=ci(()=>{hi();eu=class extends Dt{#e=0;#t="";constructor(s,d,c={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(s,c),c===null&&(c={});let m=c.lastModified===void 0?Date.now():Number(c.lastModified);Number.isNaN(m)||(this.#e=m),this.#t=String(d)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](s){return!!s&&s instanceof Dt&&/^(File)$/.test(s[Symbol.toStringTag])}},tu=eu,Rn=tu});function Xa(u,s=Dt){var d=`${Ja()}${Ja()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),c=[],m=`--${d}\r
Content-Disposition: form-data; name="`;return u.forEach((p,w)=>typeof p=="string"?c.push(m+va(w)+`"\r
\r
${p.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):c.push(m+va(w)+`"; filename="${va(p.name,1)}"\r
Content-Type: ${p.type||"application/octet-stream"}\r
\r
`,p,`\r
`)),c.push(`--${d}--`),new s(c,{type:"multipart/form-data; boundary="+d})}var mi,ru,nu,Ja,iu,Ka,va,Er,Mr,hs=ci(()=>{hi();ka();({toStringTag:mi,iterator:ru,hasInstance:nu}=Symbol),Ja=Math.random,iu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ka=(u,s,d)=>(u+="",/^(Blob|File)$/.test(s&&s[mi])?[(d=d!==void 0?d+"":s[mi]=="File"?s.name:"blob",u),s.name!==d||s[mi]=="blob"?new Rn([s],d,s):s]:[u,s+""]),va=(u,s)=>(s?u:u.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Er=(u,s,d)=>{if(s.length<d)throw new TypeError(`Failed to execute '${u}' on 'FormData': ${d} arguments required, but only ${s.length} present.`)},Mr=class{#e=[];constructor(...s){if(s.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[mi](){return"FormData"}[ru](){return this.entries()}static[nu](s){return s&&typeof s=="object"&&s[mi]==="FormData"&&!iu.some(d=>typeof s[d]!="function")}append(...s){Er("append",arguments,2),this.#e.push(Ka(...s))}delete(s){Er("delete",arguments,1),s+="",this.#e=this.#e.filter(([d])=>d!==s)}get(s){Er("get",arguments,1),s+="";for(var d=this.#e,c=d.length,m=0;m<c;m++)if(d[m][0]===s)return d[m][1];return null}getAll(s,d){return Er("getAll",arguments,1),d=[],s+="",this.#e.forEach(c=>c[0]===s&&d.push(c[1])),d}has(s){return Er("has",arguments,1),s+="",this.#e.some(d=>d[0]===s)}forEach(s,d){Er("forEach",arguments,1);for(var[c,m]of this)s.call(d,m,c,this)}set(...s){Er("set",arguments,2);var d=[],c=!0;s=Ka(...s),this.#e.forEach(m=>{m[0]===s[0]?c&&(c=!d.push(s)):d.push(m)}),c&&d.push(s),this.#e=d}*entries(){yield*this.#e}*keys(){for(var[s]of this)yield s}*values(){for(var[,s]of this)yield s}}});var io=fs((ju,no)=>{if(!globalThis.DOMException)try{let{MessageChannel:u}=require("worker_threads"),s=new u().port1,d=new ArrayBuffer;s.postMessage(d,[d,d])}catch(u){u.constructor.name==="DOMException"&&(globalThis.DOMException=u.constructor)}no.exports=globalThis.DOMException});var ys,su,Qu,Pa=ci(()=>{ys=require("node:fs"),su=yt(io(),1);ka();hi();({stat:Qu}=ys.promises)});var ao={};qa(ao,{toFormData:()=>cu});function fu(u){let s=u.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!s)return;let d=s[2]||s[3]||"",c=d.slice(d.lastIndexOf("\\")+1);return c=c.replace(/%22/g,'"'),c=c.replace(/&#(\d{4});/g,(m,p)=>String.fromCharCode(p)),c}async function cu(u,s){if(!/multipart/i.test(s))throw new TypeError("Failed to fetch");let d=s.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!d)throw new TypeError("no or bad content-type header, no multipart boundary");let c=new Ca(d[1]||d[2]),m,p,w,T,D,k,N=[],x=new Mr,M=U=>{w+=q.decode(U,{stream:!0})},P=U=>{N.push(U)},g=()=>{let U=new Rn(N,k,{type:D});x.append(T,U)},Z=()=>{x.append(T,w)},q=new TextDecoder("utf-8");q.decode(),c.onPartBegin=function(){c.onPartData=M,c.onPartEnd=Z,m="",p="",w="",T="",D="",k=null,N.length=0},c.onHeaderField=function(U){m+=q.decode(U,{stream:!0})},c.onHeaderValue=function(U){p+=q.decode(U,{stream:!0})},c.onHeaderEnd=function(){if(p+=q.decode(),m=m.toLowerCase(),m==="content-disposition"){let U=p.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);U&&(T=U[2]||U[3]||""),k=fu(p),k&&(c.onPartData=P,c.onPartEnd=g)}else m==="content-type"&&(D=p);p="",m=""};for await(let U of u)c.write(U);return c.end(),x}var pt,oe,so,Zt,ps,_s,au,pi,ou,lu,uu,du,Or,Ca,oo=ci(()=>{Pa();hs();pt=0,oe={START_BOUNDARY:pt++,HEADER_FIELD_START:pt++,HEADER_FIELD:pt++,HEADER_VALUE_START:pt++,HEADER_VALUE:pt++,HEADER_VALUE_ALMOST_DONE:pt++,HEADERS_ALMOST_DONE:pt++,PART_DATA_START:pt++,PART_DATA:pt++,END:pt++},so=1,Zt={PART_BOUNDARY:so,LAST_BOUNDARY:so*=2},ps=10,_s=13,au=32,pi=45,ou=58,lu=97,uu=122,du=u=>u|32,Or=()=>{},Ca=class{constructor(s){this.index=0,this.flags=0,this.onHeaderEnd=Or,this.onHeaderField=Or,this.onHeadersEnd=Or,this.onHeaderValue=Or,this.onPartBegin=Or,this.onPartData=Or,this.onPartEnd=Or,this.boundaryChars={},s=`\r
--`+s;let d=new Uint8Array(s.length);for(let c=0;c<s.length;c++)d[c]=s.charCodeAt(c),this.boundaryChars[d[c]]=!0;this.boundary=d,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=oe.START_BOUNDARY}write(s){let d=0,c=s.length,m=this.index,{lookbehind:p,boundary:w,boundaryChars:T,index:D,state:k,flags:N}=this,x=this.boundary.length,M=x-1,P=s.length,g,Z,q=$=>{this[$+"Mark"]=d},U=$=>{delete this[$+"Mark"]},re=($,ne,L,je)=>{(ne===void 0||ne!==L)&&this[$](je&&je.subarray(ne,L))},pe=($,ne)=>{let L=$+"Mark";L in this&&(ne?(re($,this[L],d,s),delete this[L]):(re($,this[L],s.length,s),this[L]=0))};for(d=0;d<c;d++)switch(g=s[d],k){case oe.START_BOUNDARY:if(D===w.length-2){if(g===pi)N|=Zt.LAST_BOUNDARY;else if(g!==_s)return;D++;break}else if(D-1===w.length-2){if(N&Zt.LAST_BOUNDARY&&g===pi)k=oe.END,N=0;else if(!(N&Zt.LAST_BOUNDARY)&&g===ps)D=0,re("onPartBegin"),k=oe.HEADER_FIELD_START;else return;break}g!==w[D+2]&&(D=-2),g===w[D+2]&&D++;break;case oe.HEADER_FIELD_START:k=oe.HEADER_FIELD,q("onHeaderField"),D=0;case oe.HEADER_FIELD:if(g===_s){U("onHeaderField"),k=oe.HEADERS_ALMOST_DONE;break}if(D++,g===pi)break;if(g===ou){if(D===1)return;pe("onHeaderField",!0),k=oe.HEADER_VALUE_START;break}if(Z=du(g),Z<lu||Z>uu)return;break;case oe.HEADER_VALUE_START:if(g===au)break;q("onHeaderValue"),k=oe.HEADER_VALUE;case oe.HEADER_VALUE:g===_s&&(pe("onHeaderValue",!0),re("onHeaderEnd"),k=oe.HEADER_VALUE_ALMOST_DONE);break;case oe.HEADER_VALUE_ALMOST_DONE:if(g!==ps)return;k=oe.HEADER_FIELD_START;break;case oe.HEADERS_ALMOST_DONE:if(g!==ps)return;re("onHeadersEnd"),k=oe.PART_DATA_START;break;case oe.PART_DATA_START:k=oe.PART_DATA,q("onPartData");case oe.PART_DATA:if(m=D,D===0){for(d+=M;d<P&&!(s[d]in T);)d+=x;d-=M,g=s[d]}if(D<w.length)w[D]===g?(D===0&&pe("onPartData",!0),D++):D=0;else if(D===w.length)D++,g===_s?N|=Zt.PART_BOUNDARY:g===pi?N|=Zt.LAST_BOUNDARY:D=0;else if(D-1===w.length)if(N&Zt.PART_BOUNDARY){if(D=0,g===ps){N&=~Zt.PART_BOUNDARY,re("onPartEnd"),re("onPartBegin"),k=oe.HEADER_FIELD_START;break}}else N&Zt.LAST_BOUNDARY&&g===pi?(re("onPartEnd"),k=oe.END,N=0):D=0;if(D>0)p[D-1]=g;else if(m>0){let $=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);re("onPartData",0,m,$),m=0,q("onPartData"),d--}break;case oe.END:break;default:throw new Error(`Unexpected state entered: ${k}`)}pe("onHeaderField"),pe("onHeaderValue"),pe("onPartData"),this.index=D,this.state=k,this.flags=N}end(){if(this.state===oe.HEADER_FIELD_START&&this.index===0||this.state===oe.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==oe.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Do=fs((Aa,vn)=>{(function(u,s){typeof Aa=="object"&&typeof vn<"u"?vn.exports=s():typeof define=="function"&&define.amd?define(s):u.moment=s()})(Aa,function(){"use strict";var u;function s(){return u.apply(null,arguments)}function d(e){u=e}function c(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function m(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function p(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function w(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var r;for(r in e)if(p(e,r))return!1;return!0}function T(e){return e===void 0}function D(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function k(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function N(e,r){var i=[],a,l=e.length;for(a=0;a<l;++a)i.push(r(e[a],a));return i}function x(e,r){for(var i in r)p(r,i)&&(e[i]=r[i]);return p(r,"toString")&&(e.toString=r.toString),p(r,"valueOf")&&(e.valueOf=r.valueOf),e}function M(e,r,i,a){return Kn(e,r,i,a,!0).utc()}function P(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return e._pf==null&&(e._pf=P()),e._pf}var Z;Array.prototype.some?Z=Array.prototype.some:Z=function(e){var r=Object(this),i=r.length>>>0,a;for(a=0;a<i;a++)if(a in r&&e.call(this,r[a],a,r))return!0;return!1};function q(e){var r=null,i=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(r=g(e),i=Z.call(r.parsedDateParts,function(l){return l!=null}),a=r.overflow<0&&!r.empty&&!r.invalidEra&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&i),e._strict&&(a=a&&r.charsLeftOver===0&&r.unusedTokens.length===0&&r.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function U(e){var r=M(NaN);return e!=null?x(g(r),e):g(r).userInvalidated=!0,r}var re=s.momentProperties=[],pe=!1;function $(e,r){var i,a,l,h=re.length;if(T(r._isAMomentObject)||(e._isAMomentObject=r._isAMomentObject),T(r._i)||(e._i=r._i),T(r._f)||(e._f=r._f),T(r._l)||(e._l=r._l),T(r._strict)||(e._strict=r._strict),T(r._tzm)||(e._tzm=r._tzm),T(r._isUTC)||(e._isUTC=r._isUTC),T(r._offset)||(e._offset=r._offset),T(r._pf)||(e._pf=g(r)),T(r._locale)||(e._locale=r._locale),h>0)for(i=0;i<h;i++)a=re[i],l=r[a],T(l)||(e[a]=l);return e}function ne(e){$(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),pe===!1&&(pe=!0,s.updateOffset(this),pe=!1)}function L(e){return e instanceof ne||e!=null&&e._isAMomentObject!=null}function je(e){s.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ae(e,r){var i=!0;return x(function(){if(s.deprecationHandler!=null&&s.deprecationHandler(null,e),i){var a=[],l,h,_,C=arguments.length;for(h=0;h<C;h++){if(l="",typeof arguments[h]=="object"){l+=`
[`+h+"] ";for(_ in arguments[0])p(arguments[0],_)&&(l+=_+": "+arguments[0][_]+", ");l=l.slice(0,-2)}else l=arguments[h];a.push(l)}je(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),i=!1}return r.apply(this,arguments)},r)}var Pn={};function Fr(e,r){s.deprecationHandler!=null&&s.deprecationHandler(e,r),Pn[e]||(je(r),Pn[e]=!0)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null;function ce(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Mt(e){var r,i;for(i in e)p(e,i)&&(r=e[i],ce(r)?this[i]=r:this["_"+i]=r);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xt(e,r){var i=x({},e),a;for(a in r)p(r,a)&&(m(e[a])&&m(r[a])?(i[a]={},x(i[a],e[a]),x(i[a],r[a])):r[a]!=null?i[a]=r[a]:delete i[a]);for(a in e)p(e,a)&&!p(r,a)&&m(e[a])&&(i[a]=x({},i[a]));return i}function Yr(e){e!=null&&this.set(e)}var Cn;Object.keys?Cn=Object.keys:Cn=function(e){var r,i=[];for(r in e)p(e,r)&&i.push(r);return i};var En={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ts(e,r,i){var a=this._calendar[e]||this._calendar.sameElse;return ce(a)?a.call(r,i):a}function We(e,r,i){var a=""+Math.abs(e),l=r-a.length,h=e>=0;return(h?i?"+":"":"-")+Math.pow(10,Math.max(0,l)).toString().substr(1)+a}var Lr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,er=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tr={},st={};function O(e,r,i,a){var l=a;typeof a=="string"&&(l=function(){return this[a]()}),e&&(st[e]=l),r&&(st[r[0]]=function(){return We(l.apply(this,arguments),r[1],r[2])}),i&&(st[i]=function(){return this.localeData().ordinal(l.apply(this,arguments),e)})}function ks(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vs(e){var r=e.match(Lr),i,a;for(i=0,a=r.length;i<a;i++)st[r[i]]?r[i]=st[r[i]]:r[i]=ks(r[i]);return function(l){var h="",_;for(_=0;_<a;_++)h+=ce(r[_])?r[_].call(l,e):r[_];return h}}function De(e,r){return e.isValid()?(r=Pe(r,e.localeData()),tr[r]=tr[r]||vs(r),tr[r](e)):e.localeData().invalidDate()}function Pe(e,r){var i=5;function a(l){return r.longDateFormat(l)||l}for(er.lastIndex=0;i>=0&&er.test(e);)e=e.replace(er,a),er.lastIndex=0,i-=1;return e}var Ds={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ti(e){var r=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return r||!i?r:(this._longDateFormat[e]=i.match(Lr).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var Ve="Invalid date";function Mn(){return this._invalidDate}var On="%d",ki=/\d{1,2}/;function Ps(e){return this._ordinal.replace("%d",e)}var vi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function An(e,r,i,a){var l=this._relativeTime[i];return ce(l)?l(e,r,i,a):l.replace(/%d/i,e)}function Ot(e,r){var i=this._relativeTime[e>0?"future":"past"];return ce(i)?i(r):i.replace(/%s/i,r)}var Wn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function we(e){return typeof e=="string"?Wn[e]||Wn[e.toLowerCase()]:void 0}function At(e){var r={},i,a;for(a in e)p(e,a)&&(i=we(a),i&&(r[i]=e[a]));return r}var Di={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function rr(e){var r=[],i;for(i in e)p(e,i)&&r.push({unit:i,priority:Di[i]});return r.sort(function(a,l){return a.priority-l.priority}),r}var Ge=/\d/,he=/\d\d/,nr=/\d{3}/,Ir=/\d{4}/,ir=/[+-]?\d{6}/,K=/\d\d?/,Pi=/\d\d\d\d?/,xn=/\d\d\d\d\d\d?/,sr=/\d{1,3}/,Nr=/\d{1,4}/,at=/[+-]?\d{1,6}/,bt=/\d+/,Fn=/[+-]?\d+/,Br=/Z|[+-]\d\d:?\d\d/gi,ar=/Z|[+-]\d\d(?::?\d\d)?/gi,Cs=/[+-]?\d+(\.\d{1,3})?/,Wt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ot=/^[1-9]\d?/,or=/^([1-9]\d|\d)/,Ur;Ur={};function v(e,r,i){Ur[e]=ce(r)?r:function(a,l){return a&&i?i:r}}function lr(e,r){return p(Ur,e)?Ur[e](r._strict,r._locale):new RegExp(xt(e))}function xt(e){return be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(r,i,a,l,h){return i||a||l||h}))}function be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Re(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function F(e){var r=+e,i=0;return r!==0&&isFinite(r)&&(i=Re(r)),i}var $r={};function G(e,r){var i,a=r,l;for(typeof e=="string"&&(e=[e]),D(r)&&(a=function(h,_){_[r]=F(h)}),l=e.length,i=0;i<l;i++)$r[e[i]]=a}function Ft(e,r){G(e,function(i,a,l,h){l._w=l._w||{},r(i,l._w,l,h)})}function qr(e,r,i){r!=null&&p($r,e)&&$r[e](r,i._a,i,e)}function ur(e){return e%4===0&&e%100!==0||e%400===0}var me=0,Be=1,Ce=2,de=3,xe=4,Qe=5,gt=6,Ci=7,zr=8;O("Y",0,0,function(){var e=this.year();return e<=9999?We(e,4):"+"+e}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),v("Y",Fn),v("YY",K,he),v("YYYY",Nr,Ir),v("YYYYY",at,ir),v("YYYYYY",at,ir),G(["YYYYY","YYYYYY"],me),G("YYYY",function(e,r){r[me]=e.length===2?s.parseTwoDigitYear(e):F(e)}),G("YY",function(e,r){r[me]=s.parseTwoDigitYear(e)}),G("Y",function(e,r){r[me]=parseInt(e,10)});function dr(e){return ur(e)?366:365}s.parseTwoDigitYear=function(e){return F(e)+(F(e)>68?1900:2e3)};var fr=Ze("FullYear",!0);function cr(){return ur(this.year())}function Ze(e,r){return function(i){return i!=null?(Hr(this,e,i),s.updateOffset(this,r),this):ge(this,e)}}function ge(e,r){if(!e.isValid())return NaN;var i=e._d,a=e._isUTC;switch(r){case"Milliseconds":return a?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return a?i.getUTCSeconds():i.getSeconds();case"Minutes":return a?i.getUTCMinutes():i.getMinutes();case"Hours":return a?i.getUTCHours():i.getHours();case"Date":return a?i.getUTCDate():i.getDate();case"Day":return a?i.getUTCDay():i.getDay();case"Month":return a?i.getUTCMonth():i.getMonth();case"FullYear":return a?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Hr(e,r,i){var a,l,h,_,C;if(!(!e.isValid()||isNaN(i))){switch(a=e._d,l=e._isUTC,r){case"Milliseconds":return void(l?a.setUTCMilliseconds(i):a.setMilliseconds(i));case"Seconds":return void(l?a.setUTCSeconds(i):a.setSeconds(i));case"Minutes":return void(l?a.setUTCMinutes(i):a.setMinutes(i));case"Hours":return void(l?a.setUTCHours(i):a.setHours(i));case"Date":return void(l?a.setUTCDate(i):a.setDate(i));case"FullYear":break;default:return}h=i,_=e.month(),C=e.date(),C=C===29&&_===1&&!ur(h)?28:C,l?a.setUTCFullYear(h,_,C):a.setFullYear(h,_,C)}}function Ei(e){return e=we(e),ce(this[e])?this[e]():this}function jr(e,r){if(typeof e=="object"){e=At(e);var i=rr(e),a,l=i.length;for(a=0;a<l;a++)this[i[a].unit](e[i[a].unit])}else if(e=we(e),ce(this[e]))return this[e](r);return this}function Vr(e,r){return(e%r+r)%r}var le;Array.prototype.indexOf?le=Array.prototype.indexOf:le=function(e){var r;for(r=0;r<this.length;++r)if(this[r]===e)return r;return-1};function Yn(e,r){if(isNaN(e)||isNaN(r))return NaN;var i=Vr(r,12);return e+=(r-i)/12,i===1?ur(e)?29:28:31-i%7%2}O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),v("M",K,ot),v("MM",K,he),v("MMM",function(e,r){return r.monthsShortRegex(e)}),v("MMMM",function(e,r){return r.monthsRegex(e)}),G(["M","MM"],function(e,r){r[Be]=F(e)-1}),G(["MMM","MMMM"],function(e,r,i,a){var l=i._locale.monthsParse(e,a,i._strict);l!=null?r[Be]=l:g(i).invalidMonth=e});var Es="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mi=Wt,Oi=Wt;function Ms(e,r){return e?c(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yt).test(r)?"format":"standalone"][e.month()]:c(this._months)?this._months:this._months.standalone}function Ai(e,r){return e?c(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yt.test(r)?"format":"standalone"][e.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ln(e,r,i){var a,l,h,_=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)h=M([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(h,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(h,"").toLocaleLowerCase();return i?r==="MMM"?(l=le.call(this._shortMonthsParse,_),l!==-1?l:null):(l=le.call(this._longMonthsParse,_),l!==-1?l:null):r==="MMM"?(l=le.call(this._shortMonthsParse,_),l!==-1?l:(l=le.call(this._longMonthsParse,_),l!==-1?l:null)):(l=le.call(this._longMonthsParse,_),l!==-1?l:(l=le.call(this._shortMonthsParse,_),l!==-1?l:null))}function hr(e,r,i){var a,l,h;if(this._monthsParseExact)return Ln.call(this,e,r,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(l=M([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(l,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(l,"").replace(".","")+"$","i")),!i&&!this._monthsParse[a]&&(h="^"+this.months(l,"")+"|^"+this.monthsShort(l,""),this._monthsParse[a]=new RegExp(h.replace(".",""),"i")),i&&r==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(i&&r==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!i&&this._monthsParse[a].test(e))return a}}function lt(e,r){if(!e.isValid())return e;if(typeof r=="string"){if(/^\d+$/.test(r))r=F(r);else if(r=e.localeData().monthsParse(r),!D(r))return e}var i=r,a=e.date();return a=a<29?a:Math.min(a,Yn(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,a):e._d.setMonth(i,a),e}function In(e){return e!=null?(lt(this,e),s.updateOffset(this,!0),this):ge(this,"Month")}function Qr(){return Yn(this.year(),this.month())}function mr(e){return this._monthsParseExact?(p(this,"_monthsRegex")||yr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Mi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Zr(e){return this._monthsParseExact?(p(this,"_monthsRegex")||yr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Oi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yr(){function e(W,z){return z.length-W.length}var r=[],i=[],a=[],l,h,_,C;for(l=0;l<12;l++)h=M([2e3,l]),_=be(this.monthsShort(h,"")),C=be(this.months(h,"")),r.push(_),i.push(C),a.push(C),a.push(_);r.sort(e),i.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Os(e,r,i,a,l,h,_){var C;return e<100&&e>=0?(C=new Date(e+400,r,i,a,l,h,_),isFinite(C.getFullYear())&&C.setFullYear(e)):C=new Date(e,r,i,a,l,h,_),C}function pr(e){var r,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,r=new Date(Date.UTC.apply(null,i)),isFinite(r.getUTCFullYear())&&r.setUTCFullYear(e)):r=new Date(Date.UTC.apply(null,arguments)),r}function Jr(e,r,i){var a=7+r-i,l=(7+pr(e,0,a).getUTCDay()-r)%7;return-l+a-1}function Wi(e,r,i,a,l){var h=(7+i-a)%7,_=Jr(e,a,l),C=1+7*(r-1)+h+_,W,z;return C<=0?(W=e-1,z=dr(W)+C):C>dr(e)?(W=e+1,z=C-dr(e)):(W=e,z=C),{year:W,dayOfYear:z}}function _r(e,r,i){var a=Jr(e.year(),r,i),l=Math.floor((e.dayOfYear()-a-1)/7)+1,h,_;return l<1?(_=e.year()-1,h=l+Je(_,r,i)):l>Je(e.year(),r,i)?(h=l-Je(e.year(),r,i),_=e.year()+1):(_=e.year(),h=l),{week:h,year:_}}function Je(e,r,i){var a=Jr(e,r,i),l=Jr(e+1,r,i);return(dr(e)-a+l)/7}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),v("w",K,ot),v("ww",K,he),v("W",K,ot),v("WW",K,he),Ft(["w","ww","W","WW"],function(e,r,i,a){r[a.substr(0,1)]=F(e)});function xi(e){return _r(e,this._week.dow,this._week.doy).week}var As={dow:0,doy:6};function Ws(){return this._week.dow}function xs(){return this._week.doy}function br(e){var r=this.localeData().week(this);return e==null?r:this.add((e-r)*7,"d")}function Fi(e){var r=_r(this,1,4).week;return e==null?r:this.add((e-r)*7,"d")}O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),v("d",K),v("e",K),v("E",K),v("dd",function(e,r){return r.weekdaysMinRegex(e)}),v("ddd",function(e,r){return r.weekdaysShortRegex(e)}),v("dddd",function(e,r){return r.weekdaysRegex(e)}),Ft(["dd","ddd","dddd"],function(e,r,i,a){var l=i._locale.weekdaysParse(e,a,i._strict);l!=null?r.d=l:g(i).invalidWeekday=e}),Ft(["d","e","E"],function(e,r,i,a){r[a]=F(e)});function Fs(e,r){return typeof e!="string"?e:isNaN(e)?(e=r.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Yi(e,r){return typeof e=="string"?r.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ut(e,r){return e.slice(r,7).concat(e.slice(0,r))}var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Li="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ys=Wt,Nn=Wt,Bn=Wt;function Un(e,r){var i=c(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(r)?"format":"standalone"];return e===!0?ut(i,this._week.dow):e?i[e.day()]:i}function Ls(e){return e===!0?ut(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Is(e){return e===!0?ut(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ns(e,r,i){var a,l,h,_=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)h=M([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(h,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(h,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(h,"").toLocaleLowerCase();return i?r==="dddd"?(l=le.call(this._weekdaysParse,_),l!==-1?l:null):r==="ddd"?(l=le.call(this._shortWeekdaysParse,_),l!==-1?l:null):(l=le.call(this._minWeekdaysParse,_),l!==-1?l:null):r==="dddd"?(l=le.call(this._weekdaysParse,_),l!==-1||(l=le.call(this._shortWeekdaysParse,_),l!==-1)?l:(l=le.call(this._minWeekdaysParse,_),l!==-1?l:null)):r==="ddd"?(l=le.call(this._shortWeekdaysParse,_),l!==-1||(l=le.call(this._weekdaysParse,_),l!==-1)?l:(l=le.call(this._minWeekdaysParse,_),l!==-1?l:null)):(l=le.call(this._minWeekdaysParse,_),l!==-1||(l=le.call(this._weekdaysParse,_),l!==-1)?l:(l=le.call(this._shortWeekdaysParse,_),l!==-1?l:null))}function Bs(e,r,i){var a,l,h;if(this._weekdaysParseExact)return Ns.call(this,e,r,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(l=M([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(l,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(l,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(l,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(h="^"+this.weekdays(l,"")+"|^"+this.weekdaysShort(l,"")+"|^"+this.weekdaysMin(l,""),this._weekdaysParse[a]=new RegExp(h.replace(".",""),"i")),i&&r==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(i&&r==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(i&&r==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!i&&this._weekdaysParse[a].test(e))return a}}function Ue(e){if(!this.isValid())return e!=null?this:NaN;var r=ge(this,"Day");return e!=null?(e=Fs(e,this.localeData()),this.add(e-r,"d")):r}function Us(e){if(!this.isValid())return e!=null?this:NaN;var r=(this.day()+7-this.localeData()._week.dow)%7;return e==null?r:this.add(e-r,"d")}function $s(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var r=Yi(e,this.localeData());return this.day(this.day()%7?r:r-7)}else return this.day()||7}function qs(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||St.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Ys),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kr(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||St.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $n(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||St.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function St(){function e(ve,vt){return vt.length-ve.length}var r=[],i=[],a=[],l=[],h,_,C,W,z;for(h=0;h<7;h++)_=M([2e3,1]).day(h),C=be(this.weekdaysMin(_,"")),W=be(this.weekdaysShort(_,"")),z=be(this.weekdays(_,"")),r.push(C),i.push(W),a.push(z),l.push(C),l.push(W),l.push(z);r.sort(e),i.sort(e),a.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ke(){return this.hours()%12||12}function zs(){return this.hours()||24}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Ke),O("k",["kk",2],0,zs),O("hmm",0,0,function(){return""+Ke.apply(this)+We(this.minutes(),2)}),O("hmmss",0,0,function(){return""+Ke.apply(this)+We(this.minutes(),2)+We(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+We(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+We(this.minutes(),2)+We(this.seconds(),2)});function qn(e,r){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),r)})}qn("a",!0),qn("A",!1);function Ii(e,r){return r._meridiemParse}v("a",Ii),v("A",Ii),v("H",K,or),v("h",K,ot),v("k",K,ot),v("HH",K,he),v("hh",K,he),v("kk",K,he),v("hmm",Pi),v("hmmss",xn),v("Hmm",Pi),v("Hmmss",xn),G(["H","HH"],de),G(["k","kk"],function(e,r,i){var a=F(e);r[de]=a===24?0:a}),G(["a","A"],function(e,r,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),G(["h","hh"],function(e,r,i){r[de]=F(e),g(i).bigHour=!0}),G("hmm",function(e,r,i){var a=e.length-2;r[de]=F(e.substr(0,a)),r[xe]=F(e.substr(a)),g(i).bigHour=!0}),G("hmmss",function(e,r,i){var a=e.length-4,l=e.length-2;r[de]=F(e.substr(0,a)),r[xe]=F(e.substr(a,2)),r[Qe]=F(e.substr(l)),g(i).bigHour=!0}),G("Hmm",function(e,r,i){var a=e.length-2;r[de]=F(e.substr(0,a)),r[xe]=F(e.substr(a))}),G("Hmmss",function(e,r,i){var a=e.length-4,l=e.length-2;r[de]=F(e.substr(0,a)),r[xe]=F(e.substr(a,2)),r[Qe]=F(e.substr(l))});function Hs(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ni=/[ap]\.?m?\.?/i,js=Ze("Hours",!0);function Bi(e,r,i){return e>11?i?"pm":"PM":i?"am":"AM"}var zn={calendar:En,longDateFormat:Ds,invalidDate:Ve,ordinal:On,dayOfMonthOrdinalParse:ki,relativeTime:vi,months:Es,monthsShort:Gr,week:As,weekdays:Lt,weekdaysMin:Li,weekdaysShort:gr,meridiemParse:Ni},ie={},$e={},wt;function Ui(e,r){var i,a=Math.min(e.length,r.length);for(i=0;i<a;i+=1)if(e[i]!==r[i])return i;return a}function $i(e){return e&&e.toLowerCase().replace("_","-")}function Xr(e){for(var r=0,i,a,l,h;r<e.length;){for(h=$i(e[r]).split("-"),i=h.length,a=$i(e[r+1]),a=a?a.split("-"):null;i>0;){if(l=en(h.slice(0,i).join("-")),l)return l;if(a&&a.length>=i&&Ui(h,a)>=i-1)break;i--}r++}return wt}function Vs(e){return!!(e&&e.match("^[^/\\\\]*$"))}function en(e){var r=null,i;if(ie[e]===void 0&&typeof vn<"u"&&vn&&vn.exports&&Vs(e))try{r=wt._abbr,i=require,i("./locale/"+e),Xe(r)}catch{ie[e]=null}return ie[e]}function Xe(e,r){var i;return e&&(T(r)?i=Fe(e):i=Hn(e,r),i?wt=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),wt._abbr}function Hn(e,r){if(r!==null){var i,a=zn;if(r.abbr=e,ie[e]!=null)Fr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ie[e]._config;else if(r.parentLocale!=null)if(ie[r.parentLocale]!=null)a=ie[r.parentLocale]._config;else if(i=en(r.parentLocale),i!=null)a=i._config;else return $e[r.parentLocale]||($e[r.parentLocale]=[]),$e[r.parentLocale].push({name:e,config:r}),null;return ie[e]=new Yr(Xt(a,r)),$e[e]&&$e[e].forEach(function(l){Hn(l.name,l.config)}),Xe(e),ie[e]}else return delete ie[e],null}function tn(e,r){if(r!=null){var i,a,l=zn;ie[e]!=null&&ie[e].parentLocale!=null?ie[e].set(Xt(ie[e]._config,r)):(a=en(e),a!=null&&(l=a._config),r=Xt(l,r),a==null&&(r.abbr=e),i=new Yr(r),i.parentLocale=ie[e],ie[e]=i),Xe(e)}else ie[e]!=null&&(ie[e].parentLocale!=null?(ie[e]=ie[e].parentLocale,e===Xe()&&Xe(e)):ie[e]!=null&&delete ie[e]);return ie[e]}function Fe(e){var r;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wt;if(!c(e)){if(r=en(e),r)return r;e=[e]}return Xr(e)}function Gs(){return Cn(ie)}function jn(e){var r,i=e._a;return i&&g(e).overflow===-2&&(r=i[Be]<0||i[Be]>11?Be:i[Ce]<1||i[Ce]>Yn(i[me],i[Be])?Ce:i[de]<0||i[de]>24||i[de]===24&&(i[xe]!==0||i[Qe]!==0||i[gt]!==0)?de:i[xe]<0||i[xe]>59?xe:i[Qe]<0||i[Qe]>59?Qe:i[gt]<0||i[gt]>999?gt:-1,g(e)._overflowDayOfYear&&(r<me||r>Ce)&&(r=Ce),g(e)._overflowWeeks&&r===-1&&(r=Ci),g(e)._overflowWeekday&&r===-1&&(r=zr),g(e).overflow=r),e}var Vn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn=/Z|[+-]\d\d(?::?\d\d)?/,It=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],et=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sr=/^\/?Date\((-?\d+)/i,nn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Hi(e){var r,i,a=e._i,l=Vn.exec(a)||qi.exec(a),h,_,C,W,z=It.length,ve=et.length;if(l){for(g(e).iso=!0,r=0,i=z;r<i;r++)if(It[r][1].exec(l[1])){_=It[r][0],h=It[r][2]!==!1;break}if(_==null){e._isValid=!1;return}if(l[3]){for(r=0,i=ve;r<i;r++)if(et[r][1].exec(l[3])){C=(l[2]||" ")+et[r][0];break}if(C==null){e._isValid=!1;return}}if(!h&&C!=null){e._isValid=!1;return}if(l[4])if(rn.exec(l[4]))W="Z";else{e._isValid=!1;return}e._f=_+(C||"")+(W||""),Jn(e)}else e._isValid=!1}function Gn(e,r,i,a,l,h){var _=[Qs(e),Gr.indexOf(r),parseInt(i,10),parseInt(a,10),parseInt(l,10)];return h&&_.push(parseInt(h,10)),_}function Qs(e){var r=parseInt(e,10);return r<=49?2e3+r:r<=999?1900+r:r}function ji(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sn(e,r,i){if(e){var a=gr.indexOf(e),l=new Date(r[0],r[1],r[2]).getDay();if(a!==l)return g(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Qn(e,r,i){if(e)return zi[e];if(r)return 0;var a=parseInt(i,10),l=a%100,h=(a-l)/100;return h*60+l}function Zn(e){var r=nn.exec(ji(e._i)),i;if(r){if(i=Gn(r[4],r[3],r[2],r[5],r[6],r[7]),!sn(r[1],i,e))return;e._a=i,e._tzm=Qn(r[8],r[9],r[10]),e._d=pr.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Vi(e){var r=Sr.exec(e._i);if(r!==null){e._d=new Date(+r[1]);return}if(Hi(e),e._isValid===!1)delete e._isValid;else return;if(Zn(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:s.createFromInputFallback(e)}s.createFromInputFallback=ae("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Nt(e,r,i){return e??r??i}function Zs(e){var r=new Date(s.now());return e._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function wr(e){var r,i,a=[],l,h,_;if(!e._d){for(l=Zs(e),e._w&&e._a[Ce]==null&&e._a[Be]==null&&Gi(e),e._dayOfYear!=null&&(_=Nt(e._a[me],l[me]),(e._dayOfYear>dr(_)||e._dayOfYear===0)&&(g(e)._overflowDayOfYear=!0),i=pr(_,0,e._dayOfYear),e._a[Be]=i.getUTCMonth(),e._a[Ce]=i.getUTCDate()),r=0;r<3&&e._a[r]==null;++r)e._a[r]=a[r]=l[r];for(;r<7;r++)e._a[r]=a[r]=e._a[r]==null?r===2?1:0:e._a[r];e._a[de]===24&&e._a[xe]===0&&e._a[Qe]===0&&e._a[gt]===0&&(e._nextDay=!0,e._a[de]=0),e._d=(e._useUTC?pr:Os).apply(null,a),h=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[de]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==h&&(g(e).weekdayMismatch=!0)}}function Gi(e){var r,i,a,l,h,_,C,W,z;r=e._w,r.GG!=null||r.W!=null||r.E!=null?(h=1,_=4,i=Nt(r.GG,e._a[me],_r(J(),1,4).year),a=Nt(r.W,1),l=Nt(r.E,1),(l<1||l>7)&&(W=!0)):(h=e._locale._week.dow,_=e._locale._week.doy,z=_r(J(),h,_),i=Nt(r.gg,e._a[me],z.year),a=Nt(r.w,z.week),r.d!=null?(l=r.d,(l<0||l>6)&&(W=!0)):r.e!=null?(l=r.e+h,(r.e<0||r.e>6)&&(W=!0)):l=h),a<1||a>Je(i,h,_)?g(e)._overflowWeeks=!0:W!=null?g(e)._overflowWeekday=!0:(C=Wi(i,a,l,h,_),e._a[me]=C.year,e._dayOfYear=C.dayOfYear)}s.ISO_8601=function(){},s.RFC_2822=function(){};function Jn(e){if(e._f===s.ISO_8601){Hi(e);return}if(e._f===s.RFC_2822){Zn(e);return}e._a=[],g(e).empty=!0;var r=""+e._i,i,a,l,h,_,C=r.length,W=0,z,ve;for(l=Pe(e._f,e._locale).match(Lr)||[],ve=l.length,i=0;i<ve;i++)h=l[i],a=(r.match(lr(h,e))||[])[0],a&&(_=r.substr(0,r.indexOf(a)),_.length>0&&g(e).unusedInput.push(_),r=r.slice(r.indexOf(a)+a.length),W+=a.length),st[h]?(a?g(e).empty=!1:g(e).unusedTokens.push(h),qr(h,a,e)):e._strict&&!a&&g(e).unusedTokens.push(h);g(e).charsLeftOver=C-W,r.length>0&&g(e).unusedInput.push(r),e._a[de]<=12&&g(e).bigHour===!0&&e._a[de]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[de]=Js(e._locale,e._a[de],e._meridiem),z=g(e).era,z!==null&&(e._a[me]=e._locale.erasConvertYear(z,e._a[me])),wr(e),jn(e)}function Js(e,r,i){var a;return i==null?r:e.meridiemHour!=null?e.meridiemHour(r,i):(e.isPM!=null&&(a=e.isPM(i),a&&r<12&&(r+=12),!a&&r===12&&(r=0)),r)}function Ks(e){var r,i,a,l,h,_,C=!1,W=e._f.length;if(W===0){g(e).invalidFormat=!0,e._d=new Date(NaN);return}for(l=0;l<W;l++)h=0,_=!1,r=$({},e),e._useUTC!=null&&(r._useUTC=e._useUTC),r._f=e._f[l],Jn(r),q(r)&&(_=!0),h+=g(r).charsLeftOver,h+=g(r).unusedTokens.length*10,g(r).score=h,C?h<a&&(a=h,i=r):(a==null||h<a||_)&&(a=h,i=r,_&&(C=!0));x(e,i||r)}function Qi(e){if(!e._d){var r=At(e._i),i=r.day===void 0?r.date:r.day;e._a=N([r.year,r.month,i,r.hour,r.minute,r.second,r.millisecond],function(a){return a&&parseInt(a,10)}),wr(e)}}function Bt(e){var r=new ne(jn(Rr(e)));return r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Rr(e){var r=e._i,i=e._f;return e._locale=e._locale||Fe(e._l),r===null||i===void 0&&r===""?U({nullInput:!0}):(typeof r=="string"&&(e._i=r=e._locale.preparse(r)),L(r)?new ne(jn(r)):(k(r)?e._d=r:c(i)?Ks(e):i?Jn(e):Tr(e),q(e)||(e._d=null),e))}function Tr(e){var r=e._i;T(r)?e._d=new Date(s.now()):k(r)?e._d=new Date(r.valueOf()):typeof r=="string"?Vi(e):c(r)?(e._a=N(r.slice(0),function(i){return parseInt(i,10)}),wr(e)):m(r)?Qi(e):D(r)?e._d=new Date(r):s.createFromInputFallback(e)}function Kn(e,r,i,a,l){var h={};return(r===!0||r===!1)&&(a=r,r=void 0),(i===!0||i===!1)&&(a=i,i=void 0),(m(e)&&w(e)||c(e)&&e.length===0)&&(e=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=l,h._l=i,h._i=e,h._f=r,h._strict=a,Bt(h)}function J(e,r,i,a){return Kn(e,r,i,a,!1)}var kr=ae("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=J.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:U()}),an=ae("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=J.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:U()});function tt(e,r){var i,a;if(r.length===1&&c(r[0])&&(r=r[0]),!r.length)return J();for(i=r[0],a=1;a<r.length;++a)(!r[a].isValid()||r[a][e](i))&&(i=r[a]);return i}function Xn(){var e=[].slice.call(arguments,0);return tt("isBefore",e)}function Xs(){var e=[].slice.call(arguments,0);return tt("isAfter",e)}var Ut=function(){return Date.now?Date.now():+new Date},$t=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ea(e){var r,i=!1,a,l=$t.length;for(r in e)if(p(e,r)&&!(le.call($t,r)!==-1&&(e[r]==null||!isNaN(e[r]))))return!1;for(a=0;a<l;++a)if(e[$t[a]]){if(i)return!1;parseFloat(e[$t[a]])!==F(e[$t[a]])&&(i=!0)}return!0}function on(){return this._isValid}function ta(){return ye(NaN)}function ln(e){var r=At(e),i=r.year||0,a=r.quarter||0,l=r.month||0,h=r.week||r.isoWeek||0,_=r.day||0,C=r.hour||0,W=r.minute||0,z=r.second||0,ve=r.millisecond||0;this._isValid=ea(r),this._milliseconds=+ve+z*1e3+W*6e4+C*1e3*60*60,this._days=+_+h*7,this._months=+l+a*3+i*12,this._data={},this._locale=Fe(),this._bubble()}function un(e){return e instanceof ln}function ei(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ra(e,r,i){var a=Math.min(e.length,r.length),l=Math.abs(e.length-r.length),h=0,_;for(_=0;_<a;_++)(i&&e[_]!==r[_]||!i&&F(e[_])!==F(r[_]))&&h++;return h+l}function Zi(e,r){O(e,0,0,function(){var i=this.utcOffset(),a="+";return i<0&&(i=-i,a="-"),a+We(~~(i/60),2)+r+We(~~i%60,2)})}Zi("Z",":"),Zi("ZZ",""),v("Z",ar),v("ZZ",ar),G(["Z","ZZ"],function(e,r,i){i._useUTC=!0,i._tzm=ti(ar,e)});var na=/([\+\-]|\d\d)/gi;function ti(e,r){var i=(r||"").match(e),a,l,h;return i===null?null:(a=i[i.length-1]||[],l=(a+"").match(na)||["-",0,0],h=+(l[1]*60)+F(l[2]),h===0?0:l[0]==="+"?h:-h)}function ri(e,r){var i,a;return r._isUTC?(i=r.clone(),a=(L(e)||k(e)?e.valueOf():J(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),s.updateOffset(i,!1),i):J(e).local()}function ni(e){return-Math.round(e._d.getTimezoneOffset())}s.updateOffset=function(){};function ia(e,r,i){var a=this._offset||0,l;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ti(ar,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&r&&(l=ni(this)),this._offset=e,this._isUTC=!0,l!=null&&this.add(l,"m"),a!==e&&(!r||this._changeInProgress?li(this,ye(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:ni(this)}function Ji(e,r){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,r),this):-this.utcOffset()}function sa(e){return this.utcOffset(0,e)}function aa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ni(this),"m")),this}function dt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ti(Br,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ii(e){return this.isValid()?(e=e?J(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ki(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function si(){if(!T(this._isDSTShifted))return this._isDSTShifted;var e={},r;return $(e,this),e=Rr(e),e._a?(r=e._isUTC?M(e._a):J(e._a),this._isDSTShifted=this.isValid()&&ra(e._a,r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ft(){return this.isValid()?!this._isUTC:!1}function ct(){return this.isValid()?this._isUTC:!1}function Ee(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ye(e,r){var i=e,a=null,l,h,_;return un(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:D(e)||!isNaN(+e)?(i={},r?i[r]=+e:i.milliseconds=+e):(a=vr.exec(e))?(l=a[1]==="-"?-1:1,i={y:0,d:F(a[Ce])*l,h:F(a[de])*l,m:F(a[xe])*l,s:F(a[Qe])*l,ms:F(ei(a[gt]*1e3))*l}):(a=Xi.exec(e))?(l=a[1]==="-"?-1:1,i={y:ht(a[2],l),M:ht(a[3],l),w:ht(a[4],l),d:ht(a[5],l),h:ht(a[6],l),m:ht(a[7],l),s:ht(a[8],l)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(_=dn(J(i.from),J(i.to)),i={},i.ms=_.milliseconds,i.M=_.months),h=new ln(i),un(e)&&p(e,"_locale")&&(h._locale=e._locale),un(e)&&p(e,"_isValid")&&(h._isValid=e._isValid),h}ye.fn=ln.prototype,ye.invalid=ta;function ht(e,r){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*r}function ai(e,r){var i={};return i.months=r.month()-e.month()+(r.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(r)&&--i.months,i.milliseconds=+r-+e.clone().add(i.months,"M"),i}function dn(e,r){var i;return e.isValid()&&r.isValid()?(r=ri(r,e),e.isBefore(r)?i=ai(e,r):(i=ai(r,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function oi(e,r){return function(i,a){var l,h;return a!==null&&!isNaN(+a)&&(Fr(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),h=i,i=a,a=h),l=ye(i,a),li(this,l,e),this}}function li(e,r,i,a){var l=r._milliseconds,h=ei(r._days),_=ei(r._months);e.isValid()&&(a=a??!0,_&&lt(e,ge(e,"Month")+_*i),h&&Hr(e,"Date",ge(e,"Date")+h*i),l&&e._d.setTime(e._d.valueOf()+l*i),a&&s.updateOffset(e,h||_))}var es=oi(1,"add"),fn=oi(-1,"subtract");function ui(e){return typeof e=="string"||e instanceof String}function ts(e){return L(e)||k(e)||ui(e)||D(e)||la(e)||oa(e)||e===null||e===void 0}function oa(e){var r=m(e)&&!w(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l,h,_=a.length;for(l=0;l<_;l+=1)h=a[l],i=i||p(e,h);return r&&i}function la(e){var r=c(e),i=!1;return r&&(i=e.filter(function(a){return!D(a)&&ui(e)}).length===0),r&&i}function ua(e){var r=m(e)&&!w(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],l,h;for(l=0;l<a.length;l+=1)h=a[l],i=i||p(e,h);return r&&i}function da(e,r){var i=e.diff(r,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function cn(e,r){arguments.length===1&&(arguments[0]?ts(arguments[0])?(e=arguments[0],r=void 0):ua(arguments[0])&&(r=arguments[0],e=void 0):(e=void 0,r=void 0));var i=e||J(),a=ri(i,this).startOf("day"),l=s.calendarFormat(this,a)||"sameElse",h=r&&(ce(r[l])?r[l].call(this,i):r[l]);return this.format(h||this.localeData().calendar(l,this,J(i)))}function fa(){return new ne(this)}function rs(e,r){var i=L(e)?e:J(e);return this.isValid()&&i.isValid()?(r=we(r)||"millisecond",r==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(r).valueOf()):!1}function hn(e,r){var i=L(e)?e:J(e);return this.isValid()&&i.isValid()?(r=we(r)||"millisecond",r==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(r).valueOf()<i.valueOf()):!1}function mn(e,r,i,a){var l=L(e)?e:J(e),h=L(r)?r:J(r);return this.isValid()&&l.isValid()&&h.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(l,i):!this.isBefore(l,i))&&(a[1]===")"?this.isBefore(h,i):!this.isAfter(h,i))):!1}function yn(e,r){var i=L(e)?e:J(e),a;return this.isValid()&&i.isValid()?(r=we(r)||"millisecond",r==="millisecond"?this.valueOf()===i.valueOf():(a=i.valueOf(),this.clone().startOf(r).valueOf()<=a&&a<=this.clone().endOf(r).valueOf())):!1}function Dr(e,r){return this.isSame(e,r)||this.isAfter(e,r)}function pn(e,r){return this.isSame(e,r)||this.isBefore(e,r)}function ca(e,r,i){var a,l,h;if(!this.isValid())return NaN;if(a=ri(e,this),!a.isValid())return NaN;switch(l=(a.utcOffset()-this.utcOffset())*6e4,r=we(r),r){case"year":h=_n(this,a)/12;break;case"month":h=_n(this,a);break;case"quarter":h=_n(this,a)/3;break;case"second":h=(this-a)/1e3;break;case"minute":h=(this-a)/6e4;break;case"hour":h=(this-a)/36e5;break;case"day":h=(this-a-l)/864e5;break;case"week":h=(this-a-l)/6048e5;break;default:h=this-a}return i?h:Re(h)}function _n(e,r){if(e.date()<r.date())return-_n(r,e);var i=(r.year()-e.year())*12+(r.month()-e.month()),a=e.clone().add(i,"months"),l,h;return r-a<0?(l=e.clone().add(i-1,"months"),h=(r-a)/(a-l)):(l=e.clone().add(i+1,"months"),h=(r-a)/(l-a)),-(i+h)||0}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ns(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function is(e){if(!this.isValid())return null;var r=e!==!0,i=r?this.clone().utc():this;return i.year()<0||i.year()>9999?De(i,r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ce(Date.prototype.toISOString)?r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",De(i,"Z")):De(i,r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ha(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",r="",i,a,l,h;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",r="Z"),i="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",l="-MM-DD[T]HH:mm:ss.SSS",h=r+'[")]',this.format(i+a+l+h)}function ss(e){e||(e=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var r=De(this,e);return this.localeData().postformat(r)}function ma(e,r){return this.isValid()&&(L(e)&&e.isValid()||J(e).isValid())?ye({to:this,from:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function ya(e){return this.from(J(),e)}function pa(e,r){return this.isValid()&&(L(e)&&e.isValid()||J(e).isValid())?ye({from:this,to:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function _a(e){return this.to(J(),e)}function as(e){var r;return e===void 0?this._locale._abbr:(r=Fe(e),r!=null&&(this._locale=r),this)}var Pr=ae("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function di(){return this._locale}var t=1e3,n=60*t,o=60*n,f=(365*400+97)*24*o;function y(e,r){return(e%r+r)%r}function b(e,r,i){return e<100&&e>=0?new Date(e+400,r,i)-f:new Date(e,r,i).valueOf()}function S(e,r,i){return e<100&&e>=0?Date.UTC(e+400,r,i)-f:Date.UTC(e,r,i)}function E(e){var r,i;if(e=we(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?S:b,e){case"year":r=i(this.year(),0,1);break;case"quarter":r=i(this.year(),this.month()-this.month()%3,1);break;case"month":r=i(this.year(),this.month(),1);break;case"week":r=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":r=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":r=i(this.year(),this.month(),this.date());break;case"hour":r=this._d.valueOf(),r-=y(r+(this._isUTC?0:this.utcOffset()*n),o);break;case"minute":r=this._d.valueOf(),r-=y(r,n);break;case"second":r=this._d.valueOf(),r-=y(r,t);break}return this._d.setTime(r),s.updateOffset(this,!0),this}function Y(e){var r,i;if(e=we(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?S:b,e){case"year":r=i(this.year()+1,0,1)-1;break;case"quarter":r=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":r=i(this.year(),this.month()+1,1)-1;break;case"week":r=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":r=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":r=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":r=this._d.valueOf(),r+=o-y(r+(this._isUTC?0:this.utcOffset()*n),o)-1;break;case"minute":r=this._d.valueOf(),r+=n-y(r,n)-1;break;case"second":r=this._d.valueOf(),r+=t-y(r,t)-1;break}return this._d.setTime(r),s.updateOffset(this,!0),this}function B(){return this._d.valueOf()-(this._offset||0)*6e4}function H(){return Math.floor(this.valueOf()/1e3)}function j(){return new Date(this.valueOf())}function fe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ye(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function qt(){return this.isValid()?this.toISOString():null}function mt(){return q(this)}function rt(){return x({},g(this))}function Se(){return g(this).overflow}function Te(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),v("N",gn),v("NN",gn),v("NNN",gn),v("NNNN",fi),v("NNNNN",Vo),G(["N","NN","NNN","NNNN","NNNNN"],function(e,r,i,a){var l=i._locale.erasParse(e,a,i._strict);l?g(i).era=l:g(i).invalidEra=e}),v("y",bt),v("yy",bt),v("yyy",bt),v("yyyy",bt),v("yo",Go),G(["y","yy","yyy","yyyy"],me),G(["yo"],function(e,r,i,a){var l;i._locale._eraYearOrdinalRegex&&(l=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?r[me]=i._locale.eraYearOrdinalParse(e,l):r[me]=parseInt(e,10)});function Me(e,r){var i,a,l,h=this._eras||Fe("en")._eras;for(i=0,a=h.length;i<a;++i){switch(typeof h[i].since){case"string":l=s(h[i].since).startOf("day"),h[i].since=l.valueOf();break}switch(typeof h[i].until){case"undefined":h[i].until=1/0;break;case"string":l=s(h[i].until).startOf("day").valueOf(),h[i].until=l.valueOf();break}}return h}function nt(e,r,i){var a,l,h=this.eras(),_,C,W;for(e=e.toUpperCase(),a=0,l=h.length;a<l;++a)if(_=h[a].name.toUpperCase(),C=h[a].abbr.toUpperCase(),W=h[a].narrow.toUpperCase(),i)switch(r){case"N":case"NN":case"NNN":if(C===e)return h[a];break;case"NNNN":if(_===e)return h[a];break;case"NNNNN":if(W===e)return h[a];break}else if([_,C,W].indexOf(e)>=0)return h[a]}function A(e,r){var i=e.since<=e.until?1:-1;return r===void 0?s(e.since).year():s(e.since).year()+(r-e.offset)*i}function I(){var e,r,i,a=this.localeData().eras();for(e=0,r=a.length;e<r;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].name;return""}function X(){var e,r,i,a=this.localeData().eras();for(e=0,r=a.length;e<r;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].narrow;return""}function ke(){var e,r,i,a=this.localeData().eras();for(e=0,r=a.length;e<r;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].abbr;return""}function zt(){var e,r,i,a,l=this.localeData().eras();for(e=0,r=l.length;e<r;++e)if(i=l[e].since<=l[e].until?1:-1,a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until||l[e].until<=a&&a<=l[e].since)return(this.year()-s(l[e].since).year())*i+l[e].offset;return this.year()}function Ht(e){return p(this,"_erasNameRegex")||ba.call(this),e?this._erasNameRegex:this._erasRegex}function jt(e){return p(this,"_erasAbbrRegex")||ba.call(this),e?this._erasAbbrRegex:this._erasRegex}function bn(e){return p(this,"_erasNarrowRegex")||ba.call(this),e?this._erasNarrowRegex:this._erasRegex}function gn(e,r){return r.erasAbbrRegex(e)}function fi(e,r){return r.erasNameRegex(e)}function Vo(e,r){return r.erasNarrowRegex(e)}function Go(e,r){return r._eraYearOrdinalRegex||bt}function ba(){var e=[],r=[],i=[],a=[],l,h,_,C,W,z=this.eras();for(l=0,h=z.length;l<h;++l)_=be(z[l].name),C=be(z[l].abbr),W=be(z[l].narrow),r.push(_),e.push(C),i.push(W),a.push(_),a.push(C),a.push(W);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100});function os(e,r){O(0,[e,e.length],0,r)}os("gggg","weekYear"),os("ggggg","weekYear"),os("GGGG","isoWeekYear"),os("GGGGG","isoWeekYear"),v("G",Fn),v("g",Fn),v("GG",K,he),v("gg",K,he),v("GGGG",Nr,Ir),v("gggg",Nr,Ir),v("GGGGG",at,ir),v("ggggg",at,ir),Ft(["gggg","ggggg","GGGG","GGGGG"],function(e,r,i,a){r[a.substr(0,2)]=F(e)}),Ft(["gg","GG"],function(e,r,i,a){r[a]=s.parseTwoDigitYear(e)});function Qo(e){return xa.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Zo(e){return xa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Jo(){return Je(this.year(),1,4)}function Ko(){return Je(this.isoWeekYear(),1,4)}function Xo(){var e=this.localeData()._week;return Je(this.year(),e.dow,e.doy)}function el(){var e=this.localeData()._week;return Je(this.weekYear(),e.dow,e.doy)}function xa(e,r,i,a,l){var h;return e==null?_r(this,a,l).year:(h=Je(e,a,l),r>h&&(r=h),tl.call(this,e,r,i,a,l))}function tl(e,r,i,a,l){var h=Wi(e,r,i,a,l),_=pr(h.year,0,h.dayOfYear);return this.year(_.getUTCFullYear()),this.month(_.getUTCMonth()),this.date(_.getUTCDate()),this}O("Q",0,"Qo","quarter"),v("Q",Ge),G("Q",function(e,r){r[Be]=(F(e)-1)*3});function rl(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}O("D",["DD",2],"Do","date"),v("D",K,ot),v("DD",K,he),v("Do",function(e,r){return e?r._dayOfMonthOrdinalParse||r._ordinalParse:r._dayOfMonthOrdinalParseLenient}),G(["D","DD"],Ce),G("Do",function(e,r){r[Ce]=F(e.match(K)[0])});var Fa=Ze("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),v("DDD",sr),v("DDDD",nr),G(["DDD","DDDD"],function(e,r,i){i._dayOfYear=F(e)});function nl(e){var r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?r:this.add(e-r,"d")}O("m",["mm",2],0,"minute"),v("m",K,or),v("mm",K,he),G(["m","mm"],xe);var il=Ze("Minutes",!1);O("s",["ss",2],0,"second"),v("s",K,or),v("ss",K,he),G(["s","ss"],Qe);var sl=Ze("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return this.millisecond()*10}),O(0,["SSSSS",5],0,function(){return this.millisecond()*100}),O(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),O(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),O(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),O(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),v("S",sr,Ge),v("SS",sr,he),v("SSS",sr,nr);var Vt,Ya;for(Vt="SSSS";Vt.length<=9;Vt+="S")v(Vt,bt);function al(e,r){r[gt]=F(("0."+e)*1e3)}for(Vt="S";Vt.length<=9;Vt+="S")G(Vt,al);Ya=Ze("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");function ol(){return this._isUTC?"UTC":""}function ll(){return this._isUTC?"Coordinated Universal Time":""}var R=ne.prototype;R.add=es,R.calendar=cn,R.clone=fa,R.diff=ca,R.endOf=Y,R.format=ss,R.from=ma,R.fromNow=ya,R.to=pa,R.toNow=_a,R.get=Ei,R.invalidAt=Se,R.isAfter=rs,R.isBefore=hn,R.isBetween=mn,R.isSame=yn,R.isSameOrAfter=Dr,R.isSameOrBefore=pn,R.isValid=mt,R.lang=Pr,R.locale=as,R.localeData=di,R.max=an,R.min=kr,R.parsingFlags=rt,R.set=jr,R.startOf=E,R.subtract=fn,R.toArray=fe,R.toObject=Ye,R.toDate=j,R.toISOString=is,R.inspect=ha,typeof Symbol<"u"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),R.toJSON=qt,R.toString=ns,R.unix=H,R.valueOf=B,R.creationData=Te,R.eraName=I,R.eraNarrow=X,R.eraAbbr=ke,R.eraYear=zt,R.year=fr,R.isLeapYear=cr,R.weekYear=Qo,R.isoWeekYear=Zo,R.quarter=R.quarters=rl,R.month=In,R.daysInMonth=Qr,R.week=R.weeks=br,R.isoWeek=R.isoWeeks=Fi,R.weeksInYear=Xo,R.weeksInWeekYear=el,R.isoWeeksInYear=Jo,R.isoWeeksInISOWeekYear=Ko,R.date=Fa,R.day=R.days=Ue,R.weekday=Us,R.isoWeekday=$s,R.dayOfYear=nl,R.hour=R.hours=js,R.minute=R.minutes=il,R.second=R.seconds=sl,R.millisecond=R.milliseconds=Ya,R.utcOffset=ia,R.utc=sa,R.local=aa,R.parseZone=dt,R.hasAlignedHourOffset=ii,R.isDST=Ki,R.isLocal=ft,R.isUtcOffset=ct,R.isUtc=Ee,R.isUTC=Ee,R.zoneAbbr=ol,R.zoneName=ll,R.dates=ae("dates accessor is deprecated. Use date instead.",Fa),R.months=ae("months accessor is deprecated. Use month instead",In),R.years=ae("years accessor is deprecated. Use year instead",fr),R.zone=ae("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ji),R.isDSTShifted=ae("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",si);function ul(e){return J(e*1e3)}function dl(){return J.apply(null,arguments).parseZone()}function La(e){return e}var Q=Yr.prototype;Q.calendar=Ts,Q.longDateFormat=Ti,Q.invalidDate=Mn,Q.ordinal=Ps,Q.preparse=La,Q.postformat=La,Q.relativeTime=An,Q.pastFuture=Ot,Q.set=Mt,Q.eras=Me,Q.erasParse=nt,Q.erasConvertYear=A,Q.erasAbbrRegex=jt,Q.erasNameRegex=Ht,Q.erasNarrowRegex=bn,Q.months=Ms,Q.monthsShort=Ai,Q.monthsParse=hr,Q.monthsRegex=Zr,Q.monthsShortRegex=mr,Q.week=xi,Q.firstDayOfYear=xs,Q.firstDayOfWeek=Ws,Q.weekdays=Un,Q.weekdaysMin=Is,Q.weekdaysShort=Ls,Q.weekdaysParse=Bs,Q.weekdaysRegex=qs,Q.weekdaysShortRegex=Kr,Q.weekdaysMinRegex=$n,Q.isPM=Hs,Q.meridiem=Bi;function ls(e,r,i,a){var l=Fe(),h=M().set(a,r);return l[i](h,e)}function Ia(e,r,i){if(D(e)&&(r=e,e=void 0),e=e||"",r!=null)return ls(e,r,i,"month");var a,l=[];for(a=0;a<12;a++)l[a]=ls(e,a,i,"month");return l}function ga(e,r,i,a){typeof e=="boolean"?(D(r)&&(i=r,r=void 0),r=r||""):(r=e,i=r,e=!1,D(r)&&(i=r,r=void 0),r=r||"");var l=Fe(),h=e?l._week.dow:0,_,C=[];if(i!=null)return ls(r,(i+h)%7,a,"day");for(_=0;_<7;_++)C[_]=ls(r,(_+h)%7,a,"day");return C}function fl(e,r){return Ia(e,r,"months")}function cl(e,r){return Ia(e,r,"monthsShort")}function hl(e,r,i){return ga(e,r,i,"weekdays")}function ml(e,r,i){return ga(e,r,i,"weekdaysShort")}function yl(e,r,i){return ga(e,r,i,"weekdaysMin")}Xe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var r=e%10,i=F(e%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return e+i}}),s.lang=ae("moment.lang is deprecated. Use moment.locale instead.",Xe),s.langData=ae("moment.langData is deprecated. Use moment.localeData instead.",Fe);var Rt=Math.abs;function pl(){var e=this._data;return this._milliseconds=Rt(this._milliseconds),this._days=Rt(this._days),this._months=Rt(this._months),e.milliseconds=Rt(e.milliseconds),e.seconds=Rt(e.seconds),e.minutes=Rt(e.minutes),e.hours=Rt(e.hours),e.months=Rt(e.months),e.years=Rt(e.years),this}function Na(e,r,i,a){var l=ye(r,i);return e._milliseconds+=a*l._milliseconds,e._days+=a*l._days,e._months+=a*l._months,e._bubble()}function _l(e,r){return Na(this,e,r,1)}function bl(e,r){return Na(this,e,r,-1)}function Ba(e){return e<0?Math.floor(e):Math.ceil(e)}function gl(){var e=this._milliseconds,r=this._days,i=this._months,a=this._data,l,h,_,C,W;return e>=0&&r>=0&&i>=0||e<=0&&r<=0&&i<=0||(e+=Ba(Sa(i)+r)*864e5,r=0,i=0),a.milliseconds=e%1e3,l=Re(e/1e3),a.seconds=l%60,h=Re(l/60),a.minutes=h%60,_=Re(h/60),a.hours=_%24,r+=Re(_/24),W=Re(Ua(r)),i+=W,r-=Ba(Sa(W)),C=Re(i/12),i%=12,a.days=r,a.months=i,a.years=C,this}function Ua(e){return e*4800/146097}function Sa(e){return e*146097/4800}function Sl(e){if(!this.isValid())return NaN;var r,i,a=this._milliseconds;if(e=we(e),e==="month"||e==="quarter"||e==="year")switch(r=this._days+a/864e5,i=this._months+Ua(r),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(r=this._days+Math.round(Sa(this._months)),e){case"week":return r/7+a/6048e5;case"day":return r+a/864e5;case"hour":return r*24+a/36e5;case"minute":return r*1440+a/6e4;case"second":return r*86400+a/1e3;case"millisecond":return Math.floor(r*864e5)+a;default:throw new Error("Unknown unit "+e)}}function Tt(e){return function(){return this.as(e)}}var $a=Tt("ms"),wl=Tt("s"),Rl=Tt("m"),Tl=Tt("h"),kl=Tt("d"),vl=Tt("w"),Dl=Tt("M"),Pl=Tt("Q"),Cl=Tt("y"),El=$a;function Ml(){return ye(this)}function Ol(e){return e=we(e),this.isValid()?this[e+"s"]():NaN}function Cr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Al=Cr("milliseconds"),Wl=Cr("seconds"),xl=Cr("minutes"),Fl=Cr("hours"),Yl=Cr("days"),Ll=Cr("months"),Il=Cr("years");function Nl(){return Re(this.days()/7)}var kt=Math.round,Sn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Bl(e,r,i,a,l){return l.relativeTime(r||1,!!i,e,a)}function Ul(e,r,i,a){var l=ye(e).abs(),h=kt(l.as("s")),_=kt(l.as("m")),C=kt(l.as("h")),W=kt(l.as("d")),z=kt(l.as("M")),ve=kt(l.as("w")),vt=kt(l.as("y")),Gt=h<=i.ss&&["s",h]||h<i.s&&["ss",h]||_<=1&&["m"]||_<i.m&&["mm",_]||C<=1&&["h"]||C<i.h&&["hh",C]||W<=1&&["d"]||W<i.d&&["dd",W];return i.w!=null&&(Gt=Gt||ve<=1&&["w"]||ve<i.w&&["ww",ve]),Gt=Gt||z<=1&&["M"]||z<i.M&&["MM",z]||vt<=1&&["y"]||["yy",vt],Gt[2]=r,Gt[3]=+e>0,Gt[4]=a,Bl.apply(null,Gt)}function $l(e){return e===void 0?kt:typeof e=="function"?(kt=e,!0):!1}function ql(e,r){return Sn[e]===void 0?!1:r===void 0?Sn[e]:(Sn[e]=r,e==="s"&&(Sn.ss=r-1),!0)}function zl(e,r){if(!this.isValid())return this.localeData().invalidDate();var i=!1,a=Sn,l,h;return typeof e=="object"&&(r=e,e=!1),typeof e=="boolean"&&(i=e),typeof r=="object"&&(a=Object.assign({},Sn,r),r.s!=null&&r.ss==null&&(a.ss=r.s-1)),l=this.localeData(),h=Ul(this,!i,a,l),i&&(h=l.pastFuture(+this,h)),l.postformat(h)}var wa=Math.abs;function wn(e){return(e>0)-(e<0)||+e}function us(){if(!this.isValid())return this.localeData().invalidDate();var e=wa(this._milliseconds)/1e3,r=wa(this._days),i=wa(this._months),a,l,h,_,C=this.asSeconds(),W,z,ve,vt;return C?(a=Re(e/60),l=Re(a/60),e%=60,a%=60,h=Re(i/12),i%=12,_=e?e.toFixed(3).replace(/\.?0+$/,""):"",W=C<0?"-":"",z=wn(this._months)!==wn(C)?"-":"",ve=wn(this._days)!==wn(C)?"-":"",vt=wn(this._milliseconds)!==wn(C)?"-":"",W+"P"+(h?z+h+"Y":"")+(i?z+i+"M":"")+(r?ve+r+"D":"")+(l||a||e?"T":"")+(l?vt+l+"H":"")+(a?vt+a+"M":"")+(e?vt+_+"S":"")):"P0D"}var V=ln.prototype;V.isValid=on,V.abs=pl,V.add=_l,V.subtract=bl,V.as=Sl,V.asMilliseconds=$a,V.asSeconds=wl,V.asMinutes=Rl,V.asHours=Tl,V.asDays=kl,V.asWeeks=vl,V.asMonths=Dl,V.asQuarters=Pl,V.asYears=Cl,V.valueOf=El,V._bubble=gl,V.clone=Ml,V.get=Ol,V.milliseconds=Al,V.seconds=Wl,V.minutes=xl,V.hours=Fl,V.days=Yl,V.weeks=Nl,V.months=Ll,V.years=Il,V.humanize=zl,V.toISOString=us,V.toString=us,V.toJSON=us,V.locale=as,V.localeData=di,V.toIsoString=ae("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),V.lang=Pr,O("X",0,0,"unix"),O("x",0,0,"valueOf"),v("x",Fn),v("X",Cs),G("X",function(e,r,i){i._d=new Date(parseFloat(e)*1e3)}),G("x",function(e,r,i){i._d=new Date(F(e))});return s.version="2.30.1",d(J),s.fn=R,s.min=Xn,s.max=Xs,s.now=Ut,s.utc=M,s.unix=ul,s.months=fl,s.isDate=k,s.locale=Xe,s.invalid=U,s.duration=ye,s.isMoment=L,s.weekdays=hl,s.parseZone=dl,s.localeData=Fe,s.isDuration=un,s.monthsShort=cl,s.weekdaysMin=yl,s.defineLocale=Hn,s.updateLocale=tn,s.locales=Gs,s.weekdaysShort=ml,s.normalizeUnits=we,s.relativeTimeRounding=$l,s.relativeTimeThreshold=ql,s.calendarFormat=da,s.prototype=R,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s})});var Pu={};qa(Pu,{default:()=>Ho});module.exports=Zl(Pu);var ue=require("@raycast/api"),Ri=yt(require("react"));var Jl=["\u2193","\u2199","\u2190","\u2196","\u2191","\u2197","\u2192","\u2198"];function Qt(u){let s=Math.floor((u+22.5)%360/45);return Jl[s]}var wi=require("@raycast/api");var To=yt(require("node:http"),1),ko=yt(require("node:https"),1),Wr=yt(require("node:zlib"),1),Ne=yt(require("node:stream"),1),gi=require("node:buffer");function Kl(u){if(!/^data:/i.test(u))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');u=u.replace(/\r?\n/g,"");let s=u.indexOf(",");if(s===-1||s<=4)throw new TypeError("malformed data: URI");let d=u.substring(5,s).split(";"),c="",m=!1,p=d[0]||"text/plain",w=p;for(let N=1;N<d.length;N++)d[N]==="base64"?m=!0:(w+=`;${d[N]}`,d[N].indexOf("charset=")===0&&(c=d[N].substring(8)));!d[0]&&!c.length&&(w+=";charset=US-ASCII",c="US-ASCII");let T=m?"base64":"ascii",D=unescape(u.substring(s+1)),k=Buffer.from(D,T);return k.type=p,k.typeFull=w,k.charset=c,k}var Ha=Kl;var qe=yt(require("node:stream"),1),Ct=require("node:util"),Le=require("node:buffer");hi();hs();var Pt=class extends Error{constructor(s,d){super(s),Error.captureStackTrace(this,this.constructor),this.type=d}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Oe=class extends Pt{constructor(s,d,c){super(s,d),c&&(this.code=this.errno=c.code,this.erroredSysCall=c.syscall)}};var ms=Symbol.toStringTag,Da=u=>typeof u=="object"&&typeof u.append=="function"&&typeof u.delete=="function"&&typeof u.get=="function"&&typeof u.getAll=="function"&&typeof u.has=="function"&&typeof u.set=="function"&&typeof u.sort=="function"&&u[ms]==="URLSearchParams",yi=u=>u&&typeof u=="object"&&typeof u.arrayBuffer=="function"&&typeof u.type=="string"&&typeof u.stream=="function"&&typeof u.constructor=="function"&&/^(Blob|File)$/.test(u[ms]),eo=u=>typeof u=="object"&&(u[ms]==="AbortSignal"||u[ms]==="EventTarget"),to=(u,s)=>{let d=new URL(s).hostname,c=new URL(u).hostname;return d===c||d.endsWith(`.${c}`)},ro=(u,s)=>{let d=new URL(s).protocol,c=new URL(u).protocol;return d===c};var hu=(0,Ct.promisify)(qe.default.pipeline),Ae=Symbol("Body internals"),_t=class{constructor(s,{size:d=0}={}){let c=null;s===null?s=null:Da(s)?s=Le.Buffer.from(s.toString()):yi(s)||Le.Buffer.isBuffer(s)||(Ct.types.isAnyArrayBuffer(s)?s=Le.Buffer.from(s):ArrayBuffer.isView(s)?s=Le.Buffer.from(s.buffer,s.byteOffset,s.byteLength):s instanceof qe.default||(s instanceof Mr?(s=Xa(s),c=s.type.split("=")[1]):s=Le.Buffer.from(String(s))));let m=s;Le.Buffer.isBuffer(s)?m=qe.default.Readable.from(s):yi(s)&&(m=qe.default.Readable.from(s.stream())),this[Ae]={body:s,stream:m,boundary:c,disturbed:!1,error:null},this.size=d,s instanceof qe.default&&s.on("error",p=>{let w=p instanceof Pt?p:new Oe(`Invalid response body while trying to fetch ${this.url}: ${p.message}`,"system",p);this[Ae].error=w})}get body(){return this[Ae].stream}get bodyUsed(){return this[Ae].disturbed}async arrayBuffer(){let{buffer:s,byteOffset:d,byteLength:c}=await Ea(this);return s.slice(d,d+c)}async formData(){let s=this.headers.get("content-type");if(s.startsWith("application/x-www-form-urlencoded")){let c=new Mr,m=new URLSearchParams(await this.text());for(let[p,w]of m)c.append(p,w);return c}let{toFormData:d}=await Promise.resolve().then(()=>(oo(),ao));return d(this.body,s)}async blob(){let s=this.headers&&this.headers.get("content-type")||this[Ae].body&&this[Ae].body.type||"",d=await this.arrayBuffer();return new Dt([d],{type:s})}async json(){let s=await this.text();return JSON.parse(s)}async text(){let s=await Ea(this);return new TextDecoder().decode(s)}buffer(){return Ea(this)}};_t.prototype.buffer=(0,Ct.deprecate)(_t.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(_t.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ct.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Ea(u){if(u[Ae].disturbed)throw new TypeError(`body used already for: ${u.url}`);if(u[Ae].disturbed=!0,u[Ae].error)throw u[Ae].error;let{body:s}=u;if(s===null)return Le.Buffer.alloc(0);if(!(s instanceof qe.default))return Le.Buffer.alloc(0);let d=[],c=0;try{for await(let m of s){if(u.size>0&&c+m.length>u.size){let p=new Oe(`content size at ${u.url} over limit: ${u.size}`,"max-size");throw s.destroy(p),p}c+=m.length,d.push(m)}}catch(m){throw m instanceof Pt?m:new Oe(`Invalid response body while trying to fetch ${u.url}: ${m.message}`,"system",m)}if(s.readableEnded===!0||s._readableState.ended===!0)try{return d.every(m=>typeof m=="string")?Le.Buffer.from(d.join("")):Le.Buffer.concat(d,c)}catch(m){throw new Oe(`Could not create Buffer from response body for ${u.url}: ${m.message}`,"system",m)}else throw new Oe(`Premature close of server response while trying to fetch ${u.url}`)}var Tn=(u,s)=>{let d,c,{body:m}=u[Ae];if(u.bodyUsed)throw new Error("cannot clone body after it is used");return m instanceof qe.default&&typeof m.getBoundary!="function"&&(d=new qe.PassThrough({highWaterMark:s}),c=new qe.PassThrough({highWaterMark:s}),m.pipe(d),m.pipe(c),u[Ae].stream=d,m=c),m},mu=(0,Ct.deprecate)(u=>u.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),bs=(u,s)=>u===null?null:typeof u=="string"?"text/plain;charset=UTF-8":Da(u)?"application/x-www-form-urlencoded;charset=UTF-8":yi(u)?u.type||null:Le.Buffer.isBuffer(u)||Ct.types.isAnyArrayBuffer(u)||ArrayBuffer.isView(u)?null:u instanceof Mr?`multipart/form-data; boundary=${s[Ae].boundary}`:u&&typeof u.getBoundary=="function"?`multipart/form-data;boundary=${mu(u)}`:u instanceof qe.default?null:"text/plain;charset=UTF-8",lo=u=>{let{body:s}=u[Ae];return s===null?0:yi(s)?s.size:Le.Buffer.isBuffer(s)?s.length:s&&typeof s.getLengthSync=="function"&&s.hasKnownLength&&s.hasKnownLength()?s.getLengthSync():null},uo=async(u,{body:s})=>{s===null?u.end():await hu(s,u)};var Ma=require("node:util"),_i=yt(require("node:http"),1),gs=typeof _i.default.validateHeaderName=="function"?_i.default.validateHeaderName:u=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(u)){let s=new TypeError(`Header name must be a valid HTTP token [${u}]`);throw Object.defineProperty(s,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),s}},Oa=typeof _i.default.validateHeaderValue=="function"?_i.default.validateHeaderValue:(u,s)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(s)){let d=new TypeError(`Invalid character in header content ["${u}"]`);throw Object.defineProperty(d,"code",{value:"ERR_INVALID_CHAR"}),d}},Ie=class u extends URLSearchParams{constructor(s){let d=[];if(s instanceof u){let c=s.raw();for(let[m,p]of Object.entries(c))d.push(...p.map(w=>[m,w]))}else if(s!=null)if(typeof s=="object"&&!Ma.types.isBoxedPrimitive(s)){let c=s[Symbol.iterator];if(c==null)d.push(...Object.entries(s));else{if(typeof c!="function")throw new TypeError("Header pairs must be iterable");d=[...s].map(m=>{if(typeof m!="object"||Ma.types.isBoxedPrimitive(m))throw new TypeError("Each header pair must be an iterable object");return[...m]}).map(m=>{if(m.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...m]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return d=d.length>0?d.map(([c,m])=>(gs(c),Oa(c,String(m)),[String(c).toLowerCase(),String(m)])):void 0,super(d),new Proxy(this,{get(c,m,p){switch(m){case"append":case"set":return(w,T)=>(gs(w),Oa(w,String(T)),URLSearchParams.prototype[m].call(c,String(w).toLowerCase(),String(T)));case"delete":case"has":case"getAll":return w=>(gs(w),URLSearchParams.prototype[m].call(c,String(w).toLowerCase()));case"keys":return()=>(c.sort(),new Set(URLSearchParams.prototype.keys.call(c)).keys());default:return Reflect.get(c,m,p)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(s){let d=this.getAll(s);if(d.length===0)return null;let c=d.join(", ");return/^content-encoding$/i.test(s)&&(c=c.toLowerCase()),c}forEach(s,d=void 0){for(let c of this.keys())Reflect.apply(s,d,[this.get(c),c,this])}*values(){for(let s of this.keys())yield this.get(s)}*entries(){for(let s of this.keys())yield[s,this.get(s)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((s,d)=>(s[d]=this.getAll(d),s),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((s,d)=>{let c=this.getAll(d);return d==="host"?s[d]=c[0]:s[d]=c.length>1?c:c[0],s},{})}};Object.defineProperties(Ie.prototype,["get","entries","forEach","values"].reduce((u,s)=>(u[s]={enumerable:!0},u),{}));function fo(u=[]){return new Ie(u.reduce((s,d,c,m)=>(c%2===0&&s.push(m.slice(c,c+2)),s),[]).filter(([s,d])=>{try{return gs(s),Oa(s,String(d)),!0}catch{return!1}}))}var yu=new Set([301,302,303,307,308]),Ss=u=>yu.has(u);var it=Symbol("Response internals"),ze=class u extends _t{constructor(s=null,d={}){super(s,d);let c=d.status!=null?d.status:200,m=new Ie(d.headers);if(s!==null&&!m.has("Content-Type")){let p=bs(s,this);p&&m.append("Content-Type",p)}this[it]={type:"default",url:d.url,status:c,statusText:d.statusText||"",headers:m,counter:d.counter,highWaterMark:d.highWaterMark}}get type(){return this[it].type}get url(){return this[it].url||""}get status(){return this[it].status}get ok(){return this[it].status>=200&&this[it].status<300}get redirected(){return this[it].counter>0}get statusText(){return this[it].statusText}get headers(){return this[it].headers}get highWaterMark(){return this[it].highWaterMark}clone(){return new u(Tn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(s,d=302){if(!Ss(d))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new u(null,{headers:{location:new URL(s).toString()},status:d})}static error(){let s=new u(null,{status:0,statusText:""});return s[it].type="error",s}static json(s=void 0,d={}){let c=JSON.stringify(s);if(c===void 0)throw new TypeError("data is not JSON serializable");let m=new Ie(d&&d.headers);return m.has("content-type")||m.set("content-type","application/json"),new u(c,{...d,headers:m})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ze.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var So=require("node:url"),wo=require("node:util");var co=u=>{if(u.search)return u.search;let s=u.href.length-1,d=u.hash||(u.href[s]==="#"?"#":"");return u.href[s-d.length]==="?"?"?":""};var mo=require("node:net");function ho(u,s=!1){return u==null||(u=new URL(u),/^(about|blob|data):$/.test(u.protocol))?"no-referrer":(u.username="",u.password="",u.hash="",s&&(u.pathname="",u.search=""),u)}var yo=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),po="strict-origin-when-cross-origin";function _o(u){if(!yo.has(u))throw new TypeError(`Invalid referrerPolicy: ${u}`);return u}function pu(u){if(/^(http|ws)s:$/.test(u.protocol))return!0;let s=u.host.replace(/(^\[)|(]$)/g,""),d=(0,mo.isIP)(s);return d===4&&/^127\./.test(s)||d===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(s)?!0:u.host==="localhost"||u.host.endsWith(".localhost")?!1:u.protocol==="file:"}function kn(u){return/^about:(blank|srcdoc)$/.test(u)||u.protocol==="data:"||/^(blob|filesystem):$/.test(u.protocol)?!0:pu(u)}function bo(u,{referrerURLCallback:s,referrerOriginCallback:d}={}){if(u.referrer==="no-referrer"||u.referrerPolicy==="")return null;let c=u.referrerPolicy;if(u.referrer==="about:client")return"no-referrer";let m=u.referrer,p=ho(m),w=ho(m,!0);p.toString().length>4096&&(p=w),s&&(p=s(p)),d&&(w=d(w));let T=new URL(u.url);switch(c){case"no-referrer":return"no-referrer";case"origin":return w;case"unsafe-url":return p;case"strict-origin":return kn(p)&&!kn(T)?"no-referrer":w.toString();case"strict-origin-when-cross-origin":return p.origin===T.origin?p:kn(p)&&!kn(T)?"no-referrer":w;case"same-origin":return p.origin===T.origin?p:"no-referrer";case"origin-when-cross-origin":return p.origin===T.origin?p:w;case"no-referrer-when-downgrade":return kn(p)&&!kn(T)?"no-referrer":p;default:throw new TypeError(`Invalid referrerPolicy: ${c}`)}}function go(u){let s=(u.get("referrer-policy")||"").split(/[,\s]+/),d="";for(let c of s)c&&yo.has(c)&&(d=c);return d}var _e=Symbol("Request internals"),bi=u=>typeof u=="object"&&typeof u[_e]=="object",_u=(0,wo.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ar=class u extends _t{constructor(s,d={}){let c;if(bi(s)?c=new URL(s.url):(c=new URL(s),s={}),c.username!==""||c.password!=="")throw new TypeError(`${c} is an url with embedded credentials.`);let m=d.method||s.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(m)&&(m=m.toUpperCase()),!bi(d)&&"data"in d&&_u(),(d.body!=null||bi(s)&&s.body!==null)&&(m==="GET"||m==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let p=d.body?d.body:bi(s)&&s.body!==null?Tn(s):null;super(p,{size:d.size||s.size||0});let w=new Ie(d.headers||s.headers||{});if(p!==null&&!w.has("Content-Type")){let k=bs(p,this);k&&w.set("Content-Type",k)}let T=bi(s)?s.signal:null;if("signal"in d&&(T=d.signal),T!=null&&!eo(T))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let D=d.referrer==null?s.referrer:d.referrer;if(D==="")D="no-referrer";else if(D){let k=new URL(D);D=/^about:(\/\/)?client$/.test(k)?"client":k}else D=void 0;this[_e]={method:m,redirect:d.redirect||s.redirect||"follow",headers:w,parsedURL:c,signal:T,referrer:D},this.follow=d.follow===void 0?s.follow===void 0?20:s.follow:d.follow,this.compress=d.compress===void 0?s.compress===void 0?!0:s.compress:d.compress,this.counter=d.counter||s.counter||0,this.agent=d.agent||s.agent,this.highWaterMark=d.highWaterMark||s.highWaterMark||16384,this.insecureHTTPParser=d.insecureHTTPParser||s.insecureHTTPParser||!1,this.referrerPolicy=d.referrerPolicy||s.referrerPolicy||""}get method(){return this[_e].method}get url(){return(0,So.format)(this[_e].parsedURL)}get headers(){return this[_e].headers}get redirect(){return this[_e].redirect}get signal(){return this[_e].signal}get referrer(){if(this[_e].referrer==="no-referrer")return"";if(this[_e].referrer==="client")return"about:client";if(this[_e].referrer)return this[_e].referrer.toString()}get referrerPolicy(){return this[_e].referrerPolicy}set referrerPolicy(s){this[_e].referrerPolicy=_o(s)}clone(){return new u(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ar.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ro=u=>{let{parsedURL:s}=u[_e],d=new Ie(u[_e].headers);d.has("Accept")||d.set("Accept","*/*");let c=null;if(u.body===null&&/^(post|put)$/i.test(u.method)&&(c="0"),u.body!==null){let T=lo(u);typeof T=="number"&&!Number.isNaN(T)&&(c=String(T))}c&&d.set("Content-Length",c),u.referrerPolicy===""&&(u.referrerPolicy=po),u.referrer&&u.referrer!=="no-referrer"?u[_e].referrer=bo(u):u[_e].referrer="no-referrer",u[_e].referrer instanceof URL&&d.set("Referer",u.referrer),d.has("User-Agent")||d.set("User-Agent","node-fetch"),u.compress&&!d.has("Accept-Encoding")&&d.set("Accept-Encoding","gzip, deflate, br");let{agent:m}=u;typeof m=="function"&&(m=m(s));let p=co(s),w={path:s.pathname+p,method:u.method,headers:d[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:u.insecureHTTPParser,agent:m};return{parsedURL:s,options:w}};var ws=class extends Pt{constructor(s,d="aborted"){super(s,d)}};hs();Pa();var bu=new Set(["data:","http:","https:"]);async function Si(u,s){return new Promise((d,c)=>{let m=new Ar(u,s),{parsedURL:p,options:w}=Ro(m);if(!bu.has(p.protocol))throw new TypeError(`node-fetch cannot load ${u}. URL scheme "${p.protocol.replace(/:$/,"")}" is not supported.`);if(p.protocol==="data:"){let g=Ha(m.url),Z=new ze(g,{headers:{"Content-Type":g.typeFull}});d(Z);return}let T=(p.protocol==="https:"?ko.default:To.default).request,{signal:D}=m,k=null,N=()=>{let g=new ws("The operation was aborted.");c(g),m.body&&m.body instanceof Ne.default.Readable&&m.body.destroy(g),!(!k||!k.body)&&k.body.emit("error",g)};if(D&&D.aborted){N();return}let x=()=>{N(),P()},M=T(p.toString(),w);D&&D.addEventListener("abort",x);let P=()=>{M.abort(),D&&D.removeEventListener("abort",x)};M.on("error",g=>{c(new Oe(`request to ${m.url} failed, reason: ${g.message}`,"system",g)),P()}),gu(M,g=>{k&&k.body&&k.body.destroy(g)}),process.version<"v14"&&M.on("socket",g=>{let Z;g.prependListener("end",()=>{Z=g._eventsCount}),g.prependListener("close",q=>{if(k&&Z<g._eventsCount&&!q){let U=new Error("Premature close");U.code="ERR_STREAM_PREMATURE_CLOSE",k.body.emit("error",U)}})}),M.on("response",g=>{M.setTimeout(0);let Z=fo(g.rawHeaders);if(Ss(g.statusCode)){let $=Z.get("Location"),ne=null;try{ne=$===null?null:new URL($,m.url)}catch{if(m.redirect!=="manual"){c(new Oe(`uri requested responds with an invalid redirect URL: ${$}`,"invalid-redirect")),P();return}}switch(m.redirect){case"error":c(new Oe(`uri requested responds with a redirect, redirect mode is set to error: ${m.url}`,"no-redirect")),P();return;case"manual":break;case"follow":{if(ne===null)break;if(m.counter>=m.follow){c(new Oe(`maximum redirect reached at: ${m.url}`,"max-redirect")),P();return}let L={headers:new Ie(m.headers),follow:m.follow,counter:m.counter+1,agent:m.agent,compress:m.compress,method:m.method,body:Tn(m),signal:m.signal,size:m.size,referrer:m.referrer,referrerPolicy:m.referrerPolicy};if(!to(m.url,ne)||!ro(m.url,ne))for(let ae of["authorization","www-authenticate","cookie","cookie2"])L.headers.delete(ae);if(g.statusCode!==303&&m.body&&s.body instanceof Ne.default.Readable){c(new Oe("Cannot follow redirect with body being a readable stream","unsupported-redirect")),P();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&m.method==="POST")&&(L.method="GET",L.body=void 0,L.headers.delete("content-length"));let je=go(Z);je&&(L.referrerPolicy=je),d(Si(new Ar(ne,L))),P();return}default:return c(new TypeError(`Redirect option '${m.redirect}' is not a valid value of RequestRedirect`))}}D&&g.once("end",()=>{D.removeEventListener("abort",x)});let q=(0,Ne.pipeline)(g,new Ne.PassThrough,$=>{$&&c($)});process.version<"v12.10"&&g.on("aborted",x);let U={url:m.url,status:g.statusCode,statusText:g.statusMessage,headers:Z,size:m.size,counter:m.counter,highWaterMark:m.highWaterMark},re=Z.get("Content-Encoding");if(!m.compress||m.method==="HEAD"||re===null||g.statusCode===204||g.statusCode===304){k=new ze(q,U),d(k);return}let pe={flush:Wr.default.Z_SYNC_FLUSH,finishFlush:Wr.default.Z_SYNC_FLUSH};if(re==="gzip"||re==="x-gzip"){q=(0,Ne.pipeline)(q,Wr.default.createGunzip(pe),$=>{$&&c($)}),k=new ze(q,U),d(k);return}if(re==="deflate"||re==="x-deflate"){let $=(0,Ne.pipeline)(g,new Ne.PassThrough,ne=>{ne&&c(ne)});$.once("data",ne=>{(ne[0]&15)===8?q=(0,Ne.pipeline)(q,Wr.default.createInflate(),L=>{L&&c(L)}):q=(0,Ne.pipeline)(q,Wr.default.createInflateRaw(),L=>{L&&c(L)}),k=new ze(q,U),d(k)}),$.once("end",()=>{k||(k=new ze(q,U),d(k))});return}if(re==="br"){q=(0,Ne.pipeline)(q,Wr.default.createBrotliDecompress(),$=>{$&&c($)}),k=new ze(q,U),d(k);return}k=new ze(q,U),d(k)}),uo(M,m).catch(c)})}function gu(u,s){let d=gi.Buffer.from(`0\r
\r
`),c=!1,m=!1,p;u.on("response",w=>{let{headers:T}=w;c=T["transfer-encoding"]==="chunked"&&!T["content-length"]}),u.on("socket",w=>{let T=()=>{if(c&&!m){let k=new Error("Premature close");k.code="ERR_STREAM_PREMATURE_CLOSE",s(k)}},D=k=>{m=gi.Buffer.compare(k.slice(-5),d)===0,!m&&p&&(m=gi.Buffer.compare(p.slice(-3),d.slice(0,3))===0&&gi.Buffer.compare(k.slice(-2),d.slice(3))===0),p=k};w.prependListener("close",T),w.on("data",D),u.on("close",()=>{w.removeListener("close",T),w.removeListener("data",D)})})}var Dn=require("react");var vo=require("@raycast/api");function Rs(){let u=(0,vo.getPreferenceValues)(),s="metric",d=u.unitsystem||void 0;return d&&(d==="metric"||d==="imperial")&&(s=d),s}function He(){return Rs()==="imperial"?"\xB0F":"\xB0C"}function Jt(){return Rs()==="imperial"?"mph":"km/h"}var Po=yt(Do());function Co(u){return u instanceof Error?u.message:"unknown error"}function Et(u){return new Date(u*1e3)}function Eo(u){return(0,Po.default)(u).locale("en").format("dddd")}function Mo(u){return u.toLocaleDateString("default",{day:"numeric"})}function Oo(u){return u.toLocaleDateString("default",{month:"long"})}function xr(u){return u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var Wa=require("url"),Fo="https://api.openweathermap.org";function Yo(){return(0,wi.getPreferenceValues)().apikey||""}function Lo(){return(0,wi.getPreferenceValues)().defaultquery||""}async function Su(u){let s=Yo(),d=new Wa.URLSearchParams({appid:s,q:u}),c=`${Fo}/geo/1.0/direct?${d.toString()}`,m=await Si(c).then(p=>p.json()).then(p=>{let w=p;if(w.cod&&w.message)throw Error(w.message);return p});if(m===void 0||m.length<1)throw Error("Could not find location");return m}function Kt(u){return`https://openweathermap.org/img/wn/${u}@2x.png`}async function Ao(u){let s=Yo(),d=Rs(),c=new Wa.URLSearchParams({appid:s,lat:u.lat.toString(),lon:u.lon.toString(),units:d==="imperial"?"imperial":"metric"}),m=`${Fo}/data/3.0/onecall?${c.toString()}`,p=await Si(m).then(w=>w.json()).then(w=>{let T=w;if(T.cod&&T.message)throw Error(T.message);return w});if(p===void 0)throw Error("Could not fetch weather");return p}function wu(u){let s=u.split(",");if(s.length===2){let d=parseFloat(s[0]),c=parseFloat(s[1]);return Number.isNaN(d)||Number.isNaN(c)?void 0:{lat:d,lon:c}}}function Io(u){let[s,d]=(0,Dn.useState)(),[c,m]=(0,Dn.useState)(),[p,w]=(0,Dn.useState)(!0);return(0,Dn.useEffect)(()=>{let T=!1;return(async()=>{try{if(u&&u.length>0){w(!0);let k=wu(u);if(k){let N=await Ao(k);T||d({weather:N,location:void 0})}else{let x=(await Su(u))[0],M=await Ao(x);T||d({weather:M,location:x})}}}catch(k){T||(m(Co(k)),w(!1))}finally{T||(w(!1),c&&m(void 0))}})(),()=>{T=!0}},[u]),{weatherRequest:s,isLoading:p,error:c}}var Wo=3;function No(){let s=(0,wi.getPreferenceValues)().hourlyforecastcount||"";if(s===void 0||s.length<=0)return Wo;let d=parseFloat(s);return Number.isNaN(d)?Wo:(d<0&&(d=0),d)}var xo=7;function Bo(){let s=(0,wi.getPreferenceValues)().dailyforecastcount||"";if(s===void 0||s.length<=0)return xo;let d=parseFloat(s);return Number.isNaN(d)?xo:(d<0&&(d=0),d)}var se=require("@raycast/api");var ee=require("react/jsx-runtime");function Uo(u){let s=u.weather;return(0,ee.jsxs)(se.List,{children:[(0,ee.jsx)(se.List.Item,{title:"Condition",icon:Kt(s.weather[0].icon),accessories:[{text:`${s.weather[0].description}`}]}),(0,ee.jsx)(se.List.Item,{title:"Temperature",icon:"\u{1F321}\uFE0F",accessories:[{text:`${s.temp} ${He()}`}]}),(0,ee.jsx)(se.List.Item,{title:"Humidity",icon:"\u{1F4A7}",accessories:[{text:`${s.humidity} %`}]}),(0,ee.jsx)(se.List.Item,{title:"Pressure",icon:"\u{1F4C8}",accessories:[{text:`${s.pressure} hPa`}]}),(0,ee.jsx)(se.List.Item,{title:"Wind",icon:"\u{1F4A8}",accessories:[{text:`${s.wind_speed} ${Jt()} ${Qt(s.wind_deg)}`}]}),(0,ee.jsx)(se.List.Item,{title:"UV-Index",icon:"\u2600\uFE0F",accessories:[{text:`${s.uvi}`}]}),(0,ee.jsx)(se.List.Item,{title:"Dew Point",icon:"\u{1F32B}\uFE0F",accessories:[{text:`${s.dew_point} ${He()}`}]})]})}function $o(u){let s=u.hourly;return(0,ee.jsxs)(se.List,{children:[(0,ee.jsx)(se.List.Item,{title:"Condition",icon:Kt(s.weather[0].icon),accessories:[{text:`${s.weather[0].description}`}]}),(0,ee.jsx)(se.List.Item,{title:"Temperature",icon:"\u{1F321}\uFE0F",accessories:[{text:`${s.temp} ${He()}`}]}),(0,ee.jsx)(se.List.Item,{title:"Humidity",icon:"\u{1F4A7}",accessories:[{text:`${s.humidity} %`}]}),(0,ee.jsx)(se.List.Item,{title:"Pressure",icon:"\u{1F4C8}",accessories:[{text:`${s.pressure} hPa`}]}),(0,ee.jsx)(se.List.Item,{title:"Wind",icon:"\u{1F4A8}",accessories:[{text:`${s.wind_speed} ${Jt()} ${Qt(s.wind_deg)}`}]}),(0,ee.jsx)(se.List.Item,{title:"UV-Index",icon:"\u2600\uFE0F",accessories:[{text:`${s.uvi}`}]}),(0,ee.jsx)(se.List.Item,{title:"Dew Point",icon:"\u{1F32B}\uFE0F",accessories:[{text:`${s.dew_point} ${He()}`}]})]})}function qo(u){let s=u.daily;return(0,ee.jsxs)(se.List,{children:[(0,ee.jsx)(se.List.Item,{title:"Condition",icon:Kt(s.weather[0].icon),accessories:[{text:`${s.weather[0].description}`}]}),(0,ee.jsx)(se.List.Item,{title:"Temperature",icon:"\u{1F321}\uFE0F",accessories:[{text:`${s.temp.morn} ${He()}`,tooltip:"Morning"},{text:`${s.temp.day} ${He()}`,tooltip:"Day"},{text:`${s.temp.eve} ${He()}`,tooltip:"Evening"},{text:`${s.temp.night} ${He()}`,tooltip:"Night"}]}),(0,ee.jsx)(se.List.Item,{title:"Humidity",icon:"\u{1F4A7}",accessories:[{text:`${s.humidity} %`}]}),(0,ee.jsx)(se.List.Item,{title:"Pressure",icon:"\u{1F4C8}",accessories:[{text:`${s.pressure} hPa`}]}),(0,ee.jsx)(se.List.Item,{title:"Wind",icon:"\u{1F4A8}",accessories:[{text:`${s.wind_speed} ${Jt()} ${Qt(s.wind_deg)}`}]}),(0,ee.jsx)(se.List.Item,{title:"UV-Index",icon:"\u2600\uFE0F",accessories:[{text:`${s.uvi}`}]}),(0,ee.jsx)(se.List.Item,{title:"Dew Point",icon:"\u{1F32B}\uFE0F",accessories:[{text:`${s.dew_point} ${He()}`}]}),(0,ee.jsx)(se.List.Item,{title:"Sunrise",icon:"\u{1F305}",accessories:[{text:`${xr(Et(s.sunrise))}`}]}),(0,ee.jsx)(se.List.Item,{title:"Sunset",icon:"\u{1F307}",accessories:[{text:`${xr(Et(s.sunset))}`}]})]})}var te=require("react/jsx-runtime");function Ru(u){let s=u.weather?.location,d=u.weather?.weather;if(!d)return null;let c=d.current,p=[s?.name,s?.state,s?.country].filter(D=>D!==void 0&&D.length>0).join(","),w=`${d.lat}, ${d.lon}`,T=`Current (${p||w})`;return(0,te.jsxs)(ue.List.Section,{title:T,children:[(0,te.jsx)(ue.List.Item,{title:`${Math.round(d.current.temp)} ${He()}`,subtitle:d.current.weather[0].description,icon:Kt(d.current.weather[0].icon),accessories:[{text:`${Math.round(c.humidity)} %`,icon:"\u{1F4A7}",tooltip:`Humidity ${c.humidity}`},{text:`${Math.round(c.wind_speed)} ${Jt()} ${Qt(c.wind_deg)}`,icon:"\u{1F4A8}",tooltip:`Wind ${c.wind_speed}`}],actions:(0,te.jsx)(ue.ActionPanel,{children:(0,te.jsx)(ue.Action.Push,{title:"Show Details",icon:ue.Icon.Terminal,target:(0,te.jsx)(Uo,{weather:c})})})}),(0,te.jsx)(ue.List.Item,{title:"Sun",icon:"\u{1F565}",accessories:[{text:`${xr(Et(c.sunrise))}`,icon:"\u{1F305}",tooltip:"Sunrise"},{text:`${xr(Et(c.sunset))}`,icon:"\u{1F307}",tooltip:"Sunset"}]})]})}function Tu(u){let s=u.error;return(0,te.jsx)(ue.List,{throttle:u.throttle,isLoading:u.isLoading,onSearchTextChange:u.onSearchTextChange,searchBarPlaceholder:u.searchBarPlaceholder,children:s?(0,te.jsx)(ue.List.EmptyView,{title:"Could not fetch data from OpenWeatherMap",icon:"\u26C8\uFE0F",description:s}):(0,te.jsx)(Ri.default.Fragment,{children:u.children})})}function ku(u){let s=u.daily,d=Et(s.dt),c=`${Eo(d)} ${Mo(d)}. ${Oo(d)}`;return(0,te.jsx)(ue.List.Item,{title:c,subtitle:s.weather[0].description,icon:Kt(s.weather[0].icon),accessories:[{text:`${Math.round(s.humidity)} %`,icon:"\u{1F4A7}",tooltip:`Humidity ${s.humidity}`},{text:`${Math.round(s.wind_speed)} ${Jt()} ${Qt(s.wind_deg)}`,icon:"\u{1F4A8}",tooltip:`Wind ${s.wind_speed}`},{text:`${Math.round(s.temp.min)}`,tooltip:`min ${s.temp.min}`,icon:"\u2B07\uFE0F"},{text:`${Math.round(s.temp.max)}`,tooltip:`max ${s.temp.max}`,icon:"\u2B06\uFE0F"}],actions:(0,te.jsx)(ue.ActionPanel,{children:(0,te.jsx)(ue.Action.Push,{title:"Show Details",icon:ue.Icon.Terminal,target:(0,te.jsx)(qo,{daily:s})})})})}function vu(u){let s=u.hourly,d=Et(s.dt),c=`${xr(d)}`;return(0,te.jsx)(ue.List.Item,{title:c,subtitle:s.weather[0].description,icon:Kt(s.weather[0].icon),accessories:[{text:`${Math.round(s.humidity)} %`,icon:"\u{1F4A7}",tooltip:`Humidity ${s.humidity}`},{text:`${Math.round(s.wind_speed)} ${Jt()} ${Qt(s.wind_deg)}`,icon:"\u{1F4A8}",tooltip:`Wind ${s.wind_speed}`}],actions:(0,te.jsx)(ue.ActionPanel,{children:(0,te.jsx)(ue.Action.Push,{title:"Show Details",icon:ue.Icon.Terminal,target:(0,te.jsx)($o,{hourly:s})})})})}function Du(u){let s=u.weatherRequest;if(s===void 0)return null;let d=s?.weather,c=new Date,p=d?.hourly?.filter(T=>Et(T.dt)>c)?.slice(0,No()),w=d?.daily?.slice(0,Bo());return(0,te.jsxs)(Ri.default.Fragment,{children:[(0,te.jsx)(Ru,{weather:s}),(0,te.jsx)(ue.List.Section,{title:"Hourly Forecast",children:p?.map(T=>(0,te.jsx)(vu,{hourly:T}))}),(0,te.jsx)(ue.List.Section,{title:"Daily Forecast",children:w?.map(T=>(0,te.jsx)(ku,{daily:T}))})]})}function zo(){let u=Lo(),[s,d]=(0,Ri.useState)(u),c=s;u.length>0&&(s===void 0||s.length<=0)&&(c=u);let{weatherRequest:m,isLoading:p,error:w}=Io(c);return(0,te.jsx)(Tu,{throttle:!0,onSearchTextChange:d,isLoading:p,searchBarPlaceholder:"Search by location (e.g. 'London') or by coordinates (e.g. '51.5174502,-0.1399655')",error:w,children:c===void 0||c.length<=0||m===void 0?(0,te.jsx)(ue.List.EmptyView,{title:"You can define a default query in the preferences",icon:"\u{1F4A1}"}):(0,te.jsx)(Du,{weatherRequest:m})})}var jo=require("react/jsx-runtime");function Ho(){return(0,jo.jsx)(zo,{})}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
