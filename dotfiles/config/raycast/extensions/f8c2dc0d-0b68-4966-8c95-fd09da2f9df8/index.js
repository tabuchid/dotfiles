"use strict";var kt=Object.create;var ne=Object.defineProperty;var vt=Object.getOwnPropertyDescriptor;var xt=Object.getOwnPropertyNames;var St=Object.getPrototypeOf,At=Object.prototype.hasOwnProperty;var N=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Pt=(t,r)=>{for(var n in r)ne(t,n,{get:r[n],enumerable:!0})},ve=(t,r,n,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of xt(r))!At.call(t,a)&&a!==n&&ne(t,a,{get:()=>r[a],enumerable:!(e=vt(r,a))||e.enumerable});return t};var Z=(t,r,n)=>(n=t!=null?kt(St(t)):{},ve(r||!t||!t.__esModule?ne(n,"default",{value:t,enumerable:!0}):n,t)),Et=t=>ve(ne({},"__esModule",{value:!0}),t);var ze=N((me,Ne)=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.default=Bt;var Me=function(r,n){return Math.round(Math.abs(r-n)/1e3)};function Bt(t){return function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Date;n instanceof Date||(n=new Date(n));var a=null,s=60,i=s*60,c=i*24,o=c*7,f=c*30,d=c*365;a=Me(e,n),a>c&&a<o&&(n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),a=Me(e,n));var u=function(m,y,p){var w=void 0;m==="justNow"?w=m:e>=n?w=m+"Ago":w=m+"FromNow";var x=t[w];return typeof x=="function"?x(y,p):x.replace("{{time}}",y)};switch(!1){case!(a<30):return u("justNow",a,a);case!(a<s):return u("seconds",a,a);case!(a<2*s):return u("aMinute",1,a);case!(a<i):return u("minutes",Math.floor(a/s),a);case Math.floor(a/i)!==1:return u("anHour",Math.floor(a/s),a);case!(a<c):return u("hours",Math.floor(a/i),a);case!(a<c*2):return u("aDay",1,a);case!(a<o):return u("days",Math.floor(a/c),a);case Math.floor(a/o)!==1:return u("aWeek",1,a);case!(a<f):return u("weeks",Math.floor(a/o),a);case Math.floor(a/f)!==1:return u("aMonth",1,a);case!(a<d):return u("months",Math.floor(a/f),a);case Math.floor(a/d)!==1:return u("aYear",1,a);default:return u("overAYear",Math.floor(a/d),a)}}}Ne.exports=me.default});var Ve=N((Wr,We)=>{We.exports={justNow:"just now",secondsAgo:"{{time}} seconds ago",aMinuteAgo:"a minute ago",minutesAgo:"{{time}} minutes ago",anHourAgo:"an hour ago",hoursAgo:"{{time}} hours ago",aDayAgo:"yesterday",daysAgo:"{{time}} days ago",aWeekAgo:"a week ago",weeksAgo:"{{time}} weeks ago",aMonthAgo:"a month ago",monthsAgo:"{{time}} months ago",aYearAgo:"a year ago",yearsAgo:"{{time}} years ago",overAYearAgo:"over a year ago",secondsFromNow:"{{time}} seconds from now",aMinuteFromNow:"a minute from now",minutesFromNow:"{{time}} minutes from now",anHourFromNow:"an hour from now",hoursFromNow:"{{time}} hours from now",aDayFromNow:"tomorrow",daysFromNow:"{{time}} days from now",aWeekFromNow:"a week from now",weeksFromNow:"{{time}} weeks from now",aMonthFromNow:"a month from now",monthsFromNow:"{{time}} months from now",aYearFromNow:"a year from now",yearsFromNow:"{{time}} years from now",overAYearFromNow:"over a year from now"}});var Be=N((pe,je)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var Gt=ze(),qt=He(Gt),Kt=Ve(),Jt=He(Kt);function He(t){return t&&t.__esModule?t:{default:t}}pe.default=(0,qt.default)(Jt.default);je.exports=pe.default});var $e=N((Hr,qe)=>{"use strict";qe.exports=function(r,n){n===!0&&(n=0);var e="";if(typeof r=="string")try{e=new URL(r).protocol}catch{}else r&&r.constructor===URL&&(e=r.protocol);var a=e.split(/\:|\+/).filter(Boolean);return typeof n=="number"?a[n]:a}});var Je=N((jr,Ke)=>{"use strict";var Zt=$e();function Yt(t){var r={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var n=new URL(t);r.protocols=Zt(n),r.protocol=r.protocols[0],r.port=n.port,r.resource=n.hostname,r.host=n.host,r.user=n.username||"",r.password=n.password||"",r.pathname=n.pathname,r.hash=n.hash.slice(1),r.search=n.search.slice(1),r.href=n.href,r.query=Object.fromEntries(n.searchParams)}catch{r.protocols=["file"],r.protocol=r.protocols[0],r.port="",r.resource="",r.user="",r.pathname="",r.hash="",r.search="",r.href=t,r.query={},r.parse_failed=!0}return r}Ke.exports=Yt});var tt=N((Br,et)=>{"use strict";var Xt=Je();function Qt(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var er=Qt(Xt);function tr(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var n=function e(){if(this instanceof e){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(r,a);return new s}return r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var a=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,a.get?a:{enumerable:!0,get:function(){return t[e]}})}),n}var Ye={},rr="text/plain",nr="us-ascii",Ze=(t,r)=>r.some(n=>n instanceof RegExp?n.test(t):n===t),ar=(t,{stripHash:r})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!n)throw new Error(`Invalid URL: ${t}`);let{type:e,data:a,hash:s}=n.groups,i=e.split(";");s=r?"":s;let c=!1;i[i.length-1]==="base64"&&(i.pop(),c=!0);let o=(i.shift()||"").toLowerCase(),d=[...i.map(u=>{let[h,m=""]=u.split("=").map(y=>y.trim());return h==="charset"&&(m=m.toLowerCase(),m===nr)?"":`${h}${m?`=${m}`:""}`}).filter(Boolean)];return c&&d.push("base64"),(d.length>0||o&&o!==rr)&&d.unshift(o),`data:${d.join(";")},${c?a.trim():a}${s?`#${s}`:""}`};function sr(t,r){if(r={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...r},t=t.trim(),/^data:/i.test(t))return ar(t,r);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=t.startsWith("//");!n&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,r.defaultProtocol));let a=new URL(t);if(r.forceHttp&&r.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(r.forceHttp&&a.protocol==="https:"&&(a.protocol="http:"),r.forceHttps&&a.protocol==="http:"&&(a.protocol="https:"),r.stripAuthentication&&(a.username="",a.password=""),r.stripHash?a.hash="":r.stripTextFragment&&(a.hash=a.hash.replace(/#?:~:text.*?$/i,"")),a.pathname){let i=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,o="";for(;;){let d=i.exec(a.pathname);if(!d)break;let u=d[0],h=d.index,m=a.pathname.slice(c,h);o+=m.replace(/\/{2,}/g,"/"),o+=u,c=h+u.length}let f=a.pathname.slice(c,a.pathname.length);o+=f.replace(/\/{2,}/g,"/"),a.pathname=o}if(a.pathname)try{a.pathname=decodeURI(a.pathname)}catch{}if(r.removeDirectoryIndex===!0&&(r.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(r.removeDirectoryIndex)&&r.removeDirectoryIndex.length>0){let i=a.pathname.split("/"),c=i[i.length-1];Ze(c,r.removeDirectoryIndex)&&(i=i.slice(0,-1),a.pathname=i.slice(1).join("/")+"/")}if(a.hostname&&(a.hostname=a.hostname.replace(/\.$/,""),r.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(a.hostname)&&(a.hostname=a.hostname.replace(/^www\./,""))),Array.isArray(r.removeQueryParameters))for(let i of[...a.searchParams.keys()])Ze(i,r.removeQueryParameters)&&a.searchParams.delete(i);if(r.removeQueryParameters===!0&&(a.search=""),r.sortQueryParameters){a.searchParams.sort();try{a.search=decodeURIComponent(a.search)}catch{}}r.removeTrailingSlash&&(a.pathname=a.pathname.replace(/\/$/,""));let s=t;return t=a.toString(),!r.removeSingleSlash&&a.pathname==="/"&&!s.endsWith("/")&&a.hash===""&&(t=t.replace(/\/$/,"")),(r.removeTrailingSlash||a.pathname==="/")&&a.hash===""&&r.removeSingleSlash&&(t=t.replace(/\/$/,"")),n&&!r.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),r.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}var or=Object.freeze({__proto__:null,default:sr}),ir=tr(or);Object.defineProperty(Ye,"__esModule",{value:!0});var cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr=ir,ur=Xe(lr),fr=er.default,dr=Xe(fr);function Xe(t){return t&&t.__esModule?t:{default:t}}var Qe=function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,a=function(o){var f=new Error(o);throw f.subject_url=r,f};(typeof r!="string"||!r.trim())&&a("Invalid url."),r.length>t.MAX_INPUT_LENGTH&&a("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),n&&((typeof n>"u"?"undefined":cr(n))!=="object"&&(n={stripHash:!1}),r=(0,ur.default)(r,n));var s=(0,dr.default)(r);if(s.parse_failed){var i=s.href.match(e);i?(s.protocols=["ssh"],s.protocol="ssh",s.resource=i[2],s.host=i[2],s.user=i[1],s.pathname="/"+i[3],s.parse_failed=!1):a("URL parsing failed.")}return s};Qe.MAX_INPUT_LENGTH=2048;var hr=Ye.default=Qe;et.exports=hr});var at=N((Gr,nt)=>{"use strict";var mr=$e();function rt(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var r=mr(t);if(t=t.substring(t.indexOf("://")+3),rt(r))return!0;var n=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(n)&&t.indexOf("@")<t.indexOf(":")}nt.exports=rt});var it=N((qr,ot)=>{"use strict";var pr=tt(),st=at();function gr(t){let r=pr(t);return r.token="",r.password==="x-oauth-basic"?r.token=r.user:r.user==="x-token-auth"&&(r.token=r.password),st(r.protocols)||r.protocols.length===0&&st(t)?r.protocol="ssh":r.protocols.length?r.protocol=r.protocols[0]:(r.protocol="file",r.protocols=["file"]),r.href=r.href.replace(/\/$/,""),r}ot.exports=gr});var lt=N((Kr,ct)=>{"use strict";var yr=it();function we(t,r){if(r=r||[],typeof t!="string")throw new Error("The url must be a string.");if(!r.every(function(E){return typeof E=="string"}))throw new Error("The refs should contain only strings");var n=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;n.test(t)&&(t="https://github.com/"+t);var e=yr(t),a=e.resource.split("."),s=null;switch(e.toString=function(E){return we.stringify(this,E)},e.source=a.length>2?a.slice(1-a.length).join("."):e.source=e.resource,e.git_suffix=/\.git$/.test(e.pathname),e.name=decodeURIComponent((e.pathname||e.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),e.owner=decodeURIComponent(e.user),e.source){case"git.cloudforge.com":e.owner=e.user,e.organization=a[0],e.source="cloudforge.com";break;case"visualstudio.com":if(e.resource==="vs-ssh.visualstudio.com"){s=e.name.split("/"),s.length===4&&(e.organization=s[1],e.owner=s[2],e.name=s[3],e.full_name=s[2]+"/"+s[3]);break}else{s=e.name.split("/"),s.length===2?(e.owner=s[1],e.name=s[1],e.full_name="_git/"+e.name):s.length===3?(e.name=s[2],s[0]==="DefaultCollection"?(e.owner=s[2],e.organization=s[0],e.full_name=e.organization+"/_git/"+e.name):(e.owner=s[0],e.full_name=e.owner+"/_git/"+e.name)):s.length===4&&(e.organization=s[0],e.owner=s[1],e.name=s[3],e.full_name=e.organization+"/"+e.owner+"/_git/"+e.name);break}case"dev.azure.com":case"azure.com":if(e.resource==="ssh.dev.azure.com"){s=e.name.split("/"),s.length===4&&(e.organization=s[1],e.owner=s[2],e.name=s[3]);break}else{s=e.name.split("/"),s.length===5?(e.organization=s[0],e.owner=s[1],e.name=s[4],e.full_name="_git/"+e.name):s.length===3?(e.name=s[2],s[0]==="DefaultCollection"?(e.owner=s[2],e.organization=s[0],e.full_name=e.organization+"/_git/"+e.name):(e.owner=s[0],e.full_name=e.owner+"/_git/"+e.name)):s.length===4&&(e.organization=s[0],e.owner=s[1],e.name=s[3],e.full_name=e.organization+"/"+e.owner+"/_git/"+e.name),e.query&&e.query.path&&(e.filepath=e.query.path.replace(/^\/+/g,"")),e.query&&e.query.version&&(e.ref=e.query.version.replace(/^GB/,""));break}default:s=e.name.split("/");var i=s.length-1;if(s.length>=2){var c=s.indexOf("-",2),o=s.indexOf("blob",2),f=s.indexOf("tree",2),d=s.indexOf("commit",2),u=s.indexOf("issues",2),h=s.indexOf("src",2),m=s.indexOf("raw",2),y=s.indexOf("edit",2);i=c>0?c-1:o>0&&f>0?Math.min(o-1,f-1):o>0?o-1:u>0?u-1:f>0?f-1:d>0?d-1:h>0?h-1:m>0?m-1:y>0?y-1:i,e.owner=s.slice(0,i).join("/"),e.name=s[i],d&&u<0&&(e.commit=s[i+2])}e.ref="",e.filepathtype="",e.filepath="";var p=s.length>i&&s[i+1]==="-"?i+1:i;s.length>p+2&&["raw","src","blob","tree","edit"].indexOf(s[p+1])>=0&&(e.filepathtype=s[p+1],e.ref=s[p+2],s.length>p+3&&(e.filepath=s.slice(p+3).join("/"))),e.organization=e.owner;break}e.full_name||(e.full_name=e.owner,e.name&&(e.full_name&&(e.full_name+="/"),e.full_name+=e.name)),e.owner.startsWith("scm/")&&(e.source="bitbucket-server",e.owner=e.owner.replace("scm/",""),e.organization=e.owner,e.full_name=e.owner+"/"+e.name);var w=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=w.exec(e.pathname);return x!=null&&(e.source="bitbucket-server",x[1]==="users"?e.owner="~"+x[2]:e.owner=x[2],e.organization=e.owner,e.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(e.filepathtype=s[1],s.length>2&&(e.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(e.commit=s[2])),e.full_name=e.owner+"/"+e.name,e.query.at?e.ref=e.query.at:e.ref=""),r.length!==0&&e.ref&&(e.ref=wr(e.href,r)||e.ref,e.filepath=e.href.split(e.ref+"/")[1]),e}we.stringify=function(t,r){r=r||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var n=t.port?":"+t.port:"",e=t.user||"git",a=t.git_suffix?".git":"";switch(r){case"ssh":return n?"ssh://"+e+"@"+t.resource+n+"/"+t.full_name+a:e+"@"+t.resource+":"+t.full_name+a;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return r+"://"+e+"@"+t.resource+n+"/"+t.full_name+a;case"http":case"https":var s=t.token?br(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return r+"://"+s+t.resource+n+"/"+$r(t)+a;default:return t.href}};function br(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}function $r(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var r=t.full_name.split("/").map(function(n){return encodeURIComponent(n)}).join("/");return r}}function wr(t,r){var n="";return r.forEach(function(e){t.includes(e)&&e.length>n.length&&(n=e)}),n}ct.exports=we});var Ar={};Pt(Ar,{default:()=>be});module.exports=Et(Ar);var re=require("react");var U=require("react");function xe(t,r,n,e){var a=this,s=(0,U.useRef)(null),i=(0,U.useRef)(0),c=(0,U.useRef)(0),o=(0,U.useRef)(null),f=(0,U.useRef)([]),d=(0,U.useRef)(),u=(0,U.useRef)(),h=(0,U.useRef)(t),m=(0,U.useRef)(!0);h.current=t;var y=typeof window<"u",p=!r&&r!==0&&y;if(typeof t!="function")throw new TypeError("Expected a function");r=+r||0;var w=!!(n=n||{}).leading,x=!("trailing"in n)||!!n.trailing,E="maxWait"in n,A="debounceOnServer"in n&&!!n.debounceOnServer,$=E?Math.max(+n.maxWait||0,r):null;(0,U.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]);var P=(0,U.useMemo)(function(){var O=function(S){var R=f.current,b=d.current;return f.current=d.current=null,i.current=S,c.current=c.current||S,u.current=h.current.apply(b,R)},F=function(S,R){p&&cancelAnimationFrame(o.current),o.current=p?requestAnimationFrame(S):setTimeout(S,R)},W=function(S){if(!m.current)return!1;var R=S-s.current;return!s.current||R>=r||R<0||E&&S-i.current>=$},V=function(S){return o.current=null,x&&f.current?O(S):(f.current=d.current=null,u.current)},H=function S(){var R=Date.now();if(w&&c.current===i.current&&D(),W(R))return V(R);if(m.current){var b=r-(R-s.current),M=E?Math.min(b,$-(R-i.current)):b;F(S,M)}},D=function(){e&&e({})},T=function(){if(y||A){var S=Date.now(),R=W(S);if(f.current=[].slice.call(arguments),d.current=a,s.current=S,R){if(!o.current&&m.current)return i.current=s.current,F(H,r),w?O(s.current):u.current;if(E)return F(H,r),O(s.current)}return o.current||F(H,r),u.current}};return T.cancel=function(){var S=o.current;S&&(p?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,f.current=s.current=d.current=o.current=null,S&&e&&e({})},T.isPending=function(){return!!o.current},T.flush=function(){return o.current?V(Date.now()):u.current},T},[w,E,r,$,x,p,y,A,e]);return P}var C=require("@raycast/api");var g=Z(require("react")),v=require("@raycast/api");var Se=Object.prototype.hasOwnProperty;function ae(t,r){var n,e;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((e=t.length)===r.length)for(;e--&&ae(t[e],r[e]););return e===-1}if(!n||typeof t=="object"){e=0;for(n in t)if(Se.call(t,n)&&++e&&!Se.call(r,n)||!(n in r)||!ae(t[n],r[n]))return!1;return Object.keys(r).length===e}}return t!==t&&r!==r}var q=Z(require("node:fs")),oe=Z(require("node:path")),Re=Z(require("node:crypto"));var _e=require("react/jsx-runtime");function Rt(t){let r=(0,g.useRef)(t),n=(0,g.useRef)(0);return ae(t,r.current)||(r.current=t,n.current+=1),(0,g.useMemo)(()=>r.current,[n.current])}function L(t){let r=(0,g.useRef)(t);return r.current=t,r}function _t(t,r){let n=t instanceof Error?t.message:String(t);return(0,v.showToast)({style:v.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??n,primaryAction:r?.primaryAction??Ae(t),secondaryAction:r?.primaryAction?Ae(t):void 0})}var Ae=t=>{let r=!0,n="[Extension Name]...",e="";try{let i=JSON.parse((0,q.readFileSync)((0,oe.join)(v.environment.assetsPath,"..","package.json"),"utf8"));n=`[${i.title}]...`,e=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(r=!1)}catch{}let a=v.environment.isDevelopment||r,s=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?v.Clipboard.copy(s):(0,v.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(n)}&extension-url=${encodeURI(e)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function Tt(t,r,n){let e=(0,g.useRef)(0),[a,s]=(0,g.useState)({isLoading:!0}),i=L(t),c=L(n?.abortable),o=L(r||[]),f=L(n?.onError),d=L(n?.onData),u=L(n?.onWillExecute),h=L(n?.failureToastOptions),m=L(a.data),y=(0,g.useRef)(null),p=(0,g.useRef)({page:0}),w=(0,g.useRef)(!1),x=(0,g.useRef)(!0),E=(0,g.useRef)(50),A=(0,g.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++e.current),[c]),$=(0,g.useCallback)((...D)=>{let T=A();u.current?.(D),s(b=>({...b,isLoading:!0}));let S=Ct(i.current)(...D);function R(b){return b.name=="AbortError"||T===e.current&&(f.current?f.current(b):v.environment.launchType!==v.LaunchType.Background&&_t(b,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(M){M.hide(),y.current?.(...o.current||[])}},...h.current}),s({error:b,isLoading:!1})),b}return typeof S=="function"?(w.current=!0,S(p.current).then(({data:b,hasMore:M,cursor:$t})=>(T===e.current&&(p.current&&(p.current.cursor=$t,p.current.lastItem=b?.[b.length-1]),d.current&&d.current(b,p.current),M&&(E.current=b.length),x.current=M,s(wt=>p.current.page===0?{data:b,isLoading:!1}:{data:(wt.data||[])?.concat(b),isLoading:!1})),b),b=>(x.current=!1,R(b)))):(w.current=!1,S.then(b=>(T===e.current&&(d.current&&d.current(b),s({data:b,isLoading:!1})),b),R))},[d,f,o,i,s,y,u,p,h,A]);y.current=$;let P=(0,g.useCallback)(()=>{p.current={page:0};let D=o.current||[];return $(...D)},[$,o]),O=(0,g.useCallback)(async(D,T)=>{let S;try{if(T?.optimisticUpdate){A(),typeof T?.rollbackOnError!="function"&&T?.rollbackOnError!==!1&&(S=structuredClone(m.current?.value));let R=T.optimisticUpdate;s(b=>({...b,data:R(b.data)}))}return await D}catch(R){if(typeof T?.rollbackOnError=="function"){let b=T.rollbackOnError;s(M=>({...M,data:b(M.data)}))}else T?.optimisticUpdate&&T?.rollbackOnError!==!1&&s(b=>({...b,data:S}));throw R}finally{T?.shouldRevalidateAfter!==!1&&(v.environment.launchType===v.LaunchType.Background||v.environment.commandMode==="menu-bar"?await P():P())}},[P,m,s,A]),F=(0,g.useCallback)(()=>{p.current.page+=1;let D=o.current||[];$(...D)},[p,o,$]);(0,g.useEffect)(()=>{p.current={page:0},n?.execute!==!1?$(...r||[]):A()},[Rt([r,n?.execute,$]),c,p]),(0,g.useEffect)(()=>()=>{A()},[A]);let W=n?.execute!==!1?a.isLoading:!1,V={...a,isLoading:W},H=w.current?{pageSize:E.current,hasMore:x.current,onLoadMore:F}:void 0;return{...V,revalidate:P,mutate:O,pagination:H}}function Ct(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function Pe(t){return typeof t!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))!==null}function It(t){return t instanceof URLSearchParams?t.toString():t}function Te(t,r=[]){function n(e){return"update"in t?t.update(e,"utf8"):t.write(e)}return{dispatch:function(e){e=It(e),e===null?this._null():this["_"+typeof e](e)},_object:function(e){let a=/\[object (.*)\]/i,s=Object.prototype.toString.call(e),i=a.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let c=null;if((c=r.indexOf(e))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else r.push(e);if(Buffer.isBuffer(e))return n("buffer:"),n(e.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](e);else throw new Error('Unknown object type "'+i+'"');else{let o=Object.keys(e);o=o.sort(),Pe(e)||o.splice(0,0,"prototype","__proto__","constructor"),n("object:"+o.length+":");let f=this;return o.forEach(function(d){f.dispatch(d),n(":"),f.dispatch(e[d]),n(",")})}},_array:function(e,a){a=typeof a<"u"?a:!1;let s=this;if(n("array:"+e.length+":"),!a||e.length<=1){e.forEach(function(o){s.dispatch(o)});return}let i=[],c=e.map(function(o){let f=Ut(),d=r.slice();return Te(f,d).dispatch(o),i=i.concat(d.slice(r.length)),f.read().toString()});r=r.concat(i),c.sort(),this._array(c,!1)},_date:function(e){n("date:"+e.toJSON())},_symbol:function(e){n("symbol:"+e.toString())},_error:function(e){n("error:"+e.toString())},_boolean:function(e){n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(e){n("fn:"),Pe(e)?this.dispatch("[native]"):this.dispatch(e.toString()),this.dispatch("function-name:"+String(e.name)),this._object(e)},_number:function(e){n("number:"+e.toString())},_xml:function(e){n("xml:"+e.toString())},_null:function(){n("Null")},_undefined:function(){n("Undefined")},_regexp:function(e){n("regex:"+e.toString())},_uint8array:function(e){n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){n("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){n("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){n("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){n("url:"+e.toString())},_map:function(e){n("map:");let a=Array.from(e);this._array(a,!0)},_set:function(e){n("set:");let a=Array.from(e);this._array(a,!0)},_file:function(e){n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){n("domwindow")},_bigint:function(e){n("bigint:"+e.toString())},_process:function(){n("process")},_timer:function(){n("timer")},_pipe:function(){n("pipe")},_tcp:function(){n("tcp")},_udp:function(){n("udp")},_tty:function(){n("tty")},_statwatcher:function(){n("statwatcher")},_securecontext:function(){n("securecontext")},_connection:function(){n("connection")},_zlib:function(){n("zlib")},_context:function(){n("context")},_nodescript:function(){n("nodescript")},_httpparser:function(){n("httpparser")},_dataview:function(){n("dataview")},_signal:function(){n("signal")},_fsevent:function(){n("fsevent")},_tlswrap:function(){n("tlswrap")}}}function Ut(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}function Ot(t,r){let n=this[t];return n instanceof Date?`__raycast_cached_date__${n.toISOString()}`:Buffer.isBuffer(n)?`__raycast_cached_buffer__${n.toString("base64")}`:r}function Lt(t,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function se(t){let r=Re.default.createHash("sha1");return Te(r).dispatch(t),r.digest("hex")}var Ft=Symbol("cache without namespace"),Ee=new Map;function X(t,r,n){let e=n?.cacheNamespace||Ft,a=Ee.get(e)||Ee.set(e,new v.Cache({namespace:n?.cacheNamespace})).get(e);if(!a)throw new Error("Missing cache");let s=L(t),i=L(r),c=(0,g.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(s.current)}catch(u){console.error("Could not get Cache data:",u);return}}),o=(0,g.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Lt)}catch(u){return console.warn("The cached data is corrupted",u),i.current}}else return i.current},[c,i]),f=L(o),d=(0,g.useCallback)(u=>{let h=typeof u=="function"?u(f.current):u;if(typeof h>"u")a.set(s.current,"undefined");else{let m=JSON.stringify(h,Ot);a.set(s.current,m)}return h},[a,s,f]);return[o,d]}var Y=Symbol();function Dt(t,r,n){let{initialData:e,keepPreviousData:a,internal_cacheKeySuffix:s,...i}=n||{},c=(0,g.useRef)(null),[o,f]=X(se(r||[])+s,Y,{cacheNamespace:se(t)}),d=(0,g.useRef)(o!==Y?o:e),u=(0,g.useRef)(void 0),{mutate:h,revalidate:m,...y}=Tt(t,r||[],{...i,onData(A,$){u.current=$,i.onData&&i.onData(A,$),!($&&$.page>0)&&(c.current="promise",d.current=A,f(A))}}),p,w=y.pagination;u.current&&u.current.page>0&&y.data?p=y.data:c.current==="promise"?p=d.current:a&&o!==Y?(p=o,w&&(w.hasMore=!0,w.pageSize=o.length)):a&&o===Y?p=d.current:o!==Y?(p=o,w&&(w.hasMore=!0,w.pageSize=o.length)):p=e;let x=L(p),E=(0,g.useCallback)(async(A,$)=>{let P;try{if($?.optimisticUpdate){typeof $?.rollbackOnError!="function"&&$?.rollbackOnError!==!1&&(P=structuredClone(x.current));let O=$.optimisticUpdate(x.current);c.current="cache",d.current=O,f(O)}return await h(A,{shouldRevalidateAfter:$?.shouldRevalidateAfter})}catch(O){if(typeof $?.rollbackOnError=="function"){let F=$.rollbackOnError(x.current);c.current="cache",d.current=F,f(F)}else $?.optimisticUpdate&&$?.rollbackOnError!==!1&&(c.current="cache",d.current=P,f(P));throw O}},[f,h,x,d,c]);return(0,g.useEffect)(()=>{o!==Y&&(c.current="cache",d.current=o)},[o]),{data:p,isLoading:y.isLoading,error:y.error,mutate:u.current&&u.current.page>0?h:E,pagination:w,revalidate:m}}function Mt(t){if(t){let r=zt(t);if(!r)return!1;if(r.subtype==="json"||r.suffix==="json"||r.suffix&&/\bjson\b/i.test(r.suffix)||r.subtype&&/\bjson\b/i.test(r.subtype))return!0}return!1}var Nt=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function zt(t){let r=t.indexOf(";"),n=r!==-1?t.slice(0,r).trim():t.trim(),e=Nt.exec(n.toLowerCase().toLowerCase());if(!e)return;let a=e[1],s=e[2],i,c=s.lastIndexOf("+");return c!==-1&&(i=s.substring(c+1),s=s.substring(0,c)),{type:a,subtype:s,suffix:i}}async function Wt(t){if(!t.ok)throw new Error(t.statusText);let r=t.headers.get("content-type");return r&&Mt(r)?await t.json():await t.text()}function Vt(t){return{data:t,hasMore:!1}}function ie(t,r){let{parseResponse:n,mapResult:e,initialData:a,execute:s,keepPreviousData:i,onError:c,onData:o,onWillExecute:f,failureToastOptions:d,...u}=r||{},h={initialData:a,execute:s,keepPreviousData:i,onError:c,onData:o,onWillExecute:f,failureToastOptions:d},m=L(n||Wt),y=L(e||Vt),p=(0,g.useRef)(null),w=(0,g.useRef)(null),x=typeof t=="function"?t({page:0}):void 0;(!p.current||typeof w.current>"u"||w.current!==x)&&(p.current=t),w.current=x;let E=(0,g.useRef)(null),A=(0,g.useCallback)((O,F)=>async W=>{let V=await fetch(O(W),{signal:E.current?.signal,...F}),H=await m.current(V);return y.current?.(H)},[m,y]),$=(0,g.useCallback)(async(O,F)=>{let W=await fetch(O,{signal:E.current?.signal,...F}),V=await m.current(W);return y.current(V)?.data},[m,y]),P=(0,g.useMemo)(()=>w.current?A:$,[w,$,A]);return Dt(P,[p.current,u],{...h,internal_cacheKeySuffix:w.current+se(y.current)+se(m.current),abortable:E})}function ce(t,r){r===void 0&&(r=JSON.stringify);for(var n=[],e={},a=0;a<t.length;a++){var s=t[a],i=r(s);e[i]||(n.push(s),e[i]=!0)}return n}var j=require("@raycast/api"),le="npm-history",z=async()=>{let{historyCount:t}=(0,j.getPreferenceValues)(),r=await j.LocalStorage.getItem(le),n=JSON.parse(r??"[]"),e=ce(n);return e.length>Number(t)&&(e.length=Number(t)),e},ue=async t=>{let{historyCount:r}=(0,j.getPreferenceValues)(),n=await z(),e=[t,...n],a=[...new Set(e)];return a.length>Number(r)&&(a.length=Number(r)),await j.LocalStorage.setItem(le,JSON.stringify(a)),await z()},Ht=(t,r)=>{let n=0;for(;n<t.length;)t[n].term===r.term&&t[n].type===r.type?t.splice(n,1):++n;return t},fe=async t=>{let r=await z(),n=Ht(r,t);return await j.LocalStorage.setItem(le,JSON.stringify(n)),await z()},Ce=async()=>(await j.LocalStorage.setItem(le,JSON.stringify([])),await z());var Le=require("react");var Q=require("@raycast/api"),de="npm-faves",K=async()=>{let t=await Q.LocalStorage.getItem(de),r=JSON.parse(t??"[]");return ce(r)},Ie=async t=>{let r=await K(),n=[t,...r],e=[...new Set(n)];return await Q.LocalStorage.setItem(de,JSON.stringify(e)),await K()},jt=(t,r)=>{let n=0;for(;n<t.length;)t[n].name===r.name?t.splice(n,1):++n;return t},Ue=async t=>{let r=await K(),n=jt(r,t);return await Q.LocalStorage.setItem(de,JSON.stringify(n)),await K()},Oe=async()=>(await Q.LocalStorage.setItem(de,JSON.stringify([])),await K());var he=()=>{let[t,r]=X("favorites",[]),n=async()=>{let e=await K();r(e)};return(0,Le.useEffect)(()=>{n()},[]),[t,n]};var Fe=require("react"),I=require("@raycast/api");var J=require("react/jsx-runtime"),De=({item:t,setHistory:r,setSearchTerm:n})=>{let e=(0,Fe.useId)();return(0,J.jsx)(I.List.Item,{title:t.term,icon:t.type==="search"?I.Icon.MagnifyingGlass:I.Icon.Box,actions:(0,J.jsxs)(I.ActionPanel,{children:[(0,J.jsx)(I.Action,{title:"Search Package",onAction:()=>n(t.term),icon:I.Icon.MagnifyingGlass}),(0,J.jsx)(I.Action,{title:"Remove from History",onAction:async()=>{let a=await fe(t);r(a)},icon:I.Icon.XMarkCircle,style:I.Action.Style.Destructive}),(0,J.jsx)(I.Action,{title:"Clear All Items from History",shortcut:{macOS:{modifiers:["cmd"],key:"backspace"},Windows:{modifiers:["ctrl"],key:"backspace"}},onAction:async()=>{await Ce();let a=await z();r(a)},icon:I.Icon.XMarkCircleFilled,style:I.Action.Style.Destructive})]}),accessories:[{icon:I.Icon.ArrowRightCircle,tooltip:"Search for this package"}]},e)};var bt=Z(Be()),l=require("@raycast/api");var Ge=(t,r,n)=>t==="github"&&r&&n?`https://github.com/${r}/${n}/releases`:null;var ft=Z(lt());var ut=t=>{let r=t.startsWith("git+")?t.slice(4):t;return r=r.endsWith(".git")?r.slice(0,-4):r,r};var dt=t=>{let r={owner:null,name:null,type:void 0,repoUrl:void 0};if(!t)return r;try{try{let f=new URL(t);f.protocol="https:",t=f.toString()}catch{}let n=(0,ft.default)(t),e=ut(n.toString("https")),a=e.includes("github.com"),s=e.includes("gitlab.com"),i=n.owner,c=n.name;return{owner:i,name:c,type:a?"github":s?"gitlab":void 0,repoUrl:e}}catch{return r}};var mt=require("@raycast/api");var ge=require("@raycast/api");var ht=(t,r)=>{let n=`https://api.github.com/repos/${t}/${r}/readme`,{data:e,isLoading:a,revalidate:s,error:i}=ie(n,{parseResponse:async c=>{if(c.status===404)throw new Error(`No README found for ${t}/${r}`);if(!c.ok)throw new Error(`Failed to fetch README for ${t}/${r}`);let{content:o}=await c.json();return Buffer.from(o,"base64").toString()},initialData:"Loading README...",onError:c=>{(0,ge.showToast)({style:ge.Toast.Style.Failure,title:`Could not load README for ${t}/${r}`,message:String(c)})}});return{isLoading:a,data:e,revalidate:s,error:i}};var gt=require("react/jsx-runtime"),pt=({user:t,repo:r})=>{let{data:n,isLoading:e}=ht(t,r);return(0,gt.jsx)(mt.Detail,{markdown:n,isLoading:e})};var ye=require("@raycast/api"),ee=require("react/jsx-runtime"),kr=[{name:"Yarn",registry:"yarn",installCommand:"add"},{name:"npm",registry:"npm",installCommand:"install"},{name:"pnpm",registry:"pnpm",installCommand:"install"},{name:"bun",registry:"bun",installCommand:"add"}],vr={macOS:{key:"c",modifiers:["shift","cmd"]},Windows:{key:"c",modifiers:["shift","ctrl"]}},xr={macOS:{key:"c",modifiers:["opt","cmd"]},Windows:{key:"c",modifiers:["alt","ctrl"]}},yt=({packageName:t})=>{let{defaultCopyAction:r,secondaryCopyAction:n}=(0,ye.getPreferenceValues)(),e=kr.sort(a=>{let s=r===a.registry,i=n===a.registry;return s?-1:i?0:1}).map(({name:a,registry:s,installCommand:i})=>{let c=r===s,o=n===s,f=`Copy ${a} Install Command`,d=c?vr:o?xr:void 0;return(0,ee.jsx)(ye.Action.CopyToClipboard,{title:f,content:`${s} ${i} ${t}`,shortcut:d},s)});return(0,ee.jsx)(ee.Fragment,{children:e})};var G=require("@raycast/api");var B=require("react/jsx-runtime");function ke(){let[t,r]=he();return(0,B.jsx)(G.List,{searchBarPlaceholder:"Filter your favorite packages\u2026",children:t?.length?(0,B.jsx)(G.List.Section,{title:"Favorites",subtitle:t.length.toString(),children:t.map(n=>(0,B.jsx)(te,{result:n,isFavorited:t.findIndex(e=>e.name===n.name)!==-1,handleFaveChange:r,isViewingFavorites:!0},n.name))}):(0,B.jsx)(G.List.EmptyView,{title:"No favorites yet. Search for a package to add it to your favorites.",actions:(0,B.jsx)(G.ActionPanel,{children:(0,B.jsx)(G.Action.Push,{title:"Search npm",target:(0,B.jsx)(be,{})})})})})}var k=require("react/jsx-runtime"),te=({result:t,setHistory:r,isFavorited:n,handleFaveChange:e,isViewingFavorites:a,isHistoryItem:s})=>{let{defaultOpenAction:i,historyCount:c}=(0,l.getPreferenceValues)(),o=t,{owner:f,name:d,type:u,repoUrl:h}=dt(o.links?.repository),m=Ge(u,f,d),y=async()=>{let P=await ue({term:o.name,type:"package",package:t});Number(c)<=0||(r?.(P),(0,l.showToast)(l.Toast.Style.Success,`Added ${t.name} to history`))},p=async()=>{await Ie(t),(0,l.showToast)(l.Toast.Style.Success,`Added ${t.name} to faves`),e?.()},w=async()=>{await Ue(t),(0,l.showToast)(l.Toast.Style.Success,`Removed ${t.name} from faves`),e?.()},x=async()=>{await Oe(),(0,l.showToast)(l.Toast.Style.Success,`Removed ${t.name} from faves`),e?.()},E={openRepository:h?(0,k.jsx)(l.Action.OpenInBrowser,{url:h,title:"Open Repository",onOpen:y},"openRepository"):null,openHomepage:o.links?.homepage&&o.links.homepage!==h?(0,k.jsx)(l.Action.OpenInBrowser,{url:o.links.homepage,title:"Open Homepage",icon:l.Icon.Link,onOpen:y},"openHomepage"):null,npmPackagePage:(0,k.jsx)(l.Action.OpenInBrowser,{url:o.links.npm,title:"Open npm Package Page",icon:{source:"command-icon.png"},onOpen:y,shortcut:l.Keyboard.Shortcut.Common.Open},"npmPackagePage"),changelogPackagePage:m?(0,k.jsx)(l.Action.OpenInBrowser,{url:m,title:"Open Changelog"},"openChangelog"):null,skypackPackagePage:(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://www.skypack.dev/view/${o.name}`,title:"Skypack Package Page",onOpen:y},"skypackPackagePage"),npmxPackagePage:(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://npmx.dev/package/${o.name}`,title:"Open npmx Package Page",icon:{source:"npmx.png"},onOpen:y},"npmxPackagePage")},A=Array.isArray(o.keywords)?o.keywords:typeof o.keywords=="string"?[o.keywords]:[],$=[A?.length?{icon:l.Icon.Tag,tooltip:A.join(", ")}:{}];return a||($.push({text:`v${o.version}`,tooltip:"Latest version"},{icon:l.Icon.Calendar,tooltip:`Last updated: ${(0,bt.default)(new Date(o.date))}`}),n&&$.push({icon:l.Icon.Star})),(0,k.jsx)(l.List.Item,{id:o.name,title:o.name,subtitle:o.description,icon:l.Icon.Box,accessories:$,keywords:A,actions:(0,k.jsxs)(l.ActionPanel,{children:[(0,k.jsx)(l.ActionPanel.Section,{title:"Links",children:Object.entries(E).sort(([P])=>P===i?-1:0).map(([,P])=>P||null).filter(Boolean)}),(0,k.jsxs)(l.ActionPanel.Section,{title:"Actions",children:[n?(0,k.jsx)(l.Action,{title:"Remove from Favorites",onAction:w,icon:l.Icon.StarDisabled,shortcut:{macOS:{modifiers:["cmd","shift"],key:"s"},Windows:{modifiers:["ctrl","shift"],key:"s"}},style:l.Action.Style.Destructive}):(0,k.jsx)(l.Action,{title:"Add to Favorites",onAction:p,icon:l.Icon.Star,shortcut:{macOS:{modifiers:["cmd","shift"],key:"s"},Windows:{modifiers:["ctrl","shift"],key:"s"}}}),a?(0,k.jsx)(l.Action,{title:"Remove All Favorites",onAction:x,icon:l.Icon.Trash,shortcut:{macOS:{modifiers:["cmd","shift"],key:"backspace"},Windows:{modifiers:["ctrl","shift"],key:"backspace"}},style:l.Action.Style.Destructive}):(0,k.jsx)(l.Action.Push,{title:"View Favorites",target:(0,k.jsx)(ke,{}),icon:l.Icon.ArrowRight}),s&&(0,k.jsx)(l.Action,{title:"Remove from History",onAction:async()=>{let P=await fe({term:o.name,type:"package"});r?.(P)},icon:l.Icon.XMarkCircle,style:l.Action.Style.Destructive})]}),(0,k.jsxs)(l.ActionPanel.Section,{title:"Info",children:[u==="github"&&f&&d?(0,k.jsx)(l.Action.Push,{title:"View Readme",target:(0,k.jsx)(pt,{user:f,repo:d}),icon:l.Icon.Paragraph}):null,(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://bundlephobia.com/package/${o.name}`,title:"Open Bundlephobia",icon:l.Icon.LevelMeter,shortcut:{macOS:{modifiers:["cmd","shift"],key:"enter"},Windows:{modifiers:["ctrl","shift"],key:"enter"}}}),(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://esm.sh/${o.name}`,title:"Open Esm.sh URL",icon:l.Icon.Cloud,shortcut:{macOS:{modifiers:["cmd","shift"],key:"e"},Windows:{modifiers:["ctrl","shift"],key:"e"}}}),h&&u==="github"?(0,k.jsx)(l.Action.OpenInBrowser,{url:h.replace("github.com","github.dev"),title:"View Code in Github.dev",icon:{source:{light:"github-bright.png",dark:"github-dark.png"}},shortcut:{macOS:{modifiers:["cmd"],key:"."},Windows:{modifiers:["ctrl"],key:"."}}}):null,u==="github"||u==="gitlab"&&f&&d?(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://codesandbox.io/s/${u==="github"?"github":"gitlab"}/${f}/${d}`,title:"View in Codesandbox",icon:{source:{light:"codesandbox-bright.png",dark:"codesandbox-dark.png"}}}):null,(0,k.jsx)(l.Action.OpenInBrowser,{url:`https://snyk.io/vuln/npm:${o.name}`,title:"Open Snyk Vulnerability Check",icon:{source:{light:"snyk-bright.png",dark:"snyk-dark.png"}}})]}),(0,k.jsxs)(l.ActionPanel.Section,{title:"Copy",children:[(0,k.jsx)(yt,{packageName:o.name}),(0,k.jsx)(l.Action.CopyToClipboard,{title:"Copy Package Name",content:o.name}),(0,k.jsx)(l.Action.CopyToClipboard,{title:"Copy Version",content:o.version})]})]})},o.name)};var _=require("react/jsx-runtime"),Sr="https://registry.npmjs.org/-/v1/search?text=";function be(){let[t,r]=(0,re.useState)(""),[n,e]=X("history",[]),[a,s]=he(),{historyCount:i,showLinkToSearchResultsInListView:c}=(0,C.getPreferenceValues)(),{isLoading:o,data:f,revalidate:d}=ie(`${Sr}${t.replace(/\s/g,"+")}`,{execute:!!t,onError:h=>{t&&(console.error(h),(0,C.showToast)(C.Toast.Style.Failure,"Could not fetch packages"))},parseResponse:async h=>(await h.json()).objects,keepPreviousData:!0}),u=xe(async h=>{let m=await ue({term:h,type:"search"});e(m)},600,{debounceOnServer:!0});return(0,re.useEffect)(()=>{t?u(t):d()},[t]),(0,re.useEffect)(()=>{async function h(){let m=await z();e(m)}h()},[]),(0,_.jsx)(C.List,{searchText:t,isLoading:o,searchBarPlaceholder:'Search packages, like "promises"\u2026',onSearchTextChange:r,children:t?(0,_.jsx)(_.Fragment,{children:f?.length?(0,_.jsxs)(_.Fragment,{children:[c?(0,_.jsx)(C.List.Item,{title:`View search results for "${t}" on npmjs.com`,icon:C.Icon.MagnifyingGlass,actions:(0,_.jsx)(C.ActionPanel,{children:(0,_.jsx)(C.Action.OpenInBrowser,{url:`https://www.npmjs.com/search?q=${t}`,title:"View npm Search Results"})})}):null,(0,_.jsx)(C.List.Section,{title:"Results",subtitle:f.length.toString(),children:f.map(h=>h.package.name?(0,_.jsx)(te,{result:h.package,searchTerm:t,setHistory:e,isFavorited:a.findIndex(m=>m.name===h.package.name)!==-1,handleFaveChange:s},`search-${h.package.name}`):null)})]}):null}):(0,_.jsx)(_.Fragment,{children:Number(i)>0?n.length?(0,_.jsx)(C.List.Section,{title:"History",children:n.map(h=>{if(h.type==="package"&&h?.package?.name){let m=h.package.name;return(0,_.jsx)(te,{result:h.package,searchTerm:t,setHistory:e,isFavorited:a.findIndex(y=>y.name===m)!==-1,handleFaveChange:s,isHistoryItem:!0},`history-${m}`)}return(0,_.jsx)(De,{item:h,setHistory:e,setSearchTerm:r},`history-${h.term}-${h.type}`)})}):(0,_.jsx)(C.List.EmptyView,{title:"Type something to get started"}):null})})}
/*! Bundled license information:

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
