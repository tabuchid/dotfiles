"use strict";var yO=Object.create;var $i=Object.defineProperty;var _O=Object.getOwnPropertyDescriptor;var vO=Object.getOwnPropertyNames;var EO=Object.getPrototypeOf,bO=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),et=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},ym=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vO(t))!bO.call(e,s)&&s!==r&&$i(e,s,{get:()=>t[s],enumerable:!(n=_O(t,s))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?yO(EO(e)):{},ym(t||!e||!e.__esModule?$i(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>ym($i({},"__esModule",{value:!0}),e);var lt=E((z7,Am)=>{var Li=Object.defineProperty,wO=Object.getOwnPropertyDescriptor,xO=Object.getOwnPropertyNames,TO=Object.prototype.hasOwnProperty,Ui=(e,t)=>Li(e,"name",{value:t,configurable:!0}),CO=(e,t)=>{for(var r in t)Li(e,r,{get:t[r],enumerable:!0})},AO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xO(t))!TO.call(e,s)&&s!==r&&Li(e,s,{get:()=>t[s],enumerable:!(n=wO(t,s))||n.enumerable});return e},RO=e=>AO(Li({},"__esModule",{value:!0}),e),_m={};CO(_m,{AlgorithmId:()=>wm,EndpointURLScheme:()=>bm,FieldPosition:()=>xm,HttpApiKeyAuthLocation:()=>Em,HttpAuthLocation:()=>vm,IniSectionType:()=>Tm,RequestHandlerProtocol:()=>Cm,SMITHY_CONTEXT_KEY:()=>DO,getDefaultClientConfiguration:()=>OO,resolveDefaultRuntimeConfig:()=>NO});Am.exports=RO(_m);var vm=(e=>(e.HEADER="header",e.QUERY="query",e))(vm||{}),Em=(e=>(e.HEADER="header",e.QUERY="query",e))(Em||{}),bm=(e=>(e.HTTP="http",e.HTTPS="https",e))(bm||{}),wm=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(wm||{}),PO=Ui(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),IO=Ui(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),OO=Ui(e=>PO(e),"getDefaultClientConfiguration"),NO=Ui(e=>IO(e),"resolveDefaultRuntimeConfig"),xm=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(xm||{}),DO="__smithy_context",Tm=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Tm||{}),Cm=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Cm||{})});var te=E((q7,Nm)=>{var ji=Object.defineProperty,kO=Object.getOwnPropertyDescriptor,MO=Object.getOwnPropertyNames,FO=Object.prototype.hasOwnProperty,Gt=(e,t)=>ji(e,"name",{value:t,configurable:!0}),$O=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},LO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MO(t))!FO.call(e,s)&&s!==r&&ji(e,s,{get:()=>t[s],enumerable:!(n=kO(t,s))||n.enumerable});return e},UO=e=>LO(ji({},"__esModule",{value:!0}),e),Rm={};$O(Rm,{Field:()=>VO,Fields:()=>zO,HttpRequest:()=>qO,HttpResponse:()=>BO,IHttpRequest:()=>Pm.HttpRequest,getHttpHandlerExtensionConfiguration:()=>jO,isValidHostname:()=>Om,resolveHttpHandlerRuntimeConfig:()=>HO});Nm.exports=UO(Rm);var jO=Gt(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),HO=Gt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Pm=lt(),VO=class{static{Gt(this,"Field")}constructor({name:e,kind:t=Pm.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},zO=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Gt(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},qO=class wd{static{Gt(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new wd({...t,headers:{...t.headers}});return r.query&&(r.query=Im(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return wd.clone(this)}};function Im(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Gt(Im,"cloneQuery");var BO=class{static{Gt(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Om(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Gt(Om,"isValidHostname")});var rs=E((K7,$m)=>{"use strict";var Vi=Object.defineProperty,WO=Object.getOwnPropertyDescriptor,GO=Object.getOwnPropertyNames,KO=Object.prototype.hasOwnProperty,Hi=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),JO=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},YO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GO(t))!KO.call(e,s)&&s!==r&&Vi(e,s,{get:()=>t[s],enumerable:!(n=WO(t,s))||n.enumerable});return e},XO=e=>YO(Vi({},"__esModule",{value:!0}),e),Dm={};JO(Dm,{getHostHeaderPlugin:()=>ZO,hostHeaderMiddleware:()=>Mm,hostHeaderMiddlewareOptions:()=>Fm,resolveHostHeaderConfig:()=>km});$m.exports=XO(Dm);var QO=te();function km(e){return e}Hi(km,"resolveHostHeaderConfig");var Mm=Hi(e=>t=>async r=>{if(!QO.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),Fm={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZO=Hi(e=>({applyToStack:Hi(t=>{t.add(Mm(e),Fm)},"applyToStack")}),"getHostHeaderPlugin")});var ns=E((J7,Hm)=>{"use strict";var zi=Object.defineProperty,eN=Object.getOwnPropertyDescriptor,tN=Object.getOwnPropertyNames,rN=Object.prototype.hasOwnProperty,xd=(e,t)=>zi(e,"name",{value:t,configurable:!0}),nN=(e,t)=>{for(var r in t)zi(e,r,{get:t[r],enumerable:!0})},sN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tN(t))!rN.call(e,s)&&s!==r&&zi(e,s,{get:()=>t[s],enumerable:!(n=eN(t,s))||n.enumerable});return e},iN=e=>sN(zi({},"__esModule",{value:!0}),e),Lm={};nN(Lm,{getLoggerPlugin:()=>oN,loggerMiddleware:()=>Um,loggerMiddlewareOptions:()=>jm});Hm.exports=iN(Lm);var Um=xd(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??t.inputFilterSensitiveLog,p=l??t.outputFilterSensitiveLog,{$metadata:m,...h}=n.output;return o?.info?.({clientName:s,commandName:i,input:u(r.input),output:p(h),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),jm={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},oN=xd(e=>({applyToStack:xd(t=>{t.add(Um(),jm)},"applyToStack")}),"getLoggerPlugin")});var ss=E((Y7,Bm)=>{"use strict";var Bi=Object.defineProperty,aN=Object.getOwnPropertyDescriptor,cN=Object.getOwnPropertyNames,dN=Object.prototype.hasOwnProperty,qi=(e,t)=>Bi(e,"name",{value:t,configurable:!0}),lN=(e,t)=>{for(var r in t)Bi(e,r,{get:t[r],enumerable:!0})},uN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cN(t))!dN.call(e,s)&&s!==r&&Bi(e,s,{get:()=>t[s],enumerable:!(n=aN(t,s))||n.enumerable});return e},pN=e=>uN(Bi({},"__esModule",{value:!0}),e),Vm={};lN(Vm,{addRecursionDetectionMiddlewareOptions:()=>qm,getRecursionDetectionPlugin:()=>gN,recursionDetectionMiddleware:()=>zm});Bm.exports=pN(Vm);var fN=te(),Td="X-Amzn-Trace-Id",mN="AWS_LAMBDA_FUNCTION_NAME",hN="_X_AMZN_TRACE_ID",zm=qi(e=>t=>async r=>{let{request:n}=r;if(!fN.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===Td.toLowerCase())??Td;if(n.headers.hasOwnProperty(s))return t(r);let i=process.env[mN],o=process.env[hN],a=qi(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(i)&&a(o)&&(n.headers[Td]=o),t({...r,request:n})},"recursionDetectionMiddleware"),qm={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},gN=qi(e=>({applyToStack:qi(t=>{t.add(zm(e),qm)},"applyToStack")}),"getRecursionDetectionPlugin")});var Cd,SN,Wm=y(()=>{Cd=v(lt()),SN=e=>e[Cd.SMITHY_CONTEXT_KEY]||(e[Cd.SMITHY_CONTEXT_KEY]={})});var tt=E((Q7,Ym)=>{var Wi=Object.defineProperty,yN=Object.getOwnPropertyDescriptor,_N=Object.getOwnPropertyNames,vN=Object.prototype.hasOwnProperty,Km=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),EN=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},bN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _N(t))!vN.call(e,s)&&s!==r&&Wi(e,s,{get:()=>t[s],enumerable:!(n=yN(t,s))||n.enumerable});return e},wN=e=>bN(Wi({},"__esModule",{value:!0}),e),Jm={};EN(Jm,{getSmithyContext:()=>xN,normalizeProvider:()=>TN});Ym.exports=wN(Jm);var Gm=lt(),xN=Km(e=>e[Gm.SMITHY_CONTEXT_KEY]||(e[Gm.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),TN=Km(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Xm,Qm=y(()=>{Xm=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function CN(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var e9,Zm,is,Gi=y(()=>{e9=v(lt()),Zm=v(tt());Qm();is=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=Xm(i,o),c=CN(e.httpAuthSchemes),l=(0,Zm.getSmithyContext)(n),u=[];for(let p of a){let m=c.get(p.schemeId);if(!m){u.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let h=m.identityProvider(await t.identityProviderConfigProvider(e));if(!h){u.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:g={}}=p.propertiesExtractor?.(e,n)||{};p.identityProperties=Object.assign(p.identityProperties||{},S),p.signingProperties=Object.assign(p.signingProperties||{},g),l.selectedHttpAuthScheme={httpAuthOption:p,identity:await h(p.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(s)}});var eh,os,th=y(()=>{Gi();eh={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},os=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(is(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),eh)}})});var Kt=E((o9,ch)=>{var Ki=Object.defineProperty,AN=Object.getOwnPropertyDescriptor,RN=Object.getOwnPropertyNames,PN=Object.prototype.hasOwnProperty,Ji=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),IN=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},ON=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RN(t))!PN.call(e,s)&&s!==r&&Ki(e,s,{get:()=>t[s],enumerable:!(n=AN(t,s))||n.enumerable});return e},NN=e=>ON(Ki({},"__esModule",{value:!0}),e),rh={};IN(rh,{deserializerMiddleware:()=>nh,deserializerMiddlewareOption:()=>ih,getSerdePlugin:()=>ah,serializerMiddleware:()=>sh,serializerMiddlewareOption:()=>oh});ch.exports=NN(rh);var DN=te(),nh=Ji((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(DN.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:Ad(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Ad(/^x-[\w-]+-id-2$/,l),cfId:Ad(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},"deserializerMiddleware"),Ad=Ji((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),sh=Ji((e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},"serializerMiddleware"),ih={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},oh={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ah(e,t,r){return{applyToStack:n=>{n.add(nh(e,r),ih),n.add(sh(e,t),oh)}}}Ji(ah,"getSerdePlugin")});var dh,lh,kN,uh=y(()=>{dh=v(Kt());Gi();lh={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:dh.serializerMiddlewareOption.name},kN=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(is(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),lh)}})});var ph=y(()=>{Gi();th();uh()});var fh,f9,mh,MN,FN,Rd,Pd=y(()=>{fh=v(te()),f9=v(lt()),mh=v(tt()),MN=e=>t=>{throw t},FN=(e,t)=>{},Rd=e=>(t,r)=>async n=>{if(!fh.HttpRequest.isInstance(n.request))return t(n);let i=(0,mh.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||MN)(o));return(c.successHandler||FN)(l.response,o),l}});var hh,as,gh=y(()=>{Pd();hh={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},as=e=>({applyToStack:t=>{t.addRelativeTo(Rd(e),hh)}})});var Sh=y(()=>{Pd();gh()});var Jt,yh=y(()=>{Jt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function _h(e,t,r,n,s){return async function*(o,a,...c){let l=a,u=o.startingToken??l[r],p=!0,m;for(;p;){if(l[r]=u,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)m=await $N(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let h=u;u=LN(m,n),p=!!(u&&(!o.stopOnSameToken||u!==h))}return void 0}}var $N,LN,vh=y(()=>{$N=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};LN=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Id=E((w9,bh)=>{var Yi=Object.defineProperty,UN=Object.getOwnPropertyDescriptor,jN=Object.getOwnPropertyNames,HN=Object.prototype.hasOwnProperty,VN=(e,t)=>Yi(e,"name",{value:t,configurable:!0}),zN=(e,t)=>{for(var r in t)Yi(e,r,{get:t[r],enumerable:!0})},qN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jN(t))!HN.call(e,s)&&s!==r&&Yi(e,s,{get:()=>t[s],enumerable:!(n=UN(t,s))||n.enumerable});return e},BN=e=>qN(Yi({},"__esModule",{value:!0}),e),Eh={};zN(Eh,{isArrayBuffer:()=>WN});bh.exports=BN(Eh);var WN=VN(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var on=E((x9,Th)=>{var Xi=Object.defineProperty,GN=Object.getOwnPropertyDescriptor,KN=Object.getOwnPropertyNames,JN=Object.prototype.hasOwnProperty,wh=(e,t)=>Xi(e,"name",{value:t,configurable:!0}),YN=(e,t)=>{for(var r in t)Xi(e,r,{get:t[r],enumerable:!0})},XN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KN(t))!JN.call(e,s)&&s!==r&&Xi(e,s,{get:()=>t[s],enumerable:!(n=GN(t,s))||n.enumerable});return e},QN=e=>XN(Xi({},"__esModule",{value:!0}),e),xh={};YN(xh,{fromArrayBuffer:()=>eD,fromString:()=>tD});Th.exports=QN(xh);var ZN=Id(),Od=require("buffer"),eD=wh((e,t=0,r=e.byteLength-t)=>{if(!(0,ZN.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Od.Buffer.from(e,t,r)},"fromArrayBuffer"),tD=wh((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Od.Buffer.from(e,t):Od.Buffer.from(e)},"fromString")});var Ch=E(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.fromBase64=void 0;var rD=on(),nD=/^[A-Za-z0-9+/]*={0,2}$/,sD=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!nD.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,rD.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Qi.fromBase64=sD});var ge=E((C9,Ih)=>{var Zi=Object.defineProperty,iD=Object.getOwnPropertyDescriptor,oD=Object.getOwnPropertyNames,aD=Object.prototype.hasOwnProperty,Nd=(e,t)=>Zi(e,"name",{value:t,configurable:!0}),cD=(e,t)=>{for(var r in t)Zi(e,r,{get:t[r],enumerable:!0})},dD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oD(t))!aD.call(e,s)&&s!==r&&Zi(e,s,{get:()=>t[s],enumerable:!(n=iD(t,s))||n.enumerable});return e},lD=e=>dD(Zi({},"__esModule",{value:!0}),e),Ah={};cD(Ah,{fromUtf8:()=>Ph,toUint8Array:()=>uD,toUtf8:()=>pD});Ih.exports=lD(Ah);var Rh=on(),Ph=Nd(e=>{let t=(0,Rh.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),uD=Nd(e=>typeof e=="string"?Ph(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),pD=Nd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Rh.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Oh=E(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.toBase64=void 0;var fD=on(),mD=ge(),hD=e=>{let t;if(typeof e=="string"?t=(0,mD.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,fD.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};eo.toBase64=hD});var Te=E((R9,to)=>{var Nh=Object.defineProperty,gD=Object.getOwnPropertyDescriptor,SD=Object.getOwnPropertyNames,yD=Object.prototype.hasOwnProperty,Dd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of SD(t))!yD.call(e,s)&&s!==r&&Nh(e,s,{get:()=>t[s],enumerable:!(n=gD(t,s))||n.enumerable});return e},Dh=(e,t,r)=>(Dd(e,t,"default"),r&&Dd(r,t,"default")),_D=e=>Dd(Nh({},"__esModule",{value:!0}),e),kd={};to.exports=_D(kd);Dh(kd,Ch(),to.exports);Dh(kd,Oh(),to.exports)});var Fd=E(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.ChecksumStream=void 0;var vD=Te(),ED=require("stream"),Md=class extends ED.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=i??vD.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};ro.ChecksumStream=Md});var Yt=E(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.isBlob=an.isReadableStream=void 0;var bD=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};an.isReadableStream=bD;var wD=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};an.isBlob=wD});var kh=E(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ChecksumStream=void 0;var xD=typeof ReadableStream=="function"?ReadableStream:function(){},$d=class extends xD{};no.ChecksumStream=$d});var Mh=E(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.createChecksumStream=void 0;var TD=Te(),CD=Yt(),AD=kh(),RD=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var i,o;if(!(0,CD.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=s??TD.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(u,p){t.update(u),p.enqueue(u)},async flush(u){let p=await t.digest(),m=a(p);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);u.error(h)}else u.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,AD.ChecksumStream.prototype),l};so.createChecksumStream=RD});var Fh=E(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.createChecksumStream=ND;var PD=Yt(),ID=Fd(),OD=Mh();function ND(e){return typeof ReadableStream=="function"&&(0,PD.isReadableStream)(e.source)?(0,OD.createChecksumStream)(e):new ID.ChecksumStream(e)}});var jd=E(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ByteArrayCollector=void 0;var Ud=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};io.ByteArrayCollector=Ud});var jh=E(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createBufferedReadable=void 0;Pt.createBufferedReadableStream=$h;Pt.merge=Lh;Pt.flush=oo;Pt.sizeOf=cn;Pt.modeOf=Uh;var DD=jd();function $h(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new DD.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:u,done:p}=await n.read(),m=u;if(p){if(a!==-1){let h=oo(o,a);cn(h)>0&&l.enqueue(h)}l.close()}else{let h=Uh(m,!1);if(a!==h&&(a>=0&&l.enqueue(oo(o,a)),a=h),a===-1){l.enqueue(m);return}let S=cn(m);i+=S;let g=cn(o[a]);if(S>=t&&g===0)l.enqueue(m);else{let _=Lh(o,a,m);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),_>=t?l.enqueue(oo(o,a)):await c(l)}}};return new ReadableStream({pull:c})}Pt.createBufferedReadable=$h;function Lh(e,t,r){switch(t){case 0:return e[0]+=r,cn(e[0]);case 1:case 2:return e[t].push(r),cn(e[t])}}function oo(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function cn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function Uh(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Vh=E(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.createBufferedReadable=FD;var kD=require("node:stream"),Hh=jd(),It=jh(),MD=Yt();function FD(e,t,r){if((0,MD.isReadableStream)(e))return(0,It.createBufferedReadableStream)(e,t,r);let n=new kD.Readable({read(){}}),s=!1,i=0,o=["",new Hh.ByteArrayCollector(c=>new Uint8Array(c)),new Hh.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,It.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,It.flush)(o,a)),a=l),a===-1){n.push(c);return}let u=(0,It.sizeOf)(c);i+=u;let p=(0,It.sizeOf)(o[a]);if(u>=t&&p===0)n.push(c);else{let m=(0,It.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,It.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,It.flush)(o,a);(0,It.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var zh=E(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.getAwsChunkedEncodingStream=void 0;var $D=require("stream"),LD=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new $D.Readable({read:()=>{}});return e.on("data",u=>{let p=n(u)||0;l.push(`${p.toString(16)}\r
`),l.push(u),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let u=r(await c);l.push(`${i}:${u}\r
`),l.push(`\r
`)}l.push(null)}),l};ao.getAwsChunkedEncodingStream=LD});var qh=E(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.headStream=UD;async function UD(e,t){var r;let n=0,s=[],i=e.getReader(),o=!1;for(;!o;){let{done:l,value:u}=await i.read();if(u&&(s.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;o=l}i.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of s){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var Bh=E(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.headStream=void 0;var jD=require("stream"),HD=qh(),VD=Yt(),zD=(e,t)=>(0,VD.isReadableStream)(e)?(0,HD.headStream)(e,t):new Promise((r,n)=>{let s=new zd;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});co.headStream=zD;var zd=class extends jD.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-i),this.emit("finish")}n()}}});var Bd=E((j9,Kh)=>{var lo=Object.defineProperty,qD=Object.getOwnPropertyDescriptor,BD=Object.getOwnPropertyNames,WD=Object.prototype.hasOwnProperty,qd=(e,t)=>lo(e,"name",{value:t,configurable:!0}),GD=(e,t)=>{for(var r in t)lo(e,r,{get:t[r],enumerable:!0})},KD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BD(t))!WD.call(e,s)&&s!==r&&lo(e,s,{get:()=>t[s],enumerable:!(n=qD(t,s))||n.enumerable});return e},JD=e=>KD(lo({},"__esModule",{value:!0}),e),Wh={};GD(Wh,{escapeUri:()=>Gh,escapeUriPath:()=>XD});Kh.exports=JD(Wh);var Gh=qd(e=>encodeURIComponent(e).replace(/[!'()*]/g,YD),"escapeUri"),YD=qd(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),XD=qd(e=>e.split("/").map(Gh).join("/"),"escapeUriPath")});var Gd=E((H9,Xh)=>{var uo=Object.defineProperty,QD=Object.getOwnPropertyDescriptor,ZD=Object.getOwnPropertyNames,e1=Object.prototype.hasOwnProperty,t1=(e,t)=>uo(e,"name",{value:t,configurable:!0}),r1=(e,t)=>{for(var r in t)uo(e,r,{get:t[r],enumerable:!0})},n1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ZD(t))!e1.call(e,s)&&s!==r&&uo(e,s,{get:()=>t[s],enumerable:!(n=QD(t,s))||n.enumerable});return e},s1=e=>n1(uo({},"__esModule",{value:!0}),e),Jh={};r1(Jh,{buildQueryString:()=>Yh});Xh.exports=s1(Jh);var Wd=Bd();function Yh(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Wd.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,Wd.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Wd.escapeUri)(n)}`),t.push(s)}}return t.join("&")}t1(Yh,"buildQueryString")});var Cr=E((V9,pg)=>{var i1=Object.create,cs=Object.defineProperty,o1=Object.getOwnPropertyDescriptor,a1=Object.getOwnPropertyNames,c1=Object.getPrototypeOf,d1=Object.prototype.hasOwnProperty,Q=(e,t)=>cs(e,"name",{value:t,configurable:!0}),l1=(e,t)=>{for(var r in t)cs(e,r,{get:t[r],enumerable:!0})},rg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of a1(t))!d1.call(e,s)&&s!==r&&cs(e,s,{get:()=>t[s],enumerable:!(n=o1(t,s))||n.enumerable});return e},u1=(e,t,r)=>(r=e!=null?i1(c1(e)):{},rg(t||!e||!e.__esModule?cs(r,"default",{value:e,enumerable:!0}):r,e)),p1=e=>rg(cs({},"__esModule",{value:!0}),e),ng={};l1(ng,{DEFAULT_REQUEST_TIMEOUT:()=>dg,NodeHttp2Handler:()=>b1,NodeHttpHandler:()=>y1,streamCollector:()=>x1});pg.exports=p1(ng);var sg=te(),ig=Gd(),Kd=require("http"),Jd=require("https"),f1=["ECONNRESET","EPIPE","ETIMEDOUT"],og=Q(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Ie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Qh=1e3,m1=Q((e,t,r=0)=>{if(!r)return-1;let n=Q(s=>{let i=Ie.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),o=Q(a=>{a?.connecting?a.on("connect",()=>{Ie.clearTimeout(i)}):Ie.clearTimeout(i)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):Ie.setTimeout(n.bind(null,Qh),Qh)},"setConnectionTimeout"),h1=3e3,g1=Q((e,{keepAlive:t,keepAliveMsecs:r},n=h1)=>{if(t!==!0)return-1;let s=Q(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):Ie.setTimeout(s,n)},"setSocketKeepAlive"),Zh=3e3,S1=Q((e,t,r=dg)=>{let n=Q(s=>{let i=r-s,o=Q(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Ie.setTimeout(n.bind(null,r===0?0:Zh),Zh)},"setSocketTimeout"),ag=require("stream"),eg=6e3;async function Xd(e,t,r=eg){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Ie.setTimeout(()=>a(!0),Math.max(eg,r)))}),new Promise(a=>{e.on("continue",()=>{Ie.clearTimeout(i),a(!0)}),e.on("response",()=>{Ie.clearTimeout(i),a(!1)}),e.on("error",()=>{Ie.clearTimeout(i),a(!1)})})])),o&&cg(e,t.body)}Q(Xd,"writeRequestBody");function cg(e,t){if(t instanceof ag.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Q(cg,"writeBody");var dg=0,y1=class Yd{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{Q(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Yd(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,u=i[c]?.length??0;if(l>=o&&u>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:i,httpAgent:o instanceof Kd.Agent||typeof o?.destroy=="function"?o:new Kd.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof Jd.Agent||typeof a?.destroy=="function"?a:new Jd.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],c=Q(async P=>{await o,a.forEach(Ie.clearTimeout),s(P)},"resolve"),l=Q(async P=>{await o,a.forEach(Ie.clearTimeout),i(P)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let P=new Error("Request aborted");P.name="AbortError",l(P);return}let u=t.protocol==="https:",p=u?this.config.httpsAgent:this.config.httpAgent;a.push(Ie.setTimeout(()=>{this.socketWarningTimestamp=Yd.checkSocketUsage(p,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,ig.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let P=t.username??"",D=t.password??"";h=`${P}:${D}`}let S=t.path;m&&(S+=`?${m}`),t.fragment&&(S+=`#${t.fragment}`);let g=t.hostname??"";g[0]==="["&&g.endsWith("]")?g=t.hostname.slice(1,-1):g=t.hostname;let _={headers:t.headers,host:g,method:t.method,path:S,port:t.port,agent:p,auth:h},w=(u?Jd.request:Kd.request)(_,P=>{let D=new sg.HttpResponse({statusCode:P.statusCode||-1,reason:P.statusMessage,headers:og(P.headers),body:P});c({response:D})});if(w.on("error",P=>{f1.includes(P.code)?l(Object.assign(P,{name:"TimeoutError"})):l(P)}),r){let P=Q(()=>{w.destroy();let D=new Error("Request aborted");D.name="AbortError",l(D)},"onAbort");if(typeof r.addEventListener=="function"){let D=r;D.addEventListener("abort",P,{once:!0}),w.once("close",()=>D.removeEventListener("abort",P))}else r.onabort=P}let I=n??this.config.requestTimeout;a.push(m1(w,l,this.config.connectionTimeout)),a.push(S1(w,l,I));let T=_.agent;typeof T=="object"&&"keepAlive"in T&&a.push(g1(w,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs})),o=Xd(w,t,I).catch(P=>(a.forEach(Ie.clearTimeout),i(P)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},tg=require("http2"),_1=u1(require("http2")),v1=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{Q(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},E1=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Q(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=_1.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let i=Q(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,i);let o=this.sessionCache.get(r)||new v1;return o.offerLast(s),this.sessionCache.set(r,o),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},b1=class lg{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new E1({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{Q(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new lg(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,u,p=Q(async ee=>{await u,a(ee)},"resolve"),m=Q(async ee=>{await u,c(ee)},"reject");if(r?.aborted){l=!0;let ee=new Error("Request aborted");ee.name="AbortError",m(ee);return}let{hostname:h,method:S,port:g,protocol:_,query:b}=t,w="";if(t.username!=null||t.password!=null){let ee=t.username??"",ie=t.password??"";w=`${ee}:${ie}@`}let I=`${_}//${w}${h}${g?`:${g}`:""}`,T={destination:new URL(I)},P=this.connectionManager.lease(T,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),D=Q(ee=>{i&&this.destroySession(P),l=!0,m(ee)},"rejectWithDestroy"),be=(0,ig.buildQueryString)(b||{}),Z=t.path;be&&(Z+=`?${be}`),t.fragment&&(Z+=`#${t.fragment}`);let ue=P.request({...t.headers,[tg.constants.HTTP2_HEADER_PATH]:Z,[tg.constants.HTTP2_HEADER_METHOD]:S});if(P.ref(),ue.on("response",ee=>{let ie=new sg.HttpResponse({statusCode:ee[":status"]||-1,headers:og(ee),body:ue});l=!0,p({response:ie}),i&&(P.close(),this.connectionManager.deleteSession(I,P))}),o&&ue.setTimeout(o,()=>{ue.close();let ee=new Error(`Stream timed out because of no activity for ${o} ms`);ee.name="TimeoutError",D(ee)}),r){let ee=Q(()=>{ue.close();let ie=new Error("Request aborted");ie.name="AbortError",D(ie)},"onAbort");if(typeof r.addEventListener=="function"){let ie=r;ie.addEventListener("abort",ee,{once:!0}),ue.once("close",()=>ie.removeEventListener("abort",ee))}else r.onabort=ee}ue.on("frameError",(ee,ie,he)=>{D(new Error(`Frame type id ${ee} in stream id ${he} has failed with code ${ie}.`))}),ue.on("error",D),ue.on("aborted",()=>{D(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ue.rstCode}.`))}),ue.on("close",()=>{P.unref(),i&&P.destroy(),l||D(new Error("Unexpected error: http2 request did not get a response"))}),u=Xd(ue,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},w1=class extends ag.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Q(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},x1=Q(e=>T1(e)?ug(e):new Promise((t,r)=>{let n=new w1;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),T1=Q(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function ug(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Q(ug,"collectReadableStream")});var Eg=E((W9,vg)=>{var fo=Object.defineProperty,C1=Object.getOwnPropertyDescriptor,A1=Object.getOwnPropertyNames,R1=Object.prototype.hasOwnProperty,ut=(e,t)=>fo(e,"name",{value:t,configurable:!0}),P1=(e,t)=>{for(var r in t)fo(e,r,{get:t[r],enumerable:!0})},I1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A1(t))!R1.call(e,s)&&s!==r&&fo(e,s,{get:()=>t[s],enumerable:!(n=C1(t,s))||n.enumerable});return e},O1=e=>I1(fo({},"__esModule",{value:!0}),e),mg={};P1(mg,{FetchHttpHandler:()=>D1,keepAliveSupport:()=>po,streamCollector:()=>M1});vg.exports=O1(mg);var fg=te(),N1=Gd();function Qd(e,t){return new Request(e,t)}ut(Qd,"createRequest");function hg(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}ut(hg,"requestTimeout");var po={supported:void 0},D1=class gg{static{ut(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new gg(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),po.supported===void 0&&(po.supported=typeof Request<"u"&&"keepalive"in Qd("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,N1.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",I=t.password??"";l=`${w}:${I}@`}let{port:u,method:p}=t,m=`${t.protocol}//${l}${t.hostname}${u?`:${u}`:""}${a}`,h=p==="GET"||p==="HEAD"?void 0:t.body,S={body:h,headers:new Headers(t.headers),method:p,credentials:o};this.config?.cache&&(S.cache=this.config.cache),h&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),po.supported&&(S.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let g=ut(()=>{},"removeSignalEventListener"),_=Qd(m,S),b=[fetch(_).then(w=>{let I=w.headers,T={};for(let D of I.entries())T[D[0]]=D[1];return w.body!=null?{response:new fg.HttpResponse({headers:T,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(D=>({response:new fg.HttpResponse({headers:T,reason:w.statusText,statusCode:w.status,body:D})}))}),hg(s)];return r&&b.push(new Promise((w,I)=>{let T=ut(()=>{let P=new Error("Request aborted");P.name="AbortError",I(P)},"onAbort");if(typeof r.addEventListener=="function"){let P=r;P.addEventListener("abort",T,{once:!0}),g=ut(()=>P.removeEventListener("abort",T),"removeSignalEventListener")}else r.onabort=T})),Promise.race(b).finally(g)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},k1=Te(),M1=ut(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Sg(e):yg(e),"streamCollector");async function Sg(e){let t=await _g(e),r=(0,k1.fromBase64)(t);return new Uint8Array(r)}ut(Sg,"collectBlob");async function yg(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}ut(yg,"collectStream");function _g(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}ut(_g,"readToBase64")});var el=E((G9,Ag)=>{var mo=Object.defineProperty,F1=Object.getOwnPropertyDescriptor,$1=Object.getOwnPropertyNames,L1=Object.prototype.hasOwnProperty,bg=(e,t)=>mo(e,"name",{value:t,configurable:!0}),U1=(e,t)=>{for(var r in t)mo(e,r,{get:t[r],enumerable:!0})},j1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $1(t))!L1.call(e,s)&&s!==r&&mo(e,s,{get:()=>t[s],enumerable:!(n=F1(t,s))||n.enumerable});return e},H1=e=>j1(mo({},"__esModule",{value:!0}),e),wg={};U1(wg,{fromHex:()=>Tg,toHex:()=>Cg});Ag.exports=H1(wg);var xg={},Zd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),xg[e]=t,Zd[t]=e}function Tg(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Zd)t[r/2]=Zd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}bg(Tg,"fromHex");function Cg(e){let t="";for(let r=0;r<e.byteLength;r++)t+=xg[e[r]];return t}bg(Cg,"toHex")});var Og=E(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.sdkStreamMixin=void 0;var V1=Eg(),z1=Te(),q1=el(),B1=ge(),Rg=Yt(),Pg="The stream has already been transformed.",W1=e=>{var t,r;if(!Ig(e)&&!(0,Rg.isReadableStream)(e)){let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Pg);return n=!0,await(0,V1.streamCollector)(e)},i=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();if(o==="base64")return(0,z1.toBase64)(a);if(o==="hex")return(0,q1.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,B1.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Pg);if(n=!0,Ig(e))return i(e);if((0,Rg.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};ho.sdkStreamMixin=W1;var Ig=e=>typeof Blob=="function"&&e instanceof Blob});var Dg=E(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.sdkStreamMixin=void 0;var G1=Cr(),K1=on(),tl=require("stream"),J1=Og(),Ng="The stream has already been transformed.",Y1=e=>{var t,r;if(!(e instanceof tl.Readable))try{return(0,J1.sdkStreamMixin)(e)}catch{let o=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(Ng);return n=!0,await(0,G1.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let o=await s();return i===void 0||Buffer.isEncoding(i)?(0,K1.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(n)throw new Error(Ng);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof tl.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,tl.Readable.toWeb(e)}})};go.sdkStreamMixin=Y1});var kg=E(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.splitStream=X1;async function X1(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var $g=E(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.splitStream=Z1;var Mg=require("stream"),Q1=kg(),Fg=Yt();async function Z1(e){if((0,Fg.isReadableStream)(e)||(0,Fg.isBlob)(e))return(0,Q1.splitStream)(e);let t=new Mg.PassThrough,r=new Mg.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var yo=E((Q9,ft)=>{var So=Object.defineProperty,ek=Object.getOwnPropertyDescriptor,tk=Object.getOwnPropertyNames,rk=Object.prototype.hasOwnProperty,ol=(e,t)=>So(e,"name",{value:t,configurable:!0}),nk=(e,t)=>{for(var r in t)So(e,r,{get:t[r],enumerable:!0})},sl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tk(t))!rk.call(e,s)&&s!==r&&So(e,s,{get:()=>t[s],enumerable:!(n=ek(t,s))||n.enumerable});return e},Xt=(e,t,r)=>(sl(e,t,"default"),r&&sl(r,t,"default")),sk=e=>sl(So({},"__esModule",{value:!0}),e),pt={};nk(pt,{Uint8ArrayBlobAdapter:()=>il});ft.exports=sk(pt);var Lg=Te(),Ug=ge();function jg(e,t="utf-8"){return t==="base64"?(0,Lg.toBase64)(e):(0,Ug.toUtf8)(e)}ol(jg,"transformToString");function Hg(e,t){return t==="base64"?il.mutate((0,Lg.fromBase64)(e)):il.mutate((0,Ug.fromUtf8)(e))}ol(Hg,"transformFromString");var il=class Vg extends Uint8Array{static{ol(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Hg(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Vg.prototype),t}transformToString(t="utf-8"){return jg(this,t)}};Xt(pt,Fd(),ft.exports);Xt(pt,Fh(),ft.exports);Xt(pt,Vh(),ft.exports);Xt(pt,zh(),ft.exports);Xt(pt,Bh(),ft.exports);Xt(pt,Dg(),ft.exports);Xt(pt,$g(),ft.exports);Xt(pt,Yt(),ft.exports)});var _o,rt,vo=y(()=>{_o=v(yo()),rt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return _o.Uint8ArrayBlobAdapter.mutate(e);if(!e)return _o.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return _o.Uint8ArrayBlobAdapter.mutate(await r)}});function mt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Eo=y(()=>{});var Ot,al=y(()=>{Ot=e=>typeof e=="function"?e():e});var zg=y(()=>{});var Ce,qg=y(()=>{Ce=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Ce.registries=new Map});var ht,dn=y(()=>{ht=class{constructor(t,r){this.name=t,this.traits=r}}});var ds,cl=y(()=>{dn();ds=class e extends ht{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ds.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var ls,dl=y(()=>{dn();ls=class e extends ht{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ls.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Bg=y(()=>{});var Ar,bo=y(()=>{dn();Ar=class e extends ht{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let i=0;i<n.length;++i)this.members[n[i]]=Array.isArray(s[i])?s[i]:[s[i],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ar.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var ll,Wg=y(()=>{bo();ll=class e extends Ar{constructor(t,r,n,s,i){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=i,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ll.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var A,ul=y(()=>{A={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var us,pl=y(()=>{dn();us=class e extends ht{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};us.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var O,Gg=y(()=>{al();cl();dl();ul();pl();bo();O=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=Ot(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(i instanceof e){this.name=i.name,this.traits=i.traits,this._isMemberSchema=i._isMemberSchema,this.schema=i.schema,this.memberTraits=Object.assign({},i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=i.ref,this.memberName=r??i.memberName;return}if(this.schema=Ot(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof us?Ot(this.schema.schemaRef):Ot(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=A.LIST_MODIFIER&&t<A.MAP_MODIFIER:t instanceof ds}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=A.MAP_MODIFIER&&t<=255:t instanceof ls}isDocumentSchema(){return this.getSchema()===A.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Ar}isBlobSchema(){return this.getSchema()===A.BLOB||this.getSchema()===A.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=A.TIMESTAMP_DEFAULT&&t<=A.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===A.STRING}isBooleanSchema(){return this.getSchema()===A.BOOLEAN}isNumericSchema(){return this.getSchema()===A.NUMERIC}isBigIntegerSchema(){return this.getSchema()===A.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===A.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===A.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([A.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([A.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([A.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let s of r.memberNames)n[s]=this.getMemberSchema(s);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(A).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case A.MAP_MODIFIER:return`${s}Map`;case A.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};O.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var pe=y(()=>{al();zg();cl();dl();Bg();Wg();Gg();dn();pl();bo();ul();qg()});var ik,Kg=y(()=>{ik=(e,t,r=n=>n)=>e});var ok,ak,ps,ck,wo,fs,dk,fl,ml,hl,gl,lk,uk,Jg,pk,fk,To,mk,Sl,hk,ln,yl,gk,Sk,yk,Yg,Xg,_k,vk,Rr,_l,xo,ms,vl=y(()=>{ok=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ak=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ms.warn(xo(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ms.warn(xo(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ps=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ms.warn(xo(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ck=Math.ceil(34028234663852886e22),wo=e=>{let t=ps(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ck)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},fs=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},dk=fs,fl=e=>gl(e,32),ml=e=>gl(e,16),hl=e=>gl(e,8),gl=(e,t)=>{let r=fs(e);if(r!==void 0&&lk(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},lk=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},uk=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Jg=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},pk=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ms.warn(xo(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},fk=e=>{if(e==null)return;let t=Jg(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},To=e=>ps(typeof e=="string"?ln(e):e),mk=To,Sl=e=>wo(typeof e=="string"?ln(e):e),hk=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ln=e=>{let t=e.match(hk);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},yl=e=>typeof e=="string"?Yg(e):ps(e),gk=yl,Sk=yl,yk=e=>typeof e=="string"?Yg(e):wo(e),Yg=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Xg=e=>fs(typeof e=="string"?ln(e):e),_k=Xg,vk=e=>fl(typeof e=="string"?ln(e):e),Rr=e=>ml(typeof e=="string"?ln(e):e),_l=e=>hl(typeof e=="string"?ln(e):e),xo=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ms={warn:console.warn}});function gs(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,p=a<10?`0${a}`:`${a}`;return`${Ek[n]}, ${c} ${bl[r]} ${t} ${l}:${u}:${p} GMT`}var Ek,bl,bk,wk,xk,Ss,Tk,Ck,Ak,ys,_s,hs,Rk,Pk,Ik,El,Ok,Nk,Dk,gt,kk,Mk,un,Qg=y(()=>{vl();Ek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];bk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),wk=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=bk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,u=Rr(un(n)),p=gt(s,"month",1,12),m=gt(i,"day",1,31);return hs(u,p,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},xk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ss=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=xk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,u]=t,p=Rr(un(n)),m=gt(s,"month",1,12),h=gt(i,"day",1,31),S=hs(p,m,h,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&S.setTime(S.getTime()-Mk(u)),S},Tk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ck=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ak=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ys=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Tk.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return hs(Rr(un(i)),El(s),gt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=Ck.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return Ik(hs(Rk(i),El(s),gt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Ak.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return hs(Rr(un(l)),El(n),gt(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},_s=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=To(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},hs=(e,t,r,n)=>{let s=t-1;return Nk(e,s,r),new Date(Date.UTC(e,s,r,gt(n.hours,"hour",0,23),gt(n.minutes,"minute",0,59),gt(n.seconds,"seconds",0,60),kk(n.fractionalMilliseconds)))},Rk=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Rr(un(e));return r<t?r+100:r},Pk=50*365*24*60*60*1e3,Ik=e=>e.getTime()-new Date().getTime()>Pk?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,El=e=>{let t=bl.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Ok=[31,28,31,30,31,30,31,31,30,31,30,31],Nk=(e,t,r)=>{let n=Ok[t];if(t===1&&Dk(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${bl[t]} in ${e}: ${r}`)},Dk=e=>e%4===0&&(e%100!==0||e%400===0),gt=(e,t,r,n)=>{let s=_l(un(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},kk=e=>e==null?0:Sl("0."+e)*1e3,Mk=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},un=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function vs(){return Co>Ao.length-16&&(Zg.default.randomFillSync(Ao),Co=0),Ao.slice(Co,Co+=16)}var Zg,Ao,Co,wl=y(()=>{Zg=v(require("crypto")),Ao=new Uint8Array(256),Co=Ao.length});var eS,tS=y(()=>{eS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Fk(e){return typeof e=="string"&&eS.test(e)}var Qt,Es=y(()=>{tS();Qt=Fk});function Pr(e,t=0){return Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]}function $k(e,t=0){let r=Pr(e,t);if(!Qt(r))throw TypeError("Stringified UUID is invalid");return r}var Se,rS,bs=y(()=>{Es();Se=[];for(let e=0;e<256;++e)Se.push((e+256).toString(16).slice(1));rS=$k});function Lk(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||nS,o=e.clockseq!==void 0?e.clockseq:xl;if(i==null||o==null){let m=e.random||(e.rng||vs)();i==null&&(i=nS=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=xl=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Cl+1,l=a-Tl+(c-Cl)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>Tl)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Tl=a,Cl=c,xl=o,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;s[n++]=u>>>24&255,s[n++]=u>>>16&255,s[n++]=u>>>8&255,s[n++]=u&255;let p=a/4294967296*1e4&268435455;s[n++]=p>>>8&255,s[n++]=p&255,s[n++]=p>>>24&15|16,s[n++]=p>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let m=0;m<6;++m)s[n+m]=i[m];return t||Pr(s)}var nS,xl,Tl,Cl,sS,iS=y(()=>{wl();bs();Tl=0,Cl=0;sS=Lk});function Uk(e){if(!Qt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ro,Al=y(()=>{Es();Ro=Uk});function jk(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function ws(e,t,r){function n(s,i,o,a){var c;if(typeof s=="string"&&(s=jk(s)),typeof i=="string"&&(i=Ro(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=l[u];return o}return Pr(l)}try{n.name=e}catch{}return n.DNS=Hk,n.URL=Vk,n}var Hk,Vk,Rl=y(()=>{bs();Al();Hk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Vk="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),oS.default.createHash("md5").update(e).digest()}var oS,aS,cS=y(()=>{oS=v(require("crypto"));aS=zk});var qk,dS,lS=y(()=>{Rl();cS();qk=ws("v3",48,aS),dS=qk});var uS,Pl,pS=y(()=>{uS=v(require("crypto")),Pl={randomUUID:uS.default.randomUUID}});function Bk(e,t,r){if(Pl.randomUUID&&!t&&!e)return Pl.randomUUID();e=e||{};let n=e.random||(e.rng||vs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Pr(n)}var St,fS=y(()=>{pS();wl();bs();St=Bk});function Wk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),mS.default.createHash("sha1").update(e).digest()}var mS,hS,gS=y(()=>{mS=v(require("crypto"));hS=Wk});var Gk,SS,yS=y(()=>{Rl();gS();Gk=ws("v5",80,hS),SS=Gk});var _S,vS=y(()=>{_S="00000000-0000-0000-0000-000000000000"});function Kk(e){if(!Qt(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var ES,bS=y(()=>{Es();ES=Kk});var Il={};et(Il,{NIL:()=>_S,parse:()=>Ro,stringify:()=>rS,v1:()=>sS,v3:()=>dS,v4:()=>St,v5:()=>SS,validate:()=>Qt,version:()=>ES});var Po=y(()=>{iS();lS();fS();yS();vS();bS();Es();bs();Al()});var wS=y(()=>{Po()});var Ae,xS=y(()=>{Ae=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ae.from=e=>e&&typeof e=="object"&&(e instanceof Ae||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ae(String(e)):Ae(JSON.stringify(e));Ae.fromObject=Ae.from});function Ol(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var TS=y(()=>{});function Nl(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var CS=y(()=>{});var xs,AS=y(()=>{xs=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function Jk(e){return new ye(String(e),"bigDecimal")}var ye,RS=y(()=>{ye=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let i=t.charCodeAt(s);if(!(s===0&&i===45)){if(i===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var PS={};et(PS,{LazyJsonString:()=>Ae,NumericValue:()=>ye,copyDocumentWithTransform:()=>ik,dateToUtcString:()=>gs,expectBoolean:()=>ak,expectByte:()=>hl,expectFloat32:()=>wo,expectInt:()=>dk,expectInt32:()=>fl,expectLong:()=>fs,expectNonNull:()=>uk,expectNumber:()=>ps,expectObject:()=>Jg,expectShort:()=>ml,expectString:()=>pk,expectUnion:()=>fk,generateIdempotencyToken:()=>St,handleFloat:()=>gk,limitedParseDouble:()=>yl,limitedParseFloat:()=>Sk,limitedParseFloat32:()=>yk,logger:()=>ms,nv:()=>Jk,parseBoolean:()=>ok,parseEpochTimestamp:()=>_s,parseRfc3339DateTime:()=>wk,parseRfc3339DateTimeWithOffset:()=>Ss,parseRfc7231DateTime:()=>ys,quoteHeader:()=>Ol,splitEvery:()=>Nl,splitHeader:()=>xs,strictParseByte:()=>_l,strictParseDouble:()=>To,strictParseFloat:()=>mk,strictParseFloat32:()=>Sl,strictParseInt:()=>_k,strictParseInt32:()=>vk,strictParseLong:()=>Xg,strictParseShort:()=>Rr});var nt=y(()=>{Kg();Qg();wS();xS();vl();TS();CS();AS();RS()});var Io,pn,Dl=y(()=>{pe();Io=v(te()),pn=class{constructor(t){this.options=t}getRequestType(){return Io.HttpRequest}getResponseType(){return Io.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=O.of(r),i=O.of(r.input);if(s.getMergedTraits().endpoint){let o=s.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,s,i){return[]}}});var IS,OS,Ir,NS=y(()=>{pe();nt();IS=v(te()),OS=v(yo());vo();Eo();Dl();Ir=class extends pn{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=O.of(t?.input),u=l.getSchema(),p=!1,m,h=new IS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,s);let S=O.translateTraits(t.traits);if(S.http){h.method=S.http[0];let[g,_]=S.http[1].split("?");h.path=="/"?h.path=g:h.path+=g;let b=new URLSearchParams(_??"");Object.assign(o,Object.fromEntries(b))}}for(let[S,g]of l.structIterator()){let _=g.getMergedTraits()??{},b=s[S];if(b!=null)if(_.httpPayload){if(g.isStreaming()){if(g.isStructSchema())throw new Error("serialization of event streams is not yet implemented");m=b}else i.write(g,b),m=i.flush();delete s[S]}else if(_.httpLabel){i.write(g,b);let w=i.flush();h.path.includes(`{${S}+}`)?h.path=h.path.replace(`{${S}+}`,w.split("/").map(mt).join("/")):h.path.includes(`{${S}}`)&&(h.path=h.path.replace(`{${S}}`,mt(w))),delete s[S]}else if(_.httpHeader)i.write(g,b),a[_.httpHeader.toLowerCase()]=String(i.flush()),delete s[S];else if(typeof _.httpPrefixHeaders=="string"){for(let[w,I]of Object.entries(b)){let T=_.httpPrefixHeaders+w;i.write([g.getValueSchema(),{httpHeader:T}],I),a[T.toLowerCase()]=i.flush()}delete s[S]}else _.httpQuery||_.httpQueryParams?(this.serializeQuery(g,b,o),delete s[S]):p=!0}return p&&s&&(i.write(u,s),m=i.flush()),h.headers=a,h.query=o,h.body=m,h}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))o in n||this.serializeQuery(O.of([t.getValueSchema(),{...i,httpQuery:o,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=O.of(t.output),o={};if(n.statusCode>=300){let l=await rt(n.body,r);throw l.byteLength>0&&Object.assign(o,await s.read(A.DOCUMENT,l)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let l=await rt(n.body,r);if(l.byteLength>0){let u=await s.read(i,l);for(let p of a)o[p]=u[p]}}return{$metadata:this.deserializeMetadata(n),...o}}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=O.of(t),l=[];for(let[u,p]of c.structIterator()){let m=p.getMemberTraits();if(m.httpPayload){if(p.isStreaming())if(p.isStructSchema()){let g=this.serdeContext;if(!g.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let _=p.getMemberSchemas();o[u]=g.eventStreamMarshaller.deserialize(n.body,async b=>{let w=Object.keys(b).find(I=>I!=="__type")??"";if(w in _){let I=_[w];return{[w]:await a.read(I,b[w].body)}}else return{$unknown:b}})}else o[u]=(0,OS.sdkStreamMixin)(n.body);else if(n.body){let S=await rt(n.body,r);S.byteLength>0&&(o[u]=await a.read(p,S))}}else if(m.httpHeader){let h=String(m.httpHeader).toLowerCase(),S=n.headers[h];if(S!=null)if(p.isListSchema()){let g=p.getValueSchema(),_;g.isTimestampSchema()&&g.getSchema()===A.TIMESTAMP_DEFAULT?_=Nl(S,",",2):_=xs(S);let b=[];for(let w of _)b.push(await a.read([g,{httpHeader:h}],w.trim()));o[u]=b}else o[u]=await a.read(p,S)}else if(m.httpPrefixHeaders!==void 0){o[u]={};for(let[h,S]of Object.entries(n.headers))h.startsWith(m.httpPrefixHeaders)&&(o[u][h.slice(m.httpPrefixHeaders.length)]=await a.read([p.getValueSchema(),{httpHeader:h}],S))}else m.httpResponseCode?o[u]=n.statusCode:l.push(u)}return l}}});var DS,Or,kS=y(()=>{pe();DS=v(te());vo();Dl();Or=class extends pn{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),l=O.of(t?.input).getSchema(),u,p=new DS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(p,a),this.setHostPrefix(p,t,r));let m={...r};return r&&(s.write(l,m),u=s.flush()),p.headers=o,p.query=i,p.body=u,p.method="POST",p}async deserializeResponse(t,r,n){let s=this.deserializer,i=O.of(t.output),o={};if(n.statusCode>=300){let l=await rt(n.body,r);throw l.byteLength>0&&Object.assign(o,await s.read(A.DOCUMENT,l)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await rt(n.body,r);return a.byteLength>0&&Object.assign(o,await s.read(i,a)),{$metadata:this.deserializeMetadata(n),...o}}}});var kl,Ml=y(()=>{Eo();kl=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>mt(a)).join("/"):mt(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Ts(e,t){return new Oo(e,t)}var MS,Oo,FS=y(()=>{MS=v(te());Ml();Oo=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new MS.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=kl(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Nr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===A.TIMESTAMP_DATE_TIME||e.getSchema()===A.TIMESTAMP_HTTP_DATE||e.getSchema()===A.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?A.TIMESTAMP_HTTP_DATE:i||r?A.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var No=y(()=>{pe()});var Fl,$S,Dr,$l=y(()=>{pe();nt();Fl=v(Te()),$S=v(ge());No();Dr=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=O.of(t);if(n.isListSchema())return xs(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Fl.fromBase64)(r);if(n.isTimestampSchema())switch(Nr(n,this.settings)){case A.TIMESTAMP_DATE_TIME:return Ss(r);case A.TIMESTAMP_HTTP_DATE:return ys(r);case A.TIMESTAMP_EPOCH_SECONDS:return _s(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=Ae.from(i)),i}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new ye(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??$S.toUtf8)((this.serdeContext?.base64Decoder??Fl.fromBase64)(t))}}});var Do,kr,LS=y(()=>{pe();Do=v(ge());$l();kr=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Dr(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=O.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??Do.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??Do.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var Ll,Cs,Ul=y(()=>{pe();nt();Ll=v(Te());No();Cs=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=O.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Nr(n,this.settings)){case A.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case A.TIMESTAMP_HTTP_DATE:this.stringBuffer=gs(r);break;case A.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Ll.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:Ol(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=Ae.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Ll.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Mr,US=y(()=>{pe();Ul();Mr=class{constructor(t,r,n=new Cs(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=O.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var jS={};et(jS,{FromStringShapeDeserializer:()=>Dr,HttpBindingProtocol:()=>Ir,HttpInterceptingShapeDeserializer:()=>kr,HttpInterceptingShapeSerializer:()=>Mr,RequestBuilder:()=>Oo,RpcProtocol:()=>Or,ToStringShapeSerializer:()=>Cs,collectBody:()=>rt,determineTimestampFormat:()=>Nr,extendedEncodeURIComponent:()=>mt,requestBuilder:()=>Ts,resolvedPath:()=>kl});var Nt=y(()=>{vo();Eo();NS();kS();FS();Ml();$l();LS();US();Ul();No()});var HS=y(()=>{Nt()});function Yk(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var VS=y(()=>{});var Fr,zS=y(()=>{Fr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var qS,jl,Hl,BS=y(()=>{qS=v(te()),jl=v(lt()),Hl=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=qS.HttpRequest.clone(t);if(n.in===jl.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===jl.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var WS,Vl,GS=y(()=>{WS=v(te()),Vl=class{async sign(t,r,n){let s=WS.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var Dt,KS=y(()=>{Dt=class{async sign(t,r,n){return t}}});var JS=y(()=>{BS();GS();KS()});var YS,Xk,zl,ko,ql,XS=y(()=>{YS=e=>t=>ko(t)&&t.expiration.getTime()-Date.now()<e,Xk=3e5,zl=YS(3e5),ko=e=>e.expiration!==void 0,ql=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var QS=y(()=>{zS();JS();XS()});var fn={};et(fn,{DefaultIdentityProviderConfig:()=>Fr,EXPIRATION_MS:()=>Xk,HttpApiKeyAuthSigner:()=>Hl,HttpBearerAuthSigner:()=>Vl,NoAuthSigner:()=>Dt,createIsIdentityExpiredFunction:()=>YS,createPaginator:()=>_h,doesIdentityRequireRefresh:()=>ko,getHttpAuthSchemeEndpointRuleSetPlugin:()=>os,getHttpAuthSchemePlugin:()=>kN,getHttpSigningPlugin:()=>as,getSmithyContext:()=>SN,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>eh,httpAuthSchemeMiddleware:()=>is,httpAuthSchemeMiddlewareOptions:()=>lh,httpSigningMiddleware:()=>Rd,httpSigningMiddlewareOptions:()=>hh,isIdentityExpired:()=>zl,memoizeIdentityProvider:()=>ql,normalizeProvider:()=>Jt,requestBuilder:()=>Ts,setFeature:()=>Yk});var Oe=y(()=>{Wm();ph();Sh();yh();vh();HS();VS();QS()});var mn=E((tJ,ay)=>{var Mo=Object.defineProperty,Qk=Object.getOwnPropertyDescriptor,Zk=Object.getOwnPropertyNames,eM=Object.prototype.hasOwnProperty,Y=(e,t)=>Mo(e,"name",{value:t,configurable:!0}),tM=(e,t)=>{for(var r in t)Mo(e,r,{get:t[r],enumerable:!0})},rM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zk(t))!eM.call(e,s)&&s!==r&&Mo(e,s,{get:()=>t[s],enumerable:!(n=Qk(t,s))||n.enumerable});return e},nM=e=>rM(Mo({},"__esModule",{value:!0}),e),ZS={};tM(ZS,{EndpointCache:()=>sM,EndpointError:()=>Ne,customEndpointFunctions:()=>Wl,isIpAddress:()=>ey,isValidHostLabel:()=>Kl,resolveEndpoint:()=>wM});ay.exports=nM(ZS);var sM=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Y(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:o}=n.next();if(this.data.delete(i),o||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},iM=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ey=Y(e=>iM.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),oM=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Kl=Y((e,t=!1)=>{if(!t)return oM.test(e);let r=e.split(".");for(let n of r)if(!Kl(n))return!1;return!0},"isValidHostLabel"),Wl={},As="endpoints";function kt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${kt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(kt).join(", ")})`:JSON.stringify(e,null,2)}Y(kt,"toDebugString");var Ne=class extends Error{static{Y(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},aM=Y((e,t)=>e===t,"booleanEquals"),cM=Y(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ne(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ne(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),ty=Y((e,t)=>cM(t).reduce((r,n)=>{if(typeof r!="object")throw new Ne(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),dM=Y(e=>e!=null,"isSet"),lM=Y(e=>!e,"not"),Gl=lt(),Bl={[Gl.EndpointURLScheme.HTTP]:80,[Gl.EndpointURLScheme.HTTPS]:443},uM=Y(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:h,protocol:S="",path:g="",query:_={}}=e,b=new URL(`${S}//${m}${h?`:${h}`:""}${g}`);return b.search=Object.entries(_).map(([w,I])=>`${w}=${I}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Gl.EndpointURLScheme).includes(c))return null;let l=ey(s),u=r.includes(`${n}:${Bl[c]}`)||typeof e=="string"&&e.includes(`${n}:${Bl[c]}`),p=`${n}${u?`:${Bl[c]}`:""}`;return{scheme:c,authority:p,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),pM=Y((e,t)=>e===t,"stringEquals"),fM=Y((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),mM=Y(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),hM={booleanEquals:aM,getAttr:ty,isSet:dM,isValidHostLabel:Kl,not:lM,parseURL:uM,stringEquals:pM,substring:fM,uriEncode:mM},ry=Y((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(ty(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},"evaluateTemplate"),gM=Y(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Fo=Y((e,t,r)=>{if(typeof e=="string")return ry(e,r);if(e.fn)return ny(e,r);if(e.ref)return gM(e,r);throw new Ne(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),ny=Y(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:Fo(i,"arg",r)),s=e.split(".");return s[0]in Wl&&s[1]!=null?Wl[s[0]][s[1]](...n):hM[e](...n)},"callFunction"),SM=Y(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ne(`'${e}' is already defined in Reference Record.`);let n=ny(t,r);return r.logger?.debug?.(`${As} evaluateCondition: ${kt(t)} = ${kt(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Jl=Y((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=SM(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${As} assign: ${i.name} := ${kt(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),yM=Y((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=Fo(i,"Header value entry",t);if(typeof o!="string")throw new Ne(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),sy=Y((e,t)=>{if(Array.isArray(e))return e.map(r=>sy(r,t));switch(typeof e){case"string":return ry(e,t);case"object":if(e===null)throw new Ne(`Unexpected endpoint property: ${e}`);return iy(e,t);case"boolean":return e;default:throw new Ne(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),iy=Y((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:sy(s,t)}),{}),"getEndpointProperties"),_M=Y((e,t)=>{let r=Fo(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ne(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),vM=Y((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=Jl(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${As} Resolving endpoint from template: ${kt(n)}`),{...l!=null&&{headers:yM(l,o)},...c!=null&&{properties:iy(c,o)},url:_M(a,o)}},"evaluateEndpointRule"),EM=Y((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=Jl(r,t);if(s)throw new Ne(Fo(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),bM=Y((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=Jl(r,t);if(s)return oy(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),oy=Y((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=vM(r,t);if(n)return n}else if(r.type==="error")EM(r,t);else if(r.type==="tree"){let n=bM(r,t);if(n)return n}else throw new Ne(`Unknown endpoint rule: ${r}`);throw new Ne("Rules evaluation failed")},"evaluateRules"),wM=Y((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${As} Initial EndpointParams: ${kt(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(o.length>0)for(let[l,u]of o)r[l]=r[l]??u;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Ne(`Missing required parameter: '${l}'`);let c=oy(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${As} Resolved endpoint: ${kt(c)}`),c},"resolveEndpoint")});var uy=E((sJ,ly)=>{var $o=Object.defineProperty,xM=Object.getOwnPropertyDescriptor,TM=Object.getOwnPropertyNames,CM=Object.prototype.hasOwnProperty,AM=(e,t)=>$o(e,"name",{value:t,configurable:!0}),RM=(e,t)=>{for(var r in t)$o(e,r,{get:t[r],enumerable:!0})},PM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of TM(t))!CM.call(e,s)&&s!==r&&$o(e,s,{get:()=>t[s],enumerable:!(n=xM(t,s))||n.enumerable});return e},IM=e=>PM($o({},"__esModule",{value:!0}),e),cy={};RM(cy,{parseQueryString:()=>dy});ly.exports=IM(cy);function dy(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}AM(dy,"parseQueryString")});var Zt=E((iJ,my)=>{var Lo=Object.defineProperty,OM=Object.getOwnPropertyDescriptor,NM=Object.getOwnPropertyNames,DM=Object.prototype.hasOwnProperty,kM=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),MM=(e,t)=>{for(var r in t)Lo(e,r,{get:t[r],enumerable:!0})},FM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NM(t))!DM.call(e,s)&&s!==r&&Lo(e,s,{get:()=>t[s],enumerable:!(n=OM(t,s))||n.enumerable});return e},$M=e=>FM(Lo({},"__esModule",{value:!0}),e),py={};MM(py,{parseUrl:()=>fy});my.exports=$M(py);var LM=uy(),fy=kM(e=>{if(typeof e=="string")return fy(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,LM.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},"parseUrl")});var hn=E((oJ,Ty)=>{"use strict";var Uo=Object.defineProperty,UM=Object.getOwnPropertyDescriptor,jM=Object.getOwnPropertyNames,HM=Object.prototype.hasOwnProperty,er=(e,t)=>Uo(e,"name",{value:t,configurable:!0}),VM=(e,t)=>{for(var r in t)Uo(e,r,{get:t[r],enumerable:!0})},zM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jM(t))!HM.call(e,s)&&s!==r&&Uo(e,s,{get:()=>t[s],enumerable:!(n=UM(t,s))||n.enumerable});return e},qM=e=>zM(Uo({},"__esModule",{value:!0}),e),gy={};VM(gy,{ConditionObject:()=>re.ConditionObject,DeprecatedObject:()=>re.DeprecatedObject,EndpointError:()=>re.EndpointError,EndpointObject:()=>re.EndpointObject,EndpointObjectHeaders:()=>re.EndpointObjectHeaders,EndpointObjectProperties:()=>re.EndpointObjectProperties,EndpointParams:()=>re.EndpointParams,EndpointResolverOptions:()=>re.EndpointResolverOptions,EndpointRuleObject:()=>re.EndpointRuleObject,ErrorRuleObject:()=>re.ErrorRuleObject,EvaluateOptions:()=>re.EvaluateOptions,Expression:()=>re.Expression,FunctionArgv:()=>re.FunctionArgv,FunctionObject:()=>re.FunctionObject,FunctionReturn:()=>re.FunctionReturn,ParameterObject:()=>re.ParameterObject,ReferenceObject:()=>re.ReferenceObject,ReferenceRecord:()=>re.ReferenceRecord,RuleSetObject:()=>re.RuleSetObject,RuleSetRules:()=>re.RuleSetRules,TreeRuleObject:()=>re.TreeRuleObject,awsEndpointFunctions:()=>wy,getUserAgentPrefix:()=>KM,isIpAddress:()=>re.isIpAddress,partition:()=>Ey,resolveDefaultAwsRegionalEndpointsConfig:()=>YM,resolveEndpoint:()=>re.resolveEndpoint,setPartitionInfo:()=>by,toEndpointV1:()=>xy,useDefaultPartitionInfo:()=>GM});Ty.exports=qM(gy);var re=mn(),Sy=er((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Sy(r))return!1;return!0}return!(!(0,re.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,re.isIpAddress)(e))},"isVirtualHostableS3Bucket"),hy=":",BM="/",WM=er(e=>{let t=e.split(hy);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(hy)==="")return null;let c=a.map(l=>l.split(BM)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},"parseArn"),yy={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},_y=yy,vy="",Ey=er(e=>{let{partitions:t}=_y;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),by=er((e,t="")=>{_y=e,vy=t},"setPartitionInfo"),GM=er(()=>{by(yy,"")},"useDefaultPartitionInfo"),KM=er(()=>vy,"getUserAgentPrefix"),wy={isVirtualHostableS3Bucket:Sy,parseArn:WM,partition:Ey};re.customEndpointFunctions.aws=wy;var JM=Zt(),YM=er(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>xy(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),xy=er(e=>(0,JM.parseUrl)(e.url),"toEndpointV1")});var jo,gn,Cy=y(()=>{jo={warningEmitted:!1},gn=e=>{e&&!jo.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(jo.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function tr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Ay=y(()=>{});function Ry(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Py=y(()=>{});function Iy(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Oy=y(()=>{});var rr={};et(rr,{emitWarningIfUnsupportedVersion:()=>gn,setCredentialFeature:()=>tr,setFeature:()=>Ry,setTokenFeature:()=>Iy,state:()=>jo});var st=y(()=>{Cy();Ay();Py();Oy()});var Ny,Yl,Dy=y(()=>{Ny=v(te()),Yl=e=>Ny.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Sn,Xl=y(()=>{Sn=e=>new Date(Date.now()+e)});var ky,My=y(()=>{Xl();ky=(e,t)=>Math.abs(Sn(t).getTime()-e)>=3e5});var Ql,Fy=y(()=>{My();Ql=(e,t)=>{let r=Date.parse(e);return ky(r,t)?r-Date.now():t}});var Zl=y(()=>{Dy();Xl();Fy()});var $y,Rs,yn,De,eu,tu=y(()=>{$y=v(te());Zl();Rs=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},yn=async e=>{let t=Rs("context",e.context),r=Rs("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await Rs("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},De=class{async sign(t,r,n){if(!$y.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await yn(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[p,m]=l.authSchemes;p?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:Sn(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Yl(r.$response);if(n){let s=Rs("config",t.config),i=s.systemClockOffset;s.systemClockOffset=Ql(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Yl(t);if(n){let s=Rs("config",r.config);s.systemClockOffset=Ql(n,s.systemClockOffset)}}},eu=De});var Ly,Ps,Uy=y(()=>{Ly=v(te());Zl();tu();Ps=class extends De{async sign(t,r,n){if(!Ly.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await yn(n),u=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Sn(s.systemClockOffset),signingRegion:u,signingService:c})}}});var ru,jy=y(()=>{ru=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ho,nu=y(()=>{Ho=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Hy,Vy,_n,zy=y(()=>{jy();nu();Hy="AWS_AUTH_SCHEME_PREFERENCE",Vy="auth_scheme_preference",_n={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Ho(t.signingName)in e)return["httpBearerAuth"];if(Hy in e)return ru(e[Hy])},configFileSelector:e=>{if(Vy in e)return ru(e[Vy])},default:[]}});var Re=E((MJ,Ky)=>{var Vo=Object.defineProperty,XM=Object.getOwnPropertyDescriptor,QM=Object.getOwnPropertyNames,ZM=Object.prototype.hasOwnProperty,$r=(e,t)=>Vo(e,"name",{value:t,configurable:!0}),eF=(e,t)=>{for(var r in t)Vo(e,r,{get:t[r],enumerable:!0})},tF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of QM(t))!ZM.call(e,s)&&s!==r&&Vo(e,s,{get:()=>t[s],enumerable:!(n=XM(t,s))||n.enumerable});return e},rF=e=>tF(Vo({},"__esModule",{value:!0}),e),qy={};eF(qy,{CredentialsProviderError:()=>nF,ProviderError:()=>zo,TokenProviderError:()=>sF,chain:()=>iF,fromStatic:()=>oF,memoize:()=>aF});Ky.exports=rF(qy);var zo=class By extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,By.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{$r(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},nF=class Wy extends zo{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,Wy.prototype)}static{$r(this,"CredentialsProviderError")}},sF=class Gy extends zo{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,Gy.prototype)}static{$r(this,"TokenProviderError")}},iF=$r((...e)=>async()=>{if(e.length===0)throw new zo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),oF=$r(e=>()=>Promise.resolve(e),"fromStatic"),aF=$r((e,t,r)=>{let n,s,i,o=!1,a=$r(async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var su,Jy,Yy,Xy=y(()=>{Oe();su=v(Re()),Jy=e=>(e.sigv4aSigningRegionSet=Jt(e.sigv4aSigningRegionSet),e),Yy={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new su.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new su.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var C_=E((LJ,T_)=>{var Yo=Object.defineProperty,cF=Object.getOwnPropertyDescriptor,dF=Object.getOwnPropertyNames,lF=Object.prototype.hasOwnProperty,_e=(e,t)=>Yo(e,"name",{value:t,configurable:!0}),uF=(e,t)=>{for(var r in t)Yo(e,r,{get:t[r],enumerable:!0})},pF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dF(t))!lF.call(e,s)&&s!==r&&Yo(e,s,{get:()=>t[s],enumerable:!(n=cF(t,s))||n.enumerable});return e},fF=e=>pF(Yo({},"__esModule",{value:!0}),e),r_={};uF(r_,{ALGORITHM_IDENTIFIER:()=>qo,ALGORITHM_IDENTIFIER_V4A:()=>SF,ALGORITHM_QUERY_PARAM:()=>n_,ALWAYS_UNSIGNABLE_HEADERS:()=>u_,AMZ_DATE_HEADER:()=>pu,AMZ_DATE_QUERY_PARAM:()=>cu,AUTH_HEADER:()=>uu,CREDENTIAL_QUERY_PARAM:()=>s_,DATE_HEADER:()=>a_,EVENT_ALGORITHM_IDENTIFIER:()=>m_,EXPIRES_QUERY_PARAM:()=>o_,GENERATED_HEADERS:()=>c_,HOST_HEADER:()=>hF,KEY_TYPE_IDENTIFIER:()=>fu,MAX_CACHE_SIZE:()=>g_,MAX_PRESIGNED_TTL:()=>S_,PROXY_HEADER_PATTERN:()=>p_,REGION_SET_PARAM:()=>mF,SEC_HEADER_PATTERN:()=>f_,SHA256_HEADER:()=>Jo,SIGNATURE_HEADER:()=>d_,SIGNATURE_QUERY_PARAM:()=>du,SIGNED_HEADERS_QUERY_PARAM:()=>i_,SignatureV4:()=>RF,SignatureV4Base:()=>x_,TOKEN_HEADER:()=>l_,TOKEN_QUERY_PARAM:()=>lu,UNSIGNABLE_PATTERNS:()=>gF,UNSIGNED_PAYLOAD:()=>h_,clearCredentialCache:()=>_F,createScope:()=>Wo,getCanonicalHeaders:()=>iu,getCanonicalQuery:()=>w_,getPayloadHash:()=>Go,getSigningKey:()=>y_,hasHeader:()=>v_,moveHeadersToQuery:()=>b_,prepareRequest:()=>au,signatureV4aContainer:()=>PF});T_.exports=fF(r_);var Qy=ge(),n_="X-Amz-Algorithm",s_="X-Amz-Credential",cu="X-Amz-Date",i_="X-Amz-SignedHeaders",o_="X-Amz-Expires",du="X-Amz-Signature",lu="X-Amz-Security-Token",mF="X-Amz-Region-Set",uu="authorization",pu=cu.toLowerCase(),a_="date",c_=[uu,pu,a_],d_=du.toLowerCase(),Jo="x-amz-content-sha256",l_=lu.toLowerCase(),hF="host",u_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},p_=/^proxy-/,f_=/^sec-/,gF=[/^proxy-/i,/^sec-/i],qo="AWS4-HMAC-SHA256",SF="AWS4-ECDSA-P256-SHA256",m_="AWS4-HMAC-SHA256-PAYLOAD",h_="UNSIGNED-PAYLOAD",g_=50,fu="aws4_request",S_=3600*24*7,nr=el(),yF=ge(),vn={},Bo=[],Wo=_e((e,t,r)=>`${e}/${t}/${r}/${fu}`,"createScope"),y_=_e(async(e,t,r,n,s)=>{let i=await Zy(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,nr.toHex)(i)}:${t.sessionToken}`;if(o in vn)return vn[o];for(Bo.push(o);Bo.length>g_;)delete vn[Bo.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,fu])a=await Zy(e,a,c);return vn[o]=a},"getSigningKey"),_F=_e(()=>{Bo.length=0,Object.keys(vn).forEach(e=>{delete vn[e]})},"clearCredentialCache"),Zy=_e((e,t,r)=>{let n=new e(t);return n.update((0,yF.toUint8Array)(r)),n.digest()},"hmac"),iu=_e(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in u_||t?.has(i)||p_.test(i)||f_.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),vF=Id(),EF=ge(),Go=_e(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Jo)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,vF.isArrayBuffer)(t)){let n=new r;return n.update((0,EF.toUint8Array)(t)),(0,nr.toHex)(await n.digest())}return h_},"getPayloadHash"),e_=ge(),bF=class{static{_e(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let i=(0,e_.fromUtf8)(s);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let o=(0,e_.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(xF.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!wF.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,nr.fromHex)(e.value.replace(/\-/g,"")),1),u}}},wF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,xF=class __{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{_e(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&ou(r),new __(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&ou(t),parseInt((0,nr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function ou(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}_e(ou,"negate");var v_=_e((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),E_=te(),b_=_e((e,t={})=>{let{headers:r,query:n={}}=E_.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),au=_e(e=>{e=E_.HttpRequest.clone(e);for(let t of Object.keys(e.headers))c_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),t_=tt(),TF=ge(),Ko=Bd(),w_=_e(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===d_)continue;let s=(0,Ko.escapeUri)(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${(0,Ko.escapeUri)(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${(0,Ko.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),CF=_e(e=>AF(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),AF=_e(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),x_=class{static{_e(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,t_.normalizeProvider)(r),this.credentialProvider=(0,t_.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${w_(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,TF.toUint8Array)(r));let i=await s.digest();return`${n}
${e}
${t}
${(0,nr.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Ko.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=CF(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},RF=class extends x_{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:i}),this.headerFormatter=new bF}static{_e(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let p=c??await this.regionProvider(),{longDate:m,shortDate:h}=this.formatDate(r);if(n>S_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=Wo(h,p,l??this.service),g=b_(au(e),{unhoistableHeaders:i,hoistableHeaders:a});u.sessionToken&&(g.query[lu]=u.sessionToken),g.query[n_]=qo,g.query[s_]=`${u.accessKeyId}/${S}`,g.query[cu]=m,g.query[o_]=n.toString(10);let _=iu(g,s,o);return g.query[i_]=this.getCanonicalHeaderList(_),g.query[du]=await this.getSignature(m,S,this.getSigningKey(u,p,h,l),this.createCanonicalRequest(g,_,await Go(e,this.sha256))),g}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:i}){let o=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Wo(a,o,i??this.service),u=await Go({headers:{},body:t},this.sha256),p=new this.sha256;p.update(e);let m=(0,nr.toHex)(await p.digest()),h=[m_,c,l,n,m,u].join(`
`);return this.signString(h,{signingDate:r,signingRegion:o,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=r??await this.regionProvider(),{shortDate:o}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,i,o,n));return a.update((0,Qy.toUint8Array)(e)),(0,nr.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=s??await this.regionProvider(),c=au(e),{longDate:l,shortDate:u}=this.formatDate(t),p=Wo(u,a,i??this.service);c.headers[pu]=l,o.sessionToken&&(c.headers[l_]=o.sessionToken);let m=await Go(c,this.sha256);!v_(Jo,c.headers)&&this.applyChecksum&&(c.headers[Jo]=m);let h=iu(c,n,r),S=await this.getSignature(l,p,this.getSigningKey(o,a,u,i),this.createCanonicalRequest(c,h,m));return c.headers[uu]=`${qo} Credential=${o.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${S}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,qo),i=new this.sha256(await r);return i.update((0,Qy.toUint8Array)(s)),(0,nr.toHex)(await i.digest())}getSigningKey(e,t,r,n){return y_(this.sha256,e,r,t,n||this.service)}},PF={SignatureV4a:null}});function IF(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=ql(t,zl,ko):r?n=Jt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function OF(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var mu,Lr,A_,R_=y(()=>{st();Oe();mu=v(C_()),Lr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let u=IF(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),p=OF(e,u);r&&!p.attributed?(n=async m=>p(m).then(h=>tr(h,"CREDENTIALS_CODE","e")),n.memoized=p.memoized,n.configBound=p.configBound,n.attributed=!0):n=p},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=Jt(e.signer):e.regionInfoProvider?a=()=>Jt(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:p,signingService:m}=l;e.signingRegion=e.signingRegion||p||u,e.signingName=e.signingName||m||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},S=e.signerConstructor||mu.SignatureV4;return new S(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Jt(e.region)(),properties:{}},l);let u=l.signingRegion,p=l.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||p||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},h=e.signerConstructor||mu.SignatureV4;return new h(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},A_=Lr});var P_=y(()=>{tu();Uy();zy();Xy();R_()});var I_={};et(I_,{AWSSDKSigV4Signer:()=>eu,AwsSdkSigV4ASigner:()=>Ps,AwsSdkSigV4Signer:()=>De,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>_n,NODE_SIGV4A_CONFIG_OPTIONS:()=>Yy,getBearerTokenEnvKey:()=>Ho,resolveAWSSDKSigV4Config:()=>A_,resolveAwsSdkSigV4AConfig:()=>Jy,resolveAwsSdkSigV4Config:()=>Lr,validateSigningProperties:()=>yn});var hu=y(()=>{P_();nu()});var NF,DF,kF,O_=y(()=>{NF=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},DF=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},kF=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Is=E((eY,k_)=>{var Xo=Object.defineProperty,MF=Object.getOwnPropertyDescriptor,FF=Object.getOwnPropertyNames,$F=Object.prototype.hasOwnProperty,LF=(e,t)=>Xo(e,"name",{value:t,configurable:!0}),UF=(e,t)=>{for(var r in t)Xo(e,r,{get:t[r],enumerable:!0})},jF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FF(t))!$F.call(e,s)&&s!==r&&Xo(e,s,{get:()=>t[s],enumerable:!(n=MF(t,s))||n.enumerable});return e},HF=e=>jF(Xo({},"__esModule",{value:!0}),e),D_={};UF(D_,{calculateBodyLength:()=>VF});k_.exports=HF(D_);var N_=typeof TextEncoder=="function"?new TextEncoder:null,VF=LF(e=>{if(typeof e=="string"){if(N_)return N_.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var we,sr=y(()=>{we=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function M_(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ye(n,"bigDecimal"):BigInt(n)}return t}var F_=y(()=>{nt()});var H_=E((sY,j_)=>{var Qo=Object.defineProperty,zF=Object.getOwnPropertyDescriptor,qF=Object.getOwnPropertyNames,BF=Object.prototype.hasOwnProperty,He=(e,t)=>Qo(e,"name",{value:t,configurable:!0}),WF=(e,t)=>{for(var r in t)Qo(e,r,{get:t[r],enumerable:!0})},GF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qF(t))!BF.call(e,s)&&s!==r&&Qo(e,s,{get:()=>t[s],enumerable:!(n=zF(t,s))||n.enumerable});return e},KF=e=>GF(Qo({},"__esModule",{value:!0}),e),U_={};WF(U_,{constructStack:()=>gu});j_.exports=KF(U_);var Ur=He((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),ir=He((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),gu=He(()=>{let e=[],t=[],r=!1,n=new Set,s=He(p=>p.sort((m,h)=>$_[h.step]-$_[m.step]||L_[h.priority||"normal"]-L_[m.priority||"normal"]),"sort"),i=He(p=>{let m=!1,h=He(S=>{let g=Ur(S.name,S.aliases);if(g.includes(p)){m=!0;for(let _ of g)n.delete(_);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},"removeByName"),o=He(p=>{let m=!1,h=He(S=>{if(S.middleware===p){m=!0;for(let g of Ur(S.name,S.aliases))n.delete(g);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},"removeByReference"),a=He(p=>(e.forEach(m=>{p.add(m.middleware,{...m})}),t.forEach(m=>{p.addRelativeTo(m.middleware,{...m})}),p.identifyOnResolve?.(u.identifyOnResolve()),p),"cloneTo"),c=He(p=>{let m=[];return p.before.forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m.push(p),p.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m},"expandRelativeMiddlewareList"),l=He((p=!1)=>{let m=[],h=[],S={};return e.forEach(_=>{let b={..._,before:[],after:[]};for(let w of Ur(b.name,b.aliases))S[w]=b;m.push(b)}),t.forEach(_=>{let b={..._,before:[],after:[]};for(let w of Ur(b.name,b.aliases))S[w]=b;h.push(b)}),h.forEach(_=>{if(_.toMiddleware){let b=S[_.toMiddleware];if(b===void 0){if(p)return;throw new Error(`${_.toMiddleware} is not found when adding ${ir(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&b.after.push(_),_.relation==="before"&&b.before.push(_)}}),s(m).map(c).reduce((_,b)=>(_.push(...b),_),[])},"getMiddlewareList"),u={add:(p,m={})=>{let{name:h,override:S,aliases:g}=m,_={step:"initialize",priority:"normal",middleware:p,...m},b=Ur(h,g);if(b.length>0){if(b.some(w=>n.has(w))){if(!S)throw new Error(`Duplicate middleware name '${ir(h,g)}'`);for(let w of b){let I=e.findIndex(P=>P.name===w||P.aliases?.some(D=>D===w));if(I===-1)continue;let T=e[I];if(T.step!==_.step||_.priority!==T.priority)throw new Error(`"${ir(T.name,T.aliases)}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by "${ir(h,g)}" middleware with ${_.priority} priority in ${_.step} step.`);e.splice(I,1)}}for(let w of b)n.add(w)}e.push(_)},addRelativeTo:(p,m)=>{let{name:h,override:S,aliases:g}=m,_={middleware:p,...m},b=Ur(h,g);if(b.length>0){if(b.some(w=>n.has(w))){if(!S)throw new Error(`Duplicate middleware name '${ir(h,g)}'`);for(let w of b){let I=t.findIndex(P=>P.name===w||P.aliases?.some(D=>D===w));if(I===-1)continue;let T=t[I];if(T.toMiddleware!==_.toMiddleware||T.relation!==_.relation)throw new Error(`"${ir(T.name,T.aliases)}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by "${ir(h,g)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(I,1)}}for(let w of b)n.add(w)}t.push(_)},clone:()=>a(gu()),use:p=>{p.applyToStack(u)},remove:p=>typeof p=="string"?i(p):o(p),removeByTag:p=>{let m=!1,h=He(S=>{let{tags:g,name:_,aliases:b}=S;if(g&&g.includes(p)){let w=Ur(_,b);for(let I of w)n.delete(I);return m=!0,!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},concat:p=>{let m=a(gu());return m.use(p),m.identifyOnResolve(r||m.identifyOnResolve()||(p.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>l(!0).map(p=>{let m=p.step??p.relation+" "+p.toMiddleware;return ir(p.name,p.aliases)+" - "+m}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,m)=>{for(let h of l().map(S=>S.middleware).reverse())p=h(p,m);return r&&console.log(u.identify()),p}};return u},"constructStack"),$_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},L_={high:3,normal:2,low:1}});var F=E((iY,wu)=>{var Zo=Object.defineProperty,JF=Object.getOwnPropertyDescriptor,YF=Object.getOwnPropertyNames,XF=Object.prototype.hasOwnProperty,G=(e,t)=>Zo(e,"name",{value:t,configurable:!0}),QF=(e,t)=>{for(var r in t)Zo(e,r,{get:t[r],enumerable:!0})},yu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YF(t))!XF.call(e,s)&&s!==r&&Zo(e,s,{get:()=>t[s],enumerable:!(n=JF(t,s))||n.enumerable});return e},ZF=(e,t,r)=>(yu(e,t,"default"),r&&yu(r,t,"default")),e$=e=>yu(Zo({},"__esModule",{value:!0}),e),Eu={};QF(Eu,{Client:()=>t$,Command:()=>q_,NoOpLogger:()=>y$,SENSITIVE_STRING:()=>n$,ServiceException:()=>i$,_json:()=>vu,collectBody:()=>Su.collectBody,convertMap:()=>_$,createAggregatedClient:()=>s$,decorateServiceException:()=>B_,emitWarningIfUnsupportedVersion:()=>d$,extendedEncodeURIComponent:()=>Su.extendedEncodeURIComponent,getArrayIfSingleItem:()=>g$,getDefaultClientConfiguration:()=>m$,getDefaultExtensionConfiguration:()=>G_,getValueFromTextNode:()=>K_,isSerializableHeaderValue:()=>S$,loadConfigsForDefaultMode:()=>c$,map:()=>bu,resolveDefaultRuntimeConfig:()=>h$,resolvedPath:()=>Su.resolvedPath,serializeDateTime:()=>T$,serializeFloat:()=>x$,take:()=>v$,throwDefaultError:()=>W_,withBaseException:()=>o$});wu.exports=e$(Eu);var z_=H_(),t$=class{constructor(e){this.config=e,this.middlewareStack=(0,z_.constructStack)()}static{G(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,i=n===void 0&&this.config.cacheMiddleware===!0,o;if(i){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?o=a.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)o(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Su=(Nt(),z(jS)),_u=lt(),q_=class{constructor(){this.middlewareStack=(0,z_.constructStack)()}static{G(this,"Command")}static classBuilder(){return new r$}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:u}){for(let g of n.bind(this)(u,e,t,r))this.middlewareStack.use(g);let p=e.concat(this.middlewareStack),{logger:m}=t,h={logger:m,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[_u.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:S}=t;return p.resolve(g=>S.handle(g.request,r||{}),h)}},r$=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{G(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends q_{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{G(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},n$="***SensitiveInformation***",s$=G((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=G(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},"createAggregatedClient"),i$=class Os extends Error{static{G(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return Os.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===Os?Os.isInstance(t):Os.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},B_=G((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),W_=G(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=a$(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw B_(o,t)},"throwDefaultError"),o$=G(e=>({output:t,parsedBody:r,errorCode:n})=>{W_({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),a$=G(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),c$=G(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),V_=!1,d$=G(e=>{e&&!V_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(V_=!0)},"emitWarningIfUnsupportedVersion"),l$=G(e=>{let t=[];for(let r in _u.AlgorithmId){let n=_u.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),u$=G(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),p$=G(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),f$=G(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),G_=G(e=>Object.assign(l$(e),p$(e)),"getDefaultExtensionConfiguration"),m$=G_,h$=G(e=>Object.assign(u$(e),f$(e)),"resolveDefaultRuntimeConfig"),g$=G(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),K_=G(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=K_(e[r]));return e},"getValueFromTextNode"),S$=G(e=>e!=null,"isSerializableHeaderValue"),y$=class{static{G(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function bu(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,E$(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}J_(n,null,i,o)}return n}G(bu,"map");var _$=G(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),v$=G((e,t)=>{let r={};for(let n in t)J_(r,e,t,n);return r},"take"),E$=G((e,t,r)=>bu(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),J_=G((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=b$,c=w$,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},"applyInstruction"),b$=G(e=>e!=null,"nonNullish"),w$=G(e=>e,"pass"),x$=G(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),T$=G(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),vu=G(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(vu);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=vu(e[r]));return t}return e},"_json");ZF(Eu,(nt(),z(PS)),wu.exports)});var Y_,ea,xu=y(()=>{Y_=v(F()),ea=(e,t)=>(0,Y_.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var En,Tu,jr,Ns=y(()=>{xu();En=(e,t)=>ea(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Tu=async(e,t)=>{let r=await En(e,t);return r.message=r.message??r.Message,r},jr=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var X_,Ds,Cu=y(()=>{pe();nt();X_=v(Te());sr();F_();Ns();Ds=class extends we{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,M_):await En(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=O.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(o,u));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._read(c,r[l]);u!=null&&(o[a]=u)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,X_.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Ae.from(r);if(s.isTimestampSchema()){let o=this.settings.timestampFormat;switch(o.useTrait?s.getSchema()===A.TIMESTAMP_DEFAULT?o.default:s.getSchema()??o.default:o.default){case A.TIMESTAMP_DATE_TIME:return Ss(r);case A.TIMESTAMP_HTTP_DATE:return ys(r);case A.TIMESTAMP_EPOCH_SECONDS:return _s(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof ye?r:new ye(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var Q_,ta,Z_=y(()=>{nt();Q_="\u039D",ta=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ye){let n=`${Q_+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Q_+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ks,Au=y(()=>{pe();nt();sr();Z_();ks=class extends we{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=O.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new ta;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=O.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(o,u));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._write(c,r[a],i);u!==void 0&&(o[l]=u)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(i===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(i.isTimestampSchema()&&r instanceof Date){let o=this.settings.timestampFormat;switch(o.useTrait?i.getSchema()===A.TIMESTAMP_DEFAULT?o.default:i.getSchema()??o.default:o.default){case A.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case A.TIMESTAMP_HTTP_DATE:return gs(r);case A.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return St();let o=i.getMergedTraits().mediaType;if(typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Ae.from(r)}return r}}}});var Hr,ra=y(()=>{sr();Cu();Au();Hr=class extends we{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ks(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ds(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var ev,Vr,na=y(()=>{Nt();pe();ev=v(Is());ra();Ns();Vr=class extends Or{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Hr({timestampFormat:{useTrait:!0,default:A.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${O.of(t).getName()}`}),(Ot(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,ev.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){let o=jr(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Ce.for(a),u;try{u=l.getSchema(o)}catch{let _=Ce.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(_){let b=_.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let p=O.of(u),m=s.message??s.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,s);let S={};for(let[g,_]of p.structIterator()){let b=_.getMergedTraits().jsonName??g;S[g]=this.codec.createDeserializer().readObject(_,s[b])}throw Object.assign(h,{$metadata:i,$response:n,$fault:p.getMergedTraits().error,message:m,...S}),h}}});var Ru,tv=y(()=>{na();Ru=class extends Vr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Pu,rv=y(()=>{na();Pu=class extends Vr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var sv,Iu,iv=y(()=>{Nt();pe();sv=v(Is());ra();Ns();Iu=class extends Ir{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:A.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Hr(r),this.serializer=new Mr(this.codec.createSerializer(),r),this.deserializer=new kr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=O.of(t.input),o=i.getMemberSchemas();if(!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:m,httpLabel:h,httpPrefixHeaders:S}=l.getMergedTraits();return!u&&!p&&!m&&!h&&S===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,sv.calculateBodyLength)(s.body))}catch{}return s}async handleError(t,r,n,s,i){let o=jr(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Ce.for(a),u;try{u=l.getSchema(o)}catch{let _=Ce.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(_){let b=_.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let p=O.of(u),m=s.message??s.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,s);let S={};for(let[g,_]of p.structIterator()){let b=_.getMergedTraits().jsonName??g;S[g]=this.codec.createDeserializer().readObject(_,s[b])}throw Object.assign(h,{$metadata:i,$response:n,$fault:p.getMergedTraits().error,message:m,...S}),h}getDefaultContentType(){return"application/json"}}});var ov,C$,av=y(()=>{ov=v(F()),C$=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ov.expectUnion)(e)}});function sa(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r}function dv(e){return typeof e<"u"}var cv,A$,R$,P$,Ms,ia=y(()=>{"use strict";cv=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",A$=cv+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",R$="["+cv+"]["+A$+"]*",P$=new RegExp("^"+R$+"$");Ms=function(e){let t=P$.exec(e);return!(t===null||typeof t>"u")}});function mv(e,t){t=Object.assign({},I$,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=uv(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=pv(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!L$(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",oe("InvalidTag",p,Pe(e,i))}let l=D$(e,i);if(l===!1)return oe("InvalidAttr","Attributes for '"+c+"' have open quote.",Pe(e,i));let u=l.value;if(i=l.index,u[u.length-1]==="/"){let p=i-u.length;u=u.substring(0,u.length-1);let m=fv(u,t);if(m===!0)n=!0;else return oe(m.err.code,m.err.msg,Pe(e,p+m.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return oe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Pe(e,o));if(r.length===0)return oe("InvalidTag","Closing tag '"+c+"' has not been opened.",Pe(e,o));{let p=r.pop();if(c!==p.tagName){let m=Pe(e,p.tagStartPos);return oe("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",Pe(e,o))}r.length==0&&(s=!0)}}else return oe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Pe(e,i));else{let p=fv(u,t);if(p!==!0)return oe(p.err.code,p.err.msg,Pe(e,i-u.length+p.err.line));if(s===!0)return oe("InvalidXml","Multiple possible root nodes found.",Pe(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=pv(e,i);continue}else if(e[i+1]==="?"){if(i=uv(e,++i),i.err)return i}else break;else if(e[i]==="&"){let p=F$(e,i);if(p==-1)return oe("InvalidChar","char '&' is not expected.",Pe(e,i));i=p}else if(s===!0&&!lv(e[i]))return oe("InvalidXml","Extra text at the end",Pe(e,i));e[i]==="<"&&i--}}else{if(lv(e[i]))continue;return oe("InvalidChar","char '"+e[i]+"' is not expected.",Pe(e,i))}if(n){if(r.length==1)return oe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Pe(e,r[0].tagStartPos));if(r.length>0)return oe("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return oe("InvalidXml","Start tag expected.",1);return!0}function lv(e){return e===" "||e==="	"||e===`
`||e==="\r"}function uv(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return oe("InvalidXml","XML declaration allowed only at the start of the document.",Pe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function pv(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function D$(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===O$||e[t]===N$)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function fv(e,t){let r=sa(e,k$),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return oe("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Fs(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return oe("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Fs(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return oe("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Fs(r[s]));let i=r[s][2];if(!$$(i))return oe("InvalidAttr","Attribute '"+i+"' is an invalid name.",Fs(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return oe("InvalidAttr","Attribute '"+i+"' is repeated.",Fs(r[s]))}return!0}function M$(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function F$(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,M$(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function oe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function $$(e){return Ms(e)}function L$(e){return Ms(e)}function Pe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Fs(e){return e.startIndex+e[1].length}var I$,O$,N$,k$,hv=y(()=>{"use strict";ia();I$={allowBooleanAttributes:!1,unpairedTags:[]};O$='"',N$="'";k$=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var U$,gv,Sv=y(()=>{U$={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},gv=function(e){return Object.assign({},U$,e)}});var oa,Fe,aa=y(()=>{"use strict";typeof Symbol!="function"?oa="@@xmlMetadata":oa=Symbol("XML Node Metadata");Fe=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][oa]={startIndex:r})}static getMetaDataSymbol(){return oa}}});function Ou(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&zr(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=j$(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(s&&zr(e,"!ELEMENT",t)){t+=8;let{index:a}=V$(e,t+1);t=a}else if(s&&zr(e,"!ATTLIST",t))t+=8;else if(s&&zr(e,"!NOTATION",t)){t+=9;let{index:a}=H$(e,t+1);t=a}else if(zr(e,"!--",t))i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function j$(e,t){t=or(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Nu(r),t=or(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=ca(e,t,"entity"),t--,[r,n,t]}function H$(e,t){t=or(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Nu(r),t=or(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=or(e,t);let s=null,i=null;if(n==="PUBLIC")[t,s]=ca(e,t,"publicIdentifier"),t=or(e,t),(e[t]==='"'||e[t]==="'")&&([t,i]=ca(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,i]=ca(e,t,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:i,index:--t}}function ca(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function V$(e,t){t=or(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Nu(r))throw new Error(`Invalid element name: "${r}"`);t=or(e,t);let n="";if(e[t]==="E"&&zr(e,"MPTY",t))t+=4;else if(e[t]==="A"&&zr(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function zr(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Nu(e){if(Ms(e))return e;throw new Error(`Invalid entity name ${e}`)}var or,yv=y(()=>{ia();or=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Du(e,t={}){if(t=Object.assign({},B$,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&z$.test(r))return J$(r,16);if(r.search(/.+[eE].+/)!==-1)return G$(e,r,t);{let n=q$.exec(r);if(n){let s=n[1]||"",i=n[2],o=K$(n[3]),a=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===o||l===`${s}${o}`?c:e;let u=i?o:r;return i?u===l||s+u===l?c:e:u===l||u===s+l?c:e}}else return e}}function G$(e,t,r){if(!r.eNotation)return e;let n=t.match(W$);if(n){let s=n[1]||"",i=n[3].indexOf("e")===-1?"E":"e",o=n[2],a=s?e[o.length+1]===i:e[o.length]===i;return o.length>1&&a?e:o.length===1&&(n[3].startsWith(`.${i}`)||n[3][0]===i)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function K$(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function J$(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var z$,q$,B$,W$,_v=y(()=>{z$=/^[-+]?0x[a-fA-F0-9]+$/,q$=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,B$={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};W$=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function ku(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var vv=y(()=>{});function Y$(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function X$(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Fu(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Fu(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Q$(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function eL(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=sa(e,Z$),s=n.length,i={};for(let o=0;o<s;o++){let a=this.resolveNameSpace(n[o][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,t);u==null?i[l]=c:typeof u!=typeof c||u!==c?i[l]=u:i[l]=Fu(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=i,o}return i}}function rL(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function sL(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function iL(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function oL(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function qr(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function Mu(e,t,r,n=">"){let s=oL(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let u=c;if(r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==s.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:u}}function aL(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=qr(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=qr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=qr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=qr(e,"]]>",r,"StopNode is not closed.")-2;else{let i=Mu(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function Fu(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Du(e,r)}else return dv(e)?e:""}var $s,Z$,tL,nL,Ev=y(()=>{"use strict";ia();aa();yv();_v();vv();$s=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Y$,this.parseXml=tL,this.parseTextData=X$,this.resolveNameSpace=Q$,this.buildAttributesMap=eL,this.isItStopNode=iL,this.replaceEntitiesValue=nL,this.readStopNodeData=aL,this.saveTextToParentTag=sL,this.addChild=rL,this.ignoreAttributesFn=ku(this.options.ignoreAttributes)}};Z$=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");tL=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Fe("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=qr(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=s.lastIndexOf("."),s=s.substring(0,u),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=Mu(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Fe(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s,i)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=qr(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=Ou(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=qr(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),i=a+2}else{let a=Mu(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,p=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let h=r;h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c);let S=i;if(this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),u=c):u=u.substr(0,u.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let b=this.readStopNodeData(e,l,m+1);if(!b)throw new Error(`Unexpected end of ${l}`);i=b.i,g=b.tagContent}let _=new Fe(c);c!==u&&p&&(_[":@"]=this.buildAttributesMap(u,s,c)),g&&(g=this.parseTextData(g,c,s,!0,p,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),_.add(this.options.textNodeName,g),this.addChild(r,_,s,S)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new Fe(c);c!==u&&p&&(g[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,g,s,S),s=s.substr(0,s.lastIndexOf("."))}else{let g=new Fe(c);this.tagsNodeStack.push(r),c!==u&&p&&(g[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,g,s,S),r=g}n="",i=m}}else n+=e[i];return t.child};nL=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Lu(e,t){return bv(e,t)}function bv(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=cL(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=bv(o[a],t,c),u=lL(l,t);o[$u]!==void 0&&(l[$u]=o[$u]),o[":@"]?dL(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):t.isArray(a,c,u)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function cL(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function dL(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function lL(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var $u,wv=y(()=>{"use strict";aa();$u=Fe.getMetaDataSymbol()});var ar,xv=y(()=>{Sv();Ev();wv();hv();aa();ar=class{constructor(t){this.externalEntities={},this.options=gv(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=mv(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new $s(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:Lu(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Fe.getMetaDataSymbol()}}});var Uu=y(()=>{"use strict";xv()});var Tv,Cv,Br,da=y(()=>{Nt();pe();Tv=v(F()),Cv=v(ge());Uu();sr();Br=class extends we{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Dr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=O.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(i)[0];return i[u].isBlobSchema()?l[u]=r:l[u]=this.read(i[u],r),l}let a=(this.serdeContext?.utf8Encoder??Cv.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=O.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",p=o?r:(r[0]??r)[u],m=Array.isArray(p)?p:[p];for(let h of m)(h!=null||i)&&l.push(this.readSchema(c,h));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;o?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let p=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let h of u){let S=h[p],g=h[m];(g!=null||i)&&(a[S]=this.readSchema(l,g))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let u=l.getMergedTraits(),p=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[p]!=null&&(a[c]=this.readSchema(l,r[p]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new ar({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Tv.getValueFromTextNode)(o)}return{}}}});var Av,Rv,la,Pv=y(()=>{Nt();pe();nt();Av=v(F()),Rv=v(Te());sr();la=class extends we{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=O.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Rv.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(St()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ye?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Nr(s,this.settings)){case A.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case A.TIMESTAMP_HTTP_DATE:this.writeValue((0,Av.dateToUtcString)(r));break;case A.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),u=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,u),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let p=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`,h=this.getKey("value",o.getMergedTraits().xmlName),S=a?`${n}${c}.${h}`:`${n}entry.${c}.${h}`;this.write(i,l,m),this.write(o,u,S),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${mt(t)}=`}writeValue(t){this.buffer+=mt(t)}}});var Iv,Ls,ju=y(()=>{Nt();pe();Iv=v(Is());da();Pv();Ls=class extends Or{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:A.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new la(r),this.deserializer=new Br(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Ot(t.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,Iv.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,i=O.of(t.output),o={};if(n.statusCode>=300){let u=await rt(n.body,r);u.byteLength>0&&Object.assign(o,await s.read(A.DOCUMENT,u)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let a=i.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await rt(n.body,r);return c.byteLength>0&&Object.assign(o,await s.read(i,c,a)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=this.loadQueryError(s),u=Ce.for(a),p;try{p=u.find(_=>O.of(_).getMergedTraits().awsQueryError?.[0]===c),p||(p=u.getSchema(o))}catch{let b=Ce.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let m=O.of(p),h=this.loadQueryErrorMessage(s),S=new p.ctor(h),g={};for(let[_,b]of m.structIterator()){let w=b.getMergedTraits().xmlName??_,I=l[w]??s[w];g[_]=this.deserializer.readSchema(b,I)}throw Object.assign(S,{$metadata:i,$response:n,$fault:m.getMergedTraits().error,message:h,...g}),S}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Hu,Ov=y(()=>{ju();Hu=class extends Ls{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Nv,Us,Vu,zu,qu=y(()=>{Nv=v(F());Uu();xu();Us=(e,t)=>ea(e,t).then(r=>{if(r.length){let n=new ar({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,Nv.getValueFromTextNode)(a)}return{}}),Vu=async(e,t)=>{let r=await Us(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},zu=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Lv=E(($X,$v)=>{"use strict";var pa=Object.defineProperty,uL=Object.getOwnPropertyDescriptor,pL=Object.getOwnPropertyNames,fL=Object.prototype.hasOwnProperty,fa=(e,t)=>pa(e,"name",{value:t,configurable:!0}),mL=(e,t)=>{for(var r in t)pa(e,r,{get:t[r],enumerable:!0})},hL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pL(t))!fL.call(e,s)&&s!==r&&pa(e,s,{get:()=>t[s],enumerable:!(n=uL(t,s))||n.enumerable});return e},gL=e=>hL(pa({},"__esModule",{value:!0}),e),Dv={};mL(Dv,{XmlNode:()=>SL,XmlText:()=>Fv});$v.exports=gL(Dv);function kv(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}fa(kv,"escapeAttribute");function Mv(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}fa(Mv,"escapeElement");var Fv=class{constructor(e){this.value=e}static{fa(this,"XmlText")}toString(){return Mv(""+this.value)}},SL=class ua{constructor(t,r=[]){this.name=t,this.children=r}static{fa(this,"XmlNode")}attributes={};static of(t,r,n){let s=new ua(t);return r!==void 0&&s.addChildNode(new Fv(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=ua.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new ua(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${kv(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Ve,Bu,ma,js,Wu=y(()=>{Ve=v(Lv());pe();nt();Bu=v(F()),ma=v(Te());sr();js=class extends we{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=O.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??ma.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=Ve.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);c&&o.addAttribute(a,c);for(let[l,u]of t.structIterator()){let p=r[l];if(p!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){o.addAttribute(u.getMergedTraits().xmlName??l,this.writeSimple(u,p));continue}if(u.isListSchema())this.writeList(u,p,o,c);else if(u.isMapSchema())this.writeMap(u,p,o,c);else if(u.isStructSchema())o.addChildNode(this.writeStruct(u,p,c));else{let m=Ve.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,p,m,c),o.addChildNode(m)}}}return o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[u,p]=this.getXmlnsAttribute(t,s),m=(h,S)=>{if(o.isListSchema())this.writeList(o,Array.isArray(S)?S:[S],h,p);else if(o.isMapSchema())this.writeMap(o,S,h,p);else if(o.isStructSchema()){let g=this.writeStruct(o,S,p);h.addChildNode(g.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let g=Ve.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,S,g,p),h.addChildNode(g)}};if(l)for(let h of r)(c||h!=null)&&m(n,h);else{let h=Ve.XmlNode.of(i.xmlName??t.getMemberName());p&&h.addAttribute(u,p);for(let S of r)(c||S!=null)&&m(h,S);n.addChildNode(h)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",u=t.getValueSchema(),p=u.getMergedTraits(),m=p.xmlName??"value",h=!!p.sparse,S=!!o.xmlFlattened,[g,_]=this.getXmlnsAttribute(t,s),b=(w,I,T)=>{let P=Ve.XmlNode.of(l,I),[D,be]=this.getXmlnsAttribute(a,_);be&&P.addAttribute(D,be),w.addChildNode(P);let Z=Ve.XmlNode.of(m);u.isListSchema()?this.writeList(u,T,Z,_):u.isMapSchema()?this.writeMap(u,T,Z,_,!0):u.isStructSchema()?Z=this.writeStruct(u,T,_):this.writeSimpleInto(u,T,Z,_),w.addChildNode(Z)};if(S){for(let[w,I]of Object.entries(r))if(h||I!=null){let T=Ve.XmlNode.of(o.xmlName??t.getMemberName());b(T,w,I),n.addChildNode(T)}}else{let w;i||(w=Ve.XmlNode.of(o.xmlName??t.getMemberName()),_&&w.addAttribute(g,_),n.addChildNode(w));for(let[I,T]of Object.entries(r))if(h||T!=null){let P=Ve.XmlNode.of("entry");b(P,I,T),(i?n:w).addChildNode(P)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=O.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??ma.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?n.getSchema()===A.TIMESTAMP_DEFAULT?i.default:n.getSchema()??i.default:i.default){case A.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case A.TIMESTAMP_HTTP_DATE:s=(0,Bu.dateToUtcString)(r);break;case A.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Bu.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof ye?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=St():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=O.of(t),a=new Ve.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var Hs,Gu=y(()=>{sr();da();Wu();Hs=class extends we{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new js(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Br(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Uv,Ku,jv=y(()=>{Nt();pe();Uv=v(Is());qu();Gu();Ku=class extends Ir{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:A.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Hs(r),this.serializer=new Mr(this.codec.createSerializer(),r),this.deserializer=new kr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=O.of(t.input),o=i.getMemberSchemas();if(s.path=String(s.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let a=Object.values(o).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else i.isUnitSchema()||Object.values(o).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:m,httpLabel:h,httpPrefixHeaders:S}=l.getMergedTraits();return!u&&!p&&!m&&!h&&S===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,Uv.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=zu(n,s)??"Unknown",a=this.options.defaultNamespace,c=o;o.includes("#")&&([a,c]=o.split("#"));let l=Ce.for(a),u;try{u=l.getSchema(o)}catch{let _=Ce.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(_){let b=_.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let p=O.of(u),m=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,s);let S={};for(let[g,_]of p.structIterator()){let b=_.getMergedTraits().xmlName??g,w=s.Error?.[b]??s[b];S[g]=this.codec.createDeserializer().readSchema(_,w)}throw Object.assign(h,{$metadata:i,$response:n,$fault:p.getMergedTraits().error,message:m,...S}),h}getDefaultContentType(){return"application/xml"}}});var Hv=y(()=>{O_();tv();rv();na();iv();ra();Cu();Au();av();Ns();Ov();ju();jv();Gu();da();Wu();qu()});var yt={};et(yt,{AWSSDKSigV4Signer:()=>eu,AwsEc2QueryProtocol:()=>Hu,AwsJson1_0Protocol:()=>Ru,AwsJson1_1Protocol:()=>Pu,AwsJsonRpcProtocol:()=>Vr,AwsQueryProtocol:()=>Ls,AwsRestJsonProtocol:()=>Iu,AwsRestXmlProtocol:()=>Ku,AwsSdkSigV4ASigner:()=>Ps,AwsSdkSigV4Signer:()=>De,JsonCodec:()=>Hr,JsonShapeDeserializer:()=>Ds,JsonShapeSerializer:()=>ks,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>_n,NODE_SIGV4A_CONFIG_OPTIONS:()=>Yy,XmlCodec:()=>Hs,XmlShapeDeserializer:()=>Br,XmlShapeSerializer:()=>js,_toBool:()=>DF,_toNum:()=>kF,_toStr:()=>NF,awsExpectUnion:()=>C$,emitWarningIfUnsupportedVersion:()=>gn,getBearerTokenEnvKey:()=>Ho,loadRestJsonErrorCode:()=>jr,loadRestXmlErrorCode:()=>zu,parseJsonBody:()=>En,parseJsonErrorBody:()=>Tu,parseXmlBody:()=>Us,parseXmlErrorBody:()=>Vu,resolveAWSSDKSigV4Config:()=>A_,resolveAwsSdkSigV4AConfig:()=>Jy,resolveAwsSdkSigV4Config:()=>Lr,setCredentialFeature:()=>tr,setFeature:()=>Ry,setTokenFeature:()=>Iy,state:()=>jo,validateSigningProperties:()=>yn});var fe=y(()=>{st();hu();Hv()});var bn=E((_Q,Zv)=>{"use strict";var ga=Object.defineProperty,yL=Object.getOwnPropertyDescriptor,_L=Object.getOwnPropertyNames,vL=Object.prototype.hasOwnProperty,Mt=(e,t)=>ga(e,"name",{value:t,configurable:!0}),EL=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},bL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _L(t))!vL.call(e,s)&&s!==r&&ga(e,s,{get:()=>t[s],enumerable:!(n=yL(t,s))||n.enumerable});return e},wL=e=>bL(ga({},"__esModule",{value:!0}),e),Bv={};EL(Bv,{DEFAULT_UA_APP_ID:()=>Wv,getUserAgentMiddlewareOptions:()=>Qv,getUserAgentPlugin:()=>OL,resolveUserAgentConfig:()=>Kv,userAgentMiddleware:()=>Xv});Zv.exports=wL(Bv);var xL=(Oe(),z(fn)),Wv=void 0;function Gv(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Mt(Gv,"isValidUserAgentAppId");function Kv(e){let t=(0,xL.normalizeProvider)(e.userAgentAppId??Wv),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Mt(async()=>{let n=await t();if(!Gv(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Mt(Kv,"resolveUserAgentConfig");var TL=hn(),CL=te(),_t=(fe(),z(yt)),AL=/\d{12}\.ddb/;async function Jv(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,_t.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?(0,_t.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,_t.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,_t.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(AL)&&(0,_t.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,_t.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,_t.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,_t.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&(0,_t.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))(0,_t.setFeature)(e,o,a)}}Mt(Jv,"checkFeatures");var Vv="user-agent",Ju="x-amz-user-agent",zv=" ",Yu="/",RL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,PL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,qv="-",IL=1024;function Yv(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=IL){t.length?t+=","+n:t+=n;continue}break}return t}Mt(Yv,"encodeFeatures");var Xv=Mt(e=>(t,r)=>async n=>{let{request:s}=n;if(!CL.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(ha)||[],a=(await e.defaultUserAgentProvider()).map(ha);await Jv(r,e,n);let c=r;a.push(`m/${Yv(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(ha)||[],u=await e.userAgentAppId();u&&a.push(ha([`app/${u}`]));let p=(0,TL.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...a,...o,...l]).join(zv),h=[...a.filter(S=>S.startsWith("aws-sdk-")),...l].join(zv);return e.runtime!=="browser"?(h&&(i[Ju]=i[Ju]?`${i[Vv]} ${h}`:h),i[Vv]=m):i[Ju]=m,t({...n,request:s})},"userAgentMiddleware"),ha=Mt(e=>{let t=e[0].split(Yu).map(o=>o.replace(RL,qv)).join(Yu),r=e[1]?.replace(PL,qv),n=t.indexOf(Yu),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),Qv={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},OL=Mt(e=>({applyToStack:Mt(t=>{t.add(Xv(e),Qv)},"applyToStack")}),"getUserAgentPlugin")});var sE=E((vQ,nE)=>{var Sa=Object.defineProperty,NL=Object.getOwnPropertyDescriptor,DL=Object.getOwnPropertyNames,kL=Object.prototype.hasOwnProperty,eE=(e,t)=>Sa(e,"name",{value:t,configurable:!0}),ML=(e,t)=>{for(var r in t)Sa(e,r,{get:t[r],enumerable:!0})},FL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of DL(t))!kL.call(e,s)&&s!==r&&Sa(e,s,{get:()=>t[s],enumerable:!(n=NL(t,s))||n.enumerable});return e},$L=e=>FL(Sa({},"__esModule",{value:!0}),e),tE={};ML(tE,{SelectorType:()=>rE,booleanSelector:()=>LL,numberSelector:()=>UL});nE.exports=$L(tE);var LL=eE((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),UL=eE((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),rE=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(rE||{})});var vt=E((EQ,hE)=>{var _a=Object.defineProperty,jL=Object.getOwnPropertyDescriptor,HL=Object.getOwnPropertyNames,VL=Object.prototype.hasOwnProperty,it=(e,t)=>_a(e,"name",{value:t,configurable:!0}),zL=(e,t)=>{for(var r in t)_a(e,r,{get:t[r],enumerable:!0})},qL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HL(t))!VL.call(e,s)&&s!==r&&_a(e,s,{get:()=>t[s],enumerable:!(n=jL(t,s))||n.enumerable});return e},BL=e=>qL(_a({},"__esModule",{value:!0}),e),aE={};zL(aE,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>dE,CONFIG_USE_FIPS_ENDPOINT:()=>uE,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>WL,DEFAULT_USE_FIPS_ENDPOINT:()=>KL,ENV_USE_DUALSTACK_ENDPOINT:()=>cE,ENV_USE_FIPS_ENDPOINT:()=>lE,NODE_REGION_CONFIG_FILE_OPTIONS:()=>e2,NODE_REGION_CONFIG_OPTIONS:()=>ZL,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>GL,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>JL,REGION_ENV_NAME:()=>pE,REGION_INI_NAME:()=>fE,getRegionInfo:()=>i2,resolveCustomEndpointsConfig:()=>YL,resolveEndpointsConfig:()=>QL,resolveRegionConfig:()=>t2});hE.exports=BL(aE);var cr=sE(),cE="AWS_USE_DUALSTACK_ENDPOINT",dE="use_dualstack_endpoint",WL=!1,GL={environmentVariableSelector:e=>(0,cr.booleanSelector)(e,cE,cr.SelectorType.ENV),configFileSelector:e=>(0,cr.booleanSelector)(e,dE,cr.SelectorType.CONFIG),default:!1},lE="AWS_USE_FIPS_ENDPOINT",uE="use_fips_endpoint",KL=!1,JL={environmentVariableSelector:e=>(0,cr.booleanSelector)(e,lE,cr.SelectorType.ENV),configFileSelector:e=>(0,cr.booleanSelector)(e,uE,cr.SelectorType.CONFIG),default:!1},ya=tt(),YL=it(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,ya.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,ya.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),XL=it(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),QL=it(e=>{let t=(0,ya.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?(0,ya.normalizeProvider)(typeof r=="string"?s(r):r):()=>XL({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),pE="AWS_REGION",fE="region",ZL={environmentVariableSelector:e=>e[pE],configFileSelector:e=>e[fE],default:()=>{throw new Error("Region is missing")}},e2={preferredFile:"credentials"},mE=it(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),iE=it(e=>mE(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),t2=it(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return iE(t);let n=await t();return iE(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return mE(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),oE=it((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),r2=it((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),n2=it((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),s2=it((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),i2=it((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=n2(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=oE(s[a]?.variants,c),u=oE(i[o]?.variants,c),p=r2(a,{regionHostname:l,partitionHostname:u});if(p===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=s2(p,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:p,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var Vs=E((bQ,vE)=>{var va=Object.defineProperty,o2=Object.getOwnPropertyDescriptor,a2=Object.getOwnPropertyNames,c2=Object.prototype.hasOwnProperty,SE=(e,t)=>va(e,"name",{value:t,configurable:!0}),d2=(e,t)=>{for(var r in t)va(e,r,{get:t[r],enumerable:!0})},l2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of a2(t))!c2.call(e,s)&&s!==r&&va(e,s,{get:()=>t[s],enumerable:!(n=o2(t,s))||n.enumerable});return e},u2=e=>l2(va({},"__esModule",{value:!0}),e),yE={};d2(yE,{contentLengthMiddleware:()=>Xu,contentLengthMiddlewareOptions:()=>_E,getContentLengthPlugin:()=>f2});vE.exports=u2(yE);var p2=te(),gE="content-length";function Xu(e){return t=>async r=>{let n=r.request;if(p2.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(gE)===-1)try{let o=e(s);n.headers={...n.headers,[gE]:String(o)}}catch{}}return t({...r,request:n})}}SE(Xu,"contentLengthMiddleware");var _E={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},f2=SE(e=>({applyToStack:t=>{t.add(Xu(e.bodyLengthChecker),_E)}}),"getContentLengthPlugin")});var wn=E(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.getHomeDir=void 0;var m2=require("os"),h2=require("path"),Qu={},g2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",S2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${h2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=g2();return Qu[s]||(Qu[s]=(0,m2.homedir)()),Qu[s]};Ea.getHomeDir=S2});var Zu=E(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.getSSOTokenFilepath=void 0;var y2=require("crypto"),_2=require("path"),v2=wn(),E2=e=>{let r=(0,y2.createHash)("sha1").update(e).digest("hex");return(0,_2.join)((0,v2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ba.getSSOTokenFilepath=E2});var EE=E(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.getSSOTokenFromFile=void 0;var b2=require("fs"),w2=Zu(),{readFile:x2}=b2.promises,T2=async e=>{let t=(0,w2.getSSOTokenFilepath)(e),r=await x2(t,"utf8");return JSON.parse(r)};wa.getSSOTokenFromFile=T2});var tp=E(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.slurpFile=void 0;var C2=require("fs"),{readFile:A2}=C2.promises,ep={},R2=(e,t)=>((!ep[e]||t?.ignoreCache)&&(ep[e]=A2(e,"utf8")),ep[e]);xa.slurpFile=R2});var dr=E((AQ,qs)=>{var Aa=Object.defineProperty,P2=Object.getOwnPropertyDescriptor,I2=Object.getOwnPropertyNames,O2=Object.prototype.hasOwnProperty,ze=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),N2=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},rp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of I2(t))!O2.call(e,s)&&s!==r&&Aa(e,s,{get:()=>t[s],enumerable:!(n=P2(t,s))||n.enumerable});return e},sp=(e,t,r)=>(rp(e,t,"default"),r&&rp(r,t,"default")),D2=e=>rp(Aa({},"__esModule",{value:!0}),e),zs={};N2(zs,{CONFIG_PREFIX_SEPARATOR:()=>Wr,DEFAULT_PROFILE:()=>TE,ENV_PROFILE:()=>xE,getProfileName:()=>k2,loadSharedConfigFiles:()=>AE,loadSsoSessionData:()=>G2,parseKnownFiles:()=>J2});qs.exports=D2(zs);sp(zs,wn(),qs.exports);var xE="AWS_PROFILE",TE="default",k2=ze(e=>e.profile||process.env[xE]||TE,"getProfileName");sp(zs,Zu(),qs.exports);sp(zs,EE(),qs.exports);var Ta=lt(),M2=ze(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Wr);return r===-1?!1:Object.values(Ta.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Wr),i=r.substring(0,s)===Ta.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ca=require("path"),F2=wn(),$2="AWS_CONFIG_FILE",CE=ze(()=>process.env[$2]||(0,Ca.join)((0,F2.getHomeDir)(),".aws","config"),"getConfigFilepath"),L2=wn(),U2="AWS_SHARED_CREDENTIALS_FILE",j2=ze(()=>process.env[U2]||(0,Ca.join)((0,L2.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),H2=wn(),V2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,z2=["__proto__","profile __proto__"],np=ze(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=V2.exec(a);if(c){let[,l,,u]=c;Object.values(Ta.IniSectionType).includes(l)&&(r=[l,u].join(Wr))}else r=a;if(z2.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Wr):c;t[r][u]=l}}}}return t},"parseIni"),bE=tp(),wE=ze(()=>({}),"swallowError"),Wr=".",AE=ze(async(e={})=>{let{filepath:t=j2(),configFilepath:r=CE()}=e,n=(0,H2.getHomeDir)(),s="~/",i=t;t.startsWith(s)&&(i=(0,Ca.join)(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=(0,Ca.join)(n,r.slice(2)));let a=await Promise.all([(0,bE.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(np).then(M2).catch(wE),(0,bE.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(np).catch(wE)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),q2=ze(e=>Object.entries(e).filter(([t])=>t.startsWith(Ta.IniSectionType.SSO_SESSION+Wr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Wr)+1)]:n}),{}),"getSsoSessionData"),B2=tp(),W2=ze(()=>({}),"swallowError"),G2=ze(async(e={})=>(0,B2.slurpFile)(e.configFilepath??CE()).then(np).then(q2).catch(W2),"loadSsoSessionData"),K2=ze((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),J2=ze(async e=>{let t=await AE(e);return K2(t.configFile,t.credentialsFile)},"parseKnownFiles")});var lr=E((RQ,IE)=>{var Ra=Object.defineProperty,Y2=Object.getOwnPropertyDescriptor,X2=Object.getOwnPropertyNames,Q2=Object.prototype.hasOwnProperty,xn=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),Z2=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},eU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of X2(t))!Q2.call(e,s)&&s!==r&&Ra(e,s,{get:()=>t[s],enumerable:!(n=Y2(t,s))||n.enumerable});return e},tU=e=>eU(Ra({},"__esModule",{value:!0}),e),PE={};Z2(PE,{loadConfig:()=>oU});IE.exports=tU(PE);var Bs=Re();function ip(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}xn(ip,"getSelectorName");var rU=xn((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Bs.CredentialsProviderError(r.message||`Not found in ENV: ${ip(e.toString())}`,{logger:t?.logger})}},"fromEnv"),RE=dr(),nU=xn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,RE.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,RE.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let u=e(c,t==="config"?s:i);if(u===void 0)throw new Error;return u}catch(l){throw new Bs.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${ip(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),sU=xn(e=>typeof e=="function","isFunction"),iU=xn(e=>sU(e)?async()=>await e():(0,Bs.fromStatic)(e),"fromStatic"),oU=xn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return(0,Bs.memoize)((0,Bs.chain)(rU(e,o),nU(t,n),iU(r)))},"loadConfig")});var kE=E(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.getEndpointUrlConfig=void 0;var OE=dr(),NE="AWS_ENDPOINT_URL",DE="endpoint_url",aU=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[NE,...r].join("_")];if(n)return n;let s=t[NE];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(OE.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),DE].join(OE.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[DE];if(n)return n},default:void 0});Pa.getEndpointUrlConfig=aU});var op=E(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.getEndpointFromConfig=void 0;var cU=lr(),dU=kE(),lU=async e=>(0,cU.loadConfig)((0,dU.getEndpointUrlConfig)(e??""))();Ia.getEndpointFromConfig=lU});var ur=E((OQ,HE)=>{var Na=Object.defineProperty,uU=Object.getOwnPropertyDescriptor,pU=Object.getOwnPropertyNames,fU=Object.prototype.hasOwnProperty,qe=(e,t)=>Na(e,"name",{value:t,configurable:!0}),mU=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},hU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pU(t))!fU.call(e,s)&&s!==r&&Na(e,s,{get:()=>t[s],enumerable:!(n=uU(t,s))||n.enumerable});return e},gU=e=>hU(Na({},"__esModule",{value:!0}),e),FE={};mU(FE,{endpointMiddleware:()=>UE,endpointMiddlewareOptions:()=>jE,getEndpointFromInstructions:()=>$E,getEndpointPlugin:()=>AU,resolveEndpointConfig:()=>PU,resolveEndpointRequiredConfig:()=>IU,resolveParams:()=>LE,toEndpointV1:()=>ap});HE.exports=gU(FE);var SU=qe(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),bU(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!EU(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),yU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,_U=/(\d+\.){3}\d+/,vU=/\.\./,EU=qe(e=>yU.test(e)&&!_U.test(e)&&!vU.test(e),"isDnsCompatibleBucketName"),bU=qe(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),wU=qe((e,t,r)=>{let n=qe(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),xU=op(),ME=Zt(),ap=qe(e=>typeof e=="object"?"url"in e?(0,ME.parseUrl)(e.url):e:(0,ME.parseUrl)(e),"toEndpointV1"),$E=qe(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,xU.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(ap(o)),r.isCustomEndpoint=!0)}let s=await LE(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),LE=qe(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await wU(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await SU(n),n},"resolveParams"),TU=(Oe(),z(fn)),Oa=tt(),UE=qe(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,TU.setFeature)(n,"ENDPOINT_OVERRIDE","N");let i=await $E(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,Oa.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},"endpointMiddleware"),CU=Kt(),jE={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:CU.serializerMiddlewareOption.name},AU=qe((e,t)=>({applyToStack:r=>{r.addRelativeTo(UE({config:e,instructions:t}),jE)}}),"getEndpointPlugin"),RU=op(),PU=qe(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>ap(await(0,Oa.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Oa.normalizeProvider)(n??!1),useFipsEndpoint:(0,Oa.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,RU.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),IU=qe(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var dp=E((NQ,BE)=>{var Da=Object.defineProperty,OU=Object.getOwnPropertyDescriptor,NU=Object.getOwnPropertyNames,DU=Object.prototype.hasOwnProperty,Gr=(e,t)=>Da(e,"name",{value:t,configurable:!0}),kU=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},MU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NU(t))!DU.call(e,s)&&s!==r&&Da(e,s,{get:()=>t[s],enumerable:!(n=OU(t,s))||n.enumerable});return e},FU=e=>MU(Da({},"__esModule",{value:!0}),e),VE={};kU(VE,{isBrowserNetworkError:()=>qE,isClockSkewCorrectedError:()=>zE,isClockSkewError:()=>qU,isRetryableByTrait:()=>zU,isServerError:()=>WU,isThrottlingError:()=>BU,isTransientError:()=>cp});BE.exports=FU(VE);var $U=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],LU=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],UU=["TimeoutError","RequestTimeout","RequestTimeoutException"],jU=[500,502,503,504],HU=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],VU=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],zU=Gr(e=>e.$retryable!==void 0,"isRetryableByTrait"),qU=Gr(e=>$U.includes(e.name),"isClockSkewError"),zE=Gr(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),qE=Gr(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),BU=Gr(e=>e.$metadata?.httpStatusCode===429||LU.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),cp=Gr((e,t=0)=>zE(e)||UU.includes(e.name)||HU.includes(e?.code||"")||VU.includes(e?.code||"")||jU.includes(e.$metadata?.httpStatusCode||0)||qE(e)||e.cause!==void 0&&t<=10&&cp(e.cause,t+1),"isTransientError"),WU=Gr(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!cp(e)}return!1},"isServerError")});var Tn=E((DQ,tb)=>{var ka=Object.defineProperty,GU=Object.getOwnPropertyDescriptor,KU=Object.getOwnPropertyNames,JU=Object.prototype.hasOwnProperty,ot=(e,t)=>ka(e,"name",{value:t,configurable:!0}),YU=(e,t)=>{for(var r in t)ka(e,r,{get:t[r],enumerable:!0})},XU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KU(t))!JU.call(e,s)&&s!==r&&ka(e,s,{get:()=>t[s],enumerable:!(n=GU(t,s))||n.enumerable});return e},QU=e=>XU(ka({},"__esModule",{value:!0}),e),GE={};YU(GE,{AdaptiveRetryStrategy:()=>s3,ConfiguredRetryStrategy:()=>i3,DEFAULT_MAX_ATTEMPTS:()=>lp,DEFAULT_RETRY_DELAY_BASE:()=>Ws,DEFAULT_RETRY_MODE:()=>ZU,DefaultRateLimiter:()=>JE,INITIAL_RETRY_TOKENS:()=>up,INVOCATION_ID_HEADER:()=>t3,MAXIMUM_RETRY_DELAY:()=>pp,NO_RETRY_INCREMENT:()=>eb,REQUEST_HEADER:()=>r3,RETRY_COST:()=>QE,RETRY_MODES:()=>KE,StandardRetryStrategy:()=>fp,THROTTLING_RETRY_DELAY_BASE:()=>XE,TIMEOUT_RETRY_COST:()=>ZE});tb.exports=QU(GE);var KE=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(KE||{}),lp=3,ZU="standard",e3=dp(),JE=class YE{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{ot(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>YE.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,e3.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ws=100,pp=20*1e3,XE=500,up=500,QE=5,ZE=10,eb=1,t3="amz-sdk-invocation-id",r3="amz-sdk-request",n3=ot(()=>{let e=Ws;return{computeNextBackoffDelay:ot(n=>Math.floor(Math.min(pp,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:ot(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),WE=ot(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:ot(()=>t,"getRetryCount"),getRetryDelay:ot(()=>Math.min(pp,e),"getRetryDelay"),getRetryCost:ot(()=>r,"getRetryCost")}),"createDefaultRetryToken"),fp=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=up,this.retryBackoffStrategy=n3(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{ot(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return WE({retryDelay:Ws,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?XE:Ws);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,o=this.getCapacityCost(n);return this.capacity-=o,WE({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(up,this.capacity+(e.getRetryCost()??eb))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${lp}`),lp}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?ZE:QE}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},s3=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new JE,this.standardRetryStrategy=new fp(e)}static{ot(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},i3=class extends fp{static{ot(this,"ConfiguredRetryStrategy")}constructor(e,t=Ws){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var rb=E(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.isStreamingPayload=void 0;var o3=require("stream"),a3=e=>e?.body instanceof o3.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Ma.isStreamingPayload=a3});var Ft=E((LQ,Sb)=>{var Fa=Object.defineProperty,c3=Object.getOwnPropertyDescriptor,d3=Object.getOwnPropertyNames,l3=Object.prototype.hasOwnProperty,ce=(e,t)=>Fa(e,"name",{value:t,configurable:!0}),u3=(e,t)=>{for(var r in t)Fa(e,r,{get:t[r],enumerable:!0})},p3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of d3(t))!l3.call(e,s)&&s!==r&&Fa(e,s,{get:()=>t[s],enumerable:!(n=c3(t,s))||n.enumerable});return e},f3=e=>p3(Fa({},"__esModule",{value:!0}),e),sb={};u3(sb,{AdaptiveRetryStrategy:()=>g3,CONFIG_MAX_ATTEMPTS:()=>hp,CONFIG_RETRY_MODE:()=>ub,ENV_MAX_ATTEMPTS:()=>mp,ENV_RETRY_MODE:()=>lb,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>S3,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>_3,StandardRetryStrategy:()=>db,defaultDelayDecider:()=>ob,defaultRetryDecider:()=>ab,getOmitRetryHeadersPlugin:()=>v3,getRetryAfterHint:()=>gb,getRetryPlugin:()=>C3,omitRetryHeadersMiddleware:()=>pb,omitRetryHeadersMiddlewareOptions:()=>fb,resolveRetryConfig:()=>y3,retryMiddleware:()=>mb,retryMiddlewareOptions:()=>hb});Sb.exports=f3(sb);var Cn=te(),ib=(Po(),z(Il)),se=Tn(),m3=ce((e,t)=>{let r=e,n=t?.noRetryIncrement??se.NO_RETRY_INCREMENT,s=t?.retryCost??se.RETRY_COST,i=t?.timeoutRetryCost??se.TIMEOUT_RETRY_COST,o=e,a=ce(p=>p.name==="TimeoutError"?i:s,"getCapacityAmount"),c=ce(p=>a(p)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ce(p=>{if(!c(p))throw new Error("No retry token available");let m=a(p);return o-=m,m},"retrieveRetryTokens"),releaseRetryTokens:ce(p=>{o+=p??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),ob=ce((e,t)=>Math.floor(Math.min(se.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),pr=dp(),ab=ce(e=>e?(0,pr.isRetryableByTrait)(e)||(0,pr.isClockSkewError)(e)||(0,pr.isThrottlingError)(e)||(0,pr.isTransientError)(e):!1,"defaultRetryDecider"),cb=ce(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),db=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=se.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??ab,this.delayDecider=t?.delayDecider??ob,this.retryQuota=t?.retryQuota??m3(se.INITIAL_RETRY_TOKENS)}static{ce(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=se.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,i=0,o=await this.getMaxAttempts(),{request:a}=t;for(Cn.HttpRequest.isInstance(a)&&(a.headers[se.INVOCATION_ID_HEADER]=(0,ib.v4)());;)try{Cn.HttpRequest.isInstance(a)&&(a.headers[se.REQUEST_HEADER]=`attempt=${s+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:c,output:l}}catch(c){let l=cb(c);if(s++,this.shouldRetry(l,s,o)){n=this.retryQuota.retrieveRetryTokens(l);let u=this.delayDecider((0,pr.isThrottlingError)(l)?se.THROTTLING_RETRY_DELAY_BASE:se.DEFAULT_RETRY_DELAY_BASE,s),p=h3(l.$response),m=Math.max(p||0,u);i+=m,await new Promise(h=>setTimeout(h,m));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},h3=ce(e=>{if(!Cn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),g3=class extends db{static{ce(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new se.DefaultRateLimiter,this.mode=se.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},nb=tt(),mp="AWS_MAX_ATTEMPTS",hp="max_attempts",S3={environmentVariableSelector:e=>{let t=e[mp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${mp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[hp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${hp} mast be a number, got "${t}"`);return r},default:se.DEFAULT_MAX_ATTEMPTS},y3=ce(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,nb.normalizeProvider)(n??se.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await(0,nb.normalizeProvider)(r)()===se.RETRY_MODES.ADAPTIVE?new se.AdaptiveRetryStrategy(s):new se.StandardRetryStrategy(s))})},"resolveRetryConfig"),lb="AWS_RETRY_MODE",ub="retry_mode",_3={environmentVariableSelector:e=>e[lb],configFileSelector:e=>e[ub],default:se.DEFAULT_RETRY_MODE},pb=ce(()=>e=>async t=>{let{request:r}=t;return Cn.HttpRequest.isInstance(r)&&(delete r.headers[se.INVOCATION_ID_HEADER],delete r.headers[se.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),fb={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},v3=ce(e=>({applyToStack:t=>{t.addRelativeTo(pb(),fb)}}),"getOmitRetryHeadersPlugin"),E3=F(),b3=rb(),mb=ce(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(w3(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,p=Cn.HttpRequest.isInstance(u);for(p&&(u.headers[se.INVOCATION_ID_HEADER]=(0,ib.v4)());;)try{p&&(u.headers[se.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:m,output:h}=await t(n);return s.recordSuccess(o),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=l,{response:m,output:h}}catch(m){let h=x3(m);if(a=cb(m),p&&(0,b3.isStreamingPayload)(u))throw(r.logger instanceof E3.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let S=o.getRetryDelay();l+=S,await new Promise(g=>setTimeout(g,S))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),w3=ce(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),x3=ce(e=>{let t={error:e,errorType:T3(e)},r=gb(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),T3=ce(e=>(0,pr.isThrottlingError)(e)?"THROTTLING":(0,pr.isTransientError)(e)?"TRANSIENT":(0,pr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),hb={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},C3=ce(e=>({applyToStack:t=>{t.add(mb(e),hb)}}),"getRetryPlugin"),gb=ce(e=>{if(!Cn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Sp=E(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.resolveHttpAuthSchemeConfig=fr.defaultSFNHttpAuthSchemeProvider=fr.defaultSFNHttpAuthSchemeParametersProvider=void 0;var A3=(fe(),z(yt)),gp=tt(),R3=async(e,t,r)=>({operation:(0,gp.getSmithyContext)(t).operation,region:await(0,gp.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fr.defaultSFNHttpAuthSchemeParametersProvider=R3;function P3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"states",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var I3=e=>{let t=[];switch(e.operation){default:t.push(P3(e))}return t};fr.defaultSFNHttpAuthSchemeProvider=I3;var O3=e=>{let t=(0,A3.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,gp.normalizeProvider)(e.authSchemePreference??[])})};fr.resolveHttpAuthSchemeConfig=O3});var Rn={};et(Rn,{__addDisposableResource:()=>Vb,__assign:()=>$a,__asyncDelegator:()=>kb,__asyncGenerator:()=>Db,__asyncValues:()=>Mb,__await:()=>An,__awaiter:()=>Ab,__classPrivateFieldGet:()=>Ub,__classPrivateFieldIn:()=>Hb,__classPrivateFieldSet:()=>jb,__createBinding:()=>Ua,__decorate:()=>vb,__disposeResources:()=>zb,__esDecorate:()=>bb,__exportStar:()=>Pb,__extends:()=>yb,__generator:()=>Rb,__importDefault:()=>Lb,__importStar:()=>$b,__makeTemplateObject:()=>Fb,__metadata:()=>Cb,__param:()=>Eb,__propKey:()=>xb,__read:()=>vp,__rest:()=>_b,__rewriteRelativeImportExtension:()=>qb,__runInitializers:()=>wb,__setFunctionName:()=>Tb,__spread:()=>Ib,__spreadArray:()=>Nb,__spreadArrays:()=>Ob,__values:()=>La,default:()=>k3});function yb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _b(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function vb(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Eb(e,t){return function(r,n){t(r,n,e)}}function bb(e,t,r,n,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,m=!1,h=r.length-1;h>=0;h--){var S={};for(var g in n)S[g]=g==="access"?{}:n[g];for(var g in n.access)S.access[g]=n.access[g];S.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var _=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],S);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(u.get=p),(p=o(_.set))&&(u.set=p),(p=o(_.init))&&s.unshift(p)}else(p=o(_))&&(a==="field"?s.unshift(p):u[c]=p)}l&&Object.defineProperty(l,n.name,u),m=!0}function wb(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function xb(e){return typeof e=="symbol"?e:"".concat(e)}function Tb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Cb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ab(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(p){o(p)}}function c(u){try{l(n.throw(u))}catch(p){o(p)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Rb(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Pb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ua(t,e,r)}function La(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ib(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vp(arguments[t]));return e}function Ob(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Nb(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function An(e){return this instanceof An?(this.v=e,this):new An(e)}function Db(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(S){return Promise.resolve(S).then(h,p)}}function a(h,S){n[h]&&(s[h]=function(g){return new Promise(function(_,b){i.push([h,g,_,b])>1||c(h,g)})},S&&(s[h]=S(s[h])))}function c(h,S){try{l(n[h](S))}catch(g){m(i[0][3],g)}}function l(h){h.value instanceof An?Promise.resolve(h.value.v).then(u,p):m(i[0][2],h)}function u(h){c("next",h)}function p(h){c("throw",h)}function m(h,S){h(S),i.shift(),i.length&&c(i[0][0],i[0][1])}}function kb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:An(e[s](o)),done:!1}:i?i(o):o}:i}}function Mb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof La=="function"?La(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Fb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function $b(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=_p(e),n=0;n<r.length;n++)r[n]!=="default"&&Ua(t,e,r[n]);return N3(t,e),t}function Lb(e){return e&&e.__esModule?e:{default:e}}function Ub(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Hb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Vb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function zb(e){function t(i){e.error=e.hasError?new D3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function qb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var yp,$a,Ua,N3,_p,D3,k3,Pn=y(()=>{yp=function(e,t){return yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},yp(e,t)};$a=function(){return $a=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$a.apply(this,arguments)};Ua=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});N3=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},_p=function(e){return _p=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},_p(e)};D3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};k3={__extends:yb,__assign:$a,__rest:_b,__decorate:vb,__param:Eb,__esDecorate:bb,__runInitializers:wb,__propKey:xb,__setFunctionName:Tb,__metadata:Cb,__awaiter:Ab,__generator:Rb,__createBinding:Ua,__exportStar:Pb,__values:La,__read:vp,__spread:Ib,__spreadArrays:Ob,__spreadArray:Nb,__await:An,__asyncGenerator:Db,__asyncDelegator:kb,__asyncValues:Mb,__makeTemplateObject:Fb,__importStar:$b,__importDefault:Lb,__classPrivateFieldGet:Ub,__classPrivateFieldSet:jb,__classPrivateFieldIn:Hb,__addDisposableResource:Vb,__disposeResources:zb,__rewriteRelativeImportExtension:qb}});var Bb=E((VQ,M3)=>{M3.exports={name:"@aws-sdk/client-sfn",description:"AWS SDK for JavaScript Sfn Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sfn","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sfn"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sfn",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sfn"}}});var Ep=E((zQ,Zb)=>{"use strict";var ja=Object.defineProperty,F3=Object.getOwnPropertyDescriptor,$3=Object.getOwnPropertyNames,L3=Object.prototype.hasOwnProperty,U3=(e,t)=>ja(e,"name",{value:t,configurable:!0}),j3=(e,t)=>{for(var r in t)ja(e,r,{get:t[r],enumerable:!0})},H3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $3(t))!L3.call(e,s)&&s!==r&&ja(e,s,{get:()=>t[s],enumerable:!(n=F3(t,s))||n.enumerable});return e},V3=e=>H3(ja({},"__esModule",{value:!0}),e),Wb={};j3(Wb,{ENV_ACCOUNT_ID:()=>Qb,ENV_CREDENTIAL_SCOPE:()=>Xb,ENV_EXPIRATION:()=>Yb,ENV_KEY:()=>Gb,ENV_SECRET:()=>Kb,ENV_SESSION:()=>Jb,fromEnv:()=>B3});Zb.exports=V3(Wb);var z3=(st(),z(rr)),q3=Re(),Gb="AWS_ACCESS_KEY_ID",Kb="AWS_SECRET_ACCESS_KEY",Jb="AWS_SESSION_TOKEN",Yb="AWS_CREDENTIAL_EXPIRATION",Xb="AWS_CREDENTIAL_SCOPE",Qb="AWS_ACCOUNT_ID",B3=U3(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Gb],r=process.env[Kb],n=process.env[Jb],s=process.env[Yb],i=process.env[Xb],o=process.env[Qb];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return(0,z3.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new q3.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Gs=E((qQ,fw)=>{var za=Object.defineProperty,W3=Object.getOwnPropertyDescriptor,G3=Object.getOwnPropertyNames,K3=Object.prototype.hasOwnProperty,de=(e,t)=>za(e,"name",{value:t,configurable:!0}),J3=(e,t)=>{for(var r in t)za(e,r,{get:t[r],enumerable:!0})},Y3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of G3(t))!K3.call(e,s)&&s!==r&&za(e,s,{get:()=>t[s],enumerable:!(n=W3(t,s))||n.enumerable});return e},X3=e=>Y3(za({},"__esModule",{value:!0}),e),nw={};J3(nw,{DEFAULT_MAX_RETRIES:()=>aw,DEFAULT_TIMEOUT:()=>ow,ENV_CMDS_AUTH_TOKEN:()=>xp,ENV_CMDS_FULL_URI:()=>Ha,ENV_CMDS_RELATIVE_URI:()=>Va,Endpoint:()=>dw,fromContainerMetadata:()=>t4,fromInstanceMetadata:()=>b4,getInstanceMetadataEndpoint:()=>uw,httpRequest:()=>In,providerConfigFromInit:()=>Tp});fw.exports=X3(nw);var Q3=require("url"),Et=Re(),Z3=require("buffer"),e4=require("http");function In(e){return new Promise((t,r)=>{let n=(0,e4.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Et.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Et.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Et.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(Z3.Buffer.concat(o)),n.destroy()})}),n.end()})}de(In,"httpRequest");var sw=de(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),iw=de(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),ow=1e3,aw=0,Tp=de(({maxRetries:e=aw,timeout:t=ow})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),wp=de((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Ha="AWS_CONTAINER_CREDENTIALS_FULL_URI",Va="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",xp="AWS_CONTAINER_AUTHORIZATION_TOKEN",t4=de((e={})=>{let{timeout:t,maxRetries:r}=Tp(e);return()=>wp(async()=>{let n=await o4({logger:e.logger}),s=JSON.parse(await r4(t,n));if(!sw(s))throw new Et.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return iw(s)},r)},"fromContainerMetadata"),r4=de(async(e,t)=>(process.env[xp]&&(t.headers={...t.headers,Authorization:process.env[xp]}),(await In({...t,timeout:e})).toString()),"requestFromEcsImds"),n4="169.254.170.2",s4={localhost:!0,"127.0.0.1":!0},i4={"http:":!0,"https:":!0},o4=de(async({logger:e})=>{if(process.env[Va])return{hostname:n4,path:process.env[Va]};if(process.env[Ha]){let t=(0,Q3.parse)(process.env[Ha]);if(!t.hostname||!(t.hostname in s4))throw new Et.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in i4))throw new Et.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Et.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Va} or ${Ha} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),a4=class cw extends Et.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,cw.prototype)}static{de(this,"InstanceMetadataV1FallbackError")}},Cp=lr(),c4=Zt(),dw=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(dw||{}),d4="AWS_EC2_METADATA_SERVICE_ENDPOINT",l4="ec2_metadata_service_endpoint",u4={environmentVariableSelector:e=>e[d4],configFileSelector:e=>e[l4],default:void 0},lw=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(lw||{}),p4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",f4="ec2_metadata_service_endpoint_mode",m4={environmentVariableSelector:e=>e[p4],configFileSelector:e=>e[f4],default:"IPv4"},uw=de(async()=>(0,c4.parseUrl)(await h4()||await g4()),"getInstanceMetadataEndpoint"),h4=de(async()=>(0,Cp.loadConfig)(u4)(),"getFromEndpointConfig"),g4=de(async()=>{let e=await(0,Cp.loadConfig)(m4)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(lw)}`)}},"getFromEndpointModeConfig"),S4=300,y4=300,_4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ew=de((e,t)=>{let r=S4+Math.floor(Math.random()*y4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+_4);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),v4=de((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=ew(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=ew(n,r);else throw i}return n=s,s}},"staticStabilityProvider"),pw="/latest/meta-data/iam/security-credentials/",E4="/latest/api/token",bp="AWS_EC2_METADATA_V1_DISABLED",tw="ec2_metadata_v1_disabled",rw="x-aws-ec2-metadata-token",b4=de((e={})=>v4(w4(e),{logger:e.logger}),"fromInstanceMetadata"),w4=de((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=Tp(e),o=de(async(a,c)=>{if(t||c.headers?.[rw]==null){let p=!1,m=!1,h=await(0,Cp.loadConfig)({environmentVariableSelector:S=>{let g=S[bp];if(m=!!g&&g!=="false",g===void 0)throw new Et.CredentialsProviderError(`${bp} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:S=>{let g=S[tw];return p=!!g&&g!=="false",p},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),p&&S.push(`config file profile (${tw})`),m&&S.push(`process environment variable (${bp})`),new a4(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let u=(await wp(async()=>{let p;try{p=await T4(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return p},a)).trim();return wp(async()=>{let p;try{p=await C4(u,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return p},a)},"getCredentials");return async()=>{let a=await uw();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await x4({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[rw]:c},timeout:s})}}},"getInstanceMetadataProvider"),x4=de(async e=>In({...e,path:E4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),T4=de(async e=>(await In({...e,path:pw})).toString(),"getProfile"),C4=de(async(e,t,r)=>{let n=JSON.parse((await In({...t,path:pw+e})).toString());if(!sw(n))throw new Et.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return iw(n)},"getCredentialsFromProfile")});var mw=E(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.checkUrl=void 0;var A4=Re(),R4="169.254.170.2",P4="169.254.170.23",I4="[fd00:ec2::23]",O4=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===R4||e.hostname===P4||e.hostname===I4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new A4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};qa.checkUrl=O4});var hw=E(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.createGetRequest=M4;Ba.getCredentials=F4;var Ap=Re(),N4=te(),D4=F(),k4=yo();function M4(e){return new N4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function F4(e,t){let n=await(0,k4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Ap.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,D4.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Ap.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Ap.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var gw=E(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.retryWrapper=void 0;var $4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Wa.retryWrapper=$4});var _w=E(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.fromHttp=void 0;var L4=(Pn(),z(Rn)),U4=(st(),z(rr)),j4=Cr(),Sw=Re(),H4=L4.__importDefault(require("fs/promises")),V4=mw(),yw=hw(),z4=gw(),q4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",B4="http://169.254.170.2",W4="AWS_CONTAINER_CREDENTIALS_FULL_URI",G4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",K4="AWS_CONTAINER_AUTHORIZATION_TOKEN",J4=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[q4],n=e.awsContainerCredentialsFullUri??process.env[W4],s=e.awsContainerAuthorizationToken??process.env[K4],i=e.awsContainerAuthorizationTokenFile??process.env[G4],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${B4}${r}`;else throw new Sw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,V4.checkUrl)(a,e.logger);let c=new j4.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,z4.retryWrapper)(async()=>{let l=(0,yw.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await H4.default.readFile(i)).toString());try{let u=await c.handle(l);return(0,yw.getCredentials)(u.response).then(p=>(0,U4.setCredentialFeature)(p,"CREDENTIALS_HTTP","z"))}catch(u){throw new Sw.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ga.fromHttp=J4});var Rp=E(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.fromHttp=void 0;var Y4=_w();Object.defineProperty(Ka,"fromHttp",{enumerable:!0,get:function(){return Y4.fromHttp}})});var Ip=E(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.resolveHttpAuthSchemeConfig=mr.defaultSSOHttpAuthSchemeProvider=mr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var X4=(fe(),z(yt)),Pp=tt(),Q4=async(e,t,r)=>({operation:(0,Pp.getSmithyContext)(t).operation,region:await(0,Pp.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});mr.defaultSSOHttpAuthSchemeParametersProvider=Q4;function Z4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Ja(e){return{schemeId:"smithy.api#noAuth"}}var ej=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Ja(e));break}case"ListAccountRoles":{t.push(Ja(e));break}case"ListAccounts":{t.push(Ja(e));break}case"Logout":{t.push(Ja(e));break}default:t.push(Z4(e))}return t};mr.defaultSSOHttpAuthSchemeProvider=ej;var tj=e=>{let t=(0,X4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Pp.normalizeProvider)(e.authSchemePreference??[])})};mr.resolveHttpAuthSchemeConfig=tj});var vw=E((XQ,rj)=>{rj.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ks=E((QQ,Aw)=>{"use strict";var Xa=Object.defineProperty,nj=Object.getOwnPropertyDescriptor,sj=Object.getOwnPropertyNames,ij=Object.prototype.hasOwnProperty,Ya=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),oj=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},aj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sj(t))!ij.call(e,s)&&s!==r&&Xa(e,s,{get:()=>t[s],enumerable:!(n=nj(t,s))||n.enumerable});return e},cj=e=>aj(Xa({},"__esModule",{value:!0}),e),bw={};oj(bw,{NODE_APP_ID_CONFIG_OPTIONS:()=>fj,UA_APP_ID_ENV_NAME:()=>Tw,UA_APP_ID_INI_NAME:()=>Cw,createDefaultUserAgentProvider:()=>xw,crtAvailability:()=>ww,defaultUserAgent:()=>lj});Aw.exports=cj(bw);var Ew=require("os"),Op=require("process"),ww={isCrtAvailable:!1},dj=Ya(()=>ww.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),xw=Ya(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Ew.platform)()}`,(0,Ew.release)()],["lang/js"],["md/nodejs",`${Op.versions.node}`]],s=dj();s&&n.push(s),e&&n.push([`api/${e}`,t]),Op.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Op.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},"createDefaultUserAgentProvider"),lj=xw,uj=bn(),Tw="AWS_SDK_UA_APP_ID",Cw="sdk_ua_app_id",pj="sdk-ua-app-id",fj={environmentVariableSelector:Ya(e=>e[Tw],"environmentVariableSelector"),configFileSelector:Ya(e=>e[Cw]??e[pj],"configFileSelector"),default:uj.DEFAULT_UA_APP_ID}});var Js=E((ZQ,Ow)=>{var Qa=Object.defineProperty,mj=Object.getOwnPropertyDescriptor,hj=Object.getOwnPropertyNames,gj=Object.prototype.hasOwnProperty,Pw=(e,t)=>Qa(e,"name",{value:t,configurable:!0}),Sj=(e,t)=>{for(var r in t)Qa(e,r,{get:t[r],enumerable:!0})},yj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hj(t))!gj.call(e,s)&&s!==r&&Qa(e,s,{get:()=>t[s],enumerable:!(n=mj(t,s))||n.enumerable});return e},_j=e=>yj(Qa({},"__esModule",{value:!0}),e),Iw={};Sj(Iw,{Hash:()=>bj});Ow.exports=_j(Iw);var Np=on(),vj=ge(),Ej=require("buffer"),Rw=require("crypto"),bj=class{static{Pw(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,vj.toUint8Array)(Dp(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Rw.createHmac)(this.algorithmIdentifier,Dp(this.secret)):(0,Rw.createHash)(this.algorithmIdentifier)}};function Dp(e,t){return Ej.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Np.fromString)(e,t):ArrayBuffer.isView(e)?(0,Np.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Np.fromArrayBuffer)(e)}Pw(Dp,"castSourceData")});var Ys=E((tZ,kw)=>{var Za=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,xj=Object.getOwnPropertyNames,Tj=Object.prototype.hasOwnProperty,Cj=(e,t)=>Za(e,"name",{value:t,configurable:!0}),Aj=(e,t)=>{for(var r in t)Za(e,r,{get:t[r],enumerable:!0})},Rj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xj(t))!Tj.call(e,s)&&s!==r&&Za(e,s,{get:()=>t[s],enumerable:!(n=wj(t,s))||n.enumerable});return e},Pj=e=>Rj(Za({},"__esModule",{value:!0}),e),Dw={};Aj(Dw,{calculateBodyLength:()=>Ij});kw.exports=Pj(Dw);var Nw=require("fs"),Ij=Cj(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Nw.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Nw.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Jw=E(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.ruleSet=void 0;var Bw="required",We="fn",Ge="argv",Dn="ref",Mw=!0,Fw="isSet",Xs="booleanEquals",On="error",Nn="endpoint",$t="tree",kp="PartitionResult",Mp="getAttr",$w={[Bw]:!1,type:"String"},Lw={[Bw]:!0,default:!1,type:"Boolean"},Uw={[Dn]:"Endpoint"},Ww={[We]:Xs,[Ge]:[{[Dn]:"UseFIPS"},!0]},Gw={[We]:Xs,[Ge]:[{[Dn]:"UseDualStack"},!0]},Be={},jw={[We]:Mp,[Ge]:[{[Dn]:kp},"supportsFIPS"]},Kw={[Dn]:kp},Hw={[We]:Xs,[Ge]:[!0,{[We]:Mp,[Ge]:[Kw,"supportsDualStack"]}]},Vw=[Ww],zw=[Gw],qw=[{[Dn]:"Region"}],Oj={version:"1.0",parameters:{Region:$w,UseDualStack:Lw,UseFIPS:Lw,Endpoint:$w},rules:[{conditions:[{[We]:Fw,[Ge]:[Uw]}],rules:[{conditions:Vw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:On},{conditions:zw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:On},{endpoint:{url:Uw,properties:Be,headers:Be},type:Nn}],type:$t},{conditions:[{[We]:Fw,[Ge]:qw}],rules:[{conditions:[{[We]:"aws.partition",[Ge]:qw,assign:kp}],rules:[{conditions:[Ww,Gw],rules:[{conditions:[{[We]:Xs,[Ge]:[Mw,jw]},Hw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Be,headers:Be},type:Nn}],type:$t},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:On}],type:$t},{conditions:Vw,rules:[{conditions:[{[We]:Xs,[Ge]:[jw,Mw]}],rules:[{conditions:[{[We]:"stringEquals",[Ge]:[{[We]:Mp,[Ge]:[Kw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Be,headers:Be},type:Nn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Be,headers:Be},type:Nn}],type:$t},{error:"FIPS is enabled but this partition does not support FIPS",type:On}],type:$t},{conditions:zw,rules:[{conditions:[Hw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Be,headers:Be},type:Nn}],type:$t},{error:"DualStack is enabled but this partition does not support DualStack",type:On}],type:$t},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Be,headers:Be},type:Nn}],type:$t}],type:$t},{error:"Invalid Configuration: Missing Region",type:On}]};ec.ruleSet=Oj});var Yw=E(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.defaultEndpointResolver=void 0;var Nj=hn(),Fp=mn(),Dj=Jw(),kj=new Fp.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Mj=(e,t={})=>kj.get(e,()=>(0,Fp.resolveEndpoint)(Dj.ruleSet,{endpointParams:e,logger:t.logger}));tc.defaultEndpointResolver=Mj;Fp.customEndpointFunctions.aws=Nj.awsEndpointFunctions});var Zw=E(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.getRuntimeConfig=void 0;var Fj=(fe(),z(yt)),$j=(Oe(),z(fn)),Lj=F(),Uj=Zt(),Xw=Te(),Qw=ge(),jj=Ip(),Hj=Yw(),Vj=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Xw.fromBase64,base64Encoder:e?.base64Encoder??Xw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Hj.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??jj.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fj.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $j.NoAuthSigner}],logger:e?.logger??new Lj.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Uj.parseUrl,utf8Decoder:e?.utf8Decoder??Qw.fromUtf8,utf8Encoder:e?.utf8Encoder??Qw.toUtf8});rc.getRuntimeConfig=Vj});var Zs=E((iZ,i0)=>{var zj=Object.create,Qs=Object.defineProperty,qj=Object.getOwnPropertyDescriptor,Bj=Object.getOwnPropertyNames,Wj=Object.getPrototypeOf,Gj=Object.prototype.hasOwnProperty,$p=(e,t)=>Qs(e,"name",{value:t,configurable:!0}),Kj=(e,t)=>{for(var r in t)Qs(e,r,{get:t[r],enumerable:!0})},n0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bj(t))!Gj.call(e,s)&&s!==r&&Qs(e,s,{get:()=>t[s],enumerable:!(n=qj(t,s))||n.enumerable});return e},Jj=(e,t,r)=>(r=e!=null?zj(Wj(e)):{},n0(t||!e||!e.__esModule?Qs(r,"default",{value:e,enumerable:!0}):r,e)),Yj=e=>n0(Qs({},"__esModule",{value:!0}),e),s0={};Kj(s0,{resolveDefaultsModeConfig:()=>oH});i0.exports=Yj(s0);var Xj=vt(),e0=lr(),Qj=Re(),Zj="AWS_EXECUTION_ENV",t0="AWS_REGION",r0="AWS_DEFAULT_REGION",eH="AWS_EC2_METADATA_DISABLED",tH=["in-region","cross-region","mobile","standard","legacy"],rH="/latest/meta-data/placement/region",nH="AWS_DEFAULTS_MODE",sH="defaults_mode",iH={environmentVariableSelector:e=>e[nH],configFileSelector:e=>e[sH],default:"legacy"},oH=$p(({region:e=(0,e0.loadConfig)(Xj.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,e0.loadConfig)(iH)}={})=>(0,Qj.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return aH(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${tH.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),aH=$p(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await cH();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),cH=$p(async()=>{if(process.env[Zj]&&(process.env[t0]||process.env[r0]))return process.env[t0]??process.env[r0];if(!process.env[eH])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Jj(Gs())),r=await e();return(await t({...r,path:rH})).toString()}catch{}},"inferPhysicalRegion")});var l0=E(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.getRuntimeConfig=void 0;var dH=(Pn(),z(Rn)),lH=dH.__importDefault(vw()),o0=(fe(),z(yt)),a0=Ks(),nc=vt(),uH=Js(),c0=Ft(),Kr=lr(),d0=Cr(),pH=Ys(),fH=Tn(),mH=Zw(),hH=F(),gH=Zs(),SH=F(),yH=e=>{(0,SH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gH.resolveDefaultsModeConfig)(e),r=()=>t().then(hH.loadConfigsForDefaultMode),n=(0,mH.getRuntimeConfig)(e);(0,o0.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Kr.loadConfig)(o0.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??pH.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,a0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lH.default.version}),maxAttempts:e?.maxAttempts??(0,Kr.loadConfig)(c0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Kr.loadConfig)(nc.NODE_REGION_CONFIG_OPTIONS,{...nc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:d0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Kr.loadConfig)({...c0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||fH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??uH.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Kr.loadConfig)(nc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Kr.loadConfig)(nc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Kr.loadConfig)(a0.NODE_APP_ID_CONFIG_OPTIONS,s)}};sc.getRuntimeConfig=yH});var ei=E((aZ,g0)=>{"use strict";var ic=Object.defineProperty,_H=Object.getOwnPropertyDescriptor,vH=Object.getOwnPropertyNames,EH=Object.prototype.hasOwnProperty,bt=(e,t)=>ic(e,"name",{value:t,configurable:!0}),bH=(e,t)=>{for(var r in t)ic(e,r,{get:t[r],enumerable:!0})},wH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vH(t))!EH.call(e,s)&&s!==r&&ic(e,s,{get:()=>t[s],enumerable:!(n=_H(t,s))||n.enumerable});return e},xH=e=>wH(ic({},"__esModule",{value:!0}),e),p0={};bH(p0,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>RH,NODE_REGION_CONFIG_OPTIONS:()=>AH,REGION_ENV_NAME:()=>f0,REGION_INI_NAME:()=>m0,getAwsRegionExtensionConfiguration:()=>TH,resolveAwsRegionExtensionConfiguration:()=>CH,resolveRegionConfig:()=>PH});g0.exports=xH(p0);var TH=bt(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),CH=bt(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),f0="AWS_REGION",m0="region",AH={environmentVariableSelector:bt(e=>e[f0],"environmentVariableSelector"),configFileSelector:bt(e=>e[m0],"configFileSelector"),default:bt(()=>{throw new Error("Region is missing")},"default")},RH={preferredFile:"credentials"},h0=bt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),u0=bt(e=>h0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),PH=bt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:bt(async()=>{if(typeof t=="string")return u0(t);let n=await t();return u0(n)},"region"),useFipsEndpoint:bt(async()=>{let n=typeof t=="string"?t:await t();return h0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var J0=E((cZ,K0)=>{"use strict";var oc=Object.defineProperty,IH=Object.getOwnPropertyDescriptor,OH=Object.getOwnPropertyNames,NH=Object.prototype.hasOwnProperty,q=(e,t)=>oc(e,"name",{value:t,configurable:!0}),DH=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},kH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OH(t))!NH.call(e,s)&&s!==r&&oc(e,s,{get:()=>t[s],enumerable:!(n=IH(t,s))||n.enumerable});return e},MH=e=>kH(oc({},"__esModule",{value:!0}),e),w0={};DH(w0,{GetRoleCredentialsCommand:()=>B0,GetRoleCredentialsRequestFilterSensitiveLog:()=>D0,GetRoleCredentialsResponseFilterSensitiveLog:()=>M0,InvalidRequestException:()=>T0,ListAccountRolesCommand:()=>Lp,ListAccountRolesRequestFilterSensitiveLog:()=>F0,ListAccountsCommand:()=>Up,ListAccountsRequestFilterSensitiveLog:()=>$0,LogoutCommand:()=>W0,LogoutRequestFilterSensitiveLog:()=>L0,ResourceNotFoundException:()=>A0,RoleCredentialsFilterSensitiveLog:()=>k0,SSO:()=>G0,SSOClient:()=>cc,SSOServiceException:()=>kn,TooManyRequestsException:()=>P0,UnauthorizedException:()=>O0,__Client:()=>R.Client,paginateListAccountRoles:()=>a8,paginateListAccounts:()=>c8});K0.exports=MH(w0);var S0=rs(),FH=ns(),$H=ss(),y0=bn(),LH=vt(),Lt=(Oe(),z(fn)),UH=Vs(),ri=ur(),_0=Ft(),v0=Ip(),jH=q(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),ac={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},HH=l0(),E0=ei(),b0=te(),R=F(),VH=q(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),zH=q(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),qH=q((e,t)=>{let r=Object.assign((0,E0.getAwsRegionExtensionConfiguration)(e),(0,R.getDefaultExtensionConfiguration)(e),(0,b0.getHttpHandlerExtensionConfiguration)(e),VH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,E0.resolveAwsRegionExtensionConfiguration)(r),(0,R.resolveDefaultRuntimeConfig)(r),(0,b0.resolveHttpHandlerRuntimeConfig)(r),zH(r))},"resolveRuntimeExtensions"),cc=class extends R.Client{static{q(this,"SSOClient")}config;constructor(...[e]){let t=(0,HH.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=jH(t),n=(0,y0.resolveUserAgentConfig)(r),s=(0,_0.resolveRetryConfig)(n),i=(0,LH.resolveRegionConfig)(s),o=(0,S0.resolveHostHeaderConfig)(i),a=(0,ri.resolveEndpointConfig)(o),c=(0,v0.resolveHttpAuthSchemeConfig)(a),l=qH(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,y0.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,_0.getRetryPlugin)(this.config)),this.middlewareStack.use((0,UH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,S0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,FH.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$H.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Lt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:v0.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:q(async u=>new Lt.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Lt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},dc=Kt(),kn=class x0 extends R.ServiceException{static{q(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,x0.prototype)}},T0=class C0 extends kn{static{q(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,C0.prototype)}},A0=class R0 extends kn{static{q(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,R0.prototype)}},P0=class I0 extends kn{static{q(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,I0.prototype)}},O0=class N0 extends kn{static{q(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,N0.prototype)}},D0=q(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),k0=q(e=>({...e,...e.secretAccessKey&&{secretAccessKey:R.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:R.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),M0=q(e=>({...e,...e.roleCredentials&&{roleCredentials:k0(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),F0=q(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),$0=q(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),L0=q(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),ti=(fe(),z(yt)),BH=q(async(e,t)=>{let r=(0,Lt.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[pc]:e[uc]});r.bp("/federation/credentials");let s=(0,R.map)({[i8]:[,(0,R.expectNonNull)(e[s8],"roleName")],[j0]:[,(0,R.expectNonNull)(e[U0],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),WH=q(async(e,t)=>{let r=(0,Lt.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[pc]:e[uc]});r.bp("/assignment/roles");let s=(0,R.map)({[q0]:[,e[z0]],[V0]:[()=>e.maxResults!==void 0,()=>e[H0].toString()],[j0]:[,(0,R.expectNonNull)(e[U0],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),GH=q(async(e,t)=>{let r=(0,Lt.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[pc]:e[uc]});r.bp("/assignment/accounts");let s=(0,R.map)({[q0]:[,e[z0]],[V0]:[()=>e.maxResults!==void 0,()=>e[H0].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),KH=q(async(e,t)=>{let r=(0,Lt.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[pc]:e[uc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),JH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,R.map)({$metadata:hr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,ti.parseJsonBody)(e.body,t)),"body"),s=(0,R.take)(n,{roleCredentials:R._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),YH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,R.map)({$metadata:hr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,ti.parseJsonBody)(e.body,t)),"body"),s=(0,R.take)(n,{nextToken:R.expectString,roleList:R._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),XH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,R.map)({$metadata:hr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,ti.parseJsonBody)(e.body,t)),"body"),s=(0,R.take)(n,{accountList:R._json,nextToken:R.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),QH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,R.map)({$metadata:hr(e)});return await(0,R.collectBody)(e.body,t),r},"de_LogoutCommand"),lc=q(async(e,t)=>{let r={...e,body:await(0,ti.parseJsonErrorBody)(e.body,t)},n=(0,ti.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await e8(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await t8(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await r8(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await n8(r,t);default:let s=r.body;return ZH({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),ZH=(0,R.withBaseException)(kn),e8=q(async(e,t)=>{let r=(0,R.map)({}),n=e.body,s=(0,R.take)(n,{message:R.expectString});Object.assign(r,s);let i=new T0({$metadata:hr(e),...r});return(0,R.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),t8=q(async(e,t)=>{let r=(0,R.map)({}),n=e.body,s=(0,R.take)(n,{message:R.expectString});Object.assign(r,s);let i=new A0({$metadata:hr(e),...r});return(0,R.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),r8=q(async(e,t)=>{let r=(0,R.map)({}),n=e.body,s=(0,R.take)(n,{message:R.expectString});Object.assign(r,s);let i=new P0({$metadata:hr(e),...r});return(0,R.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),n8=q(async(e,t)=>{let r=(0,R.map)({}),n=e.body,s=(0,R.take)(n,{message:R.expectString});Object.assign(r,s);let i=new O0({$metadata:hr(e),...r});return(0,R.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),hr=q(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),U0="accountId",uc="accessToken",j0="account_id",H0="maxResults",V0="max_result",z0="nextToken",q0="next_token",s8="roleName",i8="role_name",pc="x-amz-sso_bearer_token",B0=class extends R.Command.classBuilder().ep(ac).m(function(e,t,r,n){return[(0,dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ri.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(D0,M0).ser(BH).de(JH).build(){static{q(this,"GetRoleCredentialsCommand")}},Lp=class extends R.Command.classBuilder().ep(ac).m(function(e,t,r,n){return[(0,dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ri.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(F0,void 0).ser(WH).de(YH).build(){static{q(this,"ListAccountRolesCommand")}},Up=class extends R.Command.classBuilder().ep(ac).m(function(e,t,r,n){return[(0,dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ri.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f($0,void 0).ser(GH).de(XH).build(){static{q(this,"ListAccountsCommand")}},W0=class extends R.Command.classBuilder().ep(ac).m(function(e,t,r,n){return[(0,dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ri.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(L0,void 0).ser(KH).de(QH).build(){static{q(this,"LogoutCommand")}},o8={GetRoleCredentialsCommand:B0,ListAccountRolesCommand:Lp,ListAccountsCommand:Up,LogoutCommand:W0},G0=class extends cc{static{q(this,"SSO")}};(0,R.createAggregatedClient)(o8,G0);var a8=(0,Lt.createPaginator)(cc,Lp,"nextToken","nextToken","maxResults"),c8=(0,Lt.createPaginator)(cc,Up,"nextToken","nextToken","maxResults")});function d8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function l8(e){return{schemeId:"smithy.api#noAuth"}}var ni,Y0,X0,Q0,jp=y(()=>{fe();ni=v(tt()),Y0=async(e,t,r)=>({operation:(0,ni.getSmithyContext)(t).operation,region:await(0,ni.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});X0=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(l8(e));break}default:t.push(d8(e))}return t},Q0=e=>{let t=Lr(e);return Object.assign(t,{authSchemePreference:(0,ni.normalizeProvider)(e.authSchemePreference??[])})}});var Z0,ex,Hp=y(()=>{Z0=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),ex={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var fc,Vp=y(()=>{fc={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var lx,Je,tx,si,Mn,Fn,Ut,zp,qp,rx,nx,sx,ux,px,Ke,ix,fx,ox,ax,cx,dx,p8,mx,hx=y(()=>{lx="required",Je="argv",tx="isSet",si="booleanEquals",Mn="error",Fn="endpoint",Ut="tree",zp="PartitionResult",qp="getAttr",rx={[lx]:!1,type:"String"},nx={[lx]:!0,default:!1,type:"Boolean"},sx={ref:"Endpoint"},ux={fn:si,[Je]:[{ref:"UseFIPS"},!0]},px={fn:si,[Je]:[{ref:"UseDualStack"},!0]},Ke={},ix={fn:qp,[Je]:[{ref:zp},"supportsFIPS"]},fx={ref:zp},ox={fn:si,[Je]:[!0,{fn:qp,[Je]:[fx,"supportsDualStack"]}]},ax=[ux],cx=[px],dx=[{ref:"Region"}],p8={version:"1.0",parameters:{Region:rx,UseDualStack:nx,UseFIPS:nx,Endpoint:rx},rules:[{conditions:[{fn:tx,[Je]:[sx]}],rules:[{conditions:ax,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Mn},{conditions:cx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Mn},{endpoint:{url:sx,properties:Ke,headers:Ke},type:Fn}],type:Ut},{conditions:[{fn:tx,[Je]:dx}],rules:[{conditions:[{fn:"aws.partition",[Je]:dx,assign:zp}],rules:[{conditions:[ux,px],rules:[{conditions:[{fn:si,[Je]:[!0,ix]},ox],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ke,headers:Ke},type:Fn}],type:Ut},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Mn}],type:Ut},{conditions:ax,rules:[{conditions:[{fn:si,[Je]:[ix,!0]}],rules:[{conditions:[{fn:"stringEquals",[Je]:[{fn:qp,[Je]:[fx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ke,headers:Ke},type:Fn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ke,headers:Ke},type:Fn}],type:Ut},{error:"FIPS is enabled but this partition does not support FIPS",type:Mn}],type:Ut},{conditions:cx,rules:[{conditions:[ox],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ke,headers:Ke},type:Fn}],type:Ut},{error:"DualStack is enabled but this partition does not support DualStack",type:Mn}],type:Ut},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ke,headers:Ke},type:Fn}],type:Ut}],type:Ut},{error:"Invalid Configuration: Missing Region",type:Mn}]},mx=p8});var gx,$n,f8,Sx,yx=y(()=>{gx=v(hn()),$n=v(mn());hx();f8=new $n.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Sx=(e,t={})=>f8.get(e,()=>(0,$n.resolveEndpoint)(mx,{endpointParams:e,logger:t.logger}));$n.customEndpointFunctions.aws=gx.awsEndpointFunctions});var _x,vx,mc,hc,Ex,bx=y(()=>{fe();Oe();_x=v(F()),vx=v(Zt()),mc=v(Te()),hc=v(ge());jp();yx();Ex=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??mc.fromBase64,base64Encoder:e?.base64Encoder??mc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Sx,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??X0,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new De},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Dt}],logger:e?.logger??new _x.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??vx.parseUrl,utf8Decoder:e?.utf8Decoder??hc.fromUtf8,utf8Encoder:e?.utf8Encoder??hc.toUtf8})});var gc,Sr,wx,Sc,gr,yc,xx,Tx,Cx,Ax,Rx,Px,Ix=y(()=>{Vp();fe();gc=v(Ks()),Sr=v(vt()),wx=v(Js()),Sc=v(Ft()),gr=v(lr()),yc=v(Cr()),xx=v(Ys()),Tx=v(Tn());bx();Cx=v(F()),Ax=v(Zs()),Rx=v(F()),Px=e=>{(0,Rx.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Ax.resolveDefaultsModeConfig)(e),r=()=>t().then(Cx.loadConfigsForDefaultMode),n=Ex(e);gn(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,gr.loadConfig)(_n,s),bodyLengthChecker:e?.bodyLengthChecker??xx.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,gc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fc.version}),maxAttempts:e?.maxAttempts??(0,gr.loadConfig)(Sc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,gr.loadConfig)(Sr.NODE_REGION_CONFIG_OPTIONS,{...Sr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,gr.loadConfig)({...Sc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Tx.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??wx.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,gr.loadConfig)(Sr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,gr.loadConfig)(Sr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,gr.loadConfig)(gc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Ox,Nx,Dx=y(()=>{Ox=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Nx=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var _c,vc,Ec,kx,Mx=y(()=>{_c=v(ei()),vc=v(te()),Ec=v(F());Dx();kx=(e,t)=>{let r=Object.assign((0,_c.getAwsRegionExtensionConfiguration)(e),(0,Ec.getDefaultExtensionConfiguration)(e),(0,vc.getHttpHandlerExtensionConfiguration)(e),Ox(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,_c.resolveAwsRegionExtensionConfiguration)(r),(0,Ec.resolveDefaultRuntimeConfig)(r),(0,vc.resolveHttpHandlerRuntimeConfig)(r),Nx(r))}});var bc,Fx,$x,wc,Lx,Ux,jx,xc,Bp,ii,Wp=y(()=>{bc=v(rs()),Fx=v(ns()),$x=v(ss()),wc=v(bn()),Lx=v(vt());Oe();Ux=v(Vs()),jx=v(ur()),xc=v(Ft()),Bp=v(F());jp();Hp();Ix();Mx();ii=class extends Bp.Client{config;constructor(...[t]){let r=Px(t||{});super(r),this.initConfig=r;let n=Z0(r),s=(0,wc.resolveUserAgentConfig)(n),i=(0,xc.resolveRetryConfig)(s),o=(0,Lx.resolveRegionConfig)(i),a=(0,bc.resolveHostHeaderConfig)(o),c=(0,jx.resolveEndpointConfig)(a),l=Q0(c),u=kx(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,wc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ux.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Fx.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$x.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(os(this.config,{httpAuthSchemeParametersProvider:Y0,identityProviderConfigProvider:async p=>new Fr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(as(this.config))}destroy(){super.destroy()}}});var Hx,me,Tc=y(()=>{Hx=v(F()),me=class e extends Hx.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Jr,oi,ai,Gp,Kp,ci,di,li,ui,pi,fi,mi,hi,gi,Cc=y(()=>{Jr=v(F());Tc();oi=class e extends me{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ai=class e extends me{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gp=e=>({...e,...e.clientSecret&&{clientSecret:Jr.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Jr.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Jr.SENSITIVE_STRING}}),Kp=e=>({...e,...e.accessToken&&{accessToken:Jr.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Jr.SENSITIVE_STRING},...e.idToken&&{idToken:Jr.SENSITIVE_STRING}}),ci=class e extends me{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},di=class e extends me{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},li=class e extends me{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ui=class e extends me{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},pi=class e extends me{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},fi=class e extends me{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},mi=class e extends me{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},hi=class e extends me{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},gi=class e extends me{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var x,Vx,zx,m8,h8,g8,S8,y8,_8,v8,E8,b8,w8,x8,T8,C8,Ye,qx=y(()=>{fe();Oe();x=v(F());Cc();Tc();Vx=async(e,t)=>{let r=Ts(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,x.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,x._json)(i)})),r.m("POST").h(n).b(s),r.build()},zx=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return m8(e,t);let r=(0,x.map)({$metadata:Ye(e)}),n=(0,x.expectNonNull)((0,x.expectObject)(await En(e.body,t)),"body"),s=(0,x.take)(n,{accessToken:x.expectString,expiresIn:x.expectInt32,idToken:x.expectString,refreshToken:x.expectString,tokenType:x.expectString});return Object.assign(r,s),r},m8=async(e,t)=>{let r={...e,body:await Tu(e.body,t)},n=jr(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await g8(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await S8(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await y8(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await _8(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await v8(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await E8(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await b8(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await w8(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await x8(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await T8(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await C8(r,t);default:let s=r.body;return h8({output:e,parsedBody:s,errorCode:n})}},h8=(0,x.withBaseException)(me),g8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new oi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},S8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new ai({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},y8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new ci({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},_8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new di({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},v8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new li({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},E8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new ui({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},b8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new pi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},w8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new fi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},x8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new mi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},T8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new hi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},C8=async(e,t)=>{let r=(0,x.map)({}),n=e.body,s=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,s);let i=new gi({$metadata:Ye(e),...r});return(0,x.decorateServiceException)(i,e.body)},Ye=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var Bx,Wx,Jp,Si,Yp=y(()=>{Bx=v(ur()),Wx=v(Kt()),Jp=v(F());Hp();Cc();qx();Si=class extends Jp.Command.classBuilder().ep(ex).m(function(t,r,n,s){return[(0,Wx.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Bx.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Gp,Kp).ser(Vx).de(zx).build(){}});var Gx,A8,Ac,Kx=y(()=>{Gx=v(F());Yp();Wp();A8={CreateTokenCommand:Si},Ac=class extends ii{};(0,Gx.createAggregatedClient)(A8,Ac)});var Jx=y(()=>{Yp()});var Yx=y(()=>{Cc()});var Xp={};et(Xp,{$Command:()=>Jp.Command,AccessDeniedException:()=>oi,AuthorizationPendingException:()=>ai,CreateTokenCommand:()=>Si,CreateTokenRequestFilterSensitiveLog:()=>Gp,CreateTokenResponseFilterSensitiveLog:()=>Kp,ExpiredTokenException:()=>ci,InternalServerException:()=>di,InvalidClientException:()=>li,InvalidGrantException:()=>ui,InvalidRequestException:()=>pi,InvalidScopeException:()=>fi,SSOOIDC:()=>Ac,SSOOIDCClient:()=>ii,SSOOIDCServiceException:()=>me,SlowDownException:()=>mi,UnauthorizedClientException:()=>hi,UnsupportedGrantTypeException:()=>gi,__Client:()=>Bp.Client});var Qp=y(()=>{Wp();Kx();Jx();Yx();Tc()});var sT=E((lee,nT)=>{"use strict";var R8=Object.create,_i=Object.defineProperty,P8=Object.getOwnPropertyDescriptor,I8=Object.getOwnPropertyNames,O8=Object.getPrototypeOf,N8=Object.prototype.hasOwnProperty,jt=(e,t)=>_i(e,"name",{value:t,configurable:!0}),D8=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},Zx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of I8(t))!N8.call(e,s)&&s!==r&&_i(e,s,{get:()=>t[s],enumerable:!(n=P8(t,s))||n.enumerable});return e},eT=(e,t,r)=>(r=e!=null?R8(O8(e)):{},Zx(t||!e||!e.__esModule?_i(r,"default",{value:e,enumerable:!0}):r,e)),k8=e=>Zx(_i({},"__esModule",{value:!0}),e),tT={};D8(tT,{fromEnvSigningName:()=>$8,fromSso:()=>rT,fromStatic:()=>q8,nodeProvider:()=>B8});nT.exports=k8(tT);var M8=(st(),z(rr)),F8=(hu(),z(I_)),$e=Re(),$8=jt(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new $e.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,F8.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new $e.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,M8.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),L8=300*1e3,Zp="To refresh this SSO session run 'aws sso login' with the corresponding profile.",U8=jt(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>eT((Qp(),z(Xp))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),j8=jt(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>eT((Qp(),z(Xp))));return(await U8(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Xx=jt(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new $e.TokenProviderError(`Token is expired. ${Zp}`,!1)},"validateTokenExpiry"),Yr=jt((e,t,r=!1)=>{if(typeof t>"u")throw new $e.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Zp}`,!1)},"validateTokenKey"),yi=dr(),H8=require("fs"),{writeFile:V8}=H8.promises,z8=jt((e,t)=>{let r=(0,yi.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return V8(r,n)},"writeSSOTokenToFile"),Qx=new Date(0),rT=jt((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,yi.parseKnownFiles)(r),s=(0,yi.getProfileName)({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new $e.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new $e.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,yi.loadSsoSessionData)(r))[o];if(!c)throw new $e.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!c[g])throw new $e.TokenProviderError(`Sso session '${o}' is missing required property '${g}'.`,!1);let l=c.sso_start_url,u=c.sso_region,p;try{p=await(0,yi.getSSOTokenFromFile)(o)}catch{throw new $e.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Zp}`,!1)}Yr("accessToken",p.accessToken),Yr("expiresAt",p.expiresAt);let{accessToken:m,expiresAt:h}=p,S={token:m,expiration:new Date(h)};if(S.expiration.getTime()-Date.now()>L8)return S;if(Date.now()-Qx.getTime()<30*1e3)return Xx(S),S;Yr("clientId",p.clientId,!0),Yr("clientSecret",p.clientSecret,!0),Yr("refreshToken",p.refreshToken,!0);try{Qx.setTime(Date.now());let g=await j8(p,u,r);Yr("accessToken",g.accessToken),Yr("expiresIn",g.expiresIn);let _=new Date(Date.now()+g.expiresIn*1e3);try{await z8(o,{...p,accessToken:g.accessToken,expiresAt:_.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:_}}catch{return Xx(S),S}},"fromSso"),q8=jt(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new $e.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),B8=jt((e={})=>(0,$e.memoize)((0,$e.chain)(rT(e),async()=>{throw new $e.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var tf=E((uee,fT)=>{"use strict";var Pc=Object.defineProperty,W8=Object.getOwnPropertyDescriptor,aT=Object.getOwnPropertyNames,G8=Object.prototype.hasOwnProperty,Ic=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),K8=(e,t)=>function(){return e&&(t=(0,e[aT(e)[0]])(e=0)),t},cT=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},J8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of aT(t))!G8.call(e,s)&&s!==r&&Pc(e,s,{get:()=>t[s],enumerable:!(n=W8(t,s))||n.enumerable});return e},Y8=e=>J8(Pc({},"__esModule",{value:!0}),e),dT={};cT(dT,{GetRoleCredentialsCommand:()=>ef.GetRoleCredentialsCommand,SSOClient:()=>ef.SSOClient});var ef,X8=K8({"src/loadSso.ts"(){"use strict";ef=J0()}}),lT={};cT(lT,{fromSSO:()=>Z8,isSsoProfile:()=>uT,validateSsoProfile:()=>pT});fT.exports=Y8(lT);var uT=Ic(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),iT=(st(),z(rr)),Q8=sT(),at=Re(),Rc=dr(),vi=!1,oT=Ic(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let u,p="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Z=await(0,Q8.fromSso)({profile:c})();u={accessToken:Z.token,expiresAt:new Date(Z.expiration).toISOString()}}catch(Z){throw new at.CredentialsProviderError(Z.message,{tryNextLink:vi,logger:l})}else try{u=await(0,Rc.getSSOTokenFromFile)(e)}catch{throw new at.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${p}`,{tryNextLink:vi,logger:l})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new at.CredentialsProviderError(`The SSO session associated with this profile has expired. ${p}`,{tryNextLink:vi,logger:l});let{accessToken:m}=u,{SSOClient:h,GetRoleCredentialsCommand:S}=await Promise.resolve().then(()=>(X8(),dT)),g=i||new h(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),_;try{_=await g.send(new S({accountId:r,roleName:s,accessToken:m}))}catch(Z){throw new at.CredentialsProviderError(Z,{tryNextLink:vi,logger:l})}let{roleCredentials:{accessKeyId:b,secretAccessKey:w,sessionToken:I,expiration:T,credentialScope:P,accountId:D}={}}=_;if(!b||!w||!I||!T)throw new at.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:vi,logger:l});let be={accessKeyId:b,secretAccessKey:w,sessionToken:I,expiration:new Date(T),...P&&{credentialScope:P},...D&&{accountId:D}};return t?(0,iT.setCredentialFeature)(be,"CREDENTIALS_SSO","s"):(0,iT.setCredentialFeature)(be,"CREDENTIALS_SSO_LEGACY","u"),be},"resolveSSOCredentials"),pT=Ic((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new at.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),Z8=Ic((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=(0,Rc.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let u=(await(0,Rc.parseKnownFiles)(e))[c];if(!u)throw new at.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!uT(u))throw new at.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let b=(await(0,Rc.loadSsoSessionData)(e))[u.sso_session],w=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(s&&s!==b.sso_region)throw new at.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new at.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});u.sso_region=b.sso_region,u.sso_start_url=b.sso_start_url}let{sso_start_url:p,sso_account_id:m,sso_region:h,sso_role_name:S,sso_session:g}=pT(u,e.logger);return oT({ssoStartUrl:p,ssoSession:g,ssoAccountId:m,ssoRegion:h,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!i)throw new at.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return oT({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function e5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function t5(e){return{schemeId:"smithy.api#noAuth"}}var Ei,mT,hT,r5,gT,rf=y(()=>{fe();Ei=v(tt());bi();mT=async(e,t,r)=>({operation:(0,Ei.getSmithyContext)(t).operation,region:await(0,Ei.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hT=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(t5(e));break}default:t.push(e5(e))}return t},r5=e=>Object.assign(e,{stsClientCtor:wt}),gT=e=>{let t=r5(e),r=Lr(t);return Object.assign(r,{authSchemePreference:(0,Ei.normalizeProvider)(e.authSchemePreference??[])})}});var ST,Oc,Nc=y(()=>{ST=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Oc={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var RT,N,K,yr,ve,PT,IT,ne,yT,xt,Ln,sf,_T,nf,OT,vT,Ee,ET,NT,DT,xe,Le,bT,kT,MT,wT,FT,xT,TT,CT,AT,n5,$T,LT=y(()=>{RT="required",N="type",K="argv",yr="booleanEquals",ve="stringEquals",PT="sigv4",IT="us-east-1",ne="endpoint",yT="https://sts.{Region}.{PartitionResult#dnsSuffix}",xt="tree",Ln="error",sf="getAttr",_T={[RT]:!1,[N]:"String"},nf={[RT]:!0,default:!1,[N]:"Boolean"},OT={ref:"Endpoint"},vT={fn:"isSet",[K]:[{ref:"Region"}]},Ee={ref:"Region"},ET={fn:"aws.partition",[K]:[Ee],assign:"PartitionResult"},NT={ref:"UseFIPS"},DT={ref:"UseDualStack"},xe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:PT,signingName:"sts",signingRegion:IT}]},headers:{}},Le={},bT={conditions:[{fn:ve,[K]:[Ee,"aws-global"]}],[ne]:xe,[N]:ne},kT={fn:yr,[K]:[NT,!0]},MT={fn:yr,[K]:[DT,!0]},wT={fn:sf,[K]:[{ref:"PartitionResult"},"supportsFIPS"]},FT={ref:"PartitionResult"},xT={fn:yr,[K]:[!0,{fn:sf,[K]:[FT,"supportsDualStack"]}]},TT=[{fn:"isSet",[K]:[OT]}],CT=[kT],AT=[MT],n5={version:"1.0",parameters:{Region:_T,UseDualStack:nf,UseFIPS:nf,Endpoint:_T,UseGlobalEndpoint:nf},rules:[{conditions:[{fn:yr,[K]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[K]:TT},vT,ET,{fn:yr,[K]:[NT,!1]},{fn:yr,[K]:[DT,!1]}],rules:[{conditions:[{fn:ve,[K]:[Ee,"ap-northeast-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"ap-south-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"ap-southeast-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"ap-southeast-2"]}],endpoint:xe,[N]:ne},bT,{conditions:[{fn:ve,[K]:[Ee,"ca-central-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"eu-central-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"eu-north-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"eu-west-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"eu-west-2"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"eu-west-3"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"sa-east-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,IT]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"us-east-2"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"us-west-1"]}],endpoint:xe,[N]:ne},{conditions:[{fn:ve,[K]:[Ee,"us-west-2"]}],endpoint:xe,[N]:ne},{endpoint:{url:yT,properties:{authSchemes:[{name:PT,signingName:"sts",signingRegion:"{Region}"}]},headers:Le},[N]:ne}],[N]:xt},{conditions:TT,rules:[{conditions:CT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[N]:Ln},{conditions:AT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[N]:Ln},{endpoint:{url:OT,properties:Le,headers:Le},[N]:ne}],[N]:xt},{conditions:[vT],rules:[{conditions:[ET],rules:[{conditions:[kT,MT],rules:[{conditions:[{fn:yr,[K]:[!0,wT]},xT],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Le,headers:Le},[N]:ne}],[N]:xt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[N]:Ln}],[N]:xt},{conditions:CT,rules:[{conditions:[{fn:yr,[K]:[wT,!0]}],rules:[{conditions:[{fn:ve,[K]:[{fn:sf,[K]:[FT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Le,headers:Le},[N]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Le,headers:Le},[N]:ne}],[N]:xt},{error:"FIPS is enabled but this partition does not support FIPS",[N]:Ln}],[N]:xt},{conditions:AT,rules:[{conditions:[xT],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Le,headers:Le},[N]:ne}],[N]:xt},{error:"DualStack is enabled but this partition does not support DualStack",[N]:Ln}],[N]:xt},bT,{endpoint:{url:yT,properties:Le,headers:Le},[N]:ne}],[N]:xt}],[N]:xt},{error:"Invalid Configuration: Missing Region",[N]:Ln}]},$T=n5});var UT,Un,s5,jT,HT=y(()=>{UT=v(hn()),Un=v(mn());LT();s5=new Un.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),jT=(e,t={})=>s5.get(e,()=>(0,Un.resolveEndpoint)($T,{endpointParams:e,logger:t.logger}));Un.customEndpointFunctions.aws=UT.awsEndpointFunctions});var VT,zT,Dc,kc,qT,BT=y(()=>{fe();Oe();VT=v(F()),zT=v(Zt()),Dc=v(Te()),kc=v(ge());rf();HT();qT=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Dc.fromBase64,base64Encoder:e?.base64Encoder??Dc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new De},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Dt}],logger:e?.logger??new VT.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??zT.parseUrl,utf8Decoder:e?.utf8Decoder??kc.fromUtf8,utf8Encoder:e?.utf8Encoder??kc.toUtf8})});var Mc,vr,WT,Fc,_r,$c,GT,KT,JT,YT,XT,QT,ZT=y(()=>{Vp();fe();Mc=v(Ks()),vr=v(vt());Oe();WT=v(Js()),Fc=v(Ft()),_r=v(lr()),$c=v(Cr()),GT=v(Ys()),KT=v(Tn());BT();JT=v(F()),YT=v(Zs()),XT=v(F()),QT=e=>{(0,XT.emitWarningIfUnsupportedVersion)(process.version);let t=(0,YT.resolveDefaultsModeConfig)(e),r=()=>t().then(JT.loadConfigsForDefaultMode),n=qT(e);gn(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,_r.loadConfig)(_n,s),bodyLengthChecker:e?.bodyLengthChecker??GT.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Mc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new De},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Dt}],maxAttempts:e?.maxAttempts??(0,_r.loadConfig)(Fc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,_r.loadConfig)(vr.NODE_REGION_CONFIG_OPTIONS,{...vr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:$c.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,_r.loadConfig)({...Fc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KT.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??WT.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??$c.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,_r.loadConfig)(vr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,_r.loadConfig)(vr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,_r.loadConfig)(Mc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var eC,tC,rC=y(()=>{eC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},tC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Lc,Uc,jc,nC,sC=y(()=>{Lc=v(ei()),Uc=v(te()),jc=v(F());rC();nC=(e,t)=>{let r=Object.assign((0,Lc.getAwsRegionExtensionConfiguration)(e),(0,jc.getDefaultExtensionConfiguration)(e),(0,Uc.getHttpHandlerExtensionConfiguration)(e),eC(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Lc.resolveAwsRegionExtensionConfiguration)(r),(0,jc.resolveDefaultRuntimeConfig)(r),(0,Uc.resolveHttpHandlerRuntimeConfig)(r),tC(r))}});var Hc,iC,oC,Vc,aC,cC,dC,zc,of,wt,bi=y(()=>{Hc=v(rs()),iC=v(ns()),oC=v(ss()),Vc=v(bn()),aC=v(vt());Oe();cC=v(Vs()),dC=v(ur()),zc=v(Ft()),of=v(F());rf();Nc();ZT();sC();wt=class extends of.Client{config;constructor(...[t]){let r=QT(t||{});super(r),this.initConfig=r;let n=ST(r),s=(0,Vc.resolveUserAgentConfig)(n),i=(0,zc.resolveRetryConfig)(s),o=(0,aC.resolveRegionConfig)(i),a=(0,Hc.resolveHostHeaderConfig)(o),c=(0,dC.resolveEndpointConfig)(a),l=gT(c),u=nC(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,Vc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Hc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,oC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(os(this.config,{httpAuthSchemeParametersProvider:mT,identityProviderConfigProvider:async p=>new Fr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(as(this.config))}destroy(){super.destroy()}}});var lC,ke,qc=y(()=>{lC=v(F()),ke=class e extends lC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var af,cf,df,wi,xi,Ti,Ci,Ai,Ri,lf,uf,Pi,Ii=y(()=>{af=v(F());qc();cf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:af.SENSITIVE_STRING}}),df=e=>({...e,...e.Credentials&&{Credentials:cf(e.Credentials)}}),wi=class e extends ke{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xi=class e extends ke{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ti=class e extends ke{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ci=class e extends ke{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ai=class e extends ke{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ri=class e extends ke{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:af.SENSITIVE_STRING}}),uf=e=>({...e,...e.Credentials&&{Credentials:cf(e.Credentials)}}),Pi=class e extends ke{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var uC,k,pC,fC,mC,hC,gC,i5,o5,a5,c5,d5,l5,u5,p5,f5,SC,m5,h5,g5,S5,y5,_5,yC,v5,E5,_C,b5,w5,x5,T5,C5,A5,R5,Vt,P5,vC,EC,bC,wC,pf,I5,ff,jn,O5,mf,hf,Hn,gf,Vn,Sf,yf,_f,zn,qn,vf,Ef,bf,Bn,wf,Wn,Gn,xf,Tf,Ht,Cf,Af,Rf,Pf,If,xC,Of,Nf,Df,ae,TC,N5,kf=y(()=>{fe();uC=v(te()),k=v(F());Ii();qc();pC=async(e,t)=>{let r=EC,n;return n=TC({...p5(e,t),[wC]:I5,[xC]:bC}),vC(t,r,"/",void 0,n)},fC=async(e,t)=>{let r=EC,n;return n=TC({...f5(e,t),[wC]:O5,[xC]:bC}),vC(t,r,"/",void 0,n)},mC=async(e,t)=>{if(e.statusCode>=300)return gC(e,t);let r=await Us(e.body,t),n={};return n=v5(r.AssumeRoleResult,t),{$metadata:Vt(e),...n}},hC=async(e,t)=>{if(e.statusCode>=300)return gC(e,t);let r=await Us(e.body,t),n={};return n=E5(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Vt(e),...n}},gC=async(e,t)=>{let r={...e,body:await Vu(e.body,t)},n=N5(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await i5(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await d5(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await l5(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await u5(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await o5(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await a5(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await c5(r,t);default:let s=r.body;return P5({output:e,parsedBody:s.Error,errorCode:n})}},i5=async(e,t)=>{let r=e.body,n=b5(r.Error,t),s=new wi({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},o5=async(e,t)=>{let r=e.body,n=w5(r.Error,t),s=new Pi({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},a5=async(e,t)=>{let r=e.body,n=x5(r.Error,t),s=new Ai({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},c5=async(e,t)=>{let r=e.body,n=T5(r.Error,t),s=new Ri({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},d5=async(e,t)=>{let r=e.body,n=C5(r.Error,t),s=new xi({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},l5=async(e,t)=>{let r=e.body,n=A5(r.Error,t),s=new Ti({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},u5=async(e,t)=>{let r=e.body,n=R5(r.Error,t),s=new Ci({$metadata:Vt(e),...n});return(0,k.decorateServiceException)(s,r)},p5=(e,t)=>{let r={};if(e[Wn]!=null&&(r[Wn]=e[Wn]),e[Gn]!=null&&(r[Gn]=e[Gn]),e[qn]!=null){let n=SC(e[qn],t);e[qn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[zn]!=null&&(r[zn]=e[zn]),e[Vn]!=null&&(r[Vn]=e[Vn]),e[Rf]!=null){let n=_5(e[Rf],t);e[Rf]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[If]!=null){let n=y5(e[If],t);e[If]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[yf]!=null&&(r[yf]=e[yf]),e[Cf]!=null&&(r[Cf]=e[Cf]),e[Pf]!=null&&(r[Pf]=e[Pf]),e[Ht]!=null&&(r[Ht]=e[Ht]),e[Ef]!=null){let n=g5(e[Ef],t);e[Ef]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},f5=(e,t)=>{let r={};if(e[Wn]!=null&&(r[Wn]=e[Wn]),e[Gn]!=null&&(r[Gn]=e[Gn]),e[Nf]!=null&&(r[Nf]=e[Nf]),e[bf]!=null&&(r[bf]=e[bf]),e[qn]!=null){let n=SC(e[qn],t);e[qn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[zn]!=null&&(r[zn]=e[zn]),e[Vn]!=null&&(r[Vn]=e[Vn]),r},SC=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=m5(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},m5=(e,t)=>{let r={};return e[Df]!=null&&(r[Df]=e[Df]),r},h5=(e,t)=>{let r={};return e[vf]!=null&&(r[vf]=e[vf]),e[gf]!=null&&(r[gf]=e[gf]),r},g5=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=h5(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},S5=(e,t)=>{let r={};return e[_f]!=null&&(r[_f]=e[_f]),e[Of]!=null&&(r[Of]=e[Of]),r},y5=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},_5=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=S5(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},yC=(e,t)=>{let r={};return e[ff]!=null&&(r[ff]=(0,k.expectString)(e[ff])),e[mf]!=null&&(r[mf]=(0,k.expectString)(e[mf])),r},v5=(e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=_C(e[Hn],t)),e[jn]!=null&&(r[jn]=yC(e[jn],t)),e[Bn]!=null&&(r[Bn]=(0,k.strictParseInt32)(e[Bn])),e[Ht]!=null&&(r[Ht]=(0,k.expectString)(e[Ht])),r},E5=(e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=_C(e[Hn],t)),e[Tf]!=null&&(r[Tf]=(0,k.expectString)(e[Tf])),e[jn]!=null&&(r[jn]=yC(e[jn],t)),e[Bn]!=null&&(r[Bn]=(0,k.strictParseInt32)(e[Bn])),e[wf]!=null&&(r[wf]=(0,k.expectString)(e[wf])),e[hf]!=null&&(r[hf]=(0,k.expectString)(e[hf])),e[Ht]!=null&&(r[Ht]=(0,k.expectString)(e[Ht])),r},_C=(e,t)=>{let r={};return e[pf]!=null&&(r[pf]=(0,k.expectString)(e[pf])),e[xf]!=null&&(r[xf]=(0,k.expectString)(e[xf])),e[Af]!=null&&(r[Af]=(0,k.expectString)(e[Af])),e[Sf]!=null&&(r[Sf]=(0,k.expectNonNull)((0,k.parseRfc3339DateTimeWithOffset)(e[Sf]))),r},b5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},w5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},x5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},T5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},C5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},A5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},R5=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,k.expectString)(e[ae])),r},Vt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),P5=(0,k.withBaseException)(ke),vC=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new uC.HttpRequest(l)},EC={"content-type":"application/x-www-form-urlencoded"},bC="2011-06-15",wC="Action",pf="AccessKeyId",I5="AssumeRole",ff="AssumedRoleId",jn="AssumedRoleUser",O5="AssumeRoleWithWebIdentity",mf="Arn",hf="Audience",Hn="Credentials",gf="ContextAssertion",Vn="DurationSeconds",Sf="Expiration",yf="ExternalId",_f="Key",zn="Policy",qn="PolicyArns",vf="ProviderArn",Ef="ProvidedContexts",bf="ProviderId",Bn="PackedPolicySize",wf="Provider",Wn="RoleArn",Gn="RoleSessionName",xf="SecretAccessKey",Tf="SubjectFromWebIdentityToken",Ht="SourceIdentity",Cf="SerialNumber",Af="SessionToken",Rf="Tags",Pf="TokenCode",If="TransitiveTagKeys",xC="Version",Of="Value",Nf="WebIdentityToken",Df="arn",ae="message",TC=e=>Object.entries(e).map(([t,r])=>(0,k.extendedEncodeURIComponent)(t)+"="+(0,k.extendedEncodeURIComponent)(r)).join("&"),N5=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var CC,AC,RC,Xr,Bc=y(()=>{CC=v(ur()),AC=v(Kt()),RC=v(F());Nc();Ii();kf();Xr=class extends RC.Command.classBuilder().ep(Oc).m(function(t,r,n,s){return[(0,AC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,CC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,df).ser(pC).de(mC).build(){}});var PC,IC,OC,Qr,Wc=y(()=>{PC=v(ur()),IC=v(Kt()),OC=v(F());Nc();Ii();kf();Qr=class extends OC.Command.classBuilder().ep(Oc).m(function(t,r,n,s){return[(0,IC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,PC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(lf,uf).ser(fC).de(hC).build(){}});var NC,D5,Gc,DC=y(()=>{NC=v(F());Bc();Wc();bi();D5={AssumeRoleCommand:Xr,AssumeRoleWithWebIdentityCommand:Qr},Gc=class extends wt{};(0,NC.createAggregatedClient)(D5,Gc)});var kC=y(()=>{Bc();Wc()});var MC=y(()=>{Ii()});var FC,$C,LC,UC,jC,HC,VC=y(()=>{st();Bc();Wc();FC="us-east-1",$C=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},LC=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${FC} (STS default)`),n??s??FC},UC=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:u=e?.parentClientConfig?.logger,region:p,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,S=await LC(p,e?.parentClientConfig?.region,h),g=!HC(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:S,requestHandler:g?m:void 0,logger:u})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new Xr(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=$C(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return tr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},jC=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:u=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,m=await LC(l,e?.parentClientConfig?.region,p),h=!HC(u);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:h?u:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new Qr(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=$C(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&tr(a,"RESOLVED_ACCOUNT_ID","T"),tr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},HC=e=>e?.metadata?.handlerProtocol==="h2"});var zC,qC,BC,k5,WC=y(()=>{VC();bi();zC=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,qC=(e={},t)=>UC(e,zC(wt,t)),BC=(e={},t)=>jC(e,zC(wt,t)),k5=e=>t=>e({roleAssumer:qC(t),roleAssumerWithWebIdentity:BC(t),...t})});var Mf={};et(Mf,{AssumeRoleCommand:()=>Xr,AssumeRoleResponseFilterSensitiveLog:()=>df,AssumeRoleWithWebIdentityCommand:()=>Qr,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>lf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>uf,CredentialsFilterSensitiveLog:()=>cf,ExpiredTokenException:()=>wi,IDPCommunicationErrorException:()=>Pi,IDPRejectedClaimException:()=>Ai,InvalidIdentityTokenException:()=>Ri,MalformedPolicyDocumentException:()=>xi,PackedPolicyTooLargeException:()=>Ti,RegionDisabledException:()=>Ci,STS:()=>Gc,STSClient:()=>wt,STSServiceException:()=>ke,__Client:()=>of.Client,decorateDefaultCredentialProvider:()=>k5,getDefaultRoleAssumer:()=>qC,getDefaultRoleAssumerWithWebIdentity:()=>BC});var Ff=y(()=>{bi();DC();kC();MC();WC();qc()});var Uf=E((bte,JC)=>{"use strict";var Kc=Object.defineProperty,M5=Object.getOwnPropertyDescriptor,F5=Object.getOwnPropertyNames,$5=Object.prototype.hasOwnProperty,Lf=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),L5=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},U5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of F5(t))!$5.call(e,s)&&s!==r&&Kc(e,s,{get:()=>t[s],enumerable:!(n=M5(t,s))||n.enumerable});return e},j5=e=>U5(Kc({},"__esModule",{value:!0}),e),KC={};L5(KC,{fromProcess:()=>W5});JC.exports=j5(KC);var GC=dr(),$f=Re(),H5=require("child_process"),V5=require("util"),z5=(st(),z(rr)),q5=Lf((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,z5.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),B5=Lf(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=(0,V5.promisify)(H5.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return q5(e,a,t)}catch(o){throw new $f.CredentialsProviderError(o.message,{logger:r})}}else throw new $f.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new $f.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),W5=Lf((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,GC.parseKnownFiles)(e);return B5((0,GC.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var jf=E(Tt=>{"use strict";var G5=Tt&&Tt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),K5=Tt&&Tt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),J5=Tt&&Tt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&G5(r,t,n[s]);return K5(r,t),r}})();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.fromWebToken=void 0;var Y5=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>J5((Ff(),z(Mf))));l=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Tt.fromWebToken=Y5});var XC=E(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.fromTokenFile=void 0;var X5=(st(),z(rr)),Q5=Re(),Z5=require("fs"),e6=jf(),YC="AWS_WEB_IDENTITY_TOKEN_FILE",t6="AWS_ROLE_ARN",r6="AWS_ROLE_SESSION_NAME",n6=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[YC],r=e?.roleArn??process.env[t6],n=e?.roleSessionName??process.env[r6];if(!t||!r)throw new Q5.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,e6.fromWebToken)({...e,webIdentityToken:(0,Z5.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[YC]&&(0,X5.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Jc.fromTokenFile=n6});var zf=E((Tte,Yc)=>{"use strict";var QC=Object.defineProperty,s6=Object.getOwnPropertyDescriptor,i6=Object.getOwnPropertyNames,o6=Object.prototype.hasOwnProperty,Hf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of i6(t))!o6.call(e,s)&&s!==r&&QC(e,s,{get:()=>t[s],enumerable:!(n=s6(t,s))||n.enumerable});return e},ZC=(e,t,r)=>(Hf(e,t,"default"),r&&Hf(r,t,"default")),a6=e=>Hf(QC({},"__esModule",{value:!0}),e),Vf={};Yc.exports=a6(Vf);ZC(Vf,XC(),Yc.exports);ZC(Vf,jf(),Yc.exports)});var aA=E((Cte,oA)=>{"use strict";var c6=Object.create,Ni=Object.defineProperty,d6=Object.getOwnPropertyDescriptor,l6=Object.getOwnPropertyNames,u6=Object.getPrototypeOf,p6=Object.prototype.hasOwnProperty,le=(e,t)=>Ni(e,"name",{value:t,configurable:!0}),f6=(e,t)=>{for(var r in t)Ni(e,r,{get:t[r],enumerable:!0})},nA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of l6(t))!p6.call(e,s)&&s!==r&&Ni(e,s,{get:()=>t[s],enumerable:!(n=d6(t,s))||n.enumerable});return e},Er=(e,t,r)=>(r=e!=null?c6(u6(e)):{},nA(t||!e||!e.__esModule?Ni(r,"default",{value:e,enumerable:!0}):r,e)),m6=e=>nA(Ni({},"__esModule",{value:!0}),e),sA={};f6(sA,{fromIni:()=>C6});oA.exports=m6(sA);var Bf=dr(),br=(st(),z(rr)),Oi=Re(),h6=le((e,t,r)=>{let n={EcsContainer:le(async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>Er(Rp())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Er(Gs()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Oi.chain)(i(s??{}),o(s))().then(qf)},"EcsContainer"),Ec2InstanceMetadata:le(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Er(Gs()));return async()=>i(s)().then(qf)},"Ec2InstanceMetadata"),Environment:le(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Er(Ep()));return async()=>i(s)().then(qf)},"Environment")};if(e in n)return n[e];throw new Oi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),qf=le(e=>(0,br.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),g6=le((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(S6(e,{profile:t,logger:r})||y6(e,{profile:t,logger:r})),"isAssumeRoleProfile"),S6=le((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),y6=le((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),_6=le(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Er((Ff(),z(Mf))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new Oi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Bf.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?iA(i,t,r,{...n,[i]:!0},eA(t[i]??{})):(await h6(s.credential_source,e,r.logger)(r))();if(eA(s))return a.then(c=>(0,br.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new Oi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let u=await a;return r.roleAssumer(u,c).then(p=>(0,br.setCredentialFeature)(p,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),eA=le(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),v6=le(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),E6=le(async(e,t)=>Promise.resolve().then(()=>Er(Uf())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,br.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),b6=le(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Er(tf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,br.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,br.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),w6=le(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),tA=le(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),rA=le(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,br.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),x6=le(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),T6=le(async(e,t)=>Promise.resolve().then(()=>Er(zf())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,br.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),iA=le(async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&tA(i))return rA(i,r);if(s||g6(i,{profile:e,logger:r.logger}))return _6(e,t,r,n);if(tA(i))return rA(i,r);if(x6(i))return T6(i,r);if(v6(i))return E6(r,e);if(w6(i))return await b6(e,i,r);throw new Oi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),C6=le((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,Bf.parseKnownFiles)(r);return iA((0,Bf.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var hA=E((Ate,mA)=>{"use strict";var A6=Object.create,Di=Object.defineProperty,R6=Object.getOwnPropertyDescriptor,P6=Object.getOwnPropertyNames,I6=Object.getPrototypeOf,O6=Object.prototype.hasOwnProperty,Xc=(e,t)=>Di(e,"name",{value:t,configurable:!0}),N6=(e,t)=>{for(var r in t)Di(e,r,{get:t[r],enumerable:!0})},lA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P6(t))!O6.call(e,s)&&s!==r&&Di(e,s,{get:()=>t[s],enumerable:!(n=R6(t,s))||n.enumerable});return e},Kn=(e,t,r)=>(r=e!=null?A6(I6(e)):{},lA(t||!e||!e.__esModule?Di(r,"default",{value:e,enumerable:!0}):r,e)),D6=e=>lA(Di({},"__esModule",{value:!0}),e),uA={};N6(uA,{credentialsTreatedAsExpired:()=>fA,credentialsWillNeedRefresh:()=>pA,defaultProvider:()=>F6});mA.exports=D6(uA);var Wf=Ep(),k6=dr(),Zr=Re(),cA="AWS_EC2_METADATA_DISABLED",M6=Xc(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Kn(Gs()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>Kn(Rp()));return(0,Zr.chain)(i(e),n(e))}return process.env[cA]&&process.env[cA]!=="false"?async()=>{throw new Zr.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),dA=!1,F6=Xc((e={})=>(0,Zr.memoize)((0,Zr.chain)(async()=>{if(e.profile??process.env[k6.ENV_PROFILE])throw process.env[Wf.ENV_KEY]&&process.env[Wf.ENV_SECRET]&&(dA||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),dA=!0)),new Zr.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Wf.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new Zr.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>Kn(tf()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Kn(aA()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Kn(Uf()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Kn(zf()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await M6(e))()),async()=>{throw new Zr.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),fA,pA),"defaultProvider"),pA=Xc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),fA=Xc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var IA=E(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.ruleSet=void 0;var CA="required",ct="fn",dt="argv",Xn="ref",gA=!0,SA="isSet",ki="booleanEquals",Jn="error",Yn="endpoint",zt="tree",Gf="PartitionResult",yA={[CA]:!1,type:"String"},_A={[CA]:!0,default:!1,type:"Boolean"},vA={[Xn]:"Endpoint"},AA={[ct]:ki,[dt]:[{[Xn]:"UseFIPS"},!0]},RA={[ct]:ki,[dt]:[{[Xn]:"UseDualStack"},!0]},Xe={},PA={[Xn]:"Region"},EA={[ct]:"getAttr",[dt]:[{[Xn]:Gf},"supportsFIPS"]},bA={[ct]:ki,[dt]:[!0,{[ct]:"getAttr",[dt]:[{[Xn]:Gf},"supportsDualStack"]}]},wA=[AA],xA=[RA],TA=[PA],$6={version:"1.0",parameters:{Region:yA,UseDualStack:_A,UseFIPS:_A,Endpoint:yA},rules:[{conditions:[{[ct]:SA,[dt]:[vA]}],rules:[{conditions:wA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Jn},{conditions:xA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Jn},{endpoint:{url:vA,properties:Xe,headers:Xe},type:Yn}],type:zt},{conditions:[{[ct]:SA,[dt]:TA}],rules:[{conditions:[{[ct]:"aws.partition",[dt]:TA,assign:Gf}],rules:[{conditions:[AA,RA],rules:[{conditions:[{[ct]:ki,[dt]:[gA,EA]},bA],rules:[{endpoint:{url:"https://states-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xe,headers:Xe},type:Yn}],type:zt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Jn}],type:zt},{conditions:wA,rules:[{conditions:[{[ct]:ki,[dt]:[EA,gA]}],rules:[{conditions:[{[ct]:"stringEquals",[dt]:[PA,"us-gov-west-1"]}],endpoint:{url:"https://states.us-gov-west-1.amazonaws.com",properties:Xe,headers:Xe},type:Yn},{endpoint:{url:"https://states-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xe,headers:Xe},type:Yn}],type:zt},{error:"FIPS is enabled but this partition does not support FIPS",type:Jn}],type:zt},{conditions:xA,rules:[{conditions:[bA],rules:[{endpoint:{url:"https://states.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xe,headers:Xe},type:Yn}],type:zt},{error:"DualStack is enabled but this partition does not support DualStack",type:Jn}],type:zt},{endpoint:{url:"https://states.{Region}.{PartitionResult#dnsSuffix}",properties:Xe,headers:Xe},type:Yn}],type:zt}],type:zt},{error:"Invalid Configuration: Missing Region",type:Jn}]};Qc.ruleSet=$6});var OA=E(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.defaultEndpointResolver=void 0;var L6=hn(),Kf=mn(),U6=IA(),j6=new Kf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),H6=(e,t={})=>j6.get(e,()=>(0,Kf.resolveEndpoint)(U6.ruleSet,{endpointParams:e,logger:t.logger}));Zc.defaultEndpointResolver=H6;Kf.customEndpointFunctions.aws=L6.awsEndpointFunctions});var kA=E(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getRuntimeConfig=void 0;var V6=(fe(),z(yt)),z6=F(),q6=Zt(),NA=Te(),DA=ge(),B6=Sp(),W6=OA(),G6=e=>({apiVersion:"2016-11-23",base64Decoder:e?.base64Decoder??NA.fromBase64,base64Encoder:e?.base64Encoder??NA.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??W6.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??B6.defaultSFNHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new V6.AwsSdkSigV4Signer}],logger:e?.logger??new z6.NoOpLogger,serviceId:e?.serviceId??"SFN",urlParser:e?.urlParser??q6.parseUrl,utf8Decoder:e?.utf8Decoder??DA.fromUtf8,utf8Encoder:e?.utf8Encoder??DA.toUtf8});ed.getRuntimeConfig=G6});var UA=E(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.getRuntimeConfig=void 0;var K6=(Pn(),z(Rn)),J6=K6.__importDefault(Bb()),MA=(fe(),z(yt)),Y6=hA(),FA=Ks(),td=vt(),X6=Js(),$A=Ft(),en=lr(),LA=Cr(),Q6=Ys(),Z6=Tn(),eV=kA(),tV=F(),rV=Zs(),nV=F(),sV=e=>{(0,nV.emitWarningIfUnsupportedVersion)(process.version);let t=(0,rV.resolveDefaultsModeConfig)(e),r=()=>t().then(tV.loadConfigsForDefaultMode),n=(0,eV.getRuntimeConfig)(e);(0,MA.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,en.loadConfig)(MA.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Q6.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Y6.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,FA.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:J6.default.version}),maxAttempts:e?.maxAttempts??(0,en.loadConfig)($A.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,en.loadConfig)(td.NODE_REGION_CONFIG_OPTIONS,{...td.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:LA.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,en.loadConfig)({...$A.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Z6.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??X6.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??LA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,en.loadConfig)(td.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,en.loadConfig)(td.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,en.loadConfig)(FA.NODE_APP_ID_CONFIG_OPTIONS,s)}};rd.getRuntimeConfig=sV});var MI=E((Nte,kI)=>{"use strict";var nd=Object.defineProperty,iV=Object.getOwnPropertyDescriptor,oV=Object.getOwnPropertyNames,aV=Object.prototype.hasOwnProperty,f=(e,t)=>nd(e,"name",{value:t,configurable:!0}),cV=(e,t)=>{for(var r in t)nd(e,r,{get:t[r],enumerable:!0})},dV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oV(t))!aV.call(e,s)&&s!==r&&nd(e,s,{get:()=>t[s],enumerable:!(n=iV(t,s))||n.enumerable});return e},lV=e=>dV(nd({},"__esModule",{value:!0}),e),BA={};cV(BA,{ActivityAlreadyExists:()=>GA,ActivityDoesNotExist:()=>JA,ActivityFailedEventDetailsFilterSensitiveLog:()=>iP,ActivityLimitExceeded:()=>XA,ActivityScheduleFailedEventDetailsFilterSensitiveLog:()=>aP,ActivityScheduledEventDetailsFilterSensitiveLog:()=>oP,ActivitySucceededEventDetailsFilterSensitiveLog:()=>cP,ActivityTimedOutEventDetailsFilterSensitiveLog:()=>dP,ActivityWorkerLimitExceeded:()=>ZA,ConflictException:()=>uR,CreateActivityCommand:()=>tI,CreateStateMachineAliasCommand:()=>rI,CreateStateMachineAliasInputFilterSensitiveLog:()=>uP,CreateStateMachineCommand:()=>nI,CreateStateMachineInputFilterSensitiveLog:()=>lP,DeleteActivityCommand:()=>sI,DeleteStateMachineAliasCommand:()=>iI,DeleteStateMachineCommand:()=>oI,DeleteStateMachineVersionCommand:()=>aI,DescribeActivityCommand:()=>cI,DescribeExecutionCommand:()=>dI,DescribeExecutionOutputFilterSensitiveLog:()=>pP,DescribeMapRunCommand:()=>lI,DescribeStateMachineAliasCommand:()=>uI,DescribeStateMachineAliasOutputFilterSensitiveLog:()=>mP,DescribeStateMachineCommand:()=>pI,DescribeStateMachineForExecutionCommand:()=>fI,DescribeStateMachineForExecutionOutputFilterSensitiveLog:()=>hP,DescribeStateMachineOutputFilterSensitiveLog:()=>fP,EncryptionType:()=>EV,EvaluationFailedEventDetailsFilterSensitiveLog:()=>SP,ExecutionAbortedEventDetailsFilterSensitiveLog:()=>yP,ExecutionAlreadyExists:()=>ZR,ExecutionDoesNotExist:()=>MR,ExecutionFailedEventDetailsFilterSensitiveLog:()=>_P,ExecutionLimitExceeded:()=>zR,ExecutionNotRedrivable:()=>BR,ExecutionRedriveFilter:()=>NV,ExecutionRedriveStatus:()=>CV,ExecutionStartedEventDetailsFilterSensitiveLog:()=>vP,ExecutionStatus:()=>AV,ExecutionSucceededEventDetailsFilterSensitiveLog:()=>EP,ExecutionTimedOutEventDetailsFilterSensitiveLog:()=>bP,GetActivityTaskCommand:()=>mI,GetActivityTaskOutputFilterSensitiveLog:()=>gP,GetExecutionHistoryCommand:()=>Jf,GetExecutionHistoryOutputFilterSensitiveLog:()=>jP,HistoryEventFilterSensitiveLog:()=>UP,HistoryEventType:()=>OV,IncludedData:()=>TV,InspectionDataFilterSensitiveLog:()=>LV,InspectionLevel:()=>kV,InvalidArn:()=>fR,InvalidDefinition:()=>hR,InvalidEncryptionConfiguration:()=>tR,InvalidExecutionInput:()=>tP,InvalidLoggingConfiguration:()=>SR,InvalidName:()=>nR,InvalidOutput:()=>XR,InvalidToken:()=>HR,InvalidTracingConfiguration:()=>_R,KmsAccessDeniedException:()=>iR,KmsInvalidStateException:()=>$R,KmsKeyState:()=>RV,KmsThrottlingException:()=>aR,LambdaFunctionFailedEventDetailsFilterSensitiveLog:()=>wP,LambdaFunctionScheduleFailedEventDetailsFilterSensitiveLog:()=>TP,LambdaFunctionScheduledEventDetailsFilterSensitiveLog:()=>xP,LambdaFunctionStartFailedEventDetailsFilterSensitiveLog:()=>CP,LambdaFunctionSucceededEventDetailsFilterSensitiveLog:()=>AP,LambdaFunctionTimedOutEventDetailsFilterSensitiveLog:()=>RP,ListActivitiesCommand:()=>Yf,ListExecutionsCommand:()=>Xf,ListMapRunsCommand:()=>Qf,ListStateMachineAliasesCommand:()=>hI,ListStateMachineVersionsCommand:()=>gI,ListStateMachinesCommand:()=>Zf,ListTagsForResourceCommand:()=>SI,LogLevel:()=>bV,MapRunFailedEventDetailsFilterSensitiveLog:()=>PP,MapRunStatus:()=>PV,MissingRequiredParameter:()=>nP,PublishStateMachineVersionCommand:()=>yI,PublishStateMachineVersionInputFilterSensitiveLog:()=>HP,RedriveExecutionCommand:()=>_I,ResourceNotFound:()=>OR,SFN:()=>DI,SFNClient:()=>tn,SFNServiceException:()=>B,SendTaskFailureCommand:()=>vI,SendTaskFailureInputFilterSensitiveLog:()=>VP,SendTaskHeartbeatCommand:()=>EI,SendTaskSuccessCommand:()=>bI,SendTaskSuccessInputFilterSensitiveLog:()=>zP,ServiceQuotaExceededException:()=>DR,StartExecutionCommand:()=>wI,StartExecutionInputFilterSensitiveLog:()=>qP,StartSyncExecutionCommand:()=>xI,StartSyncExecutionInputFilterSensitiveLog:()=>BP,StartSyncExecutionOutputFilterSensitiveLog:()=>WP,StateEnteredEventDetailsFilterSensitiveLog:()=>IP,StateExitedEventDetailsFilterSensitiveLog:()=>OP,StateMachineAlreadyExists:()=>ER,StateMachineDeleting:()=>wR,StateMachineDoesNotExist:()=>UR,StateMachineLimitExceeded:()=>TR,StateMachineStatus:()=>IV,StateMachineType:()=>wV,StateMachineTypeNotSupported:()=>AR,StopExecutionCommand:()=>TI,StopExecutionInputFilterSensitiveLog:()=>GP,SyncExecutionStatus:()=>DV,TagResourceCommand:()=>CI,TaskDoesNotExist:()=>GR,TaskFailedEventDetailsFilterSensitiveLog:()=>NP,TaskScheduledEventDetailsFilterSensitiveLog:()=>DP,TaskStartFailedEventDetailsFilterSensitiveLog:()=>kP,TaskSubmitFailedEventDetailsFilterSensitiveLog:()=>MP,TaskSubmittedEventDetailsFilterSensitiveLog:()=>FP,TaskSucceededEventDetailsFilterSensitiveLog:()=>$P,TaskTimedOut:()=>JR,TaskTimedOutEventDetailsFilterSensitiveLog:()=>LP,TestExecutionStatus:()=>MV,TestStateCommand:()=>AI,TestStateInputFilterSensitiveLog:()=>KP,TestStateOutputFilterSensitiveLog:()=>JP,TooManyTags:()=>dR,UntagResourceCommand:()=>RI,UpdateMapRunCommand:()=>PI,UpdateStateMachineAliasCommand:()=>II,UpdateStateMachineAliasInputFilterSensitiveLog:()=>XP,UpdateStateMachineCommand:()=>OI,UpdateStateMachineInputFilterSensitiveLog:()=>YP,ValidateStateMachineDefinitionCommand:()=>NI,ValidateStateMachineDefinitionDiagnosticFilterSensitiveLog:()=>ZP,ValidateStateMachineDefinitionInputFilterSensitiveLog:()=>QP,ValidateStateMachineDefinitionOutputFilterSensitiveLog:()=>eI,ValidateStateMachineDefinitionResultCode:()=>$V,ValidateStateMachineDefinitionSeverity:()=>FV,ValidationException:()=>PR,ValidationExceptionReason:()=>xV,__Client:()=>d.Client,paginateGetExecutionHistory:()=>TB,paginateListActivities:()=>CB,paginateListExecutions:()=>AB,paginateListMapRuns:()=>RB,paginateListStateMachines:()=>PB});kI.exports=lV(BA);var jA=rs(),uV=ns(),pV=ss(),HA=bn(),fV=vt(),wr=(Oe(),z(fn)),mV=Vs(),$=ur(),VA=Ft(),zA=Sp(),hV=f(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"states"}),"resolveClientEndpointParameters"),U={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},gV=UA(),qA=ei(),Mi=te(),d=F(),SV=f(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),yV=f(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),_V=f((e,t)=>{let r=Object.assign((0,qA.getAwsRegionExtensionConfiguration)(e),(0,d.getDefaultExtensionConfiguration)(e),(0,Mi.getHttpHandlerExtensionConfiguration)(e),SV(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,qA.resolveAwsRegionExtensionConfiguration)(r),(0,d.resolveDefaultRuntimeConfig)(r),(0,Mi.resolveHttpHandlerRuntimeConfig)(r),yV(r))},"resolveRuntimeExtensions"),tn=class extends d.Client{static{f(this,"SFNClient")}config;constructor(...[e]){let t=(0,gV.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=hV(t),n=(0,HA.resolveUserAgentConfig)(r),s=(0,VA.resolveRetryConfig)(n),i=(0,fV.resolveRegionConfig)(s),o=(0,jA.resolveHostHeaderConfig)(i),a=(0,$.resolveEndpointConfig)(o),c=(0,zA.resolveHttpAuthSchemeConfig)(a),l=_V(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,HA.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,VA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,mV.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,jA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,uV.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,pV.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,wr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:zA.defaultSFNHttpAuthSchemeParametersProvider,identityProviderConfigProvider:f(async u=>new wr.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,wr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},j=Kt(),M=(fe(),z(yt)),vV=(Po(),z(Il)),B=class WA extends d.ServiceException{static{f(this,"SFNServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,WA.prototype)}},GA=class KA extends B{static{f(this,"ActivityAlreadyExists")}name="ActivityAlreadyExists";$fault="client";constructor(t){super({name:"ActivityAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,KA.prototype)}},JA=class YA extends B{static{f(this,"ActivityDoesNotExist")}name="ActivityDoesNotExist";$fault="client";constructor(t){super({name:"ActivityDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,YA.prototype)}},XA=class QA extends B{static{f(this,"ActivityLimitExceeded")}name="ActivityLimitExceeded";$fault="client";constructor(t){super({name:"ActivityLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,QA.prototype)}},ZA=class eR extends B{static{f(this,"ActivityWorkerLimitExceeded")}name="ActivityWorkerLimitExceeded";$fault="client";constructor(t){super({name:"ActivityWorkerLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,eR.prototype)}},EV={AWS_OWNED_KEY:"AWS_OWNED_KEY",CUSTOMER_MANAGED_KMS_KEY:"CUSTOMER_MANAGED_KMS_KEY"},tR=class rR extends B{static{f(this,"InvalidEncryptionConfiguration")}name="InvalidEncryptionConfiguration";$fault="client";constructor(t){super({name:"InvalidEncryptionConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,rR.prototype)}},nR=class sR extends B{static{f(this,"InvalidName")}name="InvalidName";$fault="client";constructor(t){super({name:"InvalidName",$fault:"client",...t}),Object.setPrototypeOf(this,sR.prototype)}},iR=class oR extends B{static{f(this,"KmsAccessDeniedException")}name="KmsAccessDeniedException";$fault="client";constructor(t){super({name:"KmsAccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,oR.prototype)}},aR=class cR extends B{static{f(this,"KmsThrottlingException")}name="KmsThrottlingException";$fault="client";constructor(t){super({name:"KmsThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,cR.prototype)}},dR=class lR extends B{static{f(this,"TooManyTags")}name="TooManyTags";$fault="client";resourceName;constructor(t){super({name:"TooManyTags",$fault:"client",...t}),Object.setPrototypeOf(this,lR.prototype),this.resourceName=t.resourceName}},uR=class pR extends B{static{f(this,"ConflictException")}name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,pR.prototype)}},bV={ALL:"ALL",ERROR:"ERROR",FATAL:"FATAL",OFF:"OFF"},wV={EXPRESS:"EXPRESS",STANDARD:"STANDARD"},fR=class mR extends B{static{f(this,"InvalidArn")}name="InvalidArn";$fault="client";constructor(t){super({name:"InvalidArn",$fault:"client",...t}),Object.setPrototypeOf(this,mR.prototype)}},hR=class gR extends B{static{f(this,"InvalidDefinition")}name="InvalidDefinition";$fault="client";constructor(t){super({name:"InvalidDefinition",$fault:"client",...t}),Object.setPrototypeOf(this,gR.prototype)}},SR=class yR extends B{static{f(this,"InvalidLoggingConfiguration")}name="InvalidLoggingConfiguration";$fault="client";constructor(t){super({name:"InvalidLoggingConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,yR.prototype)}},_R=class vR extends B{static{f(this,"InvalidTracingConfiguration")}name="InvalidTracingConfiguration";$fault="client";constructor(t){super({name:"InvalidTracingConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,vR.prototype)}},ER=class bR extends B{static{f(this,"StateMachineAlreadyExists")}name="StateMachineAlreadyExists";$fault="client";constructor(t){super({name:"StateMachineAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,bR.prototype)}},wR=class xR extends B{static{f(this,"StateMachineDeleting")}name="StateMachineDeleting";$fault="client";constructor(t){super({name:"StateMachineDeleting",$fault:"client",...t}),Object.setPrototypeOf(this,xR.prototype)}},TR=class CR extends B{static{f(this,"StateMachineLimitExceeded")}name="StateMachineLimitExceeded";$fault="client";constructor(t){super({name:"StateMachineLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,CR.prototype)}},AR=class RR extends B{static{f(this,"StateMachineTypeNotSupported")}name="StateMachineTypeNotSupported";$fault="client";constructor(t){super({name:"StateMachineTypeNotSupported",$fault:"client",...t}),Object.setPrototypeOf(this,RR.prototype)}},xV={API_DOES_NOT_SUPPORT_LABELED_ARNS:"API_DOES_NOT_SUPPORT_LABELED_ARNS",CANNOT_UPDATE_COMPLETED_MAP_RUN:"CANNOT_UPDATE_COMPLETED_MAP_RUN",INVALID_ROUTING_CONFIGURATION:"INVALID_ROUTING_CONFIGURATION",MISSING_REQUIRED_PARAMETER:"MISSING_REQUIRED_PARAMETER"},PR=class IR extends B{static{f(this,"ValidationException")}name="ValidationException";$fault="client";reason;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,IR.prototype),this.reason=t.reason}},OR=class NR extends B{static{f(this,"ResourceNotFound")}name="ResourceNotFound";$fault="client";resourceName;constructor(t){super({name:"ResourceNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,NR.prototype),this.resourceName=t.resourceName}},DR=class kR extends B{static{f(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,kR.prototype)}},TV={ALL_DATA:"ALL_DATA",METADATA_ONLY:"METADATA_ONLY"},CV={NOT_REDRIVABLE:"NOT_REDRIVABLE",REDRIVABLE:"REDRIVABLE",REDRIVABLE_BY_MAP_RUN:"REDRIVABLE_BY_MAP_RUN"},AV={ABORTED:"ABORTED",FAILED:"FAILED",PENDING_REDRIVE:"PENDING_REDRIVE",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED",TIMED_OUT:"TIMED_OUT"},MR=class FR extends B{static{f(this,"ExecutionDoesNotExist")}name="ExecutionDoesNotExist";$fault="client";constructor(t){super({name:"ExecutionDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,FR.prototype)}},RV={CREATING:"CREATING",DISABLED:"DISABLED",PENDING_DELETION:"PENDING_DELETION",PENDING_IMPORT:"PENDING_IMPORT",UNAVAILABLE:"UNAVAILABLE"},$R=class LR extends B{static{f(this,"KmsInvalidStateException")}name="KmsInvalidStateException";$fault="client";kmsKeyState;constructor(t){super({name:"KmsInvalidStateException",$fault:"client",...t}),Object.setPrototypeOf(this,LR.prototype),this.kmsKeyState=t.kmsKeyState}},PV={ABORTED:"ABORTED",FAILED:"FAILED",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED"},IV={ACTIVE:"ACTIVE",DELETING:"DELETING"},UR=class jR extends B{static{f(this,"StateMachineDoesNotExist")}name="StateMachineDoesNotExist";$fault="client";constructor(t){super({name:"StateMachineDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,jR.prototype)}},OV={ActivityFailed:"ActivityFailed",ActivityScheduleFailed:"ActivityScheduleFailed",ActivityScheduled:"ActivityScheduled",ActivityStarted:"ActivityStarted",ActivitySucceeded:"ActivitySucceeded",ActivityTimedOut:"ActivityTimedOut",ChoiceStateEntered:"ChoiceStateEntered",ChoiceStateExited:"ChoiceStateExited",EvaluationFailed:"EvaluationFailed",ExecutionAborted:"ExecutionAborted",ExecutionFailed:"ExecutionFailed",ExecutionRedriven:"ExecutionRedriven",ExecutionStarted:"ExecutionStarted",ExecutionSucceeded:"ExecutionSucceeded",ExecutionTimedOut:"ExecutionTimedOut",FailStateEntered:"FailStateEntered",LambdaFunctionFailed:"LambdaFunctionFailed",LambdaFunctionScheduleFailed:"LambdaFunctionScheduleFailed",LambdaFunctionScheduled:"LambdaFunctionScheduled",LambdaFunctionStartFailed:"LambdaFunctionStartFailed",LambdaFunctionStarted:"LambdaFunctionStarted",LambdaFunctionSucceeded:"LambdaFunctionSucceeded",LambdaFunctionTimedOut:"LambdaFunctionTimedOut",MapIterationAborted:"MapIterationAborted",MapIterationFailed:"MapIterationFailed",MapIterationStarted:"MapIterationStarted",MapIterationSucceeded:"MapIterationSucceeded",MapRunAborted:"MapRunAborted",MapRunFailed:"MapRunFailed",MapRunRedriven:"MapRunRedriven",MapRunStarted:"MapRunStarted",MapRunSucceeded:"MapRunSucceeded",MapStateAborted:"MapStateAborted",MapStateEntered:"MapStateEntered",MapStateExited:"MapStateExited",MapStateFailed:"MapStateFailed",MapStateStarted:"MapStateStarted",MapStateSucceeded:"MapStateSucceeded",ParallelStateAborted:"ParallelStateAborted",ParallelStateEntered:"ParallelStateEntered",ParallelStateExited:"ParallelStateExited",ParallelStateFailed:"ParallelStateFailed",ParallelStateStarted:"ParallelStateStarted",ParallelStateSucceeded:"ParallelStateSucceeded",PassStateEntered:"PassStateEntered",PassStateExited:"PassStateExited",SucceedStateEntered:"SucceedStateEntered",SucceedStateExited:"SucceedStateExited",TaskFailed:"TaskFailed",TaskScheduled:"TaskScheduled",TaskStartFailed:"TaskStartFailed",TaskStarted:"TaskStarted",TaskStateAborted:"TaskStateAborted",TaskStateEntered:"TaskStateEntered",TaskStateExited:"TaskStateExited",TaskSubmitFailed:"TaskSubmitFailed",TaskSubmitted:"TaskSubmitted",TaskSucceeded:"TaskSucceeded",TaskTimedOut:"TaskTimedOut",WaitStateAborted:"WaitStateAborted",WaitStateEntered:"WaitStateEntered",WaitStateExited:"WaitStateExited"},HR=class VR extends B{static{f(this,"InvalidToken")}name="InvalidToken";$fault="client";constructor(t){super({name:"InvalidToken",$fault:"client",...t}),Object.setPrototypeOf(this,VR.prototype)}},NV={NOT_REDRIVEN:"NOT_REDRIVEN",REDRIVEN:"REDRIVEN"},zR=class qR extends B{static{f(this,"ExecutionLimitExceeded")}name="ExecutionLimitExceeded";$fault="client";constructor(t){super({name:"ExecutionLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,qR.prototype)}},BR=class WR extends B{static{f(this,"ExecutionNotRedrivable")}name="ExecutionNotRedrivable";$fault="client";constructor(t){super({name:"ExecutionNotRedrivable",$fault:"client",...t}),Object.setPrototypeOf(this,WR.prototype)}},GR=class KR extends B{static{f(this,"TaskDoesNotExist")}name="TaskDoesNotExist";$fault="client";constructor(t){super({name:"TaskDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,KR.prototype)}},JR=class YR extends B{static{f(this,"TaskTimedOut")}name="TaskTimedOut";$fault="client";constructor(t){super({name:"TaskTimedOut",$fault:"client",...t}),Object.setPrototypeOf(this,YR.prototype)}},XR=class QR extends B{static{f(this,"InvalidOutput")}name="InvalidOutput";$fault="client";constructor(t){super({name:"InvalidOutput",$fault:"client",...t}),Object.setPrototypeOf(this,QR.prototype)}},ZR=class eP extends B{static{f(this,"ExecutionAlreadyExists")}name="ExecutionAlreadyExists";$fault="client";constructor(t){super({name:"ExecutionAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,eP.prototype)}},tP=class rP extends B{static{f(this,"InvalidExecutionInput")}name="InvalidExecutionInput";$fault="client";constructor(t){super({name:"InvalidExecutionInput",$fault:"client",...t}),Object.setPrototypeOf(this,rP.prototype)}},DV={FAILED:"FAILED",SUCCEEDED:"SUCCEEDED",TIMED_OUT:"TIMED_OUT"},kV={DEBUG:"DEBUG",INFO:"INFO",TRACE:"TRACE"},MV={CAUGHT_ERROR:"CAUGHT_ERROR",FAILED:"FAILED",RETRIABLE:"RETRIABLE",SUCCEEDED:"SUCCEEDED"},nP=class sP extends B{static{f(this,"MissingRequiredParameter")}name="MissingRequiredParameter";$fault="client";constructor(t){super({name:"MissingRequiredParameter",$fault:"client",...t}),Object.setPrototypeOf(this,sP.prototype)}},FV={ERROR:"ERROR",WARNING:"WARNING"},$V={FAIL:"FAIL",OK:"OK"},iP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ActivityFailedEventDetailsFilterSensitiveLog"),oP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"ActivityScheduledEventDetailsFilterSensitiveLog"),aP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ActivityScheduleFailedEventDetailsFilterSensitiveLog"),cP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"ActivitySucceededEventDetailsFilterSensitiveLog"),dP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ActivityTimedOutEventDetailsFilterSensitiveLog"),lP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING},...e.versionDescription&&{versionDescription:d.SENSITIVE_STRING}}),"CreateStateMachineInputFilterSensitiveLog"),uP=f(e=>({...e,...e.description&&{description:d.SENSITIVE_STRING}}),"CreateStateMachineAliasInputFilterSensitiveLog"),pP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING},...e.output&&{output:d.SENSITIVE_STRING},...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING},...e.redriveStatusReason&&{redriveStatusReason:d.SENSITIVE_STRING}}),"DescribeExecutionOutputFilterSensitiveLog"),fP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING},...e.description&&{description:d.SENSITIVE_STRING},...e.variableReferences&&{variableReferences:d.SENSITIVE_STRING}}),"DescribeStateMachineOutputFilterSensitiveLog"),mP=f(e=>({...e,...e.description&&{description:d.SENSITIVE_STRING}}),"DescribeStateMachineAliasOutputFilterSensitiveLog"),hP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING},...e.variableReferences&&{variableReferences:d.SENSITIVE_STRING}}),"DescribeStateMachineForExecutionOutputFilterSensitiveLog"),gP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"GetActivityTaskOutputFilterSensitiveLog"),SP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING},...e.location&&{location:d.SENSITIVE_STRING}}),"EvaluationFailedEventDetailsFilterSensitiveLog"),yP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ExecutionAbortedEventDetailsFilterSensitiveLog"),_P=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ExecutionFailedEventDetailsFilterSensitiveLog"),vP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"ExecutionStartedEventDetailsFilterSensitiveLog"),EP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"ExecutionSucceededEventDetailsFilterSensitiveLog"),bP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"ExecutionTimedOutEventDetailsFilterSensitiveLog"),wP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"LambdaFunctionFailedEventDetailsFilterSensitiveLog"),xP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"LambdaFunctionScheduledEventDetailsFilterSensitiveLog"),TP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"LambdaFunctionScheduleFailedEventDetailsFilterSensitiveLog"),CP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"LambdaFunctionStartFailedEventDetailsFilterSensitiveLog"),AP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"LambdaFunctionSucceededEventDetailsFilterSensitiveLog"),RP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"LambdaFunctionTimedOutEventDetailsFilterSensitiveLog"),PP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"MapRunFailedEventDetailsFilterSensitiveLog"),IP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"StateEnteredEventDetailsFilterSensitiveLog"),OP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING},...e.assignedVariables&&{assignedVariables:d.SENSITIVE_STRING}}),"StateExitedEventDetailsFilterSensitiveLog"),NP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"TaskFailedEventDetailsFilterSensitiveLog"),DP=f(e=>({...e,...e.parameters&&{parameters:d.SENSITIVE_STRING}}),"TaskScheduledEventDetailsFilterSensitiveLog"),kP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"TaskStartFailedEventDetailsFilterSensitiveLog"),MP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"TaskSubmitFailedEventDetailsFilterSensitiveLog"),FP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"TaskSubmittedEventDetailsFilterSensitiveLog"),$P=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"TaskSucceededEventDetailsFilterSensitiveLog"),LP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"TaskTimedOutEventDetailsFilterSensitiveLog"),UP=f(e=>({...e,...e.activityFailedEventDetails&&{activityFailedEventDetails:iP(e.activityFailedEventDetails)},...e.activityScheduleFailedEventDetails&&{activityScheduleFailedEventDetails:aP(e.activityScheduleFailedEventDetails)},...e.activityScheduledEventDetails&&{activityScheduledEventDetails:oP(e.activityScheduledEventDetails)},...e.activitySucceededEventDetails&&{activitySucceededEventDetails:cP(e.activitySucceededEventDetails)},...e.activityTimedOutEventDetails&&{activityTimedOutEventDetails:dP(e.activityTimedOutEventDetails)},...e.taskFailedEventDetails&&{taskFailedEventDetails:NP(e.taskFailedEventDetails)},...e.taskScheduledEventDetails&&{taskScheduledEventDetails:DP(e.taskScheduledEventDetails)},...e.taskStartFailedEventDetails&&{taskStartFailedEventDetails:kP(e.taskStartFailedEventDetails)},...e.taskSubmitFailedEventDetails&&{taskSubmitFailedEventDetails:MP(e.taskSubmitFailedEventDetails)},...e.taskSubmittedEventDetails&&{taskSubmittedEventDetails:FP(e.taskSubmittedEventDetails)},...e.taskSucceededEventDetails&&{taskSucceededEventDetails:$P(e.taskSucceededEventDetails)},...e.taskTimedOutEventDetails&&{taskTimedOutEventDetails:LP(e.taskTimedOutEventDetails)},...e.executionFailedEventDetails&&{executionFailedEventDetails:_P(e.executionFailedEventDetails)},...e.executionStartedEventDetails&&{executionStartedEventDetails:vP(e.executionStartedEventDetails)},...e.executionSucceededEventDetails&&{executionSucceededEventDetails:EP(e.executionSucceededEventDetails)},...e.executionAbortedEventDetails&&{executionAbortedEventDetails:yP(e.executionAbortedEventDetails)},...e.executionTimedOutEventDetails&&{executionTimedOutEventDetails:bP(e.executionTimedOutEventDetails)},...e.lambdaFunctionFailedEventDetails&&{lambdaFunctionFailedEventDetails:wP(e.lambdaFunctionFailedEventDetails)},...e.lambdaFunctionScheduleFailedEventDetails&&{lambdaFunctionScheduleFailedEventDetails:TP(e.lambdaFunctionScheduleFailedEventDetails)},...e.lambdaFunctionScheduledEventDetails&&{lambdaFunctionScheduledEventDetails:xP(e.lambdaFunctionScheduledEventDetails)},...e.lambdaFunctionStartFailedEventDetails&&{lambdaFunctionStartFailedEventDetails:CP(e.lambdaFunctionStartFailedEventDetails)},...e.lambdaFunctionSucceededEventDetails&&{lambdaFunctionSucceededEventDetails:AP(e.lambdaFunctionSucceededEventDetails)},...e.lambdaFunctionTimedOutEventDetails&&{lambdaFunctionTimedOutEventDetails:RP(e.lambdaFunctionTimedOutEventDetails)},...e.stateEnteredEventDetails&&{stateEnteredEventDetails:IP(e.stateEnteredEventDetails)},...e.stateExitedEventDetails&&{stateExitedEventDetails:OP(e.stateExitedEventDetails)},...e.mapRunFailedEventDetails&&{mapRunFailedEventDetails:PP(e.mapRunFailedEventDetails)},...e.evaluationFailedEventDetails&&{evaluationFailedEventDetails:SP(e.evaluationFailedEventDetails)}}),"HistoryEventFilterSensitiveLog"),jP=f(e=>({...e,...e.events&&{events:e.events.map(t=>UP(t))}}),"GetExecutionHistoryOutputFilterSensitiveLog"),HP=f(e=>({...e,...e.description&&{description:d.SENSITIVE_STRING}}),"PublishStateMachineVersionInputFilterSensitiveLog"),VP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"SendTaskFailureInputFilterSensitiveLog"),zP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING}}),"SendTaskSuccessInputFilterSensitiveLog"),qP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"StartExecutionInputFilterSensitiveLog"),BP=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING}}),"StartSyncExecutionInputFilterSensitiveLog"),WP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING},...e.input&&{input:d.SENSITIVE_STRING},...e.output&&{output:d.SENSITIVE_STRING}}),"StartSyncExecutionOutputFilterSensitiveLog"),GP=f(e=>({...e,...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING}}),"StopExecutionInputFilterSensitiveLog"),KP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING},...e.input&&{input:d.SENSITIVE_STRING},...e.variables&&{variables:d.SENSITIVE_STRING}}),"TestStateInputFilterSensitiveLog"),LV=f(e=>({...e,...e.input&&{input:d.SENSITIVE_STRING},...e.afterArguments&&{afterArguments:d.SENSITIVE_STRING},...e.afterInputPath&&{afterInputPath:d.SENSITIVE_STRING},...e.afterParameters&&{afterParameters:d.SENSITIVE_STRING},...e.result&&{result:d.SENSITIVE_STRING},...e.afterResultSelector&&{afterResultSelector:d.SENSITIVE_STRING},...e.afterResultPath&&{afterResultPath:d.SENSITIVE_STRING},...e.variables&&{variables:d.SENSITIVE_STRING}}),"InspectionDataFilterSensitiveLog"),JP=f(e=>({...e,...e.output&&{output:d.SENSITIVE_STRING},...e.error&&{error:d.SENSITIVE_STRING},...e.cause&&{cause:d.SENSITIVE_STRING},...e.inspectionData&&{inspectionData:d.SENSITIVE_STRING}}),"TestStateOutputFilterSensitiveLog"),YP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING},...e.versionDescription&&{versionDescription:d.SENSITIVE_STRING}}),"UpdateStateMachineInputFilterSensitiveLog"),XP=f(e=>({...e,...e.description&&{description:d.SENSITIVE_STRING}}),"UpdateStateMachineAliasInputFilterSensitiveLog"),QP=f(e=>({...e,...e.definition&&{definition:d.SENSITIVE_STRING}}),"ValidateStateMachineDefinitionInputFilterSensitiveLog"),ZP=f(e=>({...e,...e.code&&{code:d.SENSITIVE_STRING},...e.message&&{message:d.SENSITIVE_STRING},...e.location&&{location:d.SENSITIVE_STRING}}),"ValidateStateMachineDefinitionDiagnosticFilterSensitiveLog"),eI=f(e=>({...e,...e.diagnostics&&{diagnostics:e.diagnostics.map(t=>ZP(t))}}),"ValidateStateMachineDefinitionOutputFilterSensitiveLog"),UV=f(async(e,t)=>{let r=L("CreateActivity"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_CreateActivityCommand"),jV=f(async(e,t)=>{let r=L("CreateStateMachine"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_CreateStateMachineCommand"),HV=f(async(e,t)=>{let r=L("CreateStateMachineAlias"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_CreateStateMachineAliasCommand"),VV=f(async(e,t)=>{let r=L("DeleteActivity"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DeleteActivityCommand"),zV=f(async(e,t)=>{let r=L("DeleteStateMachine"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DeleteStateMachineCommand"),qV=f(async(e,t)=>{let r=L("DeleteStateMachineAlias"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DeleteStateMachineAliasCommand"),BV=f(async(e,t)=>{let r=L("DeleteStateMachineVersion"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DeleteStateMachineVersionCommand"),WV=f(async(e,t)=>{let r=L("DescribeActivity"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeActivityCommand"),GV=f(async(e,t)=>{let r=L("DescribeExecution"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeExecutionCommand"),KV=f(async(e,t)=>{let r=L("DescribeMapRun"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeMapRunCommand"),JV=f(async(e,t)=>{let r=L("DescribeStateMachine"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeStateMachineCommand"),YV=f(async(e,t)=>{let r=L("DescribeStateMachineAlias"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeStateMachineAliasCommand"),XV=f(async(e,t)=>{let r=L("DescribeStateMachineForExecution"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_DescribeStateMachineForExecutionCommand"),QV=f(async(e,t)=>{let r=L("GetActivityTask"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_GetActivityTaskCommand"),ZV=f(async(e,t)=>{let r=L("GetExecutionHistory"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_GetExecutionHistoryCommand"),ez=f(async(e,t)=>{let r=L("ListActivities"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListActivitiesCommand"),tz=f(async(e,t)=>{let r=L("ListExecutions"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListExecutionsCommand"),rz=f(async(e,t)=>{let r=L("ListMapRuns"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListMapRunsCommand"),nz=f(async(e,t)=>{let r=L("ListStateMachineAliases"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListStateMachineAliasesCommand"),sz=f(async(e,t)=>{let r=L("ListStateMachines"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListStateMachinesCommand"),iz=f(async(e,t)=>{let r=L("ListStateMachineVersions"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListStateMachineVersionsCommand"),oz=f(async(e,t)=>{let r=L("ListTagsForResource"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),az=f(async(e,t)=>{let r=L("PublishStateMachineVersion"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_PublishStateMachineVersionCommand"),cz=f(async(e,t)=>{let r=L("RedriveExecution"),n;return n=JSON.stringify(Lq(e,t)),V(t,r,"/",void 0,n)},"se_RedriveExecutionCommand"),dz=f(async(e,t)=>{let r=L("SendTaskFailure"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_SendTaskFailureCommand"),lz=f(async(e,t)=>{let r=L("SendTaskHeartbeat"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_SendTaskHeartbeatCommand"),uz=f(async(e,t)=>{let r=L("SendTaskSuccess"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_SendTaskSuccessCommand"),pz=f(async(e,t)=>{let r=L("StartExecution"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_StartExecutionCommand"),fz=f(async(e,t)=>{let r=L("StartSyncExecution"),n;n=JSON.stringify((0,d._json)(e));let{hostname:s}=await t.endpoint();if(t.disableHostPrefix!==!0&&(s="sync-"+s,!(0,Mi.isValidHostname)(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return V(t,r,"/",s,n)},"se_StartSyncExecutionCommand"),mz=f(async(e,t)=>{let r=L("StopExecution"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_StopExecutionCommand"),hz=f(async(e,t)=>{let r=L("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_TagResourceCommand"),gz=f(async(e,t)=>{let r=L("TestState"),n;n=JSON.stringify((0,d._json)(e));let{hostname:s}=await t.endpoint();if(t.disableHostPrefix!==!0&&(s="sync-"+s,!(0,Mi.isValidHostname)(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return V(t,r,"/",s,n)},"se_TestStateCommand"),Sz=f(async(e,t)=>{let r=L("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_UntagResourceCommand"),yz=f(async(e,t)=>{let r=L("UpdateMapRun"),n;return n=JSON.stringify(Uq(e,t)),V(t,r,"/",void 0,n)},"se_UpdateMapRunCommand"),_z=f(async(e,t)=>{let r=L("UpdateStateMachine"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_UpdateStateMachineCommand"),vz=f(async(e,t)=>{let r=L("UpdateStateMachineAlias"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_UpdateStateMachineAliasCommand"),Ez=f(async(e,t)=>{let r=L("ValidateStateMachineDefinition"),n;return n=JSON.stringify((0,d._json)(e)),V(t,r,"/",void 0,n)},"se_ValidateStateMachineDefinitionCommand"),bz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Vq(r,t),{$metadata:C(e),...n}},"de_CreateActivityCommand"),wz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=qq(r,t),{$metadata:C(e),...n}},"de_CreateStateMachineCommand"),xz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=zq(r,t),{$metadata:C(e),...n}},"de_CreateStateMachineAliasCommand"),Tz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteActivityCommand"),Cz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteStateMachineCommand"),Az=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteStateMachineAliasCommand"),Rz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteStateMachineVersionCommand"),Pz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Bq(r,t),{$metadata:C(e),...n}},"de_DescribeActivityCommand"),Iz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Wq(r,t),{$metadata:C(e),...n}},"de_DescribeExecutionCommand"),Oz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Gq(r,t),{$metadata:C(e),...n}},"de_DescribeMapRunCommand"),Nz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Yq(r,t),{$metadata:C(e),...n}},"de_DescribeStateMachineCommand"),Dz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Kq(r,t),{$metadata:C(e),...n}},"de_DescribeStateMachineAliasCommand"),kz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Jq(r,t),{$metadata:C(e),...n}},"de_DescribeStateMachineForExecutionCommand"),Mz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetActivityTaskCommand"),Fz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Zq(r,t),{$metadata:C(e),...n}},"de_GetExecutionHistoryCommand"),$z=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=rB(r,t),{$metadata:C(e),...n}},"de_ListActivitiesCommand"),Lz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=nB(r,t),{$metadata:C(e),...n}},"de_ListExecutionsCommand"),Uz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=sB(r,t),{$metadata:C(e),...n}},"de_ListMapRunsCommand"),jz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=iB(r,t),{$metadata:C(e),...n}},"de_ListStateMachineAliasesCommand"),Hz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=oB(r,t),{$metadata:C(e),...n}},"de_ListStateMachinesCommand"),Vz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=aB(r,t),{$metadata:C(e),...n}},"de_ListStateMachineVersionsCommand"),zz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_ListTagsForResourceCommand"),qz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=lB(r,t),{$metadata:C(e),...n}},"de_PublishStateMachineVersionCommand"),Bz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=uB(r,t),{$metadata:C(e),...n}},"de_RedriveExecutionCommand"),Wz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_SendTaskFailureCommand"),Gz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_SendTaskHeartbeatCommand"),Kz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_SendTaskSuccessCommand"),Jz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=pB(r,t),{$metadata:C(e),...n}},"de_StartExecutionCommand"),Yz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=fB(r,t),{$metadata:C(e),...n}},"de_StartSyncExecutionCommand"),Xz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=vB(r,t),{$metadata:C(e),...n}},"de_StopExecutionCommand"),Qz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_TagResourceCommand"),Zz=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_TestStateCommand"),eq=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_UntagResourceCommand"),tq=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_UpdateMapRunCommand"),rq=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=bB(r,t),{$metadata:C(e),...n}},"de_UpdateStateMachineCommand"),nq=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=EB(r,t),{$metadata:C(e),...n}},"de_UpdateStateMachineAliasCommand"),sq=f(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_ValidateStateMachineDefinitionCommand"),H=f(async(e,t)=>{let r={...e,body:await(0,M.parseJsonErrorBody)(e.body,t)},n=(0,M.loadRestJsonErrorCode)(e,r.body);switch(n){case"ActivityAlreadyExists":case"com.amazonaws.sfn#ActivityAlreadyExists":throw await iq(r,t);case"ActivityLimitExceeded":case"com.amazonaws.sfn#ActivityLimitExceeded":throw await aq(r,t);case"InvalidEncryptionConfiguration":case"com.amazonaws.sfn#InvalidEncryptionConfiguration":throw await gq(r,t);case"InvalidName":case"com.amazonaws.sfn#InvalidName":throw await _q(r,t);case"KmsAccessDeniedException":case"com.amazonaws.sfn#KmsAccessDeniedException":throw await wq(r,t);case"KmsThrottlingException":case"com.amazonaws.sfn#KmsThrottlingException":throw await Tq(r,t);case"TooManyTags":case"com.amazonaws.sfn#TooManyTags":throw await Fq(r,t);case"ConflictException":case"com.amazonaws.sfn#ConflictException":throw await dq(r,t);case"InvalidArn":case"com.amazonaws.sfn#InvalidArn":throw await mq(r,t);case"InvalidDefinition":case"com.amazonaws.sfn#InvalidDefinition":throw await hq(r,t);case"InvalidLoggingConfiguration":case"com.amazonaws.sfn#InvalidLoggingConfiguration":throw await yq(r,t);case"InvalidTracingConfiguration":case"com.amazonaws.sfn#InvalidTracingConfiguration":throw await bq(r,t);case"StateMachineAlreadyExists":case"com.amazonaws.sfn#StateMachineAlreadyExists":throw await Pq(r,t);case"StateMachineDeleting":case"com.amazonaws.sfn#StateMachineDeleting":throw await Iq(r,t);case"StateMachineLimitExceeded":case"com.amazonaws.sfn#StateMachineLimitExceeded":throw await Nq(r,t);case"StateMachineTypeNotSupported":case"com.amazonaws.sfn#StateMachineTypeNotSupported":throw await Dq(r,t);case"ValidationException":case"com.amazonaws.sfn#ValidationException":throw await $q(r,t);case"ResourceNotFound":case"com.amazonaws.sfn#ResourceNotFound":throw await Aq(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.sfn#ServiceQuotaExceededException":throw await Rq(r,t);case"ActivityDoesNotExist":case"com.amazonaws.sfn#ActivityDoesNotExist":throw await oq(r,t);case"ExecutionDoesNotExist":case"com.amazonaws.sfn#ExecutionDoesNotExist":throw await uq(r,t);case"KmsInvalidStateException":case"com.amazonaws.sfn#KmsInvalidStateException":throw await xq(r,t);case"StateMachineDoesNotExist":case"com.amazonaws.sfn#StateMachineDoesNotExist":throw await Oq(r,t);case"ActivityWorkerLimitExceeded":case"com.amazonaws.sfn#ActivityWorkerLimitExceeded":throw await cq(r,t);case"InvalidToken":case"com.amazonaws.sfn#InvalidToken":throw await Eq(r,t);case"ExecutionLimitExceeded":case"com.amazonaws.sfn#ExecutionLimitExceeded":throw await pq(r,t);case"ExecutionNotRedrivable":case"com.amazonaws.sfn#ExecutionNotRedrivable":throw await fq(r,t);case"TaskDoesNotExist":case"com.amazonaws.sfn#TaskDoesNotExist":throw await kq(r,t);case"TaskTimedOut":case"com.amazonaws.sfn#TaskTimedOut":throw await Mq(r,t);case"InvalidOutput":case"com.amazonaws.sfn#InvalidOutput":throw await vq(r,t);case"ExecutionAlreadyExists":case"com.amazonaws.sfn#ExecutionAlreadyExists":throw await lq(r,t);case"InvalidExecutionInput":case"com.amazonaws.sfn#InvalidExecutionInput":throw await Sq(r,t);case"MissingRequiredParameter":case"com.amazonaws.sfn#MissingRequiredParameter":throw await Cq(r,t);default:let s=r.body;return wB({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),iq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new GA({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ActivityAlreadyExistsRes"),oq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new JA({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ActivityDoesNotExistRes"),aq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new XA({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ActivityLimitExceededRes"),cq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new ZA({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ActivityWorkerLimitExceededRes"),dq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new uR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),lq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new ZR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ExecutionAlreadyExistsRes"),uq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new MR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ExecutionDoesNotExistRes"),pq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new zR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ExecutionLimitExceededRes"),fq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new BR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ExecutionNotRedrivableRes"),mq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new fR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidArnRes"),hq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new hR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidDefinitionRes"),gq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new tR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidEncryptionConfigurationRes"),Sq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new tP({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidExecutionInputRes"),yq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new SR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidLoggingConfigurationRes"),_q=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new nR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidNameRes"),vq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new XR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidOutputRes"),Eq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new HR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidTokenRes"),bq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new _R({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_InvalidTracingConfigurationRes"),wq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new iR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_KmsAccessDeniedExceptionRes"),xq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new $R({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_KmsInvalidStateExceptionRes"),Tq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new aR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_KmsThrottlingExceptionRes"),Cq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new nP({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_MissingRequiredParameterRes"),Aq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new OR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ResourceNotFoundRes"),Rq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new DR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ServiceQuotaExceededExceptionRes"),Pq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new ER({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_StateMachineAlreadyExistsRes"),Iq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new wR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_StateMachineDeletingRes"),Oq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new UR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_StateMachineDoesNotExistRes"),Nq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new TR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_StateMachineLimitExceededRes"),Dq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new AR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_StateMachineTypeNotSupportedRes"),kq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new GR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_TaskDoesNotExistRes"),Mq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new JR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_TaskTimedOutRes"),Fq=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new dR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_TooManyTagsRes"),$q=f(async(e,t)=>{let r=e.body,n=(0,d._json)(r),s=new PR({$metadata:C(e),...n});return(0,d.decorateServiceException)(s,r)},"de_ValidationExceptionRes"),Lq=f((e,t)=>(0,d.take)(e,{clientToken:[!0,r=>r??(0,vV.v4)()],executionArn:[]}),"se_RedriveExecutionInput"),Uq=f((e,t)=>(0,d.take)(e,{mapRunArn:[],maxConcurrency:[],toleratedFailureCount:[],toleratedFailurePercentage:d.serializeFloat}),"se_UpdateMapRunInput"),jq=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hq(n,t)),"de_ActivityList"),Hq=f((e,t)=>(0,d.take)(e,{activityArn:d.expectString,creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),name:d.expectString}),"de_ActivityListItem"),Vq=f((e,t)=>(0,d.take)(e,{activityArn:d.expectString,creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate")}),"de_CreateActivityOutput"),zq=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),stateMachineAliasArn:d.expectString}),"de_CreateStateMachineAliasOutput"),qq=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),stateMachineArn:d.expectString,stateMachineVersionArn:d.expectString}),"de_CreateStateMachineOutput"),Bq=f((e,t)=>(0,d.take)(e,{activityArn:d.expectString,creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),encryptionConfiguration:d._json,name:d.expectString}),"de_DescribeActivityOutput"),Wq=f((e,t)=>(0,d.take)(e,{cause:d.expectString,error:d.expectString,executionArn:d.expectString,input:d.expectString,inputDetails:d._json,mapRunArn:d.expectString,name:d.expectString,output:d.expectString,outputDetails:d._json,redriveCount:d.expectInt32,redriveDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"redriveDate"),redriveStatus:d.expectString,redriveStatusReason:d.expectString,startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate"),stateMachineAliasArn:d.expectString,stateMachineArn:d.expectString,stateMachineVersionArn:d.expectString,status:d.expectString,stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate"),traceHeader:d.expectString}),"de_DescribeExecutionOutput"),Gq=f((e,t)=>(0,d.take)(e,{executionArn:d.expectString,executionCounts:d._json,itemCounts:d._json,mapRunArn:d.expectString,maxConcurrency:d.expectInt32,redriveCount:d.expectInt32,redriveDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"redriveDate"),startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate"),status:d.expectString,stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate"),toleratedFailureCount:d.expectLong,toleratedFailurePercentage:d.limitedParseFloat32}),"de_DescribeMapRunOutput"),Kq=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),description:d.expectString,name:d.expectString,routingConfiguration:d._json,stateMachineAliasArn:d.expectString,updateDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateDate")}),"de_DescribeStateMachineAliasOutput"),Jq=f((e,t)=>(0,d.take)(e,{definition:d.expectString,encryptionConfiguration:d._json,label:d.expectString,loggingConfiguration:d._json,mapRunArn:d.expectString,name:d.expectString,revisionId:d.expectString,roleArn:d.expectString,stateMachineArn:d.expectString,tracingConfiguration:d._json,updateDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateDate"),variableReferences:d._json}),"de_DescribeStateMachineForExecutionOutput"),Yq=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),definition:d.expectString,description:d.expectString,encryptionConfiguration:d._json,label:d.expectString,loggingConfiguration:d._json,name:d.expectString,revisionId:d.expectString,roleArn:d.expectString,stateMachineArn:d.expectString,status:d.expectString,tracingConfiguration:d._json,type:d.expectString,variableReferences:d._json}),"de_DescribeStateMachineOutput"),Xq=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Qq(n,t)),"de_ExecutionList"),Qq=f((e,t)=>(0,d.take)(e,{executionArn:d.expectString,itemCount:d.expectInt32,mapRunArn:d.expectString,name:d.expectString,redriveCount:d.expectInt32,redriveDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"redriveDate"),startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate"),stateMachineAliasArn:d.expectString,stateMachineArn:d.expectString,stateMachineVersionArn:d.expectString,status:d.expectString,stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate")}),"de_ExecutionListItem"),Zq=f((e,t)=>(0,d.take)(e,{events:f(r=>tB(r,t),"events"),nextToken:d.expectString}),"de_GetExecutionHistoryOutput"),eB=f((e,t)=>(0,d.take)(e,{activityFailedEventDetails:d._json,activityScheduleFailedEventDetails:d._json,activityScheduledEventDetails:d._json,activityStartedEventDetails:d._json,activitySucceededEventDetails:d._json,activityTimedOutEventDetails:d._json,evaluationFailedEventDetails:d._json,executionAbortedEventDetails:d._json,executionFailedEventDetails:d._json,executionRedrivenEventDetails:d._json,executionStartedEventDetails:d._json,executionSucceededEventDetails:d._json,executionTimedOutEventDetails:d._json,id:d.expectLong,lambdaFunctionFailedEventDetails:d._json,lambdaFunctionScheduleFailedEventDetails:d._json,lambdaFunctionScheduledEventDetails:d._json,lambdaFunctionStartFailedEventDetails:d._json,lambdaFunctionSucceededEventDetails:d._json,lambdaFunctionTimedOutEventDetails:d._json,mapIterationAbortedEventDetails:d._json,mapIterationFailedEventDetails:d._json,mapIterationStartedEventDetails:d._json,mapIterationSucceededEventDetails:d._json,mapRunFailedEventDetails:d._json,mapRunRedrivenEventDetails:d._json,mapRunStartedEventDetails:d._json,mapStateStartedEventDetails:d._json,previousEventId:d.expectLong,stateEnteredEventDetails:d._json,stateExitedEventDetails:d._json,taskFailedEventDetails:d._json,taskScheduledEventDetails:d._json,taskStartFailedEventDetails:d._json,taskStartedEventDetails:d._json,taskSubmitFailedEventDetails:d._json,taskSubmittedEventDetails:d._json,taskSucceededEventDetails:d._json,taskTimedOutEventDetails:d._json,timestamp:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"timestamp"),type:d.expectString}),"de_HistoryEvent"),tB=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>eB(n,t)),"de_HistoryEventList"),rB=f((e,t)=>(0,d.take)(e,{activities:f(r=>jq(r,t),"activities"),nextToken:d.expectString}),"de_ListActivitiesOutput"),nB=f((e,t)=>(0,d.take)(e,{executions:f(r=>Xq(r,t),"executions"),nextToken:d.expectString}),"de_ListExecutionsOutput"),sB=f((e,t)=>(0,d.take)(e,{mapRuns:f(r=>cB(r,t),"mapRuns"),nextToken:d.expectString}),"de_ListMapRunsOutput"),iB=f((e,t)=>(0,d.take)(e,{nextToken:d.expectString,stateMachineAliases:f(r=>mB(r,t),"stateMachineAliases")}),"de_ListStateMachineAliasesOutput"),oB=f((e,t)=>(0,d.take)(e,{nextToken:d.expectString,stateMachines:f(r=>gB(r,t),"stateMachines")}),"de_ListStateMachinesOutput"),aB=f((e,t)=>(0,d.take)(e,{nextToken:d.expectString,stateMachineVersions:f(r=>yB(r,t),"stateMachineVersions")}),"de_ListStateMachineVersionsOutput"),cB=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>dB(n,t)),"de_MapRunList"),dB=f((e,t)=>(0,d.take)(e,{executionArn:d.expectString,mapRunArn:d.expectString,startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate"),stateMachineArn:d.expectString,stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate")}),"de_MapRunListItem"),lB=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),stateMachineVersionArn:d.expectString}),"de_PublishStateMachineVersionOutput"),uB=f((e,t)=>(0,d.take)(e,{redriveDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"redriveDate")}),"de_RedriveExecutionOutput"),pB=f((e,t)=>(0,d.take)(e,{executionArn:d.expectString,startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate")}),"de_StartExecutionOutput"),fB=f((e,t)=>(0,d.take)(e,{billingDetails:d._json,cause:d.expectString,error:d.expectString,executionArn:d.expectString,input:d.expectString,inputDetails:d._json,name:d.expectString,output:d.expectString,outputDetails:d._json,startDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startDate"),stateMachineArn:d.expectString,status:d.expectString,stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate"),traceHeader:d.expectString}),"de_StartSyncExecutionOutput"),mB=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hB(n,t)),"de_StateMachineAliasList"),hB=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),stateMachineAliasArn:d.expectString}),"de_StateMachineAliasListItem"),gB=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>SB(n,t)),"de_StateMachineList"),SB=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),name:d.expectString,stateMachineArn:d.expectString,type:d.expectString}),"de_StateMachineListItem"),yB=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>_B(n,t)),"de_StateMachineVersionList"),_B=f((e,t)=>(0,d.take)(e,{creationDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"creationDate"),stateMachineVersionArn:d.expectString}),"de_StateMachineVersionListItem"),vB=f((e,t)=>(0,d.take)(e,{stopDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"stopDate")}),"de_StopExecutionOutput"),EB=f((e,t)=>(0,d.take)(e,{updateDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateDate")}),"de_UpdateStateMachineAliasOutput"),bB=f((e,t)=>(0,d.take)(e,{revisionId:d.expectString,stateMachineVersionArn:d.expectString,updateDate:f(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateDate")}),"de_UpdateStateMachineOutput"),C=f(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wB=(0,d.withBaseException)(B),V=f(async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Mi.HttpRequest(l)},"buildHttpRpcRequest");function L(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AWSStepFunctions.${e}`}}f(L,"sharedHeaders");var tI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateActivity",{}).n("SFNClient","CreateActivityCommand").f(void 0,void 0).ser(UV).de(bz).build(){static{f(this,"CreateActivityCommand")}},rI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateStateMachineAlias",{}).n("SFNClient","CreateStateMachineAliasCommand").f(uP,void 0).ser(HV).de(xz).build(){static{f(this,"CreateStateMachineAliasCommand")}},nI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateStateMachine",{}).n("SFNClient","CreateStateMachineCommand").f(lP,void 0).ser(jV).de(wz).build(){static{f(this,"CreateStateMachineCommand")}},sI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteActivity",{}).n("SFNClient","DeleteActivityCommand").f(void 0,void 0).ser(VV).de(Tz).build(){static{f(this,"DeleteActivityCommand")}},iI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachineAlias",{}).n("SFNClient","DeleteStateMachineAliasCommand").f(void 0,void 0).ser(qV).de(Az).build(){static{f(this,"DeleteStateMachineAliasCommand")}},oI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachine",{}).n("SFNClient","DeleteStateMachineCommand").f(void 0,void 0).ser(zV).de(Cz).build(){static{f(this,"DeleteStateMachineCommand")}},aI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachineVersion",{}).n("SFNClient","DeleteStateMachineVersionCommand").f(void 0,void 0).ser(BV).de(Rz).build(){static{f(this,"DeleteStateMachineVersionCommand")}},cI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeActivity",{}).n("SFNClient","DescribeActivityCommand").f(void 0,void 0).ser(WV).de(Pz).build(){static{f(this,"DescribeActivityCommand")}},dI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeExecution",{}).n("SFNClient","DescribeExecutionCommand").f(void 0,pP).ser(GV).de(Iz).build(){static{f(this,"DescribeExecutionCommand")}},lI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeMapRun",{}).n("SFNClient","DescribeMapRunCommand").f(void 0,void 0).ser(KV).de(Oz).build(){static{f(this,"DescribeMapRunCommand")}},uI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachineAlias",{}).n("SFNClient","DescribeStateMachineAliasCommand").f(void 0,mP).ser(YV).de(Dz).build(){static{f(this,"DescribeStateMachineAliasCommand")}},pI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachine",{}).n("SFNClient","DescribeStateMachineCommand").f(void 0,fP).ser(JV).de(Nz).build(){static{f(this,"DescribeStateMachineCommand")}},fI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachineForExecution",{}).n("SFNClient","DescribeStateMachineForExecutionCommand").f(void 0,hP).ser(XV).de(kz).build(){static{f(this,"DescribeStateMachineForExecutionCommand")}},mI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","GetActivityTask",{}).n("SFNClient","GetActivityTaskCommand").f(void 0,gP).ser(QV).de(Mz).build(){static{f(this,"GetActivityTaskCommand")}},Jf=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","GetExecutionHistory",{}).n("SFNClient","GetExecutionHistoryCommand").f(void 0,jP).ser(ZV).de(Fz).build(){static{f(this,"GetExecutionHistoryCommand")}},Yf=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListActivities",{}).n("SFNClient","ListActivitiesCommand").f(void 0,void 0).ser(ez).de($z).build(){static{f(this,"ListActivitiesCommand")}},Xf=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListExecutions",{}).n("SFNClient","ListExecutionsCommand").f(void 0,void 0).ser(tz).de(Lz).build(){static{f(this,"ListExecutionsCommand")}},Qf=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListMapRuns",{}).n("SFNClient","ListMapRunsCommand").f(void 0,void 0).ser(rz).de(Uz).build(){static{f(this,"ListMapRunsCommand")}},hI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachineAliases",{}).n("SFNClient","ListStateMachineAliasesCommand").f(void 0,void 0).ser(nz).de(jz).build(){static{f(this,"ListStateMachineAliasesCommand")}},Zf=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachines",{}).n("SFNClient","ListStateMachinesCommand").f(void 0,void 0).ser(sz).de(Hz).build(){static{f(this,"ListStateMachinesCommand")}},gI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachineVersions",{}).n("SFNClient","ListStateMachineVersionsCommand").f(void 0,void 0).ser(iz).de(Vz).build(){static{f(this,"ListStateMachineVersionsCommand")}},SI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListTagsForResource",{}).n("SFNClient","ListTagsForResourceCommand").f(void 0,void 0).ser(oz).de(zz).build(){static{f(this,"ListTagsForResourceCommand")}},yI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","PublishStateMachineVersion",{}).n("SFNClient","PublishStateMachineVersionCommand").f(HP,void 0).ser(az).de(qz).build(){static{f(this,"PublishStateMachineVersionCommand")}},_I=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","RedriveExecution",{}).n("SFNClient","RedriveExecutionCommand").f(void 0,void 0).ser(cz).de(Bz).build(){static{f(this,"RedriveExecutionCommand")}},vI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskFailure",{}).n("SFNClient","SendTaskFailureCommand").f(VP,void 0).ser(dz).de(Wz).build(){static{f(this,"SendTaskFailureCommand")}},EI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskHeartbeat",{}).n("SFNClient","SendTaskHeartbeatCommand").f(void 0,void 0).ser(lz).de(Gz).build(){static{f(this,"SendTaskHeartbeatCommand")}},bI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskSuccess",{}).n("SFNClient","SendTaskSuccessCommand").f(zP,void 0).ser(uz).de(Kz).build(){static{f(this,"SendTaskSuccessCommand")}},wI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StartExecution",{}).n("SFNClient","StartExecutionCommand").f(qP,void 0).ser(pz).de(Jz).build(){static{f(this,"StartExecutionCommand")}},xI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StartSyncExecution",{}).n("SFNClient","StartSyncExecutionCommand").f(BP,WP).ser(fz).de(Yz).build(){static{f(this,"StartSyncExecutionCommand")}},TI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StopExecution",{}).n("SFNClient","StopExecutionCommand").f(GP,void 0).ser(mz).de(Xz).build(){static{f(this,"StopExecutionCommand")}},CI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","TagResource",{}).n("SFNClient","TagResourceCommand").f(void 0,void 0).ser(hz).de(Qz).build(){static{f(this,"TagResourceCommand")}},AI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","TestState",{}).n("SFNClient","TestStateCommand").f(KP,JP).ser(gz).de(Zz).build(){static{f(this,"TestStateCommand")}},RI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UntagResource",{}).n("SFNClient","UntagResourceCommand").f(void 0,void 0).ser(Sz).de(eq).build(){static{f(this,"UntagResourceCommand")}},PI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateMapRun",{}).n("SFNClient","UpdateMapRunCommand").f(void 0,void 0).ser(yz).de(tq).build(){static{f(this,"UpdateMapRunCommand")}},II=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateStateMachineAlias",{}).n("SFNClient","UpdateStateMachineAliasCommand").f(XP,void 0).ser(vz).de(nq).build(){static{f(this,"UpdateStateMachineAliasCommand")}},OI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateStateMachine",{}).n("SFNClient","UpdateStateMachineCommand").f(YP,void 0).ser(_z).de(rq).build(){static{f(this,"UpdateStateMachineCommand")}},NI=class extends d.Command.classBuilder().ep(U).m(function(e,t,r,n){return[(0,j.getSerdePlugin)(r,this.serialize,this.deserialize),(0,$.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ValidateStateMachineDefinition",{}).n("SFNClient","ValidateStateMachineDefinitionCommand").f(QP,eI).ser(Ez).de(sq).build(){static{f(this,"ValidateStateMachineDefinitionCommand")}},xB={CreateActivityCommand:tI,CreateStateMachineCommand:nI,CreateStateMachineAliasCommand:rI,DeleteActivityCommand:sI,DeleteStateMachineCommand:oI,DeleteStateMachineAliasCommand:iI,DeleteStateMachineVersionCommand:aI,DescribeActivityCommand:cI,DescribeExecutionCommand:dI,DescribeMapRunCommand:lI,DescribeStateMachineCommand:pI,DescribeStateMachineAliasCommand:uI,DescribeStateMachineForExecutionCommand:fI,GetActivityTaskCommand:mI,GetExecutionHistoryCommand:Jf,ListActivitiesCommand:Yf,ListExecutionsCommand:Xf,ListMapRunsCommand:Qf,ListStateMachineAliasesCommand:hI,ListStateMachinesCommand:Zf,ListStateMachineVersionsCommand:gI,ListTagsForResourceCommand:SI,PublishStateMachineVersionCommand:yI,RedriveExecutionCommand:_I,SendTaskFailureCommand:vI,SendTaskHeartbeatCommand:EI,SendTaskSuccessCommand:bI,StartExecutionCommand:wI,StartSyncExecutionCommand:xI,StopExecutionCommand:TI,TagResourceCommand:CI,TestStateCommand:AI,UntagResourceCommand:RI,UpdateMapRunCommand:PI,UpdateStateMachineCommand:OI,UpdateStateMachineAliasCommand:II,ValidateStateMachineDefinitionCommand:NI},DI=class extends tn{static{f(this,"SFN")}};(0,d.createAggregatedClient)(xB,DI);var TB=(0,wr.createPaginator)(tn,Jf,"nextToken","nextToken","maxResults"),CB=(0,wr.createPaginator)(tn,Yf,"nextToken","nextToken","maxResults"),AB=(0,wr.createPaginator)(tn,Xf,"nextToken","nextToken","maxResults"),RB=(0,wr.createPaginator)(tn,Qf,"nextToken","nextToken","maxResults"),PB=(0,wr.createPaginator)(tn,Zf,"nextToken","nextToken","maxResults")});var Fi=E(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.getHomeDir=void 0;var JB=require("os"),YB=require("path"),XB=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${YB.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,JB.homedir)())};ad.getHomeDir=XB});var YI=E(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getProfileName=Ct.DEFAULT_PROFILE=Ct.ENV_PROFILE=void 0;Ct.ENV_PROFILE="AWS_PROFILE";Ct.DEFAULT_PROFILE="default";var QB=e=>e.profile||process.env[Ct.ENV_PROFILE]||Ct.DEFAULT_PROFILE;Ct.getProfileName=QB});var dm=E(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.getSSOTokenFilepath=void 0;var ZB=require("crypto"),e7=require("path"),t7=Fi(),r7=e=>{let r=(0,ZB.createHash)("sha1").update(e).digest("hex");return(0,e7.join)((0,t7.getHomeDir)(),".aws","sso","cache",`${r}.json`)};cd.getSSOTokenFilepath=r7});var XI=E(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.getSSOTokenFromFile=void 0;var n7=require("fs"),s7=dm(),{readFile:i7}=n7.promises,o7=async e=>{let t=(0,s7.getSSOTokenFilepath)(e),r=await i7(t,"utf8");return JSON.parse(r)};dd.getSSOTokenFromFile=o7});var lm=E(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.getConfigFilepath=nn.ENV_CONFIG_PATH=void 0;var a7=require("path"),c7=Fi();nn.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var d7=()=>process.env[nn.ENV_CONFIG_PATH]||(0,a7.join)((0,c7.getHomeDir)(),".aws","config");nn.getConfigFilepath=d7});var QI=E(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.getCredentialsFilepath=sn.ENV_CREDENTIALS_PATH=void 0;var l7=require("path"),u7=Fi();sn.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var p7=()=>process.env[sn.ENV_CREDENTIALS_PATH]||(0,l7.join)((0,u7.getHomeDir)(),".aws","credentials");sn.getCredentialsFilepath=p7});var eO=E(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.getProfileData=void 0;var ZI=/^profile\s(["'])?([^\1]+)\1$/,f7=e=>Object.entries(e).filter(([t])=>ZI.test(t)).reduce((t,[r,n])=>({...t,[ZI.exec(r)[2]]:n}),{...e.default&&{default:e.default}});ld.getProfileData=f7});var um=E(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.parseIni=void 0;var m7=["__proto__","profile __proto__"],h7=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),m7.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let i=n.indexOf("="),o=0,a=n.length-1;if(i!==-1&&i!==o&&i!==a){let[l,u]=[n.substring(0,i).trim(),n.substring(i+1).trim()];t[r]=t[r]||{},t[r][l]=u}}return t};ud.parseIni=h7});var fm=E(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.slurpFile=void 0;var g7=require("fs"),{readFile:S7}=g7.promises,pm={},y7=(e,t)=>((!pm[e]||t?.ignoreCache)&&(pm[e]=S7(e,"utf8")),pm[e]);pd.slurpFile=y7});var mm=E(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.loadSharedConfigFiles=void 0;var _7=lm(),v7=QI(),E7=eO(),tO=um(),rO=fm(),nO=()=>({}),b7=async(e={})=>{let{filepath:t=(0,v7.getCredentialsFilepath)(),configFilepath:r=(0,_7.getConfigFilepath)()}=e,n=await Promise.all([(0,rO.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(tO.parseIni).then(E7.getProfileData).catch(nO),(0,rO.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(tO.parseIni).catch(nO)]);return{configFile:n[0],credentialsFile:n[1]}};fd.loadSharedConfigFiles=b7});var iO=E(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.getSsoSessionData=void 0;var sO=/^sso-session\s(["'])?([^\1]+)\1$/,w7=e=>Object.entries(e).filter(([t])=>sO.test(t)).reduce((t,[r,n])=>({...t,[sO.exec(r)[2]]:n}),{});md.getSsoSessionData=w7});var oO=E(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.loadSsoSessionData=void 0;var x7=lm(),T7=iO(),C7=um(),A7=fm(),R7=()=>({}),P7=async(e={})=>{var t;return(0,A7.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,x7.getConfigFilepath)()).then(C7.parseIni).then(T7.getSsoSessionData).catch(R7)};hd.loadSsoSessionData=P7});var aO=E(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.mergeConfigFiles=void 0;var I7=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t};gd.mergeConfigFiles=I7});var cO=E(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.parseKnownFiles=void 0;var O7=mm(),N7=aO(),D7=async e=>{let t=await(0,O7.loadSharedConfigFiles)(e);return(0,N7.mergeConfigFiles)(t.configFile,t.credentialsFile)};Sd.parseKnownFiles=D7});var lO=E(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0})});var uO=E(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var xr=(Pn(),z(Rn));xr.__exportStar(Fi(),At);xr.__exportStar(YI(),At);xr.__exportStar(dm(),At);xr.__exportStar(XI(),At);xr.__exportStar(mm(),At);xr.__exportStar(oO(),At);xr.__exportStar(cO(),At);xr.__exportStar(lO(),At)});var pO=E(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});var k7=(Pn(),z(Rn));k7.__exportStar(uO(),hm)});var H7={};et(H7,{default:()=>gO});module.exports=z(H7);var ts=v(MI()),Ze=require("@raycast/api");var W=v(require("react")),X=require("@raycast/api");var FI=Object.prototype.hasOwnProperty;function sd(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&sd(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(FI.call(e,r)&&++n&&!FI.call(t,r)||!(r in t)||!sd(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var rn=v(require("node:fs")),od=v(require("node:path")),qI=v(require("node:crypto")),BI=v(require("node:child_process")),WI=require("node:buffer"),Zn=v(require("node:stream")),GI=require("node:util");var KI=require("react/jsx-runtime");var em=globalThis;function IB(e){let t=(0,W.useRef)(e),r=(0,W.useRef)(0);return sd(e,t.current)||(t.current=e,r.current+=1),(0,W.useMemo)(()=>t.current,[r.current])}function Ue(e){let t=(0,W.useRef)(e);return t.current=e,t}function OB(e,t){let r=e instanceof Error?e.message:String(e);return(0,X.showToast)({style:X.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??$I(e),secondaryAction:t?.primaryAction?$I(e):void 0})}var $I=e=>{let t=!0,r="[Extension Name]...",n="";try{let o=JSON.parse((0,rn.readFileSync)((0,od.join)(X.environment.assetsPath,"..","package.json"),"utf8"));r=`[${o.title}]...`,n=`https://raycast.com/${o.owner||o.author}/${o.name}`,(!o.owner||o.access==="public")&&(t=!1)}catch{}let s=X.environment.isDevelopment||t,i=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:s?"Copy Logs":"Report Error",onAction(o){o.hide(),s?X.Clipboard.copy(i):(0,X.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${i}
\`\`\`
`)}`)}}};function NB(e,t,r){let n=(0,W.useRef)(0),[s,i]=(0,W.useState)({isLoading:!0}),o=Ue(e),a=Ue(r?.abortable),c=Ue(t||[]),l=Ue(r?.onError),u=Ue(r?.onData),p=Ue(r?.onWillExecute),m=Ue(r?.failureToastOptions),h=Ue(s.data),S=(0,W.useRef)(null),g=(0,W.useRef)({page:0}),_=(0,W.useRef)(!1),b=(0,W.useRef)(!0),w=(0,W.useRef)(50),I=(0,W.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),T=(0,W.useCallback)((...ie)=>{let he=I();p.current?.(ie),i(J=>({...J,isLoading:!0}));let Bt=DB(o.current)(...ie);function Wt(J){return J.name=="AbortError"||he===n.current&&(l.current?l.current(J):X.environment.launchType!==X.LaunchType.Background&&OB(J,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(Rt){Rt.hide(),S.current?.(...c.current||[])}},...m.current}),i({error:J,isLoading:!1})),J}return typeof Bt=="function"?(_.current=!0,Bt(g.current).then(({data:J,hasMore:Rt,cursor:Ed})=>(he===n.current&&(g.current&&(g.current.cursor=Ed,g.current.lastItem=J?.[J.length-1]),u.current&&u.current(J,g.current),Rt&&(w.current=J.length),b.current=Rt,i(bd=>g.current.page===0?{data:J,isLoading:!1}:{data:(bd.data||[])?.concat(J),isLoading:!1})),J),J=>(b.current=!1,Wt(J)))):(_.current=!1,Bt.then(J=>(he===n.current&&(u.current&&u.current(J),i({data:J,isLoading:!1})),J),Wt))},[u,l,c,o,i,S,p,g,m,I]);S.current=T;let P=(0,W.useCallback)(()=>{g.current={page:0};let ie=c.current||[];return T(...ie)},[T,c]),D=(0,W.useCallback)(async(ie,he)=>{let Bt;try{if(he?.optimisticUpdate){I(),typeof he?.rollbackOnError!="function"&&he?.rollbackOnError!==!1&&(Bt=structuredClone(h.current?.value));let Wt=he.optimisticUpdate;i(J=>({...J,data:Wt(J.data)}))}return await ie}catch(Wt){if(typeof he?.rollbackOnError=="function"){let J=he.rollbackOnError;i(Rt=>({...Rt,data:J(Rt.data)}))}else he?.optimisticUpdate&&he?.rollbackOnError!==!1&&i(J=>({...J,data:Bt}));throw Wt}finally{he?.shouldRevalidateAfter!==!1&&(X.environment.launchType===X.LaunchType.Background||X.environment.commandMode==="menu-bar"?await P():P())}},[P,h,i,I]),be=(0,W.useCallback)(()=>{g.current.page+=1;let ie=c.current||[];T(...ie)},[g,c,T]);(0,W.useEffect)(()=>{g.current={page:0},r?.execute!==!1?T(...t||[]):I()},[IB([t,r?.execute,T]),a,g]),(0,W.useEffect)(()=>()=>{I()},[I]);let Z=r?.execute!==!1?s.isLoading:!1,ue={...s,isLoading:Z},ee=_.current?{pageSize:w.current,hasMore:b.current,onLoadMore:be}:void 0;return{...ue,revalidate:P,mutate:D,pagination:ee}}function DB(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function LI(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function kB(e){return e instanceof URLSearchParams?e.toString():e}function JI(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=kB(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,i=Object.prototype.toString.call(n),o=s.exec(i)?.[1]??"unknown:["+i+"]";o=o.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")if(this["_"+o])this["_"+o](n);else throw new Error('Unknown object type "'+o+'"');else{let c=Object.keys(n);c=c.sort(),LI(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let l=this;return c.forEach(function(u){l.dispatch(u),r(":"),l.dispatch(n[u]),r(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let i=this;if(r("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(c){i.dispatch(c)});return}let o=[],a=n.map(function(c){let l=MB(),u=t.slice();return JI(l,u).dispatch(c),o=o.concat(u.slice(t.length)),l.read().toString()});t=t.concat(o),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),LI(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){r("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function MB(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function FB(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function $B(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function UI(e){let t=qI.default.createHash("sha1");return JI(t).dispatch(e),t.digest("hex")}var LB=Symbol("cache without namespace"),jI=new Map;function am(e,t,r){let n=r?.cacheNamespace||LB,s=jI.get(n)||jI.set(n,new X.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let i=Ue(e),o=Ue(t),a=(0,W.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(i.current)}catch(p){console.error("Could not get Cache data:",p);return}}),c=(0,W.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,$B)}catch(p){return console.warn("The cached data is corrupted",p),o.current}}else return o.current},[a,o]),l=Ue(c),u=(0,W.useCallback)(p=>{let m=typeof p=="function"?p(l.current):p;if(typeof m>"u")s.set(i.current,"undefined");else{let h=JSON.stringify(m,FB);s.set(i.current,h)}return m},[s,i,l]);return[c,u]}var Qn=Symbol();function es(e,t,r){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:i,...o}=r||{},a=(0,W.useRef)(null),[c,l]=am(UI(t||[])+i,Qn,{cacheNamespace:UI(e)}),u=(0,W.useRef)(c!==Qn?c:n),p=(0,W.useRef)(void 0),{mutate:m,revalidate:h,...S}=NB(e,t||[],{...o,onData(I,T){p.current=T,o.onData&&o.onData(I,T),!(T&&T.page>0)&&(a.current="promise",u.current=I,l(I))}}),g,_=S.pagination;p.current&&p.current.page>0&&S.data?g=S.data:a.current==="promise"?g=u.current:s&&c!==Qn?(g=c,_&&(_.hasMore=!0,_.pageSize=c.length)):s&&c===Qn?g=u.current:c!==Qn?(g=c,_&&(_.hasMore=!0,_.pageSize=c.length)):g=n;let b=Ue(g),w=(0,W.useCallback)(async(I,T)=>{let P;try{if(T?.optimisticUpdate){typeof T?.rollbackOnError!="function"&&T?.rollbackOnError!==!1&&(P=structuredClone(b.current));let D=T.optimisticUpdate(b.current);a.current="cache",u.current=D,l(D)}return await m(I,{shouldRevalidateAfter:T?.shouldRevalidateAfter})}catch(D){if(typeof T?.rollbackOnError=="function"){let be=T.rollbackOnError(b.current);a.current="cache",u.current=be,l(be)}else T?.optimisticUpdate&&T?.rollbackOnError!==!1&&(a.current="cache",u.current=P,l(P));throw D}},[l,m,b,u,a]);return(0,W.useEffect)(()=>{c!==Qn&&(a.current="cache",u.current=c)},[c]),{data:g,isLoading:S.isLoading,error:S.error,mutate:p.current&&p.current.page>0?m:w,pagination:_,revalidate:h}}var id=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",tm=Symbol.for("signal-exit emitter"),nm=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),em[tm])return em[tm];Object.defineProperty(em,tm,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let i of this.listeners[t])s=i(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},sm=class{onExit(){return()=>{}}load(){}unload(){}},im=class{#a;#t;#e;#i;#o;#s;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new nm,this.#s={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#s={};for(let r of this.#r)this.#s[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,i=t;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(s+=i.__signal_exit_emitter__.count),n.length===s){this.unload();let o=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;o||t.kill(t.pid,a)}};this.#o=t.reallyExit,this.#i=t.emit}onExit(t,r){if(!id(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#s[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#d(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#s[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#i,this.#e.reallyExit=this.#o,this.#t.count-=1)}#c(t){return id(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#d(t,...r){let n=this.#i;if(t==="exit"&&id(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},rm=null,UB=(e,t)=>(rm||(rm=id(process)?new im(process):new sm),rm.onExit(e,t));function jB(e,{timeout:t}={}){let r=new Promise((a,c)=>{e.on("exit",(l,u)=>{a({exitCode:l,signal:u,timedOut:!1})}),e.on("error",l=>{c(l)}),e.stdin&&e.stdin.on("error",l=>{c(l)})}),n=UB(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let s,i=new Promise((a,c)=>{s=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),o=r.finally(()=>{clearTimeout(s)});return Promise.race([i,o]).finally(()=>n())}var om=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function HB(e){let{encoding:t}=e,r=t==="buffer",n=new Zn.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let s=0,i=[];return n.on("data",o=>{i.push(o),s+=o.length}),n.getBufferedValue=()=>r?Buffer.concat(i,s):i.join(""),n.getBufferedLength=()=>s,n}async function HI(e,t){let r=HB(t);return await new Promise((n,s)=>{let i=o=>{o&&r.getBufferedLength()<=WI.constants.MAX_LENGTH&&(o.bufferedData=r.getBufferedValue()),s(o)};(async()=>{try{await(0,GI.promisify)(Zn.default.pipeline)(e,r),n()}catch(o){i(o)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&i(new om)})}),r.getBufferedValue()}async function VI(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function VB({stdout:e,stderr:t},{encoding:r},n){let s=HI(e,{encoding:r}),i=HI(t,{encoding:r});try{return await Promise.all([n,s,i])}catch(o){return Promise.all([{error:o,exitCode:null,signal:o.signal,timedOut:o.timedOut||!1},VI(e,s),VI(t,i)])}}function zB(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function zI(e,t){return e.stripFinalNewline?zB(t):t}function qB({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function BB({stdout:e,stderr:t,error:r,signal:n,exitCode:s,command:i,timedOut:o,options:a,parentError:c}){let u=`Command ${qB({timedOut:o,timeout:a?.timeout,signal:n,exitCode:s})}: ${i}`,p=r?`${u}
${r.message}`:u,m=[p,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=m,r.shortMessage=p,r.command=i,r.exitCode=s,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function WB({stdout:e,stderr:t,error:r,exitCode:n,signal:s,timedOut:i,command:o,options:a,parentError:c}){if(r||n!==0||s!==null)throw BB({error:r,exitCode:n,signal:s,stdout:e,stderr:t,command:o,timedOut:i,options:a,parentError:c});return e}var GB=/ +/g;function KB(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(GB)){let s=r[r.length-1];s&&s.endsWith("\\")?r[r.length-1]=`${s.slice(0,-1)} ${n}`:r.push(n)}return r}function cm(e,t,r){let{parseOutput:n,input:s,onData:i,onWillExecute:o,initialData:a,execute:c,keepPreviousData:l,onError:u,failureToastOptions:p,...m}=Array.isArray(t)?r||{}:t||{},h={initialData:a,execute:c,keepPreviousData:l,onError:u,onData:i,onWillExecute:o,failureToastOptions:p},S=(0,W.useRef)(null),g=Ue(n||WB),_=(0,W.useCallback)(async(b,w,I,T)=>{let[P,...D]=KB(b,w),be=[P,...D].join(" "),Z={stripFinalNewline:!0,...I,timeout:I?.timeout||1e4,signal:S.current?.signal,encoding:I?.encoding===null?"buffer":I?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...I?.env}},ue=BI.default.spawn(P,D,Z),ee=jB(ue,Z);T&&ue.stdin.end(T);let[{error:ie,exitCode:he,signal:Bt,timedOut:Wt},J,Rt]=await VB(ue,Z,ee),Ed=zI(Z,J),bd=zI(Z,Rt);return g.current({stdout:Ed,stderr:bd,error:ie,exitCode:he,signal:Bt,timedOut:Wt,command:be,options:Z,parentError:new Error})},[g]);return es(_,[e,Array.isArray(t)?t:[],m,s],{...h,abortable:S})}var Tr=require("@raycast/api"),yd=require("react"),_d=v(pO());var gm=require("react/jsx-runtime");function Sm({onProfileSelected:e}){let t=(0,Tr.getPreferenceValues)(),[r,n]=am("aws_profile"),s=$7();(0,yd.useEffect)(()=>{let a=r&&!s.some(c=>c.name===r);(!r||a)&&n(s[0]?.name)},[s]);let{isUsingAwsVault:i,vaultSessions:o}=F7({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:s,onProfileSelected:e});return(0,yd.useEffect)(()=>{if(r&&!i?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=s.find(c=>c.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}o?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,i]),!s||s.length<2?null:(0,gm.jsx)(Tr.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:s.map(a=>(0,gm.jsx)(Tr.List.Dropdown.Item,{value:a.name,title:a.name,icon:i?o?.some(c=>c===a.name)?Tr.Icon.LockUnlocked:Tr.Icon.LockDisabled:void 0},a.name))})}var M7=e=>{let{data:t}=cm("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(L7).map(s=>s.split(" ")[0]),n=e.filter(s=>s.source_profile&&r?.includes(s.source_profile)).map(s=>s.name);return r&&[...r,...n]},F7=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let s=M7(r),i=!!s,o=i&&s?.includes(t||"")?t:void 0,{revalidate:a}=cm("aws-vault",["exec",o,"--json"],{execute:!!o,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:c=>{if(c){let{AccessKeyId:l,SecretAccessKey:u,SessionToken:p}=JSON.parse(c);process.env.AWS_VAULT=o,process.env.AWS_ACCESS_KEY_ID=l,process.env.AWS_SECRET_ACCESS_KEY=u,process.env.AWS_SESSION_TOKEN=p,n?.()}}});return(0,yd.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[o]),{isUsingAwsVault:i,vaultSessions:s}},$7=()=>{let{data:e={configFile:{},credentialsFile:{}}}=es(_d.loadSharedConfigFiles),{data:t={}}=es(_d.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([i,o])=>{let a=r[i]?.include_profile,c=r[i]?.region||a&&r[a]?.region,l=r[i]?.sso_start_url||r[i]?.sso_session&&t[r[i].sso_session]?.sso_start_url,u=r[i]?.sso_account_id||a&&r[a]?.sso_account_id,p=r[i]?.sso_role_name||a&&r[a]?.sso_role_name;return{...o,region:c,name:i,sso_start_url:l,sso_account_id:u,sso_role_name:p}})},L7=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var je="https://console.aws.amazon.com";function fO(e,t,r=void 0){let{AWS_REGION:n}=process.env;if(!e)return"";switch(t){case"AWS::SSM::Parameter":return`${je}/systems-manager/parameters/${e}/description?region=${n}`;case"AWS::SecretsManager::Secret":return`https://${n}.console.aws.amazon.com/secretsmanager/secret?name=${encodeURI(e)}&region=${n}`;case"AWS::EC2::Instance":return`${je}/ec2/v2/home?region=${n}#InstanceDetails:instanceId=${e}`;case"AWS::Logs::LogGroup":return`${je}/cloudwatch/home?region=${n}#logsV2:log-groups/log-group/${encodeURIComponent(e)}`;case"AWS::CloudFormation::Stack":return`${je}/cloudformation/home?region=${n}#/stacks/stackinfo?stackId=${e}`;case"AWS::Lambda::Function":return`${je}/lambda/home?region=${n}#/functions/${e}?tab=monitoring`;case"AWS::Glue::JobRun":return`${je}/gluestudio/home?region=eu-central-1#/job/${e}/run/${r}`;case"AWS::Glue::JobRuns":return`${je}/gluestudio/home?region=eu-central-1#/editor/job/${e}/runs`;case"AWS::CodePipeline::Pipeline":return`${je}/codesuite/codepipeline/pipelines/${e}/view?region=${n}`;case"AWS::S3::Bucket":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}`;case"AWS::S3::Object":{let[s,...i]=e.split("/");return`https://s3.console.aws.amazon.com/s3/object/${s}?&prefix=${i.join("/")}`}case"AWS::S3::BucketPolicy":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}&tab=permissions`;case"AWS::SQS::Queue":return`${je}/sqs/v2/home?region=${n}#/queues/${encodeURIComponent(e)}`;case"AWS::SNS::Topic":return`${je}/sns/v3/home?region=${n}#/topic/${e}`;case"AWS::DynamoDB::Table":return`${je}/dynamodb/home?region=${n}#tables:selected=${e}`;case"AWS::StepFunctions::StateMachine":return`${je}/states/home?region=${n}#/statemachines/view/${e}`;case"AWS::Amplify::App":return`https://${n}.console.aws.amazon.com/amplify/home?region=${n}#/apps/${e}`;case"AWS::Amplify::Branch":{let s=e.split("/branches/"),i=s[0],o=s[1]||"main";return`https://${n}.console.aws.amazon.com/amplify/apps/${i}/branches/${o}/deployments`}case"AWS::AppSync::GraphQLApi":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/home`;case"AWS::AppSync::GraphQLApi::Playground":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/queries`;case"AWS::AppSync::DataSource":{let s=e.split("/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${i}/v1/datasources/${o}/edit`}case"AWS::AppSync::Resolver":{let s=e.split("/"),i=s[0],o=s[1],a=s[2];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${i}/v1/schema/resolver/${o}/${a}`}case"AWS::AppSync::Schema":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/schema`;case"AWS::ApiGateway::RestApi":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/resources`;case"AWS::ApiGateway::RestApi::Documentation":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/documentation`;case"AWS::ApiGateway::Resource":{let s=e.split("/resources/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${i}/resources/${o}`}case"AWS::ApiGateway::Stage":{let s=e.split("/stages/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${i}/stages/${o}`}case"AWS::ApiGateway::ApiKey":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/api-keys/${e}`;case"AWS::ApiGateway::UsagePlan":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/usage-plans/${e}`;case"AWS::ApiGateway::Deployment":{let s=e.split("/deployments/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${i}/deployments/${o}`}case"AWS::ApiGateway::Method":{let s=e.split("/"),i=s[0],o=s.slice(2,-2).join("/"),a=s[s.length-1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${i}/resources/${o}/methods/${a}`}case"AWS::ApiGatewayV2::Api":return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${e}?region=${n}`;case"AWS::ApiGatewayV2::Route":{let s=e.split("/routes/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${i}/routes/${o}?region=${n}`}case"AWS::ApiGatewayV2::Stage":{let s=e.split("/stages/"),i=s[0],o=s[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${i}/stages/${o}?region=${n}`}default:return""}}var U7=e=>Object.keys(e).filter(t=>isNaN(Number(t))),mO=(e,t)=>U7(e).filter(r=>e[r]!==t);var Me=require("@raycast/api");var qt=require("react/jsx-runtime"),vd=class{static Console=({url:t,onAction:r})=>(0,qt.jsxs)(Me.ActionPanel.Section,{title:"Console",children:[(0,qt.jsx)(Me.Action.OpenInBrowser,{title:"Open in Browser",url:hO(t),onOpen:()=>r?.()},"openConsoleLink"),(0,qt.jsx)(Me.Action.CopyToClipboard,{title:"Copy Link",content:hO(t),shortcut:Me.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,qt.jsx)(Me.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let s=mO(n,r);return(0,qt.jsx)(Me.ActionPanel.Section,{children:(0,qt.jsx)(Me.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:Me.Icon.Box,children:s.map(i=>(0,qt.jsx)(Me.Action,{title:`Show ${i.toString()}`,onAction:()=>t(n[i]),icon:Me.Icon.Box},i.toString()))})})}};function hO(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var Qe=require("react/jsx-runtime");function gO(){let{data:e,error:t,isLoading:r,revalidate:n}=es(SO);return(0,Qe.jsx)(Ze.List,{isLoading:r,searchBarPlaceholder:"Filter state machines by name...",searchBarAccessory:(0,Qe.jsx)(Sm,{onProfileSelected:n}),children:t?(0,Qe.jsx)(Ze.List.EmptyView,{title:t.name,description:t.message,icon:Ze.Icon.Warning}):e?.map(s=>(0,Qe.jsx)(j7,{item:s},s.name))})}function j7({item:e}){return(0,Qe.jsx)(Ze.List.Item,{icon:"aws-icons/states.png",title:e.name||"",accessories:[{tag:e.type||ts.StateMachineType.STANDARD}],actions:(0,Qe.jsxs)(Ze.ActionPanel,{children:[(0,Qe.jsx)(vd.Console,{url:fO(e.stateMachineArn,"AWS::StepFunctions::StateMachine")}),(0,Qe.jsxs)(Ze.ActionPanel.Section,{title:"Copy",children:[(0,Qe.jsx)(Ze.Action.CopyToClipboard,{title:"Copy State Machine ARN",content:e.stateMachineArn||""}),(0,Qe.jsx)(Ze.Action.CopyToClipboard,{title:"Copy State Machine Name",content:e.name||""})]})]})})}async function SO(e,t){let r=new ts.SFNClient({}),n=new ts.ListStateMachinesCommand({nextToken:e}),{nextToken:s,stateMachines:i}=await r.send(n),o=[...t||[],...i||[]];return s?SO(s,o):o}
