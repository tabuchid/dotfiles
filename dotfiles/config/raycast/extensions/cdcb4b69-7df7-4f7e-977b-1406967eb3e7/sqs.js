"use strict";var LO=Object.create;var qo=Object.defineProperty;var UO=Object.getOwnPropertyDescriptor;var FO=Object.getOwnPropertyNames;var jO=Object.getPrototypeOf,HO=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ot=(e,t)=>{for(var r in t)qo(e,r,{get:t[r],enumerable:!0})},Im=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FO(t))!HO.call(e,s)&&s!==r&&qo(e,s,{get:()=>t[s],enumerable:!(n=UO(t,s))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?LO(jO(e)):{},Im(t||!e||!e.__esModule?qo(r,"default",{value:e,enumerable:!0}):r,e)),j=e=>Im(qo({},"__esModule",{value:!0}),e);var pt=w((N7,jm)=>{var Bo=Object.defineProperty,qO=Object.getOwnPropertyDescriptor,BO=Object.getOwnPropertyNames,zO=Object.prototype.hasOwnProperty,zo=(e,t)=>Bo(e,"name",{value:t,configurable:!0}),VO=(e,t)=>{for(var r in t)Bo(e,r,{get:t[r],enumerable:!0})},WO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BO(t))!zO.call(e,s)&&s!==r&&Bo(e,s,{get:()=>t[s],enumerable:!(n=qO(t,s))||n.enumerable});return e},QO=e=>WO(Bo({},"__esModule",{value:!0}),e),Nm={};VO(Nm,{AlgorithmId:()=>$m,EndpointURLScheme:()=>Dm,FieldPosition:()=>Lm,HttpApiKeyAuthLocation:()=>km,HttpAuthLocation:()=>Mm,IniSectionType:()=>Um,RequestHandlerProtocol:()=>Fm,SMITHY_CONTEXT_KEY:()=>XO,getDefaultClientConfiguration:()=>JO,resolveDefaultRuntimeConfig:()=>YO});jm.exports=QO(Nm);var Mm=(e=>(e.HEADER="header",e.QUERY="query",e))(Mm||{}),km=(e=>(e.HEADER="header",e.QUERY="query",e))(km||{}),Dm=(e=>(e.HTTP="http",e.HTTPS="https",e))(Dm||{}),$m=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))($m||{}),GO=zo(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),KO=zo(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),JO=zo(e=>GO(e),"getDefaultClientConfiguration"),YO=zo(e=>KO(e),"resolveDefaultRuntimeConfig"),Lm=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Lm||{}),XO="__smithy_context",Um=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Um||{}),Fm=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Fm||{})});var X=w((M7,Vm)=>{var Vo=Object.defineProperty,ZO=Object.getOwnPropertyDescriptor,eI=Object.getOwnPropertyNames,tI=Object.prototype.hasOwnProperty,Jt=(e,t)=>Vo(e,"name",{value:t,configurable:!0}),rI=(e,t)=>{for(var r in t)Vo(e,r,{get:t[r],enumerable:!0})},nI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eI(t))!tI.call(e,s)&&s!==r&&Vo(e,s,{get:()=>t[s],enumerable:!(n=ZO(t,s))||n.enumerable});return e},sI=e=>nI(Vo({},"__esModule",{value:!0}),e),Hm={};rI(Hm,{Field:()=>aI,Fields:()=>cI,HttpRequest:()=>uI,HttpResponse:()=>lI,IHttpRequest:()=>qm.HttpRequest,getHttpHandlerExtensionConfiguration:()=>oI,isValidHostname:()=>zm,resolveHttpHandlerRuntimeConfig:()=>iI});Vm.exports=sI(Hm);var oI=Jt(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),iI=Jt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),qm=pt(),aI=class{static{Jt(this,"Field")}constructor({name:e,kind:t=qm.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},cI=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Jt(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},uI=class Nu{static{Jt(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Nu({...t,headers:{...t.headers}});return r.query&&(r.query=Bm(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Nu.clone(this)}};function Bm(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Jt(Bm,"cloneQuery");var lI=class{static{Jt(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function zm(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Jt(zm,"isValidHostname")});var os=w((L7,Jm)=>{"use strict";var Qo=Object.defineProperty,dI=Object.getOwnPropertyDescriptor,fI=Object.getOwnPropertyNames,pI=Object.prototype.hasOwnProperty,Wo=(e,t)=>Qo(e,"name",{value:t,configurable:!0}),mI=(e,t)=>{for(var r in t)Qo(e,r,{get:t[r],enumerable:!0})},hI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fI(t))!pI.call(e,s)&&s!==r&&Qo(e,s,{get:()=>t[s],enumerable:!(n=dI(t,s))||n.enumerable});return e},gI=e=>hI(Qo({},"__esModule",{value:!0}),e),Wm={};mI(Wm,{getHostHeaderPlugin:()=>_I,hostHeaderMiddleware:()=>Gm,hostHeaderMiddlewareOptions:()=>Km,resolveHostHeaderConfig:()=>Qm});Jm.exports=gI(Wm);var yI=X();function Qm(e){return e}Wo(Qm,"resolveHostHeaderConfig");var Gm=Wo(e=>t=>async r=>{if(!yI.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},"hostHeaderMiddleware"),Km={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},_I=Wo(e=>({applyToStack:Wo(t=>{t.add(Gm(e),Km)},"applyToStack")}),"getHostHeaderPlugin")});var is=w((U7,eh)=>{"use strict";var Go=Object.defineProperty,SI=Object.getOwnPropertyDescriptor,vI=Object.getOwnPropertyNames,bI=Object.prototype.hasOwnProperty,Mu=(e,t)=>Go(e,"name",{value:t,configurable:!0}),EI=(e,t)=>{for(var r in t)Go(e,r,{get:t[r],enumerable:!0})},wI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vI(t))!bI.call(e,s)&&s!==r&&Go(e,s,{get:()=>t[s],enumerable:!(n=SI(t,s))||n.enumerable});return e},CI=e=>wI(Go({},"__esModule",{value:!0}),e),Ym={};EI(Ym,{getLoggerPlugin:()=>AI,loggerMiddleware:()=>Xm,loggerMiddlewareOptions:()=>Zm});eh.exports=CI(Ym);var Xm=Mu(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,d=c??t.inputFilterSensitiveLog,l=u??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return i?.info?.({clientName:s,commandName:o,input:d(r.input),output:l(p),metadata:f}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,u=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:u(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),Zm={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},AI=Mu(e=>({applyToStack:Mu(t=>{t.add(Xm(),Zm)},"applyToStack")}),"getLoggerPlugin")});var as=w((F7,sh)=>{"use strict";var Jo=Object.defineProperty,PI=Object.getOwnPropertyDescriptor,TI=Object.getOwnPropertyNames,RI=Object.prototype.hasOwnProperty,Ko=(e,t)=>Jo(e,"name",{value:t,configurable:!0}),xI=(e,t)=>{for(var r in t)Jo(e,r,{get:t[r],enumerable:!0})},OI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of TI(t))!RI.call(e,s)&&s!==r&&Jo(e,s,{get:()=>t[s],enumerable:!(n=PI(t,s))||n.enumerable});return e},II=e=>OI(Jo({},"__esModule",{value:!0}),e),th={};xI(th,{addRecursionDetectionMiddlewareOptions:()=>nh,getRecursionDetectionPlugin:()=>DI,recursionDetectionMiddleware:()=>rh});sh.exports=II(th);var NI=X(),ku="X-Amzn-Trace-Id",MI="AWS_LAMBDA_FUNCTION_NAME",kI="_X_AMZN_TRACE_ID",rh=Ko(e=>t=>async r=>{let{request:n}=r;if(!NI.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===ku.toLowerCase())??ku;if(n.headers.hasOwnProperty(s))return t(r);let o=process.env[MI],i=process.env[kI],a=Ko(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(o)&&a(i)&&(n.headers[ku]=i),t({...r,request:n})},"recursionDetectionMiddleware"),nh={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},DI=Ko(e=>({applyToStack:Ko(t=>{t.add(rh(e),nh)},"applyToStack")}),"getRecursionDetectionPlugin")});var uh=w((j7,ch)=>{var Yo=Object.defineProperty,$I=Object.getOwnPropertyDescriptor,LI=Object.getOwnPropertyNames,UI=Object.prototype.hasOwnProperty,We=(e,t)=>Yo(e,"name",{value:t,configurable:!0}),FI=(e,t)=>{for(var r in t)Yo(e,r,{get:t[r],enumerable:!0})},jI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of LI(t))!UI.call(e,s)&&s!==r&&Yo(e,s,{get:()=>t[s],enumerable:!(n=$I(t,s))||n.enumerable});return e},HI=e=>jI(Yo({},"__esModule",{value:!0}),e),ah={};FI(ah,{constructStack:()=>Du});ch.exports=HI(ah);var Rr=We((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Yt=We((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Du=We(()=>{let e=[],t=[],r=!1,n=new Set,s=We(l=>l.sort((f,p)=>oh[p.step]-oh[f.step]||ih[p.priority||"normal"]-ih[f.priority||"normal"]),"sort"),o=We(l=>{let f=!1,p=We(h=>{let g=Rr(h.name,h.aliases);if(g.includes(l)){f=!0;for(let S of g)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByName"),i=We(l=>{let f=!1,p=We(h=>{if(h.middleware===l){f=!0;for(let g of Rr(h.name,h.aliases))n.delete(g);return!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},"removeByReference"),a=We(l=>(e.forEach(f=>{l.add(f.middleware,{...f})}),t.forEach(f=>{l.addRelativeTo(f.middleware,{...f})}),l.identifyOnResolve?.(d.identifyOnResolve()),l),"cloneTo"),c=We(l=>{let f=[];return l.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f.push(l),l.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...c(p))}),f},"expandRelativeMiddlewareList"),u=We((l=!1)=>{let f=[],p=[],h={};return e.forEach(S=>{let b={...S,before:[],after:[]};for(let E of Rr(b.name,b.aliases))h[E]=b;f.push(b)}),t.forEach(S=>{let b={...S,before:[],after:[]};for(let E of Rr(b.name,b.aliases))h[E]=b;p.push(b)}),p.forEach(S=>{if(S.toMiddleware){let b=h[S.toMiddleware];if(b===void 0){if(l)return;throw new Error(`${S.toMiddleware} is not found when adding ${Yt(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&b.after.push(S),S.relation==="before"&&b.before.push(S)}}),s(f).map(c).reduce((S,b)=>(S.push(...b),S),[])},"getMiddlewareList"),d={add:(l,f={})=>{let{name:p,override:h,aliases:g}=f,S={step:"initialize",priority:"normal",middleware:l,...f},b=Rr(p,g);if(b.length>0){if(b.some(E=>n.has(E))){if(!h)throw new Error(`Duplicate middleware name '${Yt(p,g)}'`);for(let E of b){let T=e.findIndex(R=>R.name===E||R.aliases?.some(k=>k===E));if(T===-1)continue;let A=e[T];if(A.step!==S.step||S.priority!==A.priority)throw new Error(`"${Yt(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${Yt(p,g)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(T,1)}}for(let E of b)n.add(E)}e.push(S)},addRelativeTo:(l,f)=>{let{name:p,override:h,aliases:g}=f,S={middleware:l,...f},b=Rr(p,g);if(b.length>0){if(b.some(E=>n.has(E))){if(!h)throw new Error(`Duplicate middleware name '${Yt(p,g)}'`);for(let E of b){let T=t.findIndex(R=>R.name===E||R.aliases?.some(k=>k===E));if(T===-1)continue;let A=t[T];if(A.toMiddleware!==S.toMiddleware||A.relation!==S.relation)throw new Error(`"${Yt(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${Yt(p,g)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(T,1)}}for(let E of b)n.add(E)}t.push(S)},clone:()=>a(Du()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?o(l):i(l),removeByTag:l=>{let f=!1,p=We(h=>{let{tags:g,name:S,aliases:b}=h;if(g&&g.includes(l)){let E=Rr(S,b);for(let T of E)n.delete(T);return f=!0,!1}return!0},"filterCb");return e=e.filter(p),t=t.filter(p),f},concat:l=>{let f=a(Du());return f.use(l),f.identifyOnResolve(r||f.identifyOnResolve()||(l.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>u(!0).map(l=>{let f=l.step??l.relation+" "+l.toMiddleware;return Yt(l.name,l.aliases)+" - "+f}),identifyOnResolve(l){return typeof l=="boolean"&&(r=l),r},resolve:(l,f)=>{for(let p of u().map(h=>h.middleware).reverse())l=p(l,f);return r&&console.log(d.identify()),l}};return d},"constructStack"),oh={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ih={high:3,normal:2,low:1}});var $u=w((H7,dh)=>{var Xo=Object.defineProperty,qI=Object.getOwnPropertyDescriptor,BI=Object.getOwnPropertyNames,zI=Object.prototype.hasOwnProperty,VI=(e,t)=>Xo(e,"name",{value:t,configurable:!0}),WI=(e,t)=>{for(var r in t)Xo(e,r,{get:t[r],enumerable:!0})},QI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BI(t))!zI.call(e,s)&&s!==r&&Xo(e,s,{get:()=>t[s],enumerable:!(n=qI(t,s))||n.enumerable});return e},GI=e=>QI(Xo({},"__esModule",{value:!0}),e),lh={};WI(lh,{isArrayBuffer:()=>KI});dh.exports=GI(lh);var KI=VI(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var cn=w((q7,mh)=>{var Zo=Object.defineProperty,JI=Object.getOwnPropertyDescriptor,YI=Object.getOwnPropertyNames,XI=Object.prototype.hasOwnProperty,fh=(e,t)=>Zo(e,"name",{value:t,configurable:!0}),ZI=(e,t)=>{for(var r in t)Zo(e,r,{get:t[r],enumerable:!0})},eN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YI(t))!XI.call(e,s)&&s!==r&&Zo(e,s,{get:()=>t[s],enumerable:!(n=JI(t,s))||n.enumerable});return e},tN=e=>eN(Zo({},"__esModule",{value:!0}),e),ph={};ZI(ph,{fromArrayBuffer:()=>nN,fromString:()=>sN});mh.exports=tN(ph);var rN=$u(),Lu=require("buffer"),nN=fh((e,t=0,r=e.byteLength-t)=>{if(!(0,rN.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Lu.Buffer.from(e,t,r)},"fromArrayBuffer"),sN=fh((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Lu.Buffer.from(e,t):Lu.Buffer.from(e)},"fromString")});var hh=w(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.fromBase64=void 0;var oN=cn(),iN=/^[A-Za-z0-9+/]*={0,2}$/,aN=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!iN.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,oN.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ei.fromBase64=aN});var de=w((z7,Sh)=>{var ti=Object.defineProperty,cN=Object.getOwnPropertyDescriptor,uN=Object.getOwnPropertyNames,lN=Object.prototype.hasOwnProperty,Uu=(e,t)=>ti(e,"name",{value:t,configurable:!0}),dN=(e,t)=>{for(var r in t)ti(e,r,{get:t[r],enumerable:!0})},fN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uN(t))!lN.call(e,s)&&s!==r&&ti(e,s,{get:()=>t[s],enumerable:!(n=cN(t,s))||n.enumerable});return e},pN=e=>fN(ti({},"__esModule",{value:!0}),e),gh={};dN(gh,{fromUtf8:()=>_h,toUint8Array:()=>mN,toUtf8:()=>hN});Sh.exports=pN(gh);var yh=cn(),_h=Uu(e=>{let t=(0,yh.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),mN=Uu(e=>typeof e=="string"?_h(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),hN=Uu(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,yh.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var vh=w(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.toBase64=void 0;var gN=cn(),yN=de(),_N=e=>{let t;if(typeof e=="string"?t=(0,yN.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,gN.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ri.toBase64=_N});var xe=w((W7,ni)=>{var bh=Object.defineProperty,SN=Object.getOwnPropertyDescriptor,vN=Object.getOwnPropertyNames,bN=Object.prototype.hasOwnProperty,Fu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vN(t))!bN.call(e,s)&&s!==r&&bh(e,s,{get:()=>t[s],enumerable:!(n=SN(t,s))||n.enumerable});return e},Eh=(e,t,r)=>(Fu(e,t,"default"),r&&Fu(r,t,"default")),EN=e=>Fu(bh({},"__esModule",{value:!0}),e),ju={};ni.exports=EN(ju);Eh(ju,hh(),ni.exports);Eh(ju,vh(),ni.exports)});var qu=w(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.ChecksumStream=void 0;var wN=xe(),CN=require("stream"),Hu=class extends CN.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=o??wN.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};si.ChecksumStream=Hu});var Xt=w(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.isBlob=un.isReadableStream=void 0;var AN=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};un.isReadableStream=AN;var PN=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};un.isBlob=PN});var wh=w(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.ChecksumStream=void 0;var TN=typeof ReadableStream=="function"?ReadableStream:function(){},Bu=class extends TN{};oi.ChecksumStream=Bu});var Ch=w(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.createChecksumStream=void 0;var RN=xe(),xN=Xt(),ON=wh(),IN=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var o,i;if(!(0,xN.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(o=r?.constructor)===null||o===void 0?void 0:o.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=s??RN.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,l){t.update(d),l.enqueue(d)},async flush(d){let l=await t.digest(),f=a(l);if(e!==f){let p=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);d.error(p)}else d.terminate()}});r.pipeThrough(c);let u=c.readable;return Object.setPrototypeOf(u,ON.ChecksumStream.prototype),u};ii.createChecksumStream=IN});var Ah=w(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.createChecksumStream=DN;var NN=Xt(),MN=qu(),kN=Ch();function DN(e){return typeof ReadableStream=="function"&&(0,NN.isReadableStream)(e.source)?(0,kN.createChecksumStream)(e):new MN.ChecksumStream(e)}});var Wu=w(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.ByteArrayCollector=void 0;var Vu=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};ai.ByteArrayCollector=Vu});var xh=w(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.createBufferedReadable=void 0;Nt.createBufferedReadableStream=Ph;Nt.merge=Th;Nt.flush=ci;Nt.sizeOf=ln;Nt.modeOf=Rh;var $N=Wu();function Ph(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new $N.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:d,done:l}=await n.read(),f=d;if(l){if(a!==-1){let p=ci(i,a);ln(p)>0&&u.enqueue(p)}u.close()}else{let p=Rh(f,!1);if(a!==p&&(a>=0&&u.enqueue(ci(i,a)),a=p),a===-1){u.enqueue(f);return}let h=ln(f);o+=h;let g=ln(i[a]);if(h>=t&&g===0)u.enqueue(f);else{let S=Th(i,a,f);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${h} is below threshold of ${t}, automatically buffering.`)),S>=t?u.enqueue(ci(i,a)):await c(u)}}};return new ReadableStream({pull:c})}Nt.createBufferedReadable=Ph;function Th(e,t,r){switch(t){case 0:return e[0]+=r,ln(e[0]);case 1:case 2:return e[t].push(r),ln(e[t])}}function ci(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function ln(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function Rh(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Ih=w(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.createBufferedReadable=FN;var LN=require("node:stream"),Oh=Wu(),Mt=xh(),UN=Xt();function FN(e,t,r){if((0,UN.isReadableStream)(e))return(0,Mt.createBufferedReadableStream)(e,t,r);let n=new LN.Readable({read(){}}),s=!1,o=0,i=["",new Oh.ByteArrayCollector(c=>new Uint8Array(c)),new Oh.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let u=(0,Mt.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,Mt.flush)(i,a)),a=u),a===-1){n.push(c);return}let d=(0,Mt.sizeOf)(c);o+=d;let l=(0,Mt.sizeOf)(i[a]);if(d>=t&&l===0)n.push(c);else{let f=(0,Mt.merge)(i,a,c);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),f>=t&&n.push((0,Mt.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Mt.flush)(i,a);(0,Mt.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var Nh=w(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.getAwsChunkedEncodingStream=void 0;var jN=require("stream"),HN=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,u=new jN.Readable({read:()=>{}});return e.on("data",d=>{let l=n(d)||0;u.push(`${l.toString(16)}\r
`),u.push(d),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let d=r(await c);u.push(`${o}:${d}\r
`),u.push(`\r
`)}u.push(null)}),u};ui.getAwsChunkedEncodingStream=HN});var Mh=w(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.headStream=qN;async function qN(e,t){var r;let n=0,s=[],o=e.getReader(),i=!1;for(;!i;){let{done:u,value:d}=await o.read();if(d&&(s.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=u}o.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let u of s){if(u.byteLength>a.byteLength-c){a.set(u.subarray(0,a.byteLength-c),c);break}else a.set(u,c);c+=u.length}return a}});var kh=w(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.headStream=void 0;var BN=require("stream"),zN=Mh(),VN=Xt(),WN=(e,t)=>(0,VN.isReadableStream)(e)?(0,zN.headStream)(e,t):new Promise((r,n)=>{let s=new Ku;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});li.headStream=WN;var Ku=class extends BN.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-o),this.emit("finish")}n()}}});var Yu=w((sV,Lh)=>{var di=Object.defineProperty,QN=Object.getOwnPropertyDescriptor,GN=Object.getOwnPropertyNames,KN=Object.prototype.hasOwnProperty,Ju=(e,t)=>di(e,"name",{value:t,configurable:!0}),JN=(e,t)=>{for(var r in t)di(e,r,{get:t[r],enumerable:!0})},YN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GN(t))!KN.call(e,s)&&s!==r&&di(e,s,{get:()=>t[s],enumerable:!(n=QN(t,s))||n.enumerable});return e},XN=e=>YN(di({},"__esModule",{value:!0}),e),Dh={};JN(Dh,{escapeUri:()=>$h,escapeUriPath:()=>e1});Lh.exports=XN(Dh);var $h=Ju(e=>encodeURIComponent(e).replace(/[!'()*]/g,ZN),"escapeUri"),ZN=Ju(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),e1=Ju(e=>e.split("/").map($h).join("/"),"escapeUriPath")});var Zu=w((oV,jh)=>{var fi=Object.defineProperty,t1=Object.getOwnPropertyDescriptor,r1=Object.getOwnPropertyNames,n1=Object.prototype.hasOwnProperty,s1=(e,t)=>fi(e,"name",{value:t,configurable:!0}),o1=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},i1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of r1(t))!n1.call(e,s)&&s!==r&&fi(e,s,{get:()=>t[s],enumerable:!(n=t1(t,s))||n.enumerable});return e},a1=e=>i1(fi({},"__esModule",{value:!0}),e),Uh={};o1(Uh,{buildQueryString:()=>Fh});jh.exports=a1(Uh);var Xu=Yu();function Fh(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Xu.escapeUri)(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${(0,Xu.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Xu.escapeUri)(n)}`),t.push(s)}}return t.join("&")}s1(Fh,"buildQueryString")});var xr=w((iV,tg)=>{var c1=Object.create,cs=Object.defineProperty,u1=Object.getOwnPropertyDescriptor,l1=Object.getOwnPropertyNames,d1=Object.getPrototypeOf,f1=Object.prototype.hasOwnProperty,K=(e,t)=>cs(e,"name",{value:t,configurable:!0}),p1=(e,t)=>{for(var r in t)cs(e,r,{get:t[r],enumerable:!0})},Vh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of l1(t))!f1.call(e,s)&&s!==r&&cs(e,s,{get:()=>t[s],enumerable:!(n=u1(t,s))||n.enumerable});return e},m1=(e,t,r)=>(r=e!=null?c1(d1(e)):{},Vh(t||!e||!e.__esModule?cs(r,"default",{value:e,enumerable:!0}):r,e)),h1=e=>Vh(cs({},"__esModule",{value:!0}),e),Wh={};p1(Wh,{DEFAULT_REQUEST_TIMEOUT:()=>Xh,NodeHttp2Handler:()=>A1,NodeHttpHandler:()=>b1,streamCollector:()=>T1});tg.exports=h1(Wh);var Qh=X(),Gh=Zu(),el=require("http"),tl=require("https"),g1=["ECONNRESET","EPIPE","ETIMEDOUT"],Kh=K(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),De={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Hh=1e3,y1=K((e,t,r=0)=>{if(!r)return-1;let n=K(s=>{let o=De.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),i=K(a=>{a?.connecting?a.on("connect",()=>{De.clearTimeout(o)}):De.clearTimeout(o)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):De.setTimeout(n.bind(null,Hh),Hh)},"setConnectionTimeout"),_1=3e3,S1=K((e,{keepAlive:t,keepAliveMsecs:r},n=_1)=>{if(t!==!0)return-1;let s=K(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):De.setTimeout(s,n)},"setSocketKeepAlive"),qh=3e3,v1=K((e,t,r=Xh)=>{let n=K(s=>{let o=r-s,i=K(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):De.setTimeout(n.bind(null,r===0?0:qh),qh)},"setSocketTimeout"),Jh=require("stream"),Bh=6e3;async function nl(e,t,r=Bh){let n=t.headers??{},s=n.Expect||n.expect,o=-1,i=!0;s==="100-continue"&&(i=await Promise.race([new Promise(a=>{o=Number(De.setTimeout(()=>a(!0),Math.max(Bh,r)))}),new Promise(a=>{e.on("continue",()=>{De.clearTimeout(o),a(!0)}),e.on("response",()=>{De.clearTimeout(o),a(!1)}),e.on("error",()=>{De.clearTimeout(o),a(!1)})})])),i&&Yh(e,t.body)}K(nl,"writeRequestBody");function Yh(e,t){if(t instanceof Jh.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}K(Yh,"writeBody");var Xh=0,b1=class rl{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{K(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new rl(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let c in s){let u=s[c]?.length??0,d=o[c]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a}=t||{},c=!0,u=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:o,httpAgent:i instanceof el.Agent||typeof i?.destroy=="function"?i:new el.Agent({keepAlive:c,maxSockets:u,...i}),httpsAgent:a instanceof tl.Agent||typeof a?.destroy=="function"?a:new tl.Agent({keepAlive:c,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i,a=[],c=K(async R=>{await i,a.forEach(De.clearTimeout),s(R)},"resolve"),u=K(async R=>{await i,a.forEach(De.clearTimeout),o(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",u(R);return}let d=t.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;a.push(De.setTimeout(()=>{this.socketWarningTimestamp=rl.checkSocketUsage(l,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let f=(0,Gh.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let R=t.username??"",k=t.password??"";p=`${R}:${k}`}let h=t.path;f&&(h+=`?${f}`),t.fragment&&(h+=`#${t.fragment}`);let g=t.hostname??"";g[0]==="["&&g.endsWith("]")?g=t.hostname.slice(1,-1):g=t.hostname;let S={headers:t.headers,host:g,method:t.method,path:h,port:t.port,agent:l,auth:p},E=(d?tl.request:el.request)(S,R=>{let k=new Qh.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:Kh(R.headers),body:R});c({response:k})});if(E.on("error",R=>{g1.includes(R.code)?u(Object.assign(R,{name:"TimeoutError"})):u(R)}),r){let R=K(()=>{E.destroy();let k=new Error("Request aborted");k.name="AbortError",u(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",R,{once:!0}),E.once("close",()=>k.removeEventListener("abort",R))}else r.onabort=R}let T=n??this.config.requestTimeout;a.push(y1(E,u,this.config.connectionTimeout)),a.push(v1(E,u,T));let A=S.agent;typeof A=="object"&&"keepAlive"in A&&a.push(S1(E,{keepAlive:A.keepAlive,keepAliveMsecs:A.keepAliveMsecs})),i=nl(E,t,T).catch(R=>(a.forEach(De.clearTimeout),o(R)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},zh=require("http2"),E1=m1(require("http2")),w1=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{K(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},C1=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{K(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let s=E1.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let o=K(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",o),s.on("error",o),s.on("frameError",o),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,o);let i=this.sessionCache.get(r)||new w1;return i.offerLast(s),this.sessionCache.set(r,i),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},A1=class Zh{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new C1({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{K(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new Zh(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{let u=!1,d,l=K(async Y=>{await d,a(Y)},"resolve"),f=K(async Y=>{await d,c(Y)},"reject");if(r?.aborted){u=!0;let Y=new Error("Request aborted");Y.name="AbortError",f(Y);return}let{hostname:p,method:h,port:g,protocol:S,query:b}=t,E="";if(t.username!=null||t.password!=null){let Y=t.username??"",ce=t.password??"";E=`${Y}:${ce}@`}let T=`${S}//${E}${p}${g?`:${g}`:""}`,A={destination:new URL(T)},R=this.connectionManager.lease(A,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),k=K(Y=>{o&&this.destroySession(R),u=!0,f(Y)},"rejectWithDestroy"),Pe=(0,Gh.buildQueryString)(b||{}),J=t.path;Pe&&(J+=`?${Pe}`),t.fragment&&(J+=`#${t.fragment}`);let he=R.request({...t.headers,[zh.constants.HTTP2_HEADER_PATH]:J,[zh.constants.HTTP2_HEADER_METHOD]:h});if(R.ref(),he.on("response",Y=>{let ce=new Qh.HttpResponse({statusCode:Y[":status"]||-1,headers:Kh(Y),body:he});u=!0,l({response:ce}),o&&(R.close(),this.connectionManager.deleteSession(T,R))}),i&&he.setTimeout(i,()=>{he.close();let Y=new Error(`Stream timed out because of no activity for ${i} ms`);Y.name="TimeoutError",k(Y)}),r){let Y=K(()=>{he.close();let ce=new Error("Request aborted");ce.name="AbortError",k(ce)},"onAbort");if(typeof r.addEventListener=="function"){let ce=r;ce.addEventListener("abort",Y,{once:!0}),he.once("close",()=>ce.removeEventListener("abort",Y))}else r.onabort=Y}he.on("frameError",(Y,ce,Se)=>{k(new Error(`Frame type id ${Y} in stream id ${Se} has failed with code ${ce}.`))}),he.on("error",k),he.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${he.rstCode}.`))}),he.on("close",()=>{R.unref(),o&&R.destroy(),u||k(new Error("Unexpected error: http2 request did not get a response"))}),d=nl(he,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},P1=class extends Jh.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{K(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},T1=K(e=>R1(e)?eg(e):new Promise((t,r)=>{let n=new P1;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),R1=K(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function eg(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}K(eg,"collectReadableStream")});var lg=w((lV,ug)=>{var mi=Object.defineProperty,x1=Object.getOwnPropertyDescriptor,O1=Object.getOwnPropertyNames,I1=Object.prototype.hasOwnProperty,mt=(e,t)=>mi(e,"name",{value:t,configurable:!0}),N1=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},M1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of O1(t))!I1.call(e,s)&&s!==r&&mi(e,s,{get:()=>t[s],enumerable:!(n=x1(t,s))||n.enumerable});return e},k1=e=>M1(mi({},"__esModule",{value:!0}),e),ng={};N1(ng,{FetchHttpHandler:()=>$1,keepAliveSupport:()=>pi,streamCollector:()=>U1});ug.exports=k1(ng);var rg=X(),D1=Zu();function sl(e,t){return new Request(e,t)}mt(sl,"createRequest");function sg(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}mt(sg,"requestTimeout");var pi={supported:void 0},$1=class og{static{mt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new og(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),pi.supported===void 0&&(pi.supported=typeof Request<"u"&&"keepalive"in sl("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let E=new Error("Request aborted");return E.name="AbortError",Promise.reject(E)}let a=t.path,c=(0,D1.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let E=t.username??"",T=t.password??"";u=`${E}:${T}@`}let{port:d,method:l}=t,f=`${t.protocol}//${u}${t.hostname}${d?`:${d}`:""}${a}`,p=l==="GET"||l==="HEAD"?void 0:t.body,h={body:p,headers:new Headers(t.headers),method:l,credentials:i};this.config?.cache&&(h.cache=this.config.cache),p&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=r),pi.supported&&(h.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(h,this.config.requestInit(t));let g=mt(()=>{},"removeSignalEventListener"),S=sl(f,h),b=[fetch(S).then(E=>{let T=E.headers,A={};for(let k of T.entries())A[k[0]]=k[1];return E.body!=null?{response:new rg.HttpResponse({headers:A,reason:E.statusText,statusCode:E.status,body:E.body})}:E.blob().then(k=>({response:new rg.HttpResponse({headers:A,reason:E.statusText,statusCode:E.status,body:k})}))}),sg(s)];return r&&b.push(new Promise((E,T)=>{let A=mt(()=>{let R=new Error("Request aborted");R.name="AbortError",T(R)},"onAbort");if(typeof r.addEventListener=="function"){let R=r;R.addEventListener("abort",A,{once:!0}),g=mt(()=>R.removeEventListener("abort",A),"removeSignalEventListener")}else r.onabort=A})),Promise.race(b).finally(g)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},L1=xe(),U1=mt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):ig(e):ag(e),"streamCollector");async function ig(e){let t=await cg(e),r=(0,L1.fromBase64)(t);return new Uint8Array(r)}mt(ig,"collectBlob");async function ag(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}mt(ag,"collectStream");function cg(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}mt(cg,"readToBase64")});var gi=w((dV,gg)=>{var hi=Object.defineProperty,F1=Object.getOwnPropertyDescriptor,j1=Object.getOwnPropertyNames,H1=Object.prototype.hasOwnProperty,dg=(e,t)=>hi(e,"name",{value:t,configurable:!0}),q1=(e,t)=>{for(var r in t)hi(e,r,{get:t[r],enumerable:!0})},B1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j1(t))!H1.call(e,s)&&s!==r&&hi(e,s,{get:()=>t[s],enumerable:!(n=F1(t,s))||n.enumerable});return e},z1=e=>B1(hi({},"__esModule",{value:!0}),e),fg={};q1(fg,{fromHex:()=>mg,toHex:()=>hg});gg.exports=z1(fg);var pg={},ol={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),pg[e]=t,ol[t]=e}function mg(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in ol)t[r/2]=ol[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}dg(mg,"fromHex");function hg(e){let t="";for(let r=0;r<e.byteLength;r++)t+=pg[e[r]];return t}dg(hg,"toHex")});var vg=w(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.sdkStreamMixin=void 0;var V1=lg(),W1=xe(),Q1=gi(),G1=de(),yg=Xt(),_g="The stream has already been transformed.",K1=e=>{var t,r;if(!Sg(e)&&!(0,yg.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,s=async()=>{if(n)throw new Error(_g);return n=!0,await(0,V1.streamCollector)(e)},o=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async i=>{let a=await s();if(i==="base64")return(0,W1.toBase64)(a);if(i==="hex")return(0,Q1.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,G1.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(_g);if(n=!0,Sg(e))return o(e);if((0,yg.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};yi.sdkStreamMixin=K1;var Sg=e=>typeof Blob=="function"&&e instanceof Blob});var Eg=w(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.sdkStreamMixin=void 0;var J1=xr(),Y1=cn(),il=require("stream"),X1=vg(),bg="The stream has already been transformed.",Z1=e=>{var t,r;if(!(e instanceof il.Readable))try{return(0,X1.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,s=async()=>{if(n)throw new Error(bg);return n=!0,await(0,J1.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let i=await s();return o===void 0||Buffer.isEncoding(o)?(0,Y1.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(o):new TextDecoder(o).decode(i)},transformToWebStream:()=>{if(n)throw new Error(bg);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof il.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,il.Readable.toWeb(e)}})};_i.sdkStreamMixin=Z1});var wg=w(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.splitStream=eM;async function eM(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Pg=w(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.splitStream=rM;var Cg=require("stream"),tM=wg(),Ag=Xt();async function rM(e){if((0,Ag.isReadableStream)(e)||(0,Ag.isBlob)(e))return(0,tM.splitStream)(e);let t=new Cg.PassThrough,r=new Cg.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var vi=w((gV,gt)=>{var Si=Object.defineProperty,nM=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyNames,oM=Object.prototype.hasOwnProperty,dl=(e,t)=>Si(e,"name",{value:t,configurable:!0}),iM=(e,t)=>{for(var r in t)Si(e,r,{get:t[r],enumerable:!0})},ul=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sM(t))!oM.call(e,s)&&s!==r&&Si(e,s,{get:()=>t[s],enumerable:!(n=nM(t,s))||n.enumerable});return e},Zt=(e,t,r)=>(ul(e,t,"default"),r&&ul(r,t,"default")),aM=e=>ul(Si({},"__esModule",{value:!0}),e),ht={};iM(ht,{Uint8ArrayBlobAdapter:()=>ll});gt.exports=aM(ht);var Tg=xe(),Rg=de();function xg(e,t="utf-8"){return t==="base64"?(0,Tg.toBase64)(e):(0,Rg.toUtf8)(e)}dl(xg,"transformToString");function Og(e,t){return t==="base64"?ll.mutate((0,Tg.fromBase64)(e)):ll.mutate((0,Rg.fromUtf8)(e))}dl(Og,"transformFromString");var ll=class Ig extends Uint8Array{static{dl(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Og(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Ig.prototype),t}transformToString(t="utf-8"){return xg(this,t)}};Zt(ht,qu(),gt.exports);Zt(ht,Ah(),gt.exports);Zt(ht,Ih(),gt.exports);Zt(ht,Nh(),gt.exports);Zt(ht,kh(),gt.exports);Zt(ht,Eg(),gt.exports);Zt(ht,Pg(),gt.exports);Zt(ht,Xt(),gt.exports)});var bi,it,Ei=y(()=>{bi=v(vi()),it=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return bi.Uint8ArrayBlobAdapter.mutate(e);if(!e)return bi.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return bi.Uint8ArrayBlobAdapter.mutate(await r)}});function yt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var wi=y(()=>{});var kt,fl=y(()=>{kt=e=>typeof e=="function"?e():e});var at=w((vV,Dg)=>{var Ci=Object.defineProperty,cM=Object.getOwnPropertyDescriptor,uM=Object.getOwnPropertyNames,lM=Object.prototype.hasOwnProperty,Mg=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),dM=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},fM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uM(t))!lM.call(e,s)&&s!==r&&Ci(e,s,{get:()=>t[s],enumerable:!(n=cM(t,s))||n.enumerable});return e},pM=e=>fM(Ci({},"__esModule",{value:!0}),e),kg={};dM(kg,{getSmithyContext:()=>mM,normalizeProvider:()=>hM});Dg.exports=pM(kg);var Ng=pt(),mM=Mg(e=>e[Ng.SMITHY_CONTEXT_KEY]||(e[Ng.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),hM=Mg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var $g=y(()=>{});var Oe,Lg=y(()=>{Oe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Oe.registries=new Map});var _t,dn=y(()=>{_t=class{constructor(t,r){this.name=t,this.traits=r}}});var us,pl=y(()=>{dn();us=class e extends _t{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};us.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var ls,ml=y(()=>{dn();ls=class e extends _t{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ls.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Ug=y(()=>{});var Or,Ai=y(()=>{dn();Or=class e extends _t{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let o=0;o<n.length;++o)this.members[n[o]]=Array.isArray(s[o])?s[o]:[s[o],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Or.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var hl,Fg=y(()=>{Ai();hl=class e extends Or{constructor(t,r,n,s,o){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};hl.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var O,gl=y(()=>{O={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var ds,yl=y(()=>{dn();ds=class e extends _t{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ds.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var M,jg=y(()=>{fl();pl();ml();gl();yl();Ai();M=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,o=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],o=kt(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(o instanceof e){this.name=o.name,this.traits=o.traits,this._isMemberSchema=o._isMemberSchema,this.schema=o.schema,this.memberTraits=Object.assign({},o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=o.ref,this.memberName=r??o.memberName;return}if(this.schema=kt(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof ds?kt(this.schema.schemaRef):kt(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.LIST_MODIFIER&&t<O.MAP_MODIFIER:t instanceof us}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.MAP_MODIFIER&&t<=255:t instanceof ls}isDocumentSchema(){return this.getSchema()===O.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Or}isBlobSchema(){return this.getSchema()===O.BLOB||this.getSchema()===O.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=O.TIMESTAMP_DEFAULT&&t<=O.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===O.STRING}isBooleanSchema(){return this.getSchema()===O.BOOLEAN}isNumericSchema(){return this.getSchema()===O.NUMERIC}isBigIntegerSchema(){return this.getSchema()===O.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===O.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===O.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let s of r.memberNames)n[s]=this.getMemberSchema(s);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(O).find(([,o])=>o===r)?.[0]??"Unknown";switch(n){case O.MAP_MODIFIER:return`${s}Map`;case O.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};M.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var ge=y(()=>{fl();$g();pl();ml();Ug();Fg();jg();dn();yl();Ai();gl();Lg()});var gM,Hg=y(()=>{gM=(e,t,r=n=>n)=>e});var yM,_M,fs,SM,Pi,ps,vM,_l,Sl,vl,bl,bM,EM,qg,wM,CM,Ri,AM,El,PM,fn,wl,TM,RM,xM,Bg,zg,OM,IM,Ir,Cl,Ti,ms,Al=y(()=>{yM=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},_M=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ms.warn(Ti(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ms.warn(Ti(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},fs=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ms.warn(Ti(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},SM=Math.ceil(34028234663852886e22),Pi=e=>{let t=fs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>SM)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ps=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},vM=ps,_l=e=>bl(e,32),Sl=e=>bl(e,16),vl=e=>bl(e,8),bl=(e,t)=>{let r=ps(e);if(r!==void 0&&bM(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},bM=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},EM=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},qg=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},wM=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ms.warn(Ti(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},CM=e=>{if(e==null)return;let t=qg(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Ri=e=>fs(typeof e=="string"?fn(e):e),AM=Ri,El=e=>Pi(typeof e=="string"?fn(e):e),PM=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,fn=e=>{let t=e.match(PM);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},wl=e=>typeof e=="string"?Bg(e):fs(e),TM=wl,RM=wl,xM=e=>typeof e=="string"?Bg(e):Pi(e),Bg=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},zg=e=>ps(typeof e=="string"?fn(e):e),OM=zg,IM=e=>_l(typeof e=="string"?fn(e):e),Ir=e=>Sl(typeof e=="string"?fn(e):e),Cl=e=>vl(typeof e=="string"?fn(e):e),Ti=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ms={warn:console.warn}});function gs(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,l=a<10?`0${a}`:`${a}`;return`${NM[n]}, ${c} ${Tl[r]} ${t} ${u}:${d}:${l} GMT`}var NM,Tl,MM,kM,DM,ys,$M,LM,UM,_s,Ss,hs,FM,jM,HM,Pl,qM,BM,zM,St,VM,WM,pn,Vg=y(()=>{Al();NM=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Tl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];MM=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),kM=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=MM.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u]=t,d=Ir(pn(n)),l=St(s,"month",1,12),f=St(o,"day",1,31);return hs(d,l,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},DM=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ys=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=DM.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u,d]=t,l=Ir(pn(n)),f=St(s,"month",1,12),p=St(o,"day",1,31),h=hs(l,f,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&h.setTime(h.getTime()-WM(d)),h},$M=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),LM=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),UM=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_s=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=$M.exec(e);if(t){let[r,n,s,o,i,a,c,u]=t;return hs(Ir(pn(o)),Pl(s),St(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(t=LM.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return HM(hs(FM(o),Pl(s),St(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(t=UM.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return hs(Ir(pn(u)),Pl(n),St(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Ss=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Ri(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},hs=(e,t,r,n)=>{let s=t-1;return BM(e,s,r),new Date(Date.UTC(e,s,r,St(n.hours,"hour",0,23),St(n.minutes,"minute",0,59),St(n.seconds,"seconds",0,60),VM(n.fractionalMilliseconds)))},FM=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Ir(pn(e));return r<t?r+100:r},jM=50*365*24*60*60*1e3,HM=e=>e.getTime()-new Date().getTime()>jM?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Pl=e=>{let t=Tl.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},qM=[31,28,31,30,31,30,31,31,30,31,30,31],BM=(e,t,r)=>{let n=qM[t];if(t===1&&zM(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Tl[t]} in ${e}: ${r}`)},zM=e=>e%4===0&&(e%100!==0||e%400===0),St=(e,t,r,n)=>{let s=Cl(pn(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},VM=e=>e==null?0:El("0."+e)*1e3,WM=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},pn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function vs(){return xi>Oi.length-16&&(Wg.default.randomFillSync(Oi),xi=0),Oi.slice(xi,xi+=16)}var Wg,Oi,xi,Rl=y(()=>{Wg=v(require("crypto")),Oi=new Uint8Array(256),xi=Oi.length});var Qg,Gg=y(()=>{Qg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function QM(e){return typeof e=="string"&&Qg.test(e)}var er,bs=y(()=>{Gg();er=QM});function Nr(e,t=0){return ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]}function GM(e,t=0){let r=Nr(e,t);if(!er(r))throw TypeError("Stringified UUID is invalid");return r}var ve,Kg,Es=y(()=>{bs();ve=[];for(let e=0;e<256;++e)ve.push((e+256).toString(16).slice(1));Kg=GM});function KM(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let o=e.node||Jg,i=e.clockseq!==void 0?e.clockseq:xl;if(o==null||i==null){let f=e.random||(e.rng||vs)();o==null&&(o=Jg=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=xl=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Il+1,u=a-Ol+(c-Il)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||a>Ol)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ol=a,Il=c,xl=i,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let l=a/4294967296*1e4&268435455;s[n++]=l>>>8&255,s[n++]=l&255,s[n++]=l>>>24&15|16,s[n++]=l>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let f=0;f<6;++f)s[n+f]=o[f];return t||Nr(s)}var Jg,xl,Ol,Il,Yg,Xg=y(()=>{Rl();Es();Ol=0,Il=0;Yg=KM});function JM(e){if(!er(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ii,Nl=y(()=>{bs();Ii=JM});function YM(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function ws(e,t,r){function n(s,o,i,a){var c;if(typeof s=="string"&&(s=YM(s)),typeof o=="string"&&(o=Ii(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+s.length);if(u.set(o),u.set(s,o.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=u[d];return i}return Nr(u)}try{n.name=e}catch{}return n.DNS=XM,n.URL=ZM,n}var XM,ZM,Ml=y(()=>{Es();Nl();XM="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ZM="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function ek(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Zg.default.createHash("md5").update(e).digest()}var Zg,ey,ty=y(()=>{Zg=v(require("crypto"));ey=ek});var tk,ry,ny=y(()=>{Ml();ty();tk=ws("v3",48,ey),ry=tk});var sy,kl,oy=y(()=>{sy=v(require("crypto")),kl={randomUUID:sy.default.randomUUID}});function rk(e,t,r){if(kl.randomUUID&&!t&&!e)return kl.randomUUID();e=e||{};let n=e.random||(e.rng||vs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Nr(n)}var vt,iy=y(()=>{oy();Rl();Es();vt=rk});function nk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ay.default.createHash("sha1").update(e).digest()}var ay,cy,uy=y(()=>{ay=v(require("crypto"));cy=nk});var sk,ly,dy=y(()=>{Ml();uy();sk=ws("v5",80,cy),ly=sk});var fy,py=y(()=>{fy="00000000-0000-0000-0000-000000000000"});function ok(e){if(!er(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var my,hy=y(()=>{bs();my=ok});var gy={};ot(gy,{NIL:()=>fy,parse:()=>Ii,stringify:()=>Kg,v1:()=>Yg,v3:()=>ry,v4:()=>vt,v5:()=>ly,validate:()=>er,version:()=>my});var Dl=y(()=>{Xg();ny();iy();dy();py();hy();bs();Es();Nl()});var yy=y(()=>{Dl()});var Ie,_y=y(()=>{Ie=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ie.from=e=>e&&typeof e=="object"&&(e instanceof Ie||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ie(String(e)):Ie(JSON.stringify(e));Ie.fromObject=Ie.from});function $l(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Sy=y(()=>{});function Ll(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var vy=y(()=>{});var Cs,by=y(()=>{Cs=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function ik(e){return new be(String(e),"bigDecimal")}var be,Ey=y(()=>{be=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let o=t.charCodeAt(s);if(!(s===0&&o===45)){if(o===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(o<48||o>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var wy={};ot(wy,{LazyJsonString:()=>Ie,NumericValue:()=>be,copyDocumentWithTransform:()=>gM,dateToUtcString:()=>gs,expectBoolean:()=>_M,expectByte:()=>vl,expectFloat32:()=>Pi,expectInt:()=>vM,expectInt32:()=>_l,expectLong:()=>ps,expectNonNull:()=>EM,expectNumber:()=>fs,expectObject:()=>qg,expectShort:()=>Sl,expectString:()=>wM,expectUnion:()=>CM,generateIdempotencyToken:()=>vt,handleFloat:()=>TM,limitedParseDouble:()=>wl,limitedParseFloat:()=>RM,limitedParseFloat32:()=>xM,logger:()=>ms,nv:()=>ik,parseBoolean:()=>yM,parseEpochTimestamp:()=>Ss,parseRfc3339DateTime:()=>kM,parseRfc3339DateTimeWithOffset:()=>ys,parseRfc7231DateTime:()=>_s,quoteHeader:()=>$l,splitEvery:()=>Ll,splitHeader:()=>Cs,strictParseByte:()=>Cl,strictParseDouble:()=>Ri,strictParseFloat:()=>AM,strictParseFloat32:()=>El,strictParseInt:()=>OM,strictParseInt32:()=>IM,strictParseLong:()=>zg,strictParseShort:()=>Ir});var ct=y(()=>{Hg();Vg();yy();_y();Al();Sy();vy();by();Ey()});var Ni,mn,Ul=y(()=>{ge();Ni=v(X()),mn=class{constructor(t){this.options=t}getRequestType(){return Ni.HttpRequest}getResponseType(){return Ni.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=M.of(r),o=M.of(r.input);if(s.getMergedTraits().endpoint){let i=s.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,s,o){return[]}}});var Cy,Ay,Mr,Py=y(()=>{ge();ct();Cy=v(X()),Ay=v(vi());Ei();wi();Ul();Mr=class extends mn{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),u=M.of(t?.input),d=u.getSchema(),l=!1,f,p=new Cy.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let h=M.translateTraits(t.traits);if(h.http){p.method=h.http[0];let[g,S]=h.http[1].split("?");p.path=="/"?p.path=g:p.path+=g;let b=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(b))}}for(let[h,g]of u.structIterator()){let S=g.getMergedTraits()??{},b=s[h];if(b!=null)if(S.httpPayload){if(g.isStreaming()){if(g.isStructSchema())throw new Error("serialization of event streams is not yet implemented");f=b}else o.write(g,b),f=o.flush();delete s[h]}else if(S.httpLabel){o.write(g,b);let E=o.flush();p.path.includes(`{${h}+}`)?p.path=p.path.replace(`{${h}+}`,E.split("/").map(yt).join("/")):p.path.includes(`{${h}}`)&&(p.path=p.path.replace(`{${h}}`,yt(E))),delete s[h]}else if(S.httpHeader)o.write(g,b),a[S.httpHeader.toLowerCase()]=String(o.flush()),delete s[h];else if(typeof S.httpPrefixHeaders=="string"){for(let[E,T]of Object.entries(b)){let A=S.httpPrefixHeaders+E;o.write([g.getValueSchema(),{httpHeader:A}],T),a[A.toLowerCase()]=o.flush()}delete s[h]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(g,b,i),delete s[h]):l=!0}return l&&s&&(o.write(d,s),f=o.flush()),p.headers=a,p.query=i,p.body=f,p}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(M.of([t.getValueSchema(),{...o,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),o],c);let u=s.flush();(i||u!==void 0)&&a.push(u)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=M.of(t.output),i={};if(n.statusCode>=300){let u=await it(n.body,r);throw u.byteLength>0&&Object.assign(i,await s.read(O.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let u=await it(n.body,r);if(u.byteLength>0){let d=await s.read(o,u);for(let l of a)i[l]=d[l]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=this.deserializer,c=M.of(t),u=[];for(let[d,l]of c.structIterator()){let f=l.getMemberTraits();if(f.httpPayload){if(l.isStreaming())if(l.isStructSchema()){let g=this.serdeContext;if(!g.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=l.getMemberSchemas();i[d]=g.eventStreamMarshaller.deserialize(n.body,async b=>{let E=Object.keys(b).find(T=>T!=="__type")??"";if(E in S){let T=S[E];return{[E]:await a.read(T,b[E].body)}}else return{$unknown:b}})}else i[d]=(0,Ay.sdkStreamMixin)(n.body);else if(n.body){let h=await it(n.body,r);h.byteLength>0&&(i[d]=await a.read(l,h))}}else if(f.httpHeader){let p=String(f.httpHeader).toLowerCase(),h=n.headers[p];if(h!=null)if(l.isListSchema()){let g=l.getValueSchema(),S;g.isTimestampSchema()&&g.getSchema()===O.TIMESTAMP_DEFAULT?S=Ll(h,",",2):S=Cs(h);let b=[];for(let E of S)b.push(await a.read([g,{httpHeader:p}],E.trim()));i[d]=b}else i[d]=await a.read(l,h)}else if(f.httpPrefixHeaders!==void 0){i[d]={};for(let[p,h]of Object.entries(n.headers))p.startsWith(f.httpPrefixHeaders)&&(i[d][p.slice(f.httpPrefixHeaders.length)]=await a.read([l.getValueSchema(),{httpHeader:p}],h))}else f.httpResponseCode?i[d]=n.statusCode:u.push(d)}return u}}});var Ty,kr,Ry=y(()=>{ge();Ty=v(X());Ei();Ul();kr=class extends mn{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),u=M.of(t?.input).getSchema(),d,l=new Ty.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(l,a),this.setHostPrefix(l,t,r));let f={...r};return r&&(s.write(u,f),d=s.flush()),l.headers=i,l.query=o,l.body=d,l.method="POST",l}async deserializeResponse(t,r,n){let s=this.deserializer,o=M.of(t.output),i={};if(n.statusCode>=300){let u=await it(n.body,r);throw u.byteLength>0&&Object.assign(i,await s.read(O.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let a=await it(n.body,r);return a.byteLength>0&&Object.assign(i,await s.read(o,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var Fl,jl=y(()=>{wi();Fl=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>yt(a)).join("/"):yt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function As(e,t){return new Mi(e,t)}var xy,Mi,Oy=y(()=>{xy=v(X());jl();Mi=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new xy.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=Fl(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Dr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===O.TIMESTAMP_DATE_TIME||e.getSchema()===O.TIMESTAMP_HTTP_DATE||e.getSchema()===O.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?O.TIMESTAMP_HTTP_DATE:o||r?O.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var ki=y(()=>{ge()});var Hl,Iy,$r,ql=y(()=>{ge();ct();Hl=v(xe()),Iy=v(de());ki();$r=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=M.of(t);if(n.isListSchema())return Cs(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Hl.fromBase64)(r);if(n.isTimestampSchema())switch(Dr(n,this.settings)){case O.TIMESTAMP_DATE_TIME:return ys(r);case O.TIMESTAMP_HTTP_DATE:return _s(r);case O.TIMESTAMP_EPOCH_SECONDS:return Ss(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=Ie.from(o)),o}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new be(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Iy.toUtf8)((this.serdeContext?.base64Decoder??Hl.fromBase64)(t))}}});var Di,Lr,Ny=y(()=>{ge();Di=v(de());ql();Lr=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new $r(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=M.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Di.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Di.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var Bl,Ps,zl=y(()=>{ge();ct();Bl=v(xe());ki();Ps=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=M.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Dr(n,this.settings)){case O.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:this.stringBuffer=gs(r);break;case O.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Bl.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:$l(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=Ie.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Bl.toBase64)(o.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Ur,My=y(()=>{ge();zl();Ur=class{constructor(t,r,n=new Ps(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=M.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var ky={};ot(ky,{FromStringShapeDeserializer:()=>$r,HttpBindingProtocol:()=>Mr,HttpInterceptingShapeDeserializer:()=>Lr,HttpInterceptingShapeSerializer:()=>Ur,RequestBuilder:()=>Mi,RpcProtocol:()=>kr,ToStringShapeSerializer:()=>Ps,collectBody:()=>it,determineTimestampFormat:()=>Dr,extendedEncodeURIComponent:()=>yt,requestBuilder:()=>As,resolvedPath:()=>Fl});var Dt=y(()=>{Ei();wi();Py();Ry();Oy();jl();ql();Ny();My();zl();ki()});var L=w((JW,Yl)=>{var $i=Object.defineProperty,ak=Object.getOwnPropertyDescriptor,ck=Object.getOwnPropertyNames,uk=Object.prototype.hasOwnProperty,B=(e,t)=>$i(e,"name",{value:t,configurable:!0}),lk=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},Wl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ck(t))!uk.call(e,s)&&s!==r&&$i(e,s,{get:()=>t[s],enumerable:!(n=ak(t,s))||n.enumerable});return e},dk=(e,t,r)=>(Wl(e,t,"default"),r&&Wl(r,t,"default")),fk=e=>Wl($i({},"__esModule",{value:!0}),e),Kl={};lk(Kl,{Client:()=>pk,Command:()=>Ly,NoOpLogger:()=>Ok,SENSITIVE_STRING:()=>hk,ServiceException:()=>yk,_json:()=>Gl,collectBody:()=>Vl.collectBody,convertMap:()=>Ik,createAggregatedClient:()=>gk,decorateServiceException:()=>Uy,emitWarningIfUnsupportedVersion:()=>bk,extendedEncodeURIComponent:()=>Vl.extendedEncodeURIComponent,getArrayIfSingleItem:()=>Rk,getDefaultClientConfiguration:()=>Pk,getDefaultExtensionConfiguration:()=>jy,getValueFromTextNode:()=>Hy,isSerializableHeaderValue:()=>xk,loadConfigsForDefaultMode:()=>vk,map:()=>Jl,resolveDefaultRuntimeConfig:()=>Tk,resolvedPath:()=>Vl.resolvedPath,serializeDateTime:()=>Lk,serializeFloat:()=>$k,take:()=>Nk,throwDefaultError:()=>Fy,withBaseException:()=>_k});Yl.exports=fk(Kl);var $y=uh(),pk=class{constructor(e){this.config=e,this.middlewareStack=(0,$y.constructStack)()}static{B(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,o=n===void 0&&this.config.cacheMiddleware===!0,i;if(o){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)i(e).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Vl=(Dt(),j(ky)),Ql=pt(),Ly=class{constructor(){this.middlewareStack=(0,$y.constructStack)()}static{B(this,"Command")}static classBuilder(){return new mk}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:o,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:u,CommandCtor:d}){for(let g of n.bind(this)(d,e,t,r))this.middlewareStack.use(g);let l=e.concat(this.middlewareStack),{logger:f}=t,p={logger:f,clientName:s,commandName:o,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[Ql.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...u},{requestHandler:h}=t;return l.resolve(g=>h.handle(g.request,r||{}),p)}},mk=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{B(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends Ly{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{B(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},hk="***SensitiveInformation***",gk=B((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=B(async function(i,a,c){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},"methodImpl"),o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},"createAggregatedClient"),yk=class Ts extends Error{static{B(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return Ts.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===Ts?Ts.isInstance(t):Ts.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},Uy=B((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Fy=B(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Sk(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw Uy(i,t)},"throwDefaultError"),_k=B(e=>({output:t,parsedBody:r,errorCode:n})=>{Fy({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Sk=B(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),vk=B(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Dy=!1,bk=B(e=>{e&&!Dy&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Dy=!0)},"emitWarningIfUnsupportedVersion"),Ek=B(e=>{let t=[];for(let r in Ql.AlgorithmId){let n=Ql.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),wk=B(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Ck=B(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Ak=B(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),jy=B(e=>Object.assign(Ek(e),Ck(e)),"getDefaultExtensionConfiguration"),Pk=jy,Tk=B(e=>Object.assign(wk(e),Ak(e)),"resolveDefaultRuntimeConfig"),Rk=B(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Hy=B(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Hy(e[r]));return e},"getValueFromTextNode"),xk=B(e=>e!=null,"isSerializableHeaderValue"),Ok=class{static{B(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function Jl(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,Mk(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}qy(n,null,o,i)}return n}B(Jl,"map");var Ik=B(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Nk=B((e,t)=>{let r={};for(let n in t)qy(r,e,t,n);return r},"take"),Mk=B((e,t,r)=>Jl(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),"mapWithFilter"),qy=B((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=kk,c=Dk,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=c(t[u]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},"applyInstruction"),kk=B(e=>e!=null,"nonNullish"),Dk=B(e=>e,"pass"),$k=B(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Lk=B(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),Gl=B(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Gl);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Gl(e[r]));return t}return e},"_json");dk(Kl,(ct(),j(wy)),Yl.exports)});var Yy=w((rQ,Jy)=>{"use strict";var Li=Object.defineProperty,Uk=Object.getOwnPropertyDescriptor,Fk=Object.getOwnPropertyNames,jk=Object.prototype.hasOwnProperty,He=(e,t)=>Li(e,"name",{value:t,configurable:!0}),Hk=(e,t)=>{for(var r in t)Li(e,r,{get:t[r],enumerable:!0})},qk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fk(t))!jk.call(e,s)&&s!==r&&Li(e,s,{get:()=>t[s],enumerable:!(n=Uk(t,s))||n.enumerable});return e},Bk=e=>qk(Li({},"__esModule",{value:!0}),e),By={};Hk(By,{getQueueUrlPlugin:()=>Wk,getReceiveMessagePlugin:()=>Gk,getSendMessageBatchPlugin:()=>Xk,getSendMessagePlugin:()=>Jk,queueUrlMiddleware:()=>Xl,queueUrlMiddlewareOptions:()=>zy,receiveMessageMiddleware:()=>ed,receiveMessageMiddlewareOptions:()=>Vy,resolveQueueUrlConfig:()=>Vk,sendMessageBatchMiddleware:()=>Gy,sendMessageBatchMiddlewareOptions:()=>Ky,sendMessageMiddleware:()=>Wy,sendMessageMiddlewareOptions:()=>Qy});Jy.exports=Bk(By);var zk=L(),Vk=He(e=>Object.assign(e,{useQueueUrlAsEndpoint:e.useQueueUrlAsEndpoint??!0}),"resolveQueueUrlConfig");function Xl({useQueueUrlAsEndpoint:e,endpoint:t}){return(r,n)=>async s=>{let{input:o}=s,i=n.endpointV2;if(!t&&o.QueueUrl&&i&&e){let a=n.logger instanceof zk.NoOpLogger||!n.logger?.warn?console:n.logger;try{let c=new URL(o.QueueUrl),u=new URL(c.origin);i.url.origin!==u.origin&&(a.warn(`QueueUrl=${o.QueueUrl} differs from SQSClient resolved endpoint=${i.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),n.endpointV2={...i,url:u})}catch(c){a.warn(c)}}return r(s)}}He(Xl,"queueUrlMiddleware");var zy={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},Wk=He(e=>({applyToStack:He(t=>{t.addRelativeTo(Xl(e),zy)},"applyToStack")}),"getQueueUrlPlugin"),Zl=gi(),Qk=de();function ed(e){return t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,o=[];if(s.Messages!==void 0)for(let i of s.Messages){let a=i.MD5OfBody,c=new e.md5;c.update((0,Qk.toUint8Array)(i.Body||"")),a!==(0,Zl.toHex)(await c.digest())&&o.push(i.MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return n}}He(ed,"receiveMessageMiddleware");var Vy={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},Gk=He(e=>({applyToStack:He(t=>{t.add(ed(e),Vy)},"applyToStack")}),"getReceiveMessagePlugin"),Kk=de(),Wy=He(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,o=new e.md5;if(o.update((0,Kk.toUint8Array)(r.input.MessageBody||"")),s.MD5OfMessageBody!==(0,Zl.toHex)(await o.digest()))throw new Error("InvalidChecksumError");return n},"sendMessageMiddleware"),Qy={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},Jk=He(e=>({applyToStack:He(t=>{t.add(Wy(e),Qy)},"applyToStack")}),"getSendMessagePlugin"),Yk=de(),Gy=He(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let s=n.output,o=[],i={};if(s.Successful!==void 0)for(let a of s.Successful)a.Id!==void 0&&(i[a.Id]=a);for(let a of r.input.Entries)if(i[a.Id]){let c=i[a.Id].MD5OfMessageBody,u=new e.md5;u.update((0,Yk.toUint8Array)(a.MessageBody||"")),c!==(0,Zl.toHex)(await u.digest())&&o.push(i[a.Id].MessageId)}if(o.length>0)throw new Error("Invalid MD5 checksum on messages: "+o.join(", "));return n},"sendMessageBatchMiddleware"),Ky={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},Xk=He(e=>({applyToStack:He(t=>{t.add(Gy(e),Ky)},"applyToStack")}),"getSendMessageBatchPlugin")});var td,Zk,Xy=y(()=>{td=v(pt()),Zk=e=>e[td.SMITHY_CONTEXT_KEY]||(e[td.SMITHY_CONTEXT_KEY]={})});var Zy,e_=y(()=>{Zy=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function eD(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var oQ,t_,Rs,Ui=y(()=>{oQ=v(pt()),t_=v(at());e_();Rs=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=Zy(o,i),c=eD(e.httpAuthSchemes),u=(0,t_.getSmithyContext)(n),d=[];for(let l of a){let f=c.get(l.schemeId);if(!f){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let p=f.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:g={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},h),l.signingProperties=Object.assign(l.signingProperties||{},g),u.selectedHttpAuthScheme={httpAuthOption:l,identity:await p(l.identityProperties),signer:f.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)}});var r_,xs,n_=y(()=>{Ui();r_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},xs=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Rs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),r_)}})});var tr=w((dQ,l_)=>{var Fi=Object.defineProperty,tD=Object.getOwnPropertyDescriptor,rD=Object.getOwnPropertyNames,nD=Object.prototype.hasOwnProperty,ji=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),sD=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},oD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rD(t))!nD.call(e,s)&&s!==r&&Fi(e,s,{get:()=>t[s],enumerable:!(n=tD(t,s))||n.enumerable});return e},iD=e=>oD(Fi({},"__esModule",{value:!0}),e),s_={};sD(s_,{deserializerMiddleware:()=>o_,deserializerMiddlewareOption:()=>a_,getSerdePlugin:()=>u_,serializerMiddleware:()=>i_,serializerMiddlewareOption:()=>c_});l_.exports=iD(s_);var aD=X(),o_=ji((e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(aD.HttpResponse.isInstance(o)){let{headers:c={}}=o,u=Object.entries(c);i.$metadata={httpStatusCode:o.statusCode,requestId:rd(/^x-[\w-]+-request-?id$/,u),extendedRequestId:rd(/^x-[\w-]+-id-2$/,u),cfId:rd(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},"deserializerMiddleware"),rd=ji((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),i_=ji((e,t)=>(r,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},"serializerMiddleware"),a_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},c_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function u_(e,t,r){return{applyToStack:n=>{n.add(o_(e,r),a_),n.add(i_(e,t),c_)}}}ji(u_,"getSerdePlugin")});var d_,f_,cD,p_=y(()=>{d_=v(tr());Ui();f_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:d_.serializerMiddlewareOption.name},cD=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Rs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),f_)}})});var m_=y(()=>{Ui();n_();p_()});var h_,_Q,g_,uD,lD,nd,sd=y(()=>{h_=v(X()),_Q=v(pt()),g_=v(at()),uD=e=>t=>{throw t},lD=(e,t)=>{},nd=e=>(t,r)=>async n=>{if(!h_.HttpRequest.isInstance(n.request))return t(n);let o=(0,g_.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,u=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||uD)(i));return(c.successHandler||lD)(u.response,i),u}});var y_,Os,__=y(()=>{sd();y_={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Os=e=>({applyToStack:t=>{t.addRelativeTo(nd(e),y_)}})});var S_=y(()=>{sd();__()});var rr,v_=y(()=>{rr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function b_(e,t,r,n,s){return async function*(i,a,...c){let u=a,d=i.startingToken??u[r],l=!0,f;for(;l;){if(u[r]=d,s&&(u[s]=u[s]??i.pageSize),i.client instanceof e)f=await dD(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let p=d;d=fD(f,n),l=!!(d&&(!i.stopOnSameToken||d!==p))}return void 0}}var dD,fD,E_=y(()=>{dD=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};fD=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var w_=y(()=>{Dt()});function pD(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var C_=y(()=>{});var Fr,A_=y(()=>{Fr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var P_,od,id,T_=y(()=>{P_=v(X()),od=v(pt()),id=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=P_.HttpRequest.clone(t);if(n.in===od.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===od.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var R_,ad,x_=y(()=>{R_=v(X()),ad=class{async sign(t,r,n){let s=R_.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var $t,O_=y(()=>{$t=class{async sign(t,r,n){return t}}});var I_=y(()=>{T_();x_();O_()});var N_,mD,cd,Hi,ud,M_=y(()=>{N_=e=>t=>Hi(t)&&t.expiration.getTime()-Date.now()<e,mD=3e5,cd=N_(3e5),Hi=e=>e.expiration!==void 0,ud=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,c=async u=>{o||(o=n(u));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async u=>((!i||u?.forceRefresh)&&(s=await c(u)),s):async u=>((!i||u?.forceRefresh)&&(s=await c(u)),a?s:r(s)?(t(s)&&await c(u),s):(a=!0,s))}});var k_=y(()=>{A_();I_();M_()});var hn={};ot(hn,{DefaultIdentityProviderConfig:()=>Fr,EXPIRATION_MS:()=>mD,HttpApiKeyAuthSigner:()=>id,HttpBearerAuthSigner:()=>ad,NoAuthSigner:()=>$t,createIsIdentityExpiredFunction:()=>N_,createPaginator:()=>b_,doesIdentityRequireRefresh:()=>Hi,getHttpAuthSchemeEndpointRuleSetPlugin:()=>xs,getHttpAuthSchemePlugin:()=>cD,getHttpSigningPlugin:()=>Os,getSmithyContext:()=>Zk,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>r_,httpAuthSchemeMiddleware:()=>Rs,httpAuthSchemeMiddlewareOptions:()=>f_,httpSigningMiddleware:()=>nd,httpSigningMiddlewareOptions:()=>y_,isIdentityExpired:()=>cd,memoizeIdentityProvider:()=>ud,normalizeProvider:()=>rr,requestBuilder:()=>As,setFeature:()=>pD});var $e=y(()=>{Xy();m_();S_();v_();E_();w_();C_();k_()});var gn=w((XQ,B_)=>{var qi=Object.defineProperty,hD=Object.getOwnPropertyDescriptor,gD=Object.getOwnPropertyNames,yD=Object.prototype.hasOwnProperty,Q=(e,t)=>qi(e,"name",{value:t,configurable:!0}),_D=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},SD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gD(t))!yD.call(e,s)&&s!==r&&qi(e,s,{get:()=>t[s],enumerable:!(n=hD(t,s))||n.enumerable});return e},vD=e=>SD(qi({},"__esModule",{value:!0}),e),D_={};_D(D_,{EndpointCache:()=>bD,EndpointError:()=>Le,customEndpointFunctions:()=>dd,isIpAddress:()=>$_,isValidHostLabel:()=>pd,resolveEndpoint:()=>jD});B_.exports=vD(D_);var bD=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Q(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:o,done:i}=n.next();if(this.data.delete(o),i||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},ED=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),$_=Q(e=>ED.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),wD=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),pd=Q((e,t=!1)=>{if(!t)return wD.test(e);let r=e.split(".");for(let n of r)if(!pd(n))return!1;return!0},"isValidHostLabel"),dd={},Is="endpoints";function Lt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Lt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Lt).join(", ")})`:JSON.stringify(e,null,2)}Q(Lt,"toDebugString");var Le=class extends Error{static{Q(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},CD=Q((e,t)=>e===t,"booleanEquals"),AD=Q(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Le(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Le(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},"getAttrPathList"),L_=Q((e,t)=>AD(t).reduce((r,n)=>{if(typeof r!="object")throw new Le(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),PD=Q(e=>e!=null,"isSet"),TD=Q(e=>!e,"not"),fd=pt(),ld={[fd.EndpointURLScheme.HTTP]:80,[fd.EndpointURLScheme.HTTPS]:443},RD=Q(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:p,protocol:h="",path:g="",query:S={}}=e,b=new URL(`${h}//${f}${p?`:${p}`:""}${g}`);return b.search=Object.entries(S).map(([E,T])=>`${E}=${T}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(fd.EndpointURLScheme).includes(c))return null;let u=$_(s),d=r.includes(`${n}:${ld[c]}`)||typeof e=="string"&&e.includes(`${n}:${ld[c]}`),l=`${n}${d?`:${ld[c]}`:""}`;return{scheme:c,authority:l,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},"parseURL"),xD=Q((e,t)=>e===t,"stringEquals"),OD=Q((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),ID=Q(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),ND={booleanEquals:CD,getAttr:L_,isSet:PD,isValidHostLabel:pd,not:TD,parseURL:RD,stringEquals:xD,substring:OD,uriEncode:ID},U_=Q((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(L_(n[c],u))}else r.push(n[a]);s=i+1}return r.join("")},"evaluateTemplate"),MD=Q(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Bi=Q((e,t,r)=>{if(typeof e=="string")return U_(e,r);if(e.fn)return F_(e,r);if(e.ref)return MD(e,r);throw new Le(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),F_=Q(({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Bi(o,"arg",r)),s=e.split(".");return s[0]in dd&&s[1]!=null?dd[s[0]][s[1]](...n):ND[e](...n)},"callFunction"),kD=Q(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Le(`'${e}' is already defined in Reference Record.`);let n=F_(t,r);return r.logger?.debug?.(`${Is} evaluateCondition: ${Lt(t)} = ${Lt(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),md=Q((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=kD(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${Is} assign: ${o.name} := ${Lt(o.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),DD=Q((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=Bi(o,"Header value entry",t);if(typeof i!="string")throw new Le(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),j_=Q((e,t)=>{if(Array.isArray(e))return e.map(r=>j_(r,t));switch(typeof e){case"string":return U_(e,t);case"object":if(e===null)throw new Le(`Unexpected endpoint property: ${e}`);return H_(e,t);case"boolean":return e;default:throw new Le(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),H_=Q((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:j_(s,t)}),{}),"getEndpointProperties"),$D=Q((e,t)=>{let r=Bi(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Le(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),LD=Q((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=md(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=n;return t.logger?.debug?.(`${Is} Resolving endpoint from template: ${Lt(n)}`),{...u!=null&&{headers:DD(u,i)},...c!=null&&{properties:H_(c,i)},url:$D(a,i)}},"evaluateEndpointRule"),UD=Q((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=md(r,t);if(s)throw new Le(Bi(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},"evaluateErrorRule"),FD=Q((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=md(r,t);if(s)return q_(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},"evaluateTreeRule"),q_=Q((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=LD(r,t);if(n)return n}else if(r.type==="error")UD(r,t);else if(r.type==="tree"){let n=FD(r,t);if(n)return n}else throw new Le(`Unknown endpoint rule: ${r}`);throw new Le("Rules evaluation failed")},"evaluateRules"),jD=Q((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${Is} Initial EndpointParams: ${Lt(r)}`);let i=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(i.length>0)for(let[u,d]of i)r[u]=r[u]??d;let a=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new Le(`Missing required parameter: '${u}'`);let c=q_(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Is} Resolved endpoint: ${Lt(c)}`),c},"resolveEndpoint")});var Q_=w((tG,W_)=>{var zi=Object.defineProperty,HD=Object.getOwnPropertyDescriptor,qD=Object.getOwnPropertyNames,BD=Object.prototype.hasOwnProperty,zD=(e,t)=>zi(e,"name",{value:t,configurable:!0}),VD=(e,t)=>{for(var r in t)zi(e,r,{get:t[r],enumerable:!0})},WD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qD(t))!BD.call(e,s)&&s!==r&&zi(e,s,{get:()=>t[s],enumerable:!(n=HD(t,s))||n.enumerable});return e},QD=e=>WD(zi({},"__esModule",{value:!0}),e),z_={};VD(z_,{parseQueryString:()=>V_});W_.exports=QD(z_);function V_(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}zD(V_,"parseQueryString")});var nr=w((rG,J_)=>{var Vi=Object.defineProperty,GD=Object.getOwnPropertyDescriptor,KD=Object.getOwnPropertyNames,JD=Object.prototype.hasOwnProperty,YD=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),XD=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},ZD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KD(t))!JD.call(e,s)&&s!==r&&Vi(e,s,{get:()=>t[s],enumerable:!(n=GD(t,s))||n.enumerable});return e},e$=e=>ZD(Vi({},"__esModule",{value:!0}),e),G_={};XD(G_,{parseUrl:()=>K_});J_.exports=e$(G_);var t$=Q_(),K_=YD(e=>{if(typeof e=="string")return K_(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=(0,t$.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}},"parseUrl")});var yn=w((nG,aS)=>{"use strict";var Wi=Object.defineProperty,r$=Object.getOwnPropertyDescriptor,n$=Object.getOwnPropertyNames,s$=Object.prototype.hasOwnProperty,sr=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),o$=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},i$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of n$(t))!s$.call(e,s)&&s!==r&&Wi(e,s,{get:()=>t[s],enumerable:!(n=r$(t,s))||n.enumerable});return e},a$=e=>i$(Wi({},"__esModule",{value:!0}),e),X_={};o$(X_,{ConditionObject:()=>Z.ConditionObject,DeprecatedObject:()=>Z.DeprecatedObject,EndpointError:()=>Z.EndpointError,EndpointObject:()=>Z.EndpointObject,EndpointObjectHeaders:()=>Z.EndpointObjectHeaders,EndpointObjectProperties:()=>Z.EndpointObjectProperties,EndpointParams:()=>Z.EndpointParams,EndpointResolverOptions:()=>Z.EndpointResolverOptions,EndpointRuleObject:()=>Z.EndpointRuleObject,ErrorRuleObject:()=>Z.ErrorRuleObject,EvaluateOptions:()=>Z.EvaluateOptions,Expression:()=>Z.Expression,FunctionArgv:()=>Z.FunctionArgv,FunctionObject:()=>Z.FunctionObject,FunctionReturn:()=>Z.FunctionReturn,ParameterObject:()=>Z.ParameterObject,ReferenceObject:()=>Z.ReferenceObject,ReferenceRecord:()=>Z.ReferenceRecord,RuleSetObject:()=>Z.RuleSetObject,RuleSetRules:()=>Z.RuleSetRules,TreeRuleObject:()=>Z.TreeRuleObject,awsEndpointFunctions:()=>oS,getUserAgentPrefix:()=>d$,isIpAddress:()=>Z.isIpAddress,partition:()=>nS,resolveDefaultAwsRegionalEndpointsConfig:()=>p$,resolveEndpoint:()=>Z.resolveEndpoint,setPartitionInfo:()=>sS,toEndpointV1:()=>iS,useDefaultPartitionInfo:()=>l$});aS.exports=a$(X_);var Z=gn(),Z_=sr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Z_(r))return!1;return!0}return!(!(0,Z.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Z.isIpAddress)(e))},"isVirtualHostableS3Bucket"),Y_=":",c$="/",u$=sr(e=>{let t=e.split(Y_);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Y_)==="")return null;let c=a.map(u=>u.split(c$)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:c}},"parseArn"),eS={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},tS=eS,rS="",nS=sr(e=>{let{partitions:t}=tS;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),sS=sr((e,t="")=>{tS=e,rS=t},"setPartitionInfo"),l$=sr(()=>{sS(eS,"")},"useDefaultPartitionInfo"),d$=sr(()=>rS,"getUserAgentPrefix"),oS={isVirtualHostableS3Bucket:Z_,parseArn:u$,partition:nS};Z.customEndpointFunctions.aws=oS;var f$=nr(),p$=sr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>iS(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),iS=sr(e=>(0,f$.parseUrl)(e.url),"toEndpointV1")});var Qi,_n,cS=y(()=>{Qi={warningEmitted:!1},_n=e=>{e&&!Qi.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Qi.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function or(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var uS=y(()=>{});function lS(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var dS=y(()=>{});function fS(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var pS=y(()=>{});var ir={};ot(ir,{emitWarningIfUnsupportedVersion:()=>_n,setCredentialFeature:()=>or,setFeature:()=>lS,setTokenFeature:()=>fS,state:()=>Qi});var ut=y(()=>{cS();uS();dS();pS()});var mS,hd,hS=y(()=>{mS=v(X()),hd=e=>mS.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Sn,gd=y(()=>{Sn=e=>new Date(Date.now()+e)});var gS,yS=y(()=>{gd();gS=(e,t)=>Math.abs(Sn(t).getTime()-e)>=3e5});var yd,_S=y(()=>{yS();yd=(e,t)=>{let r=Date.parse(e);return gS(r,t)?r-Date.now():t}});var _d=y(()=>{hS();gd();_S()});var SS,Ns,vn,Ue,Sd,vd=y(()=>{SS=v(X());_d();Ns=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},vn=async e=>{let t=Ns("context",e.context),r=Ns("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await Ns("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},Ue=class{async sign(t,r,n){if(!SS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await vn(n),{config:o,signer:i}=s,{signingRegion:a,signingName:c}=s,u=n.context;if(u?.authSchemes?.length??!1){let[l,f]=u.authSchemes;l?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await i.sign(t,{signingDate:Sn(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??hd(r.$response);if(n){let s=Ns("config",t.config),o=s.systemClockOffset;s.systemClockOffset=yd(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=hd(t);if(n){let s=Ns("config",r.config);s.systemClockOffset=yd(n,s.systemClockOffset)}}},Sd=Ue});var vS,Ms,bS=y(()=>{vS=v(X());_d();vd();Ms=class extends Ue{async sign(t,r,n){if(!vS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await vn(n),d=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:Sn(s.systemClockOffset),signingRegion:d,signingService:c})}}});var bd,ES=y(()=>{bd=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Gi,Ed=y(()=>{Gi=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var wS,CS,bn,AS=y(()=>{ES();Ed();wS="AWS_AUTH_SCHEME_PREFERENCE",CS="auth_scheme_preference",bn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Gi(t.signingName)in e)return["httpBearerAuth"];if(wS in e)return bd(e[wS])},configFileSelector:e=>{if(CS in e)return bd(e[CS])},default:[]}});var Ne=w((NG,OS)=>{var Ki=Object.defineProperty,m$=Object.getOwnPropertyDescriptor,h$=Object.getOwnPropertyNames,g$=Object.prototype.hasOwnProperty,jr=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),y$=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},_$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of h$(t))!g$.call(e,s)&&s!==r&&Ki(e,s,{get:()=>t[s],enumerable:!(n=m$(t,s))||n.enumerable});return e},S$=e=>_$(Ki({},"__esModule",{value:!0}),e),PS={};y$(PS,{CredentialsProviderError:()=>v$,ProviderError:()=>Ji,TokenProviderError:()=>b$,chain:()=>E$,fromStatic:()=>w$,memoize:()=>C$});OS.exports=S$(PS);var Ji=class TS extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,TS.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{jr(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},v$=class RS extends Ji{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,RS.prototype)}static{jr(this,"CredentialsProviderError")}},b$=class xS extends Ji{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,xS.prototype)}static{jr(this,"TokenProviderError")}},E$=jr((...e)=>async()=>{if(e.length===0)throw new Ji("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),w$=jr(e=>()=>Promise.resolve(e),"fromStatic"),C$=jr((e,t,r)=>{let n,s,o,i=!1,a=jr(async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var wd,IS,NS,MS=y(()=>{$e();wd=v(Ne()),IS=e=>(e.sigv4aSigningRegionSet=rr(e.sigv4aSigningRegionSet),e),NS={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new wd.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new wd.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var uv=w((DG,cv)=>{var na=Object.defineProperty,A$=Object.getOwnPropertyDescriptor,P$=Object.getOwnPropertyNames,T$=Object.prototype.hasOwnProperty,Ee=(e,t)=>na(e,"name",{value:t,configurable:!0}),R$=(e,t)=>{for(var r in t)na(e,r,{get:t[r],enumerable:!0})},x$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P$(t))!T$.call(e,s)&&s!==r&&na(e,s,{get:()=>t[s],enumerable:!(n=A$(t,s))||n.enumerable});return e},O$=e=>x$(na({},"__esModule",{value:!0}),e),US={};R$(US,{ALGORITHM_IDENTIFIER:()=>Yi,ALGORITHM_IDENTIFIER_V4A:()=>k$,ALGORITHM_QUERY_PARAM:()=>FS,ALWAYS_UNSIGNABLE_HEADERS:()=>QS,AMZ_DATE_HEADER:()=>Id,AMZ_DATE_QUERY_PARAM:()=>Td,AUTH_HEADER:()=>Od,CREDENTIAL_QUERY_PARAM:()=>jS,DATE_HEADER:()=>BS,EVENT_ALGORITHM_IDENTIFIER:()=>JS,EXPIRES_QUERY_PARAM:()=>qS,GENERATED_HEADERS:()=>zS,HOST_HEADER:()=>N$,KEY_TYPE_IDENTIFIER:()=>Nd,MAX_CACHE_SIZE:()=>XS,MAX_PRESIGNED_TTL:()=>ZS,PROXY_HEADER_PATTERN:()=>GS,REGION_SET_PARAM:()=>I$,SEC_HEADER_PATTERN:()=>KS,SHA256_HEADER:()=>ra,SIGNATURE_HEADER:()=>VS,SIGNATURE_QUERY_PARAM:()=>Rd,SIGNED_HEADERS_QUERY_PARAM:()=>HS,SignatureV4:()=>V$,SignatureV4Base:()=>av,TOKEN_HEADER:()=>WS,TOKEN_QUERY_PARAM:()=>xd,UNSIGNABLE_PATTERNS:()=>M$,UNSIGNED_PAYLOAD:()=>YS,clearCredentialCache:()=>$$,createScope:()=>Zi,getCanonicalHeaders:()=>Cd,getCanonicalQuery:()=>iv,getPayloadHash:()=>ea,getSigningKey:()=>ev,hasHeader:()=>rv,moveHeadersToQuery:()=>ov,prepareRequest:()=>Pd,signatureV4aContainer:()=>W$});cv.exports=O$(US);var kS=de(),FS="X-Amz-Algorithm",jS="X-Amz-Credential",Td="X-Amz-Date",HS="X-Amz-SignedHeaders",qS="X-Amz-Expires",Rd="X-Amz-Signature",xd="X-Amz-Security-Token",I$="X-Amz-Region-Set",Od="authorization",Id=Td.toLowerCase(),BS="date",zS=[Od,Id,BS],VS=Rd.toLowerCase(),ra="x-amz-content-sha256",WS=xd.toLowerCase(),N$="host",QS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},GS=/^proxy-/,KS=/^sec-/,M$=[/^proxy-/i,/^sec-/i],Yi="AWS4-HMAC-SHA256",k$="AWS4-ECDSA-P256-SHA256",JS="AWS4-HMAC-SHA256-PAYLOAD",YS="UNSIGNED-PAYLOAD",XS=50,Nd="aws4_request",ZS=3600*24*7,ar=gi(),D$=de(),En={},Xi=[],Zi=Ee((e,t,r)=>`${e}/${t}/${r}/${Nd}`,"createScope"),ev=Ee(async(e,t,r,n,s)=>{let o=await DS(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${(0,ar.toHex)(o)}:${t.sessionToken}`;if(i in En)return En[i];for(Xi.push(i);Xi.length>XS;)delete En[Xi.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,Nd])a=await DS(e,a,c);return En[i]=a},"getSigningKey"),$$=Ee(()=>{Xi.length=0,Object.keys(En).forEach(e=>{delete En[e]})},"clearCredentialCache"),DS=Ee((e,t,r)=>{let n=new e(t);return n.update((0,D$.toUint8Array)(r)),n.digest()},"hmac"),Cd=Ee(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in QS||t?.has(o)||GS.test(o)||KS.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),L$=$u(),U$=de(),ea=Ee(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ra)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,L$.isArrayBuffer)(t)){let n=new r;return n.update((0,U$.toUint8Array)(t)),(0,ar.toHex)(await n.digest())}return YS},"getPayloadHash"),$S=de(),F$=class{static{Ee(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let o=(0,$S.fromUtf8)(s);t.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,o)=>s+o.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let i=(0,$S.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(H$.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!j$.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,ar.fromHex)(e.value.replace(/\-/g,"")),1),d}}},j$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,H$=class tv{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ee(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Ad(r),new tv(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ad(t),parseInt((0,ar.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Ad(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ee(Ad,"negate");var rv=Ee((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),sv=X(),ov=Ee((e,t={})=>{let{headers:r,query:n={}}=sv.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Pd=Ee(e=>{e=sv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))zS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),LS=at(),q$=de(),ta=Yu(),iv=Ee(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===VS)continue;let s=(0,ta.escapeUri)(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${(0,ta.escapeUri)(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${(0,ta.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),B$=Ee(e=>z$(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),z$=Ee(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),av=class{static{Ee(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){this.service=n,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,LS.normalizeProvider)(r),this.credentialProvider=(0,LS.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${iv(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,q$.toUint8Array)(r));let o=await s.digest();return`${n}
${e}
${t}
${(0,ar.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,ta.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=B$(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},V$=class extends av{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o}),this.headerFormatter=new F$}static{Ee(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:u}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let l=c??await this.regionProvider(),{longDate:f,shortDate:p}=this.formatDate(r);if(n>ZS)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=Zi(p,l,u??this.service),g=ov(Pd(e),{unhoistableHeaders:o,hoistableHeaders:a});d.sessionToken&&(g.query[xd]=d.sessionToken),g.query[FS]=Yi,g.query[jS]=`${d.accessKeyId}/${h}`,g.query[Td]=f,g.query[qS]=n.toString(10);let S=Cd(g,s,i);return g.query[HS]=this.getCanonicalHeaderList(S),g.query[Rd]=await this.getSignature(f,h,this.getSigningKey(d,l,p,u),this.createCanonicalRequest(g,S,await ea(e,this.sha256))),g}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:o}){let i=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),u=Zi(a,i,o??this.service),d=await ea({headers:{},body:t},this.sha256),l=new this.sha256;l.update(e);let f=(0,ar.toHex)(await l.digest()),p=[JS,c,u,n,f,d].join(`
`);return this.signString(p,{signingDate:r,signingRegion:i,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let o=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,o,i,n));return a.update((0,kS.toUint8Array)(e)),(0,ar.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=s??await this.regionProvider(),c=Pd(e),{longDate:u,shortDate:d}=this.formatDate(t),l=Zi(d,a,o??this.service);c.headers[Id]=u,i.sessionToken&&(c.headers[WS]=i.sessionToken);let f=await ea(c,this.sha256);!rv(ra,c.headers)&&this.applyChecksum&&(c.headers[ra]=f);let p=Cd(c,n,r),h=await this.getSignature(u,l,this.getSigningKey(i,a,d,o),this.createCanonicalRequest(c,p,f));return c.headers[Od]=`${Yi} Credential=${i.accessKeyId}/${l}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${h}`,c}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,Yi),o=new this.sha256(await r);return o.update((0,kS.toUint8Array)(s)),(0,ar.toHex)(await o.digest())}getSigningKey(e,t,r,n){return ev(this.sha256,e,r,t,n||this.service)}},W$={SignatureV4a:null}});function Q$(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=ud(t,cd,Hi):r?n=rr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function G$(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Md,Hr,lv,dv=y(()=>{ut();$e();Md=v(uv()),Hr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let d=Q$(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),l=G$(e,d);r&&!l.attributed?(n=async f=>l(f).then(p=>or(p,"CREDENTIALS_CODE","e")),n.memoized=l.memoized,n.configBound=l.configBound,n.attributed=!0):n=l},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=rr(e.signer):e.regionInfoProvider?a=()=>rr(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{let{signingRegion:l,signingService:f}=u;e.signingRegion=e.signingRegion||l||d,e.signingName=e.signingName||f||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Md.SignatureV4;return new h(p)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await rr(e.region)(),properties:{}},u);let d=u.signingRegion,l=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||l||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},p=e.signerConstructor||Md.SignatureV4;return new p(f)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},lv=Hr});var fv=y(()=>{vd();bS();AS();MS();dv()});var pv={};ot(pv,{AWSSDKSigV4Signer:()=>Sd,AwsSdkSigV4ASigner:()=>Ms,AwsSdkSigV4Signer:()=>Ue,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>bn,NODE_SIGV4A_CONFIG_OPTIONS:()=>NS,getBearerTokenEnvKey:()=>Gi,resolveAWSSDKSigV4Config:()=>lv,resolveAwsSdkSigV4AConfig:()=>IS,resolveAwsSdkSigV4Config:()=>Hr,validateSigningProperties:()=>vn});var kd=y(()=>{fv();Ed()});var K$,J$,Y$,mv=y(()=>{K$=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},J$=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Y$=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ks=w((YG,yv)=>{var sa=Object.defineProperty,X$=Object.getOwnPropertyDescriptor,Z$=Object.getOwnPropertyNames,e2=Object.prototype.hasOwnProperty,t2=(e,t)=>sa(e,"name",{value:t,configurable:!0}),r2=(e,t)=>{for(var r in t)sa(e,r,{get:t[r],enumerable:!0})},n2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Z$(t))!e2.call(e,s)&&s!==r&&sa(e,s,{get:()=>t[s],enumerable:!(n=X$(t,s))||n.enumerable});return e},s2=e=>n2(sa({},"__esModule",{value:!0}),e),gv={};r2(gv,{calculateBodyLength:()=>o2});yv.exports=s2(gv);var hv=typeof TextEncoder=="function"?new TextEncoder:null,o2=t2(e=>{if(typeof e=="string"){if(hv)return hv.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Te,cr=y(()=>{Te=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function _v(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new be(n,"bigDecimal"):BigInt(n)}return t}var Sv=y(()=>{ct()});var vv,oa,Dd=y(()=>{vv=v(L()),oa=(e,t)=>(0,vv.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var wn,$d,qr,Ds=y(()=>{Dd();wn=(e,t)=>oa(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),$d=async(e,t)=>{let r=await wn(e,t);return r.message=r.message??r.Message,r},qr=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var bv,$s,Ld=y(()=>{ge();ct();bv=v(xe());cr();Sv();Ds();$s=class extends Te{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,_v):await wn(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=M.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}else if(s.isMapSchema()&&n){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(c||d!=null)&&(a[u]=this._read(i,d));return a}else if(s.isStructSchema()&&n){let i={};for(let[a,c]of s.structIterator()){let u=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[u]);d!=null&&(i[a]=d)}return i}if(s.isBlobSchema()&&typeof r=="string")return(0,bv.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Ie.from(r);if(s.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===O.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case O.TIMESTAMP_DATE_TIME:return ys(r);case O.TIMESTAMP_HTTP_DATE:return _s(r);case O.TIMESTAMP_EPOCH_SECONDS:return Ss(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof be?r:new be(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var Ev,ia,wv=y(()=>{ct();Ev="\u039D",ia=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof be){let n=`${Ev+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Ev+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Ls,Ud=y(()=>{ge();ct();cr();wv();Ls=class extends Te{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=M.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new ia;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=M.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}else if(o.isMapSchema()&&s){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(c||d!=null)&&(a[u]=this._write(i,d));return a}else if(o.isStructSchema()&&s){let i={};for(let[a,c]of o.structIterator()){let u=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],o);d!==void 0&&(i[u]=d)}return i}if(!(r===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(o===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(o.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===O.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case O.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case O.TIMESTAMP_HTTP_DATE:return gs(r);case O.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(o.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return vt();let i=o.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Ie.from(r)}return r}}}});var Br,aa=y(()=>{cr();Ld();Ud();Br=class extends Te{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ls(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new $s(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Cv,zr,ca=y(()=>{Dt();ge();Cv=v(ks());aa();Ds();zr=class extends kr{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Br({timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${M.of(t).getName()}`}),(kt(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,Cv.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){let i=qr(n,s)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let u=Oe.for(a),d;try{d=u.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let l=M.of(d),f=s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let h={};for(let[g,S]of l.structIterator()){let b=S.getMergedTraits().jsonName??g;h[g]=this.codec.createDeserializer().readObject(S,s[b])}throw Object.assign(p,{$metadata:o,$response:n,$fault:l.getMergedTraits().error,message:f,...h}),p}}});var Fd,Av=y(()=>{ca();Fd=class extends zr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var jd,Pv=y(()=>{ca();jd=class extends zr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Tv,Hd,Rv=y(()=>{Dt();ge();Tv=v(ks());aa();Ds();Hd=class extends Mr{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Br(r),this.serializer=new Ur(this.codec.createSerializer(),r),this.deserializer=new Lr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=M.of(t.input),i=o.getMemberSchemas();if(!s.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else o.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:l,httpHeader:f,httpLabel:p,httpPrefixHeaders:h}=u.getMergedTraits();return!d&&!l&&!f&&!p&&h===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,Tv.calculateBodyLength)(s.body))}catch{}return s}async handleError(t,r,n,s,o){let i=qr(n,s)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let u=Oe.for(a),d;try{d=u.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let l=M.of(d),f=s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let h={};for(let[g,S]of l.structIterator()){let b=S.getMergedTraits().jsonName??g;h[g]=this.codec.createDeserializer().readObject(S,s[b])}throw Object.assign(p,{$metadata:o,$response:n,$fault:l.getMergedTraits().error,message:f,...h}),p}getDefaultContentType(){return"application/json"}}});var xv,i2,Ov=y(()=>{xv=v(L()),i2=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,xv.expectUnion)(e)}});function ua(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=t.exec(e)}return r}function Nv(e){return typeof e<"u"}var Iv,a2,c2,u2,Us,la=y(()=>{"use strict";Iv=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a2=Iv+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",c2="["+Iv+"]["+a2+"]*",u2=new RegExp("^"+c2+"$");Us=function(e){let t=u2.exec(e);return!(t===null||typeof t>"u")}});function Lv(e,t){t=Object.assign({},l2,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=kv(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=Dv(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!_2(c)){let l;return c.trim().length===0?l="Invalid space after '<'.":l="Tag '"+c+"' is an invalid name.",ue("InvalidTag",l,Me(e,o))}let u=p2(e,o);if(u===!1)return ue("InvalidAttr","Attributes for '"+c+"' have open quote.",Me(e,o));let d=u.value;if(o=u.index,d[d.length-1]==="/"){let l=o-d.length;d=d.substring(0,d.length-1);let f=$v(d,t);if(f===!0)n=!0;else return ue(f.err.code,f.err.msg,Me(e,l+f.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return ue("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Me(e,i));if(r.length===0)return ue("InvalidTag","Closing tag '"+c+"' has not been opened.",Me(e,i));{let l=r.pop();if(c!==l.tagName){let f=Me(e,l.tagStartPos);return ue("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Me(e,i))}r.length==0&&(s=!0)}}else return ue("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Me(e,o));else{let l=$v(d,t);if(l!==!0)return ue(l.err.code,l.err.msg,Me(e,o-d.length+l.err.line));if(s===!0)return ue("InvalidXml","Multiple possible root nodes found.",Me(e,o));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=Dv(e,o);continue}else if(e[o+1]==="?"){if(o=kv(e,++o),o.err)return o}else break;else if(e[o]==="&"){let l=g2(e,o);if(l==-1)return ue("InvalidChar","char '&' is not expected.",Me(e,o));o=l}else if(s===!0&&!Mv(e[o]))return ue("InvalidXml","Extra text at the end",Me(e,o));e[o]==="<"&&o--}}else{if(Mv(e[o]))continue;return ue("InvalidChar","char '"+e[o]+"' is not expected.",Me(e,o))}if(n){if(r.length==1)return ue("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Me(e,r[0].tagStartPos));if(r.length>0)return ue("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ue("InvalidXml","Start tag expected.",1);return!0}function Mv(e){return e===" "||e==="	"||e===`
`||e==="\r"}function kv(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ue("InvalidXml","XML declaration allowed only at the start of the document.",Me(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Dv(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function p2(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===d2||e[t]===f2)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function $v(e,t){let r=ua(e,m2),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return ue("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Fs(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return ue("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Fs(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return ue("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Fs(r[s]));let o=r[s][2];if(!y2(o))return ue("InvalidAttr","Attribute '"+o+"' is an invalid name.",Fs(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return ue("InvalidAttr","Attribute '"+o+"' is repeated.",Fs(r[s]))}return!0}function h2(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function g2(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,h2(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ue(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function y2(e){return Us(e)}function _2(e){return Us(e)}function Me(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Fs(e){return e.startIndex+e[1].length}var l2,d2,f2,m2,Uv=y(()=>{"use strict";la();l2={allowBooleanAttributes:!1,unpairedTags:[]};d2='"',f2="'";m2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var S2,Fv,jv=y(()=>{S2={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},Fv=function(e){return Object.assign({},S2,e)}});var da,qe,fa=y(()=>{"use strict";typeof Symbol!="function"?da="@@xmlMetadata":da=Symbol("XML Node Metadata");qe=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][da]={startIndex:r})}static getMetaDataSymbol(){return da}}});function qd(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,o=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(s&&Vr(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=v2(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(s&&Vr(e,"!ELEMENT",t)){t+=8;let{index:a}=E2(e,t+1);t=a}else if(s&&Vr(e,"!ATTLIST",t))t+=8;else if(s&&Vr(e,"!NOTATION",t)){t+=9;let{index:a}=b2(e,t+1);t=a}else if(Vr(e,"!--",t))o=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function v2(e,t){t=ur(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Bd(r),t=ur(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=pa(e,t,"entity"),t--,[r,n,t]}function b2(e,t){t=ur(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Bd(r),t=ur(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=ur(e,t);let s=null,o=null;if(n==="PUBLIC")[t,s]=pa(e,t,"publicIdentifier"),t=ur(e,t),(e[t]==='"'||e[t]==="'")&&([t,o]=pa(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,o]=pa(e,t,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:o,index:--t}}function pa(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function E2(e,t){t=ur(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Bd(r))throw new Error(`Invalid element name: "${r}"`);t=ur(e,t);let n="";if(e[t]==="E"&&Vr(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Vr(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Vr(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Bd(e){if(Us(e))return e;throw new Error(`Invalid entity name ${e}`)}var ur,Hv=y(()=>{la();ur=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function zd(e,t={}){if(t=Object.assign({},A2,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&w2.test(r))return x2(r,16);if(r.search(/.+[eE].+/)!==-1)return T2(e,r,t);{let n=C2.exec(r);if(n){let s=n[1]||"",o=n[2],i=R2(n[3]),a=s?e[o.length+1]===".":e[o.length]===".";if(!t.leadingZeros&&(o.length>1||o.length===1&&!a))return e;{let c=Number(r),u=String(c);if(c===0)return c;if(u.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${s}${i}`?c:e;let d=o?i:r;return o?d===u||s+d===u?c:e:d===u||d===s+u?c:e}}else return e}}function T2(e,t,r){if(!r.eNotation)return e;let n=t.match(P2);if(n){let s=n[1]||"",o=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=s?e[i.length+1]===o:e[i.length]===o;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${o}`)||n[3][0]===o)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function R2(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function x2(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var w2,C2,A2,P2,qv=y(()=>{w2=/^[-+]?0x[a-fA-F0-9]+$/,C2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,A2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};P2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Vd(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var Bv=y(()=>{});function O2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function I2(e,t,r,n,s,o,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Qd(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Qd(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function N2(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function k2(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=ua(e,M2),s=n.length,o={};for(let i=0;i<s;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?o[u]=c:typeof d!=typeof c||d!==c?o[u]=d:o[u]=Qd(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[u]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=o,i}return o}}function $2(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function U2(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function F2(e,t,r){let n="*."+r;for(let s in e){let o=e[s];if(n===o||t===o)return!0}return!1}function j2(e,t,r=">"){let n,s="";for(let o=t;o<e.length;o++){let i=e[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function Wr(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function Wd(e,t,r,n=">"){let s=j2(e,t+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,u=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let d=c;if(r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),u=c!==s.data.substr(l+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u,rawTagName:d}}function H2(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let o=Wr(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i:o};r=o}else if(e[r+1]==="?")r=Wr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Wr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Wr(e,"]]>",r,"StopNode is not closed.")-2;else{let o=Wd(e,r,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function Qd(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:zd(e,r)}else return Nv(e)?e:""}var js,M2,D2,L2,zv=y(()=>{"use strict";la();fa();Hv();qv();Bv();js=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=O2,this.parseXml=D2,this.parseTextData=I2,this.resolveNameSpace=N2,this.buildAttributesMap=k2,this.isItStopNode=F2,this.replaceEntitiesValue=L2,this.readStopNodeData=H2,this.saveTextToParentTag=U2,this.addChild=$2,this.ignoreAttributesFn=Vd(this.options.ignoreAttributes)}};M2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");D2=function(e){e=e.replace(/\r\n?/g,`
`);let t=new qe("!xml"),r=t,n="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let a=Wr(e,">",o,"Closing Tag is not closed."),c=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let u=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",o=a}else if(e[o+1]==="?"){let a=Wd(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new qe(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s,o)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let a=Wr(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(e.substr(o+1,2)==="!D"){let a=qd(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){let a=Wr(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);n=this.saveTextToParentTag(n,r,s);let u=this.parseTextData(c,r.tagname,s,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,u),o=a+2}else{let a=Wd(e,o,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,d=a.tagExp,l=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c);let h=o;if(this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let b=this.readStopNodeData(e,u,f+1);if(!b)throw new Error(`Unexpected end of ${u}`);o=b.i,g=b.tagContent}let S=new qe(c);c!==d&&l&&(S[":@"]=this.buildAttributesMap(d,s,c)),g&&(g=this.parseTextData(g,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),S.add(this.options.textNodeName,g),this.addChild(r,S,s,h)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),s=s.substr(0,s.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new qe(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s,h),s=s.substr(0,s.lastIndexOf("."))}else{let g=new qe(c);this.tagsNodeStack.push(r),c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s,c)),this.addChild(r,g,s,h),r=g}n="",o=f}}else n+=e[o];return t.child};L2=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Kd(e,t){return Vv(e,t)}function Vv(e,t,r){let n,s={};for(let o=0;o<e.length;o++){let i=e[o],a=q2(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=Vv(i[a],t,c),d=z2(u,t);i[Gd]!==void 0&&(u[Gd]=i[Gd]),i[":@"]?B2(u,i[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(u)):t.isArray(a,c,d)?s[a]=[u]:s[a]=u}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function q2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function B2(e,t,r,n){if(t){let s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function z2(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Gd,Wv=y(()=>{"use strict";fa();Gd=qe.getMetaDataSymbol()});var lr,Qv=y(()=>{jv();zv();Wv();Uv();fa();lr=class{constructor(t){this.externalEntities={},this.options=Fv(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=Lv(t,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new js(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:Kd(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return qe.getMetaDataSymbol()}}});var Jd=y(()=>{"use strict";Qv()});var Gv,Kv,Qr,ma=y(()=>{Dt();ge();Gv=v(L()),Kv=v(de());Jd();cr();Qr=class extends Te{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new $r(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=M.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(u=>!!u.getMemberTraits().eventPayload)){let u={},d=Object.keys(o)[0];return o[d].isBlobSchema()?u[d]=r:u[d]=this.read(o[d],r),u}let a=(this.serdeContext?.utf8Encoder??Kv.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=M.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],d=c.getMergedTraits().xmlName??"member",l=i?r:(r[0]??r)[d],f=Array.isArray(l)?l:[l];for(let p of f)(p!=null||o)&&u.push(this.readSchema(c,p));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let l=c.getMergedTraits().xmlName??"key",f=u.getMergedTraits().xmlName??"value";for(let p of d){let h=p[l],g=p[f];(g!=null||o)&&(a[h]=this.readSchema(u,g))}return a}if(n.isStructSchema()){for(let[c,u]of n.structIterator()){let d=u.getMergedTraits(),l=d.httpPayload?d.xmlName??u.getName():u.getMemberTraits().xmlName??c;r[l]!=null&&(a[c]=this.readSchema(u,r[l]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new lr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Gv.getValueFromTextNode)(i)}return{}}}});var Jv,Yv,ha,Xv=y(()=>{Dt();ge();ct();Jv=v(L()),Yv=v(xe());cr();ha=class extends Te{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=M.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Yv.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(vt()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof be?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Dr(s,this.settings)){case O.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case O.TIMESTAMP_HTTP_DATE:this.writeValue((0,Jv.dateToUtcString)(r));break;case O.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=this.getKey("member",o.getMergedTraits().xmlName),d=i?`${n}${a}`:`${n}${u}.${a}`;this.write(o,c,d),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[u,d]of Object.entries(r)){if(d==null)continue;let l=this.getKey("key",o.getMergedTraits().xmlName),f=a?`${n}${c}.${l}`:`${n}entry.${c}.${l}`,p=this.getKey("value",i.getMergedTraits().xmlName),h=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(o,u,f),this.write(i,d,h),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,i]of s.structIterator()){if(r[o]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(o,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[o],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${yt(t)}=`}writeValue(t){this.buffer+=yt(t)}}});var Zv,Hs,Yd=y(()=>{Dt();ge();Zv=v(ks());ma();Xv();Hs=class extends kr{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ha(r),this.deserializer=new Qr(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(kt(t.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,Zv.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,o=M.of(t.output),i={};if(n.statusCode>=300){let d=await it(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(O.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=o.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await it(n.body,r);return c.byteLength>0&&Object.assign(i,await s.read(o,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let u=this.loadQueryError(s),d=Oe.for(a),l;try{l=d.find(S=>M.of(S).getMergedTraits().awsQueryError?.[0]===c),l||(l=d.getSchema(i))}catch{let b=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let E=b.ctor;throw Object.assign(new E(c),u)}throw new Error(c)}let f=M.of(l),p=this.loadQueryErrorMessage(s),h=new l.ctor(p),g={};for(let[S,b]of f.structIterator()){let E=b.getMergedTraits().xmlName??S,T=u[E]??s[E];g[S]=this.deserializer.readSchema(b,T)}throw Object.assign(h,{$metadata:o,$response:n,$fault:f.getMergedTraits().error,message:p,...g}),h}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Xd,eb=y(()=>{Yd();Xd=class extends Hs{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var tb,qs,Zd,ef,tf=y(()=>{tb=v(L());Jd();Dd();qs=(e,t)=>oa(e,t).then(r=>{if(r.length){let n=new lr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),(0,tb.getValueFromTextNode)(a)}return{}}),Zd=async(e,t)=>{let r=await qs(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ef=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var ab=w((TJ,ib)=>{"use strict";var ya=Object.defineProperty,V2=Object.getOwnPropertyDescriptor,W2=Object.getOwnPropertyNames,Q2=Object.prototype.hasOwnProperty,_a=(e,t)=>ya(e,"name",{value:t,configurable:!0}),G2=(e,t)=>{for(var r in t)ya(e,r,{get:t[r],enumerable:!0})},K2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of W2(t))!Q2.call(e,s)&&s!==r&&ya(e,s,{get:()=>t[s],enumerable:!(n=V2(t,s))||n.enumerable});return e},J2=e=>K2(ya({},"__esModule",{value:!0}),e),rb={};G2(rb,{XmlNode:()=>Y2,XmlText:()=>ob});ib.exports=J2(rb);function nb(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}_a(nb,"escapeAttribute");function sb(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}_a(sb,"escapeElement");var ob=class{constructor(e){this.value=e}static{_a(this,"XmlText")}toString(){return sb(""+this.value)}},Y2=class ga{constructor(t,r=[]){this.name=t,this.children=r}static{_a(this,"XmlNode")}attributes={};static of(t,r,n){let s=new ga(t);return r!==void 0&&s.addChildNode(new ob(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=ga.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new ga(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${nb(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Qe,rf,Sa,Bs,nf=y(()=>{Qe=v(ab());ge();ct();rf=v(L()),Sa=v(xe());cr();Bs=class extends Te{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=M.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Sa.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Qe.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[u,d]of t.structIterator()){let l=r[u];if(l!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??u,this.writeSimple(d,l));continue}if(d.isListSchema())this.writeList(d,l,i,c);else if(d.isMapSchema())this.writeMap(d,l,i,c);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,l,c));else{let f=Qe.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,l,f,c),i.addChildNode(f)}}}return i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!o.xmlFlattened,[d,l]=this.getXmlnsAttribute(t,s),f=(p,h)=>{if(i.isListSchema())this.writeList(i,Array.isArray(h)?h:[h],p,l);else if(i.isMapSchema())this.writeMap(i,h,p,l);else if(i.isStructSchema()){let g=this.writeStruct(i,h,l);p.addChildNode(g.withName(u?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let g=Qe.XmlNode.of(u?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,h,g,l),p.addChildNode(g)}};if(u)for(let p of r)(c||p!=null)&&f(n,p);else{let p=Qe.XmlNode.of(o.xmlName??t.getMemberName());l&&p.addAttribute(d,l);for(let h of r)(c||h!=null)&&f(p,h);n.addChildNode(p)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),l=d.getMergedTraits(),f=l.xmlName??"value",p=!!l.sparse,h=!!i.xmlFlattened,[g,S]=this.getXmlnsAttribute(t,s),b=(E,T,A)=>{let R=Qe.XmlNode.of(u,T),[k,Pe]=this.getXmlnsAttribute(a,S);Pe&&R.addAttribute(k,Pe),E.addChildNode(R);let J=Qe.XmlNode.of(f);d.isListSchema()?this.writeList(d,A,J,S):d.isMapSchema()?this.writeMap(d,A,J,S,!0):d.isStructSchema()?J=this.writeStruct(d,A,S):this.writeSimpleInto(d,A,J,S),E.addChildNode(J)};if(h){for(let[E,T]of Object.entries(r))if(p||T!=null){let A=Qe.XmlNode.of(i.xmlName??t.getMemberName());b(A,E,T),n.addChildNode(A)}}else{let E;o||(E=Qe.XmlNode.of(i.xmlName??t.getMemberName()),S&&E.addAttribute(g,S),n.addChildNode(E));for(let[T,A]of Object.entries(r))if(p||A!=null){let R=Qe.XmlNode.of("entry");b(R,T,A),(o?n:E).addChildNode(R)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=M.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Sa.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let o=this.settings.timestampFormat;switch(o.useTrait?n.getSchema()===O.TIMESTAMP_DEFAULT?o.default:n.getSchema()??o.default:o.default){case O.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:s=(0,rf.dateToUtcString)(r);break;case O.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,rf.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof be?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=vt():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=M.of(t),a=new Qe.XmlText(o),[c,u]=this.getXmlnsAttribute(i,s);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var zs,sf=y(()=>{cr();ma();nf();zs=class extends Te{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Bs(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Qr(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var cb,of,ub=y(()=>{Dt();ge();cb=v(ks());tf();sf();of=class extends Mr{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new zs(r),this.serializer=new Ur(this.codec.createSerializer(),r),this.deserializer=new Lr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=M.of(t.input),i=o.getMemberSchemas();if(s.path=String(s.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?s.headers["content-type"]=c:a.isStringSchema()?s.headers["content-type"]="text/plain":a.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else o.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:l,httpHeader:f,httpLabel:p,httpPrefixHeaders:h}=u.getMergedTraits();return!d&&!l&&!f&&!p&&h===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,cb.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=ef(n,s)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let u=Oe.for(a),d;try{d=u.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),s)}throw new Error(c)}let l=M.of(d),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",p=new d.ctor(f);await this.deserializeHttpMessage(d,r,n,s);let h={};for(let[g,S]of l.structIterator()){let b=S.getMergedTraits().xmlName??g,E=s.Error?.[b]??s[b];h[g]=this.codec.createDeserializer().readSchema(S,E)}throw Object.assign(p,{$metadata:o,$response:n,$fault:l.getMergedTraits().error,message:f,...h}),p}getDefaultContentType(){return"application/xml"}}});var lb=y(()=>{mv();Av();Pv();ca();Rv();aa();Ld();Ud();Ov();Ds();eb();Yd();ub();sf();ma();nf();tf()});var bt={};ot(bt,{AWSSDKSigV4Signer:()=>Sd,AwsEc2QueryProtocol:()=>Xd,AwsJson1_0Protocol:()=>Fd,AwsJson1_1Protocol:()=>jd,AwsJsonRpcProtocol:()=>zr,AwsQueryProtocol:()=>Hs,AwsRestJsonProtocol:()=>Hd,AwsRestXmlProtocol:()=>of,AwsSdkSigV4ASigner:()=>Ms,AwsSdkSigV4Signer:()=>Ue,JsonCodec:()=>Br,JsonShapeDeserializer:()=>$s,JsonShapeSerializer:()=>Ls,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>bn,NODE_SIGV4A_CONFIG_OPTIONS:()=>NS,XmlCodec:()=>zs,XmlShapeDeserializer:()=>Qr,XmlShapeSerializer:()=>Bs,_toBool:()=>J$,_toNum:()=>Y$,_toStr:()=>K$,awsExpectUnion:()=>i2,emitWarningIfUnsupportedVersion:()=>_n,getBearerTokenEnvKey:()=>Gi,loadRestJsonErrorCode:()=>qr,loadRestXmlErrorCode:()=>ef,parseJsonBody:()=>wn,parseJsonErrorBody:()=>$d,parseXmlBody:()=>qs,parseXmlErrorBody:()=>Zd,resolveAWSSDKSigV4Config:()=>lv,resolveAwsSdkSigV4AConfig:()=>IS,resolveAwsSdkSigV4Config:()=>Hr,setCredentialFeature:()=>or,setFeature:()=>lS,setTokenFeature:()=>fS,state:()=>Qi,validateSigningProperties:()=>vn});var ye=y(()=>{ut();kd();lb()});var Cn=w((uY,Eb)=>{"use strict";var ba=Object.defineProperty,X2=Object.getOwnPropertyDescriptor,Z2=Object.getOwnPropertyNames,eL=Object.prototype.hasOwnProperty,Ut=(e,t)=>ba(e,"name",{value:t,configurable:!0}),tL=(e,t)=>{for(var r in t)ba(e,r,{get:t[r],enumerable:!0})},rL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Z2(t))!eL.call(e,s)&&s!==r&&ba(e,s,{get:()=>t[s],enumerable:!(n=X2(t,s))||n.enumerable});return e},nL=e=>rL(ba({},"__esModule",{value:!0}),e),mb={};tL(mb,{DEFAULT_UA_APP_ID:()=>hb,getUserAgentMiddlewareOptions:()=>bb,getUserAgentPlugin:()=>dL,resolveUserAgentConfig:()=>yb,userAgentMiddleware:()=>vb});Eb.exports=nL(mb);var sL=($e(),j(hn)),hb=void 0;function gb(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Ut(gb,"isValidUserAgentAppId");function yb(e){let t=(0,sL.normalizeProvider)(e.userAgentAppId??hb),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Ut(async()=>{let n=await t();if(!gb(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Ut(yb,"resolveUserAgentConfig");var oL=yn(),iL=X(),Et=(ye(),j(bt)),aL=/\d{12}\.ddb/;async function _b(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Et.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?(0,Et.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Et.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Et.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(aL)&&(0,Et.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Et.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Et.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Et.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&(0,Et.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))(0,Et.setFeature)(e,i,a)}}Ut(_b,"checkFeatures");var db="user-agent",af="x-amz-user-agent",fb=" ",cf="/",cL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,uL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,pb="-",lL=1024;function Sb(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=lL){t.length?t+=","+n:t+=n;continue}break}return t}Ut(Sb,"encodeFeatures");var vb=Ut(e=>(t,r)=>async n=>{let{request:s}=n;if(!iL.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=r?.userAgent?.map(va)||[],a=(await e.defaultUserAgentProvider()).map(va);await _b(r,e,n);let c=r;a.push(`m/${Sb(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(va)||[],d=await e.userAgentAppId();d&&a.push(va([`app/${d}`]));let l=(0,oL.getUserAgentPrefix)(),f=(l?[l]:[]).concat([...a,...i,...u]).join(fb),p=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(fb);return e.runtime!=="browser"?(p&&(o[af]=o[af]?`${o[db]} ${p}`:p),o[db]=f):o[af]=f,t({...n,request:s})},"userAgentMiddleware"),va=Ut(e=>{let t=e[0].split(cf).map(i=>i.replace(cL,pb)).join(cf),r=e[1]?.replace(uL,pb),n=t.indexOf(cf),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),bb={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},dL=Ut(e=>({applyToStack:Ut(t=>{t.add(vb(e),bb)},"applyToStack")}),"getUserAgentPlugin")});var Tb=w((lY,Pb)=>{var Ea=Object.defineProperty,fL=Object.getOwnPropertyDescriptor,pL=Object.getOwnPropertyNames,mL=Object.prototype.hasOwnProperty,wb=(e,t)=>Ea(e,"name",{value:t,configurable:!0}),hL=(e,t)=>{for(var r in t)Ea(e,r,{get:t[r],enumerable:!0})},gL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pL(t))!mL.call(e,s)&&s!==r&&Ea(e,s,{get:()=>t[s],enumerable:!(n=fL(t,s))||n.enumerable});return e},yL=e=>gL(Ea({},"__esModule",{value:!0}),e),Cb={};hL(Cb,{SelectorType:()=>Ab,booleanSelector:()=>_L,numberSelector:()=>SL});Pb.exports=yL(Cb);var _L=wb((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),SL=wb((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Ab=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Ab||{})});var wt=w((dY,Ub)=>{var Ca=Object.defineProperty,vL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyNames,EL=Object.prototype.hasOwnProperty,lt=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),wL=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},CL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bL(t))!EL.call(e,s)&&s!==r&&Ca(e,s,{get:()=>t[s],enumerable:!(n=vL(t,s))||n.enumerable});return e},AL=e=>CL(Ca({},"__esModule",{value:!0}),e),Ob={};wL(Ob,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Nb,CONFIG_USE_FIPS_ENDPOINT:()=>kb,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>PL,DEFAULT_USE_FIPS_ENDPOINT:()=>RL,ENV_USE_DUALSTACK_ENDPOINT:()=>Ib,ENV_USE_FIPS_ENDPOINT:()=>Mb,NODE_REGION_CONFIG_FILE_OPTIONS:()=>kL,NODE_REGION_CONFIG_OPTIONS:()=>ML,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>TL,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>xL,REGION_ENV_NAME:()=>Db,REGION_INI_NAME:()=>$b,getRegionInfo:()=>FL,resolveCustomEndpointsConfig:()=>OL,resolveEndpointsConfig:()=>NL,resolveRegionConfig:()=>DL});Ub.exports=AL(Ob);var dr=Tb(),Ib="AWS_USE_DUALSTACK_ENDPOINT",Nb="use_dualstack_endpoint",PL=!1,TL={environmentVariableSelector:e=>(0,dr.booleanSelector)(e,Ib,dr.SelectorType.ENV),configFileSelector:e=>(0,dr.booleanSelector)(e,Nb,dr.SelectorType.CONFIG),default:!1},Mb="AWS_USE_FIPS_ENDPOINT",kb="use_fips_endpoint",RL=!1,xL={environmentVariableSelector:e=>(0,dr.booleanSelector)(e,Mb,dr.SelectorType.ENV),configFileSelector:e=>(0,dr.booleanSelector)(e,kb,dr.SelectorType.CONFIG),default:!1},wa=at(),OL=lt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,wa.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,wa.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),IL=lt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),NL=lt(e=>{let t=(0,wa.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?(0,wa.normalizeProvider)(typeof r=="string"?s(r):r):()=>IL({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Db="AWS_REGION",$b="region",ML={environmentVariableSelector:e=>e[Db],configFileSelector:e=>e[$b],default:()=>{throw new Error("Region is missing")}},kL={preferredFile:"credentials"},Lb=lt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Rb=lt(e=>Lb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),DL=lt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Rb(t);let n=await t();return Rb(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Lb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),xb=lt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),$L=lt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),LL=lt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),UL=lt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},"getResolvedSigningRegion"),FL=lt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=LL(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},u=xb(s[a]?.variants,c),d=xb(o[i]?.variants,c),l=$L(a,{regionHostname:u,partitionHostname:d});if(l===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let f=UL(l,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:l,...f&&{signingRegion:f},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")});var Vs=w((fY,Bb)=>{var Aa=Object.defineProperty,jL=Object.getOwnPropertyDescriptor,HL=Object.getOwnPropertyNames,qL=Object.prototype.hasOwnProperty,jb=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),BL=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},zL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of HL(t))!qL.call(e,s)&&s!==r&&Aa(e,s,{get:()=>t[s],enumerable:!(n=jL(t,s))||n.enumerable});return e},VL=e=>zL(Aa({},"__esModule",{value:!0}),e),Hb={};BL(Hb,{contentLengthMiddleware:()=>uf,contentLengthMiddlewareOptions:()=>qb,getContentLengthPlugin:()=>QL});Bb.exports=VL(Hb);var WL=X(),Fb="content-length";function uf(e){return t=>async r=>{let n=r.request;if(WL.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Fb)===-1)try{let i=e(s);n.headers={...n.headers,[Fb]:String(i)}}catch{}}return t({...r,request:n})}}jb(uf,"contentLengthMiddleware");var qb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},QL=jb(e=>({applyToStack:t=>{t.add(uf(e.bodyLengthChecker),qb)}}),"getContentLengthPlugin")});var An=w(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.getHomeDir=void 0;var GL=require("os"),KL=require("path"),lf={},JL=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",YL=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${KL.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=JL();return lf[s]||(lf[s]=(0,GL.homedir)()),lf[s]};Pa.getHomeDir=YL});var df=w(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getSSOTokenFilepath=void 0;var XL=require("crypto"),ZL=require("path"),eU=An(),tU=e=>{let r=(0,XL.createHash)("sha1").update(e).digest("hex");return(0,ZL.join)((0,eU.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ta.getSSOTokenFilepath=tU});var zb=w(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getSSOTokenFromFile=void 0;var rU=require("fs"),nU=df(),{readFile:sU}=rU.promises,oU=async e=>{let t=(0,nU.getSSOTokenFilepath)(e),r=await sU(t,"utf8");return JSON.parse(r)};Ra.getSSOTokenFromFile=oU});var pf=w(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.slurpFile=void 0;var iU=require("fs"),{readFile:aU}=iU.promises,ff={},cU=(e,t)=>((!ff[e]||t?.ignoreCache)&&(ff[e]=aU(e,"utf8")),ff[e]);xa.slurpFile=cU});var fr=w((yY,Qs)=>{var Na=Object.defineProperty,uU=Object.getOwnPropertyDescriptor,lU=Object.getOwnPropertyNames,dU=Object.prototype.hasOwnProperty,Ge=(e,t)=>Na(e,"name",{value:t,configurable:!0}),fU=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},mf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lU(t))!dU.call(e,s)&&s!==r&&Na(e,s,{get:()=>t[s],enumerable:!(n=uU(t,s))||n.enumerable});return e},gf=(e,t,r)=>(mf(e,t,"default"),r&&mf(r,t,"default")),pU=e=>mf(Na({},"__esModule",{value:!0}),e),Ws={};fU(Ws,{CONFIG_PREFIX_SEPARATOR:()=>Gr,DEFAULT_PROFILE:()=>Gb,ENV_PROFILE:()=>Qb,getProfileName:()=>mU,loadSharedConfigFiles:()=>Jb,loadSsoSessionData:()=>TU,parseKnownFiles:()=>xU});Qs.exports=pU(Ws);gf(Ws,An(),Qs.exports);var Qb="AWS_PROFILE",Gb="default",mU=Ge(e=>e.profile||process.env[Qb]||Gb,"getProfileName");gf(Ws,df(),Qs.exports);gf(Ws,zb(),Qs.exports);var Oa=pt(),hU=Ge(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Gr);return r===-1?!1:Object.values(Oa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Gr),o=r.substring(0,s)===Oa.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ia=require("path"),gU=An(),yU="AWS_CONFIG_FILE",Kb=Ge(()=>process.env[yU]||(0,Ia.join)((0,gU.getHomeDir)(),".aws","config"),"getConfigFilepath"),_U=An(),SU="AWS_SHARED_CREDENTIALS_FILE",vU=Ge(()=>process.env[SU]||(0,Ia.join)((0,_U.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),bU=An(),EU=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,wU=["__proto__","profile __proto__"],hf=Ge(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=EU.exec(a);if(c){let[,u,,d]=c;Object.values(Oa.IniSectionType).includes(u)&&(r=[u,d].join(Gr))}else r=a;if(wU.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(u==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(Gr):c;t[r][d]=u}}}}return t},"parseIni"),Vb=pf(),Wb=Ge(()=>({}),"swallowError"),Gr=".",Jb=Ge(async(e={})=>{let{filepath:t=vU(),configFilepath:r=Kb()}=e,n=(0,bU.getHomeDir)(),s="~/",o=t;t.startsWith(s)&&(o=(0,Ia.join)(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=(0,Ia.join)(n,r.slice(2)));let a=await Promise.all([(0,Vb.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(hf).then(hU).catch(Wb),(0,Vb.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(hf).catch(Wb)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),CU=Ge(e=>Object.entries(e).filter(([t])=>t.startsWith(Oa.IniSectionType.SSO_SESSION+Gr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Gr)+1)]:n}),{}),"getSsoSessionData"),AU=pf(),PU=Ge(()=>({}),"swallowError"),TU=Ge(async(e={})=>(0,AU.slurpFile)(e.configFilepath??Kb()).then(hf).then(CU).catch(PU),"loadSsoSessionData"),RU=Ge((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),xU=Ge(async e=>{let t=await Jb(e);return RU(t.configFile,t.credentialsFile)},"parseKnownFiles")});var pr=w((_Y,Zb)=>{var Ma=Object.defineProperty,OU=Object.getOwnPropertyDescriptor,IU=Object.getOwnPropertyNames,NU=Object.prototype.hasOwnProperty,Pn=(e,t)=>Ma(e,"name",{value:t,configurable:!0}),MU=(e,t)=>{for(var r in t)Ma(e,r,{get:t[r],enumerable:!0})},kU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of IU(t))!NU.call(e,s)&&s!==r&&Ma(e,s,{get:()=>t[s],enumerable:!(n=OU(t,s))||n.enumerable});return e},DU=e=>kU(Ma({},"__esModule",{value:!0}),e),Xb={};MU(Xb,{loadConfig:()=>jU});Zb.exports=DU(Xb);var Gs=Ne();function yf(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Pn(yf,"getSelectorName");var $U=Pn((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Gs.CredentialsProviderError(r.message||`Not found in ENV: ${yf(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Yb=fr(),LU=Pn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Yb.getProfileName)(r),{configFile:s,credentialsFile:o}=await(0,Yb.loadSharedConfigFiles)(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c,t==="config"?s:o);if(d===void 0)throw new Error;return d}catch(u){throw new Gs.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${yf(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),UU=Pn(e=>typeof e=="function","isFunction"),FU=Pn(e=>UU(e)?async()=>await e():(0,Gs.fromStatic)(e),"fromStatic"),jU=Pn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return(0,Gs.memoize)((0,Gs.chain)($U(e,i),LU(t,n),FU(r)))},"loadConfig")});var nE=w(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.getEndpointUrlConfig=void 0;var eE=fr(),tE="AWS_ENDPOINT_URL",rE="endpoint_url",HU=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[tE,...r].join("_")];if(n)return n;let s=t[tE];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(eE.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),rE].join(eE.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[rE];if(n)return n},default:void 0});ka.getEndpointUrlConfig=HU});var _f=w(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.getEndpointFromConfig=void 0;var qU=pr(),BU=nE(),zU=async e=>(0,qU.loadConfig)((0,BU.getEndpointUrlConfig)(e??""))();Da.getEndpointFromConfig=zU});var mr=w((bY,lE)=>{var La=Object.defineProperty,VU=Object.getOwnPropertyDescriptor,WU=Object.getOwnPropertyNames,QU=Object.prototype.hasOwnProperty,Ke=(e,t)=>La(e,"name",{value:t,configurable:!0}),GU=(e,t)=>{for(var r in t)La(e,r,{get:t[r],enumerable:!0})},KU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WU(t))!QU.call(e,s)&&s!==r&&La(e,s,{get:()=>t[s],enumerable:!(n=VU(t,s))||n.enumerable});return e},JU=e=>KU(La({},"__esModule",{value:!0}),e),oE={};GU(oE,{endpointMiddleware:()=>cE,endpointMiddlewareOptions:()=>uE,getEndpointFromInstructions:()=>iE,getEndpointPlugin:()=>aF,resolveEndpointConfig:()=>uF,resolveEndpointRequiredConfig:()=>lF,resolveParams:()=>aE,toEndpointV1:()=>Sf});lE.exports=JU(oE);var YU=Ke(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),rF(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!tF(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),XU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ZU=/(\d+\.){3}\d+/,eF=/\.\./,tF=Ke(e=>XU.test(e)&&!ZU.test(e)&&!eF.test(e),"isDnsCompatibleBucketName"),rF=Ke(e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),nF=Ke((e,t,r)=>{let n=Ke(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n},"createConfigValueProvider"),sF=_f(),sE=nr(),Sf=Ke(e=>typeof e=="object"?"url"in e?(0,sE.parseUrl)(e.url):e:(0,sE.parseUrl)(e),"toEndpointV1"),iE=Ke(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,sF.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Sf(i)),r.isCustomEndpoint=!0)}let s=await aE(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),aE=Ke(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await nF(i.name,o,r)();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await YU(n),n},"resolveParams"),oF=($e(),j(hn)),$a=at(),cE=Ke(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,oF.setFeature)(n,"ENDPOINT_OVERRIDE","N");let o=await iE(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,$a.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},"endpointMiddleware"),iF=tr(),uE={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:iF.serializerMiddlewareOption.name},aF=Ke((e,t)=>({applyToStack:r=>{r.addRelativeTo(cE({config:e,instructions:t}),uE)}}),"getEndpointPlugin"),cF=_f(),uF=Ke(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Sf(await(0,$a.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,$a.normalizeProvider)(n??!1),useFipsEndpoint:(0,$a.normalizeProvider)(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,cF.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),lF=Ke(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var bf=w((EY,mE)=>{var Ua=Object.defineProperty,dF=Object.getOwnPropertyDescriptor,fF=Object.getOwnPropertyNames,pF=Object.prototype.hasOwnProperty,Kr=(e,t)=>Ua(e,"name",{value:t,configurable:!0}),mF=(e,t)=>{for(var r in t)Ua(e,r,{get:t[r],enumerable:!0})},hF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fF(t))!pF.call(e,s)&&s!==r&&Ua(e,s,{get:()=>t[s],enumerable:!(n=dF(t,s))||n.enumerable});return e},gF=e=>hF(Ua({},"__esModule",{value:!0}),e),dE={};mF(dE,{isBrowserNetworkError:()=>pE,isClockSkewCorrectedError:()=>fE,isClockSkewError:()=>CF,isRetryableByTrait:()=>wF,isServerError:()=>PF,isThrottlingError:()=>AF,isTransientError:()=>vf});mE.exports=gF(dE);var yF=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],_F=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],SF=["TimeoutError","RequestTimeout","RequestTimeoutException"],vF=[500,502,503,504],bF=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],EF=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],wF=Kr(e=>e.$retryable!==void 0,"isRetryableByTrait"),CF=Kr(e=>yF.includes(e.name),"isClockSkewError"),fE=Kr(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),pE=Kr(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),AF=Kr(e=>e.$metadata?.httpStatusCode===429||_F.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),vf=Kr((e,t=0)=>fE(e)||SF.includes(e.name)||bF.includes(e?.code||"")||EF.includes(e?.code||"")||vF.includes(e.$metadata?.httpStatusCode||0)||pE(e)||e.cause!==void 0&&t<=10&&vf(e.cause,t+1),"isTransientError"),PF=Kr(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!vf(e)}return!1},"isServerError")});var Tn=w((wY,CE)=>{var Fa=Object.defineProperty,TF=Object.getOwnPropertyDescriptor,RF=Object.getOwnPropertyNames,xF=Object.prototype.hasOwnProperty,dt=(e,t)=>Fa(e,"name",{value:t,configurable:!0}),OF=(e,t)=>{for(var r in t)Fa(e,r,{get:t[r],enumerable:!0})},IF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RF(t))!xF.call(e,s)&&s!==r&&Fa(e,s,{get:()=>t[s],enumerable:!(n=TF(t,s))||n.enumerable});return e},NF=e=>IF(Fa({},"__esModule",{value:!0}),e),gE={};OF(gE,{AdaptiveRetryStrategy:()=>UF,ConfiguredRetryStrategy:()=>FF,DEFAULT_MAX_ATTEMPTS:()=>Ef,DEFAULT_RETRY_DELAY_BASE:()=>Ks,DEFAULT_RETRY_MODE:()=>MF,DefaultRateLimiter:()=>_E,INITIAL_RETRY_TOKENS:()=>wf,INVOCATION_ID_HEADER:()=>DF,MAXIMUM_RETRY_DELAY:()=>Cf,NO_RETRY_INCREMENT:()=>wE,REQUEST_HEADER:()=>$F,RETRY_COST:()=>bE,RETRY_MODES:()=>yE,StandardRetryStrategy:()=>Af,THROTTLING_RETRY_DELAY_BASE:()=>vE,TIMEOUT_RETRY_COST:()=>EE});CE.exports=NF(gE);var yE=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(yE||{}),Ef=3,MF="standard",kF=bf(),_E=class SE{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{dt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>SE.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,kF.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ks=100,Cf=20*1e3,vE=500,wf=500,bE=5,EE=10,wE=1,DF="amz-sdk-invocation-id",$F="amz-sdk-request",LF=dt(()=>{let e=Ks;return{computeNextBackoffDelay:dt(n=>Math.floor(Math.min(Cf,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:dt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),hE=dt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:dt(()=>t,"getRetryCount"),getRetryDelay:dt(()=>Math.min(Cf,e),"getRetryDelay"),getRetryCost:dt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Af=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=wf,this.retryBackoffStrategy=LF(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{dt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return hE({retryDelay:Ks,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?vE:Ks);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,i=this.getCapacityCost(n);return this.capacity-=i,hE({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(wf,this.capacity+(e.getRetryCost()??wE))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ef}`),Ef}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?EE:bE}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},UF=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new _E,this.standardRetryStrategy=new Af(e)}static{dt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},FF=class extends Af{static{dt(this,"ConfiguredRetryStrategy")}constructor(e,t=Ks){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var AE=w(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.isStreamingPayload=void 0;var jF=require("stream"),HF=e=>e?.body instanceof jF.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;ja.isStreamingPayload=HF});var Ft=w((RY,jE)=>{var Ha=Object.defineProperty,qF=Object.getOwnPropertyDescriptor,BF=Object.getOwnPropertyNames,zF=Object.prototype.hasOwnProperty,fe=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),VF=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},WF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of BF(t))!zF.call(e,s)&&s!==r&&Ha(e,s,{get:()=>t[s],enumerable:!(n=qF(t,s))||n.enumerable});return e},QF=e=>WF(Ha({},"__esModule",{value:!0}),e),TE={};VF(TE,{AdaptiveRetryStrategy:()=>JF,CONFIG_MAX_ATTEMPTS:()=>Tf,CONFIG_RETRY_MODE:()=>kE,ENV_MAX_ATTEMPTS:()=>Pf,ENV_RETRY_MODE:()=>ME,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>YF,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>ZF,StandardRetryStrategy:()=>NE,defaultDelayDecider:()=>xE,defaultRetryDecider:()=>OE,getOmitRetryHeadersPlugin:()=>e4,getRetryAfterHint:()=>FE,getRetryPlugin:()=>i4,omitRetryHeadersMiddleware:()=>DE,omitRetryHeadersMiddlewareOptions:()=>$E,resolveRetryConfig:()=>XF,retryMiddleware:()=>LE,retryMiddlewareOptions:()=>UE});jE.exports=QF(TE);var Rn=X(),RE=(Dl(),j(gy)),ne=Tn(),GF=fe((e,t)=>{let r=e,n=t?.noRetryIncrement??ne.NO_RETRY_INCREMENT,s=t?.retryCost??ne.RETRY_COST,o=t?.timeoutRetryCost??ne.TIMEOUT_RETRY_COST,i=e,a=fe(l=>l.name==="TimeoutError"?o:s,"getCapacityAmount"),c=fe(l=>a(l)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:fe(l=>{if(!c(l))throw new Error("No retry token available");let f=a(l);return i-=f,f},"retrieveRetryTokens"),releaseRetryTokens:fe(l=>{i+=l??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),xE=fe((e,t)=>Math.floor(Math.min(ne.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),hr=bf(),OE=fe(e=>e?(0,hr.isRetryableByTrait)(e)||(0,hr.isClockSkewError)(e)||(0,hr.isThrottlingError)(e)||(0,hr.isTransientError)(e):!1,"defaultRetryDecider"),IE=fe(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),NE=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ne.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??OE,this.delayDecider=t?.delayDecider??xE,this.retryQuota=t?.retryQuota??GF(ne.INITIAL_RETRY_TOKENS)}static{fe(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ne.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,o=0,i=await this.getMaxAttempts(),{request:a}=t;for(Rn.HttpRequest.isInstance(a)&&(a.headers[ne.INVOCATION_ID_HEADER]=(0,RE.v4)());;)try{Rn.HttpRequest.isInstance(a)&&(a.headers[ne.REQUEST_HEADER]=`attempt=${s+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:u}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),u.$metadata.attempts=s+1,u.$metadata.totalRetryDelay=o,{response:c,output:u}}catch(c){let u=IE(c);if(s++,this.shouldRetry(u,s,i)){n=this.retryQuota.retrieveRetryTokens(u);let d=this.delayDecider((0,hr.isThrottlingError)(u)?ne.THROTTLING_RETRY_DELAY_BASE:ne.DEFAULT_RETRY_DELAY_BASE,s),l=KF(u.$response),f=Math.max(l||0,d);o+=f,await new Promise(p=>setTimeout(p,f));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=s,u.$metadata.totalRetryDelay=o,u}}},KF=fe(e=>{if(!Rn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),JF=class extends NE{static{fe(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ne.DefaultRateLimiter,this.mode=ne.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},PE=at(),Pf="AWS_MAX_ATTEMPTS",Tf="max_attempts",YF={environmentVariableSelector:e=>{let t=e[Pf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Pf} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Tf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Tf} mast be a number, got "${t}"`);return r},default:ne.DEFAULT_MAX_ATTEMPTS},XF=fe(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,PE.normalizeProvider)(n??ne.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await(0,PE.normalizeProvider)(r)()===ne.RETRY_MODES.ADAPTIVE?new ne.AdaptiveRetryStrategy(s):new ne.StandardRetryStrategy(s))})},"resolveRetryConfig"),ME="AWS_RETRY_MODE",kE="retry_mode",ZF={environmentVariableSelector:e=>e[ME],configFileSelector:e=>e[kE],default:ne.DEFAULT_RETRY_MODE},DE=fe(()=>e=>async t=>{let{request:r}=t;return Rn.HttpRequest.isInstance(r)&&(delete r.headers[ne.INVOCATION_ID_HEADER],delete r.headers[ne.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),$E={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},e4=fe(e=>({applyToStack:t=>{t.addRelativeTo(DE(),$E)}}),"getOmitRetryHeadersPlugin"),t4=L(),r4=AE(),LE=fe(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(n4(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:d}=n,l=Rn.HttpRequest.isInstance(d);for(l&&(d.headers[ne.INVOCATION_ID_HEADER]=(0,RE.v4)());;)try{l&&(d.headers[ne.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:f,output:p}=await t(n);return s.recordSuccess(i),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=u,{response:f,output:p}}catch(f){let p=s4(f);if(a=IE(f),l&&(0,r4.isStreamingPayload)(d))throw(r.logger instanceof t4.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let h=i.getRetryDelay();u+=h,await new Promise(g=>setTimeout(g,h))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),n4=fe(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),s4=fe(e=>{let t={error:e,errorType:o4(e)},r=FE(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),o4=fe(e=>(0,hr.isThrottlingError)(e)?"THROTTLING":(0,hr.isTransientError)(e)?"TRANSIENT":(0,hr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),UE={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},i4=fe(e=>({applyToStack:t=>{t.add(LE(e),UE)}}),"getRetryPlugin"),FE=fe(e=>{if(!Rn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var xf=w(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.resolveHttpAuthSchemeConfig=gr.defaultSQSHttpAuthSchemeProvider=gr.defaultSQSHttpAuthSchemeParametersProvider=void 0;var a4=(ye(),j(bt)),Rf=at(),c4=async(e,t,r)=>({operation:(0,Rf.getSmithyContext)(t).operation,region:await(0,Rf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gr.defaultSQSHttpAuthSchemeParametersProvider=c4;function u4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var l4=e=>{let t=[];switch(e.operation){default:t.push(u4(e))}return t};gr.defaultSQSHttpAuthSchemeProvider=l4;var d4=e=>{let t=(0,a4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Rf.normalizeProvider)(e.authSchemePreference??[])})};gr.resolveHttpAuthSchemeConfig=d4});var On={};ot(On,{__addDisposableResource:()=>dw,__assign:()=>qa,__asyncDelegator:()=>nw,__asyncGenerator:()=>rw,__asyncValues:()=>sw,__await:()=>xn,__awaiter:()=>JE,__classPrivateFieldGet:()=>cw,__classPrivateFieldIn:()=>lw,__classPrivateFieldSet:()=>uw,__createBinding:()=>za,__decorate:()=>BE,__disposeResources:()=>fw,__esDecorate:()=>VE,__exportStar:()=>XE,__extends:()=>HE,__generator:()=>YE,__importDefault:()=>aw,__importStar:()=>iw,__makeTemplateObject:()=>ow,__metadata:()=>KE,__param:()=>zE,__propKey:()=>QE,__read:()=>Nf,__rest:()=>qE,__rewriteRelativeImportExtension:()=>pw,__runInitializers:()=>WE,__setFunctionName:()=>GE,__spread:()=>ZE,__spreadArray:()=>tw,__spreadArrays:()=>ew,__values:()=>Ba,default:()=>m4});function HE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Of(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function qE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function BE(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function zE(e,t){return function(r,n){t(r,n,e)}}function VE(e,t,r,n,s,o){function i(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),l,f=!1,p=r.length-1;p>=0;p--){var h={};for(var g in n)h[g]=g==="access"?{}:n[g];for(var g in n.access)h.access[g]=n.access[g];h.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(b||null))};var S=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],h);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(l=i(S.get))&&(d.get=l),(l=i(S.set))&&(d.set=l),(l=i(S.init))&&s.unshift(l)}else(l=i(S))&&(a==="field"?s.unshift(l):d[c]=l)}u&&Object.defineProperty(u,n.name,d),f=!0}function WE(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function QE(e){return typeof e=="symbol"?e:"".concat(e)}function GE(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function KE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function JE(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(l){i(l)}}function c(d){try{u(n.throw(d))}catch(l){i(l)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function YE(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function XE(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&za(t,e,r)}function Ba(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function ZE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nf(arguments[t]));return e}function ew(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function tw(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function rw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(h){return Promise.resolve(h).then(p,l)}}function a(p,h){n[p]&&(s[p]=function(g){return new Promise(function(S,b){o.push([p,g,S,b])>1||c(p,g)})},h&&(s[p]=h(s[p])))}function c(p,h){try{u(n[p](h))}catch(g){f(o[0][3],g)}}function u(p){p.value instanceof xn?Promise.resolve(p.value.v).then(d,l):f(o[0][2],p)}function d(p){c("next",p)}function l(p){c("throw",p)}function f(p,h){p(h),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nw(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:xn(e[s](i)),done:!1}:o?o(i):i}:o}}function sw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ba=="function"?Ba(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function ow(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function iw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=If(e),n=0;n<r.length;n++)r[n]!=="default"&&za(t,e,r[n]);return f4(t,e),t}function aw(e){return e&&e.__esModule?e:{default:e}}function cw(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function uw(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function lw(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function dw(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function fw(e){function t(o){e.error=e.hasError?new p4(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function pw(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var Of,qa,za,f4,If,p4,m4,In=y(()=>{Of=function(e,t){return Of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Of(e,t)};qa=function(){return qa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},qa.apply(this,arguments)};za=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});f4=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},If=function(e){return If=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},If(e)};p4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};m4={__extends:HE,__assign:qa,__rest:qE,__decorate:BE,__param:zE,__esDecorate:VE,__runInitializers:WE,__propKey:QE,__setFunctionName:GE,__metadata:KE,__awaiter:JE,__generator:YE,__createBinding:za,__exportStar:XE,__values:Ba,__read:Nf,__spread:ZE,__spreadArrays:ew,__spreadArray:tw,__await:xn,__asyncGenerator:rw,__asyncDelegator:nw,__asyncValues:sw,__makeTemplateObject:ow,__importStar:iw,__importDefault:aw,__classPrivateFieldGet:cw,__classPrivateFieldSet:uw,__classPrivateFieldIn:lw,__addDisposableResource:dw,__disposeResources:fw,__rewriteRelativeImportExtension:pw}});var mw=w((NY,h4)=>{h4.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-sdk-sqs":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/md5-js":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var Mf=w((MY,Ew)=>{"use strict";var Va=Object.defineProperty,g4=Object.getOwnPropertyDescriptor,y4=Object.getOwnPropertyNames,_4=Object.prototype.hasOwnProperty,S4=(e,t)=>Va(e,"name",{value:t,configurable:!0}),v4=(e,t)=>{for(var r in t)Va(e,r,{get:t[r],enumerable:!0})},b4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of y4(t))!_4.call(e,s)&&s!==r&&Va(e,s,{get:()=>t[s],enumerable:!(n=g4(t,s))||n.enumerable});return e},E4=e=>b4(Va({},"__esModule",{value:!0}),e),hw={};v4(hw,{ENV_ACCOUNT_ID:()=>bw,ENV_CREDENTIAL_SCOPE:()=>vw,ENV_EXPIRATION:()=>Sw,ENV_KEY:()=>gw,ENV_SECRET:()=>yw,ENV_SESSION:()=>_w,fromEnv:()=>A4});Ew.exports=E4(hw);var w4=(ut(),j(ir)),C4=Ne(),gw="AWS_ACCESS_KEY_ID",yw="AWS_SECRET_ACCESS_KEY",_w="AWS_SESSION_TOKEN",Sw="AWS_CREDENTIAL_EXPIRATION",vw="AWS_CREDENTIAL_SCOPE",bw="AWS_ACCOUNT_ID",A4=S4(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[gw],r=process.env[yw],n=process.env[_w],s=process.env[Sw],o=process.env[vw],i=process.env[bw];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return(0,w4.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new C4.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Js=w((kY,$w)=>{var Ga=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,T4=Object.getOwnPropertyNames,R4=Object.prototype.hasOwnProperty,pe=(e,t)=>Ga(e,"name",{value:t,configurable:!0}),x4=(e,t)=>{for(var r in t)Ga(e,r,{get:t[r],enumerable:!0})},O4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T4(t))!R4.call(e,s)&&s!==r&&Ga(e,s,{get:()=>t[s],enumerable:!(n=P4(t,s))||n.enumerable});return e},I4=e=>O4(Ga({},"__esModule",{value:!0}),e),Pw={};x4(Pw,{DEFAULT_MAX_RETRIES:()=>Ow,DEFAULT_TIMEOUT:()=>xw,ENV_CMDS_AUTH_TOKEN:()=>$f,ENV_CMDS_FULL_URI:()=>Wa,ENV_CMDS_RELATIVE_URI:()=>Qa,Endpoint:()=>Nw,fromContainerMetadata:()=>D4,fromInstanceMetadata:()=>rj,getInstanceMetadataEndpoint:()=>kw,httpRequest:()=>Nn,providerConfigFromInit:()=>Lf});$w.exports=I4(Pw);var N4=require("url"),Ct=Ne(),M4=require("buffer"),k4=require("http");function Nn(e){return new Promise((t,r)=>{let n=(0,k4.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Ct.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Ct.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new Ct.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{t(M4.Buffer.concat(i)),n.destroy()})}),n.end()})}pe(Nn,"httpRequest");var Tw=pe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Rw=pe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),xw=1e3,Ow=0,Lf=pe(({maxRetries:e=Ow,timeout:t=xw})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Df=pe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Wa="AWS_CONTAINER_CREDENTIALS_FULL_URI",Qa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",$f="AWS_CONTAINER_AUTHORIZATION_TOKEN",D4=pe((e={})=>{let{timeout:t,maxRetries:r}=Lf(e);return()=>Df(async()=>{let n=await j4({logger:e.logger}),s=JSON.parse(await $4(t,n));if(!Tw(s))throw new Ct.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Rw(s)},r)},"fromContainerMetadata"),$4=pe(async(e,t)=>(process.env[$f]&&(t.headers={...t.headers,Authorization:process.env[$f]}),(await Nn({...t,timeout:e})).toString()),"requestFromEcsImds"),L4="169.254.170.2",U4={localhost:!0,"127.0.0.1":!0},F4={"http:":!0,"https:":!0},j4=pe(async({logger:e})=>{if(process.env[Qa])return{hostname:L4,path:process.env[Qa]};if(process.env[Wa]){let t=(0,N4.parse)(process.env[Wa]);if(!t.hostname||!(t.hostname in U4))throw new Ct.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in F4))throw new Ct.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Ct.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Qa} or ${Wa} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),H4=class Iw extends Ct.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,Iw.prototype)}static{pe(this,"InstanceMetadataV1FallbackError")}},Uf=pr(),q4=nr(),Nw=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(Nw||{}),B4="AWS_EC2_METADATA_SERVICE_ENDPOINT",z4="ec2_metadata_service_endpoint",V4={environmentVariableSelector:e=>e[B4],configFileSelector:e=>e[z4],default:void 0},Mw=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Mw||{}),W4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Q4="ec2_metadata_service_endpoint_mode",G4={environmentVariableSelector:e=>e[W4],configFileSelector:e=>e[Q4],default:"IPv4"},kw=pe(async()=>(0,q4.parseUrl)(await K4()||await J4()),"getInstanceMetadataEndpoint"),K4=pe(async()=>(0,Uf.loadConfig)(V4)(),"getFromEndpointConfig"),J4=pe(async()=>{let e=await(0,Uf.loadConfig)(G4)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Mw)}`)}},"getFromEndpointModeConfig"),Y4=300,X4=300,Z4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ww=pe((e,t)=>{let r=Y4+Math.floor(Math.random()*X4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Z4);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),ej=pe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=ww(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=ww(n,r);else throw o}return n=s,s}},"staticStabilityProvider"),Dw="/latest/meta-data/iam/security-credentials/",tj="/latest/api/token",kf="AWS_EC2_METADATA_V1_DISABLED",Cw="ec2_metadata_v1_disabled",Aw="x-aws-ec2-metadata-token",rj=pe((e={})=>ej(nj(e),{logger:e.logger}),"fromInstanceMetadata"),nj=pe((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=Lf(e),i=pe(async(a,c)=>{if(t||c.headers?.[Aw]==null){let l=!1,f=!1,p=await(0,Uf.loadConfig)({environmentVariableSelector:h=>{let g=h[kf];if(f=!!g&&g!=="false",g===void 0)throw new Ct.CredentialsProviderError(`${kf} not set in env, checking config file next.`,{logger:e.logger});return f},configFileSelector:h=>{let g=h[Cw];return l=!!g&&g!=="false",l},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let h=[];throw e.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),l&&h.push(`config file profile (${Cw})`),f&&h.push(`process environment variable (${kf})`),new H4(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let d=(await Df(async()=>{let l;try{l=await oj(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return l},a)).trim();return Df(async()=>{let l;try{l=await ij(d,c,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return l},a)},"getCredentials");return async()=>{let a=await kw();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let c;try{c=(await sj({...a,timeout:s})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[Aw]:c},timeout:s})}}},"getInstanceMetadataProvider"),sj=pe(async e=>Nn({...e,path:tj,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),oj=pe(async e=>(await Nn({...e,path:Dw})).toString(),"getProfile"),ij=pe(async(e,t,r)=>{let n=JSON.parse((await Nn({...t,path:Dw+e})).toString());if(!Tw(n))throw new Ct.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Rw(n)},"getCredentialsFromProfile")});var Lw=w(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.checkUrl=void 0;var aj=Ne(),cj="169.254.170.2",uj="169.254.170.23",lj="[fd00:ec2::23]",dj=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===cj||e.hostname===uj||e.hostname===lj)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new aj.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ka.checkUrl=dj});var Uw=w(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.createGetRequest=hj;Ja.getCredentials=gj;var Ff=Ne(),fj=X(),pj=L(),mj=vi();function hj(e){return new fj.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function gj(e,t){let n=await(0,mj.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Ff.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,pj.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Ff.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Ff.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Fw=w(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.retryWrapper=void 0;var yj=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Ya.retryWrapper=yj});var qw=w(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.fromHttp=void 0;var _j=(In(),j(On)),Sj=(ut(),j(ir)),vj=xr(),jw=Ne(),bj=_j.__importDefault(require("fs/promises")),Ej=Lw(),Hw=Uw(),wj=Fw(),Cj="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Aj="http://169.254.170.2",Pj="AWS_CONTAINER_CREDENTIALS_FULL_URI",Tj="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Rj="AWS_CONTAINER_AUTHORIZATION_TOKEN",xj=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Cj],n=e.awsContainerCredentialsFullUri??process.env[Pj],s=e.awsContainerAuthorizationToken??process.env[Rj],o=e.awsContainerAuthorizationTokenFile??process.env[Tj],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Aj}${r}`;else throw new jw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Ej.checkUrl)(a,e.logger);let c=new vj.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,wj.retryWrapper)(async()=>{let u=(0,Hw.createGetRequest)(a);s?u.headers.Authorization=s:o&&(u.headers.Authorization=(await bj.default.readFile(o)).toString());try{let d=await c.handle(u);return(0,Hw.getCredentials)(d.response).then(l=>(0,Sj.setCredentialFeature)(l,"CREDENTIALS_HTTP","z"))}catch(d){throw new jw.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Xa.fromHttp=xj});var jf=w(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.fromHttp=void 0;var Oj=qw();Object.defineProperty(Za,"fromHttp",{enumerable:!0,get:function(){return Oj.fromHttp}})});var qf=w(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.resolveHttpAuthSchemeConfig=yr.defaultSSOHttpAuthSchemeProvider=yr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Ij=(ye(),j(bt)),Hf=at(),Nj=async(e,t,r)=>({operation:(0,Hf.getSmithyContext)(t).operation,region:await(0,Hf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});yr.defaultSSOHttpAuthSchemeParametersProvider=Nj;function Mj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ec(e){return{schemeId:"smithy.api#noAuth"}}var kj=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ec(e));break}case"ListAccountRoles":{t.push(ec(e));break}case"ListAccounts":{t.push(ec(e));break}case"Logout":{t.push(ec(e));break}default:t.push(Mj(e))}return t};yr.defaultSSOHttpAuthSchemeProvider=kj;var Dj=e=>{let t=(0,Ij.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Hf.normalizeProvider)(e.authSchemePreference??[])})};yr.resolveHttpAuthSchemeConfig=Dj});var Bw=w((HY,$j)=>{$j.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ys=w((qY,Jw)=>{"use strict";var rc=Object.defineProperty,Lj=Object.getOwnPropertyDescriptor,Uj=Object.getOwnPropertyNames,Fj=Object.prototype.hasOwnProperty,tc=(e,t)=>rc(e,"name",{value:t,configurable:!0}),jj=(e,t)=>{for(var r in t)rc(e,r,{get:t[r],enumerable:!0})},Hj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Uj(t))!Fj.call(e,s)&&s!==r&&rc(e,s,{get:()=>t[s],enumerable:!(n=Lj(t,s))||n.enumerable});return e},qj=e=>Hj(rc({},"__esModule",{value:!0}),e),Vw={};jj(Vw,{NODE_APP_ID_CONFIG_OPTIONS:()=>Qj,UA_APP_ID_ENV_NAME:()=>Gw,UA_APP_ID_INI_NAME:()=>Kw,createDefaultUserAgentProvider:()=>Qw,crtAvailability:()=>Ww,defaultUserAgent:()=>zj});Jw.exports=qj(Vw);var zw=require("os"),Bf=require("process"),Ww={isCrtAvailable:!1},Bj=tc(()=>Ww.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Qw=tc(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,zw.platform)()}`,(0,zw.release)()],["lang/js"],["md/nodejs",`${Bf.versions.node}`]],s=Bj();s&&n.push(s),e&&n.push([`api/${e}`,t]),Bf.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Bf.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},"createDefaultUserAgentProvider"),zj=Qw,Vj=Cn(),Gw="AWS_SDK_UA_APP_ID",Kw="sdk_ua_app_id",Wj="sdk-ua-app-id",Qj={environmentVariableSelector:tc(e=>e[Gw],"environmentVariableSelector"),configFileSelector:tc(e=>e[Kw]??e[Wj],"configFileSelector"),default:Vj.DEFAULT_UA_APP_ID}});var Xs=w((BY,e0)=>{var nc=Object.defineProperty,Gj=Object.getOwnPropertyDescriptor,Kj=Object.getOwnPropertyNames,Jj=Object.prototype.hasOwnProperty,Xw=(e,t)=>nc(e,"name",{value:t,configurable:!0}),Yj=(e,t)=>{for(var r in t)nc(e,r,{get:t[r],enumerable:!0})},Xj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Kj(t))!Jj.call(e,s)&&s!==r&&nc(e,s,{get:()=>t[s],enumerable:!(n=Gj(t,s))||n.enumerable});return e},Zj=e=>Xj(nc({},"__esModule",{value:!0}),e),Zw={};Yj(Zw,{Hash:()=>r3});e0.exports=Zj(Zw);var zf=cn(),e3=de(),t3=require("buffer"),Yw=require("crypto"),r3=class{static{Xw(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,e3.toUint8Array)(Vf(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Yw.createHmac)(this.algorithmIdentifier,Vf(this.secret)):(0,Yw.createHash)(this.algorithmIdentifier)}};function Vf(e,t){return t3.Buffer.isBuffer(e)?e:typeof e=="string"?(0,zf.fromString)(e,t):ArrayBuffer.isView(e)?(0,zf.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,zf.fromArrayBuffer)(e)}Xw(Vf,"castSourceData")});var Zs=w((VY,n0)=>{var sc=Object.defineProperty,n3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,o3=Object.prototype.hasOwnProperty,i3=(e,t)=>sc(e,"name",{value:t,configurable:!0}),a3=(e,t)=>{for(var r in t)sc(e,r,{get:t[r],enumerable:!0})},c3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of s3(t))!o3.call(e,s)&&s!==r&&sc(e,s,{get:()=>t[s],enumerable:!(n=n3(t,s))||n.enumerable});return e},u3=e=>c3(sc({},"__esModule",{value:!0}),e),r0={};a3(r0,{calculateBodyLength:()=>l3});n0.exports=u3(r0);var t0=require("fs"),l3=i3(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,t0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,t0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var _0=w(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.ruleSet=void 0;var m0="required",Ye="fn",Xe="argv",Dn="ref",s0=!0,o0="isSet",eo="booleanEquals",Mn="error",kn="endpoint",jt="tree",Wf="PartitionResult",Qf="getAttr",i0={[m0]:!1,type:"String"},a0={[m0]:!0,default:!1,type:"Boolean"},c0={[Dn]:"Endpoint"},h0={[Ye]:eo,[Xe]:[{[Dn]:"UseFIPS"},!0]},g0={[Ye]:eo,[Xe]:[{[Dn]:"UseDualStack"},!0]},Je={},u0={[Ye]:Qf,[Xe]:[{[Dn]:Wf},"supportsFIPS"]},y0={[Dn]:Wf},l0={[Ye]:eo,[Xe]:[!0,{[Ye]:Qf,[Xe]:[y0,"supportsDualStack"]}]},d0=[h0],f0=[g0],p0=[{[Dn]:"Region"}],d3={version:"1.0",parameters:{Region:i0,UseDualStack:a0,UseFIPS:a0,Endpoint:i0},rules:[{conditions:[{[Ye]:o0,[Xe]:[c0]}],rules:[{conditions:d0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Mn},{conditions:f0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Mn},{endpoint:{url:c0,properties:Je,headers:Je},type:kn}],type:jt},{conditions:[{[Ye]:o0,[Xe]:p0}],rules:[{conditions:[{[Ye]:"aws.partition",[Xe]:p0,assign:Wf}],rules:[{conditions:[h0,g0],rules:[{conditions:[{[Ye]:eo,[Xe]:[s0,u0]},l0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Je,headers:Je},type:kn}],type:jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Mn}],type:jt},{conditions:d0,rules:[{conditions:[{[Ye]:eo,[Xe]:[u0,s0]}],rules:[{conditions:[{[Ye]:"stringEquals",[Xe]:[{[Ye]:Qf,[Xe]:[y0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Je,headers:Je},type:kn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Je,headers:Je},type:kn}],type:jt},{error:"FIPS is enabled but this partition does not support FIPS",type:Mn}],type:jt},{conditions:f0,rules:[{conditions:[l0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Je,headers:Je},type:kn}],type:jt},{error:"DualStack is enabled but this partition does not support DualStack",type:Mn}],type:jt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Je,headers:Je},type:kn}],type:jt}],type:jt},{error:"Invalid Configuration: Missing Region",type:Mn}]};oc.ruleSet=d3});var S0=w(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.defaultEndpointResolver=void 0;var f3=yn(),Gf=gn(),p3=_0(),m3=new Gf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),h3=(e,t={})=>m3.get(e,()=>(0,Gf.resolveEndpoint)(p3.ruleSet,{endpointParams:e,logger:t.logger}));ic.defaultEndpointResolver=h3;Gf.customEndpointFunctions.aws=f3.awsEndpointFunctions});var E0=w(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.getRuntimeConfig=void 0;var g3=(ye(),j(bt)),y3=($e(),j(hn)),_3=L(),S3=nr(),v0=xe(),b0=de(),v3=qf(),b3=S0(),E3=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??v0.fromBase64,base64Encoder:e?.base64Encoder??v0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??b3.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??v3.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new g3.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new y3.NoAuthSigner}],logger:e?.logger??new _3.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??S3.parseUrl,utf8Decoder:e?.utf8Decoder??b0.fromUtf8,utf8Encoder:e?.utf8Encoder??b0.toUtf8});ac.getRuntimeConfig=E3});var ro=w((KY,R0)=>{var w3=Object.create,to=Object.defineProperty,C3=Object.getOwnPropertyDescriptor,A3=Object.getOwnPropertyNames,P3=Object.getPrototypeOf,T3=Object.prototype.hasOwnProperty,Kf=(e,t)=>to(e,"name",{value:t,configurable:!0}),R3=(e,t)=>{for(var r in t)to(e,r,{get:t[r],enumerable:!0})},P0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A3(t))!T3.call(e,s)&&s!==r&&to(e,s,{get:()=>t[s],enumerable:!(n=C3(t,s))||n.enumerable});return e},x3=(e,t,r)=>(r=e!=null?w3(P3(e)):{},P0(t||!e||!e.__esModule?to(r,"default",{value:e,enumerable:!0}):r,e)),O3=e=>P0(to({},"__esModule",{value:!0}),e),T0={};R3(T0,{resolveDefaultsModeConfig:()=>j3});R0.exports=O3(T0);var I3=wt(),w0=pr(),N3=Ne(),M3="AWS_EXECUTION_ENV",C0="AWS_REGION",A0="AWS_DEFAULT_REGION",k3="AWS_EC2_METADATA_DISABLED",D3=["in-region","cross-region","mobile","standard","legacy"],$3="/latest/meta-data/placement/region",L3="AWS_DEFAULTS_MODE",U3="defaults_mode",F3={environmentVariableSelector:e=>e[L3],configFileSelector:e=>e[U3],default:"legacy"},j3=Kf(({region:e=(0,w0.loadConfig)(I3.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,w0.loadConfig)(F3)}={})=>(0,N3.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return H3(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${D3.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),H3=Kf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await q3();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),q3=Kf(async()=>{if(process.env[M3]&&(process.env[C0]||process.env[A0]))return process.env[C0]??process.env[A0];if(!process.env[k3])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>x3(Js())),r=await e();return(await t({...r,path:$3})).toString()}catch{}},"inferPhysicalRegion")});var M0=w(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.getRuntimeConfig=void 0;var B3=(In(),j(On)),z3=B3.__importDefault(Bw()),x0=(ye(),j(bt)),O0=Ys(),cc=wt(),V3=Xs(),I0=Ft(),Jr=pr(),N0=xr(),W3=Zs(),Q3=Tn(),G3=E0(),K3=L(),J3=ro(),Y3=L(),X3=e=>{(0,Y3.emitWarningIfUnsupportedVersion)(process.version);let t=(0,J3.resolveDefaultsModeConfig)(e),r=()=>t().then(K3.loadConfigsForDefaultMode),n=(0,G3.getRuntimeConfig)(e);(0,x0.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Jr.loadConfig)(x0.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??W3.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,O0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:z3.default.version}),maxAttempts:e?.maxAttempts??(0,Jr.loadConfig)(I0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Jr.loadConfig)(cc.NODE_REGION_CONFIG_OPTIONS,{...cc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:N0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jr.loadConfig)({...I0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Q3.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??V3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??N0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jr.loadConfig)(cc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Jr.loadConfig)(cc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Jr.loadConfig)(O0.NODE_APP_ID_CONFIG_OPTIONS,s)}};uc.getRuntimeConfig=X3});var no=w((YY,F0)=>{"use strict";var lc=Object.defineProperty,Z3=Object.getOwnPropertyDescriptor,e5=Object.getOwnPropertyNames,t5=Object.prototype.hasOwnProperty,At=(e,t)=>lc(e,"name",{value:t,configurable:!0}),r5=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},n5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of e5(t))!t5.call(e,s)&&s!==r&&lc(e,s,{get:()=>t[s],enumerable:!(n=Z3(t,s))||n.enumerable});return e},s5=e=>n5(lc({},"__esModule",{value:!0}),e),D0={};r5(D0,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>c5,NODE_REGION_CONFIG_OPTIONS:()=>a5,REGION_ENV_NAME:()=>$0,REGION_INI_NAME:()=>L0,getAwsRegionExtensionConfiguration:()=>o5,resolveAwsRegionExtensionConfiguration:()=>i5,resolveRegionConfig:()=>u5});F0.exports=s5(D0);var o5=At(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),i5=At(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),$0="AWS_REGION",L0="region",a5={environmentVariableSelector:At(e=>e[$0],"environmentVariableSelector"),configFileSelector:At(e=>e[L0],"configFileSelector"),default:At(()=>{throw new Error("Region is missing")},"default")},c5={preferredFile:"credentials"},U0=At(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),k0=At(e=>U0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),u5=At(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:At(async()=>{if(typeof t=="string")return k0(t);let n=await t();return k0(n)},"region"),useFipsEndpoint:At(async()=>{let n=typeof t=="string"?t:await t();return U0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var _C=w((XY,yC)=>{"use strict";var dc=Object.defineProperty,l5=Object.getOwnPropertyDescriptor,d5=Object.getOwnPropertyNames,f5=Object.prototype.hasOwnProperty,F=(e,t)=>dc(e,"name",{value:t,configurable:!0}),p5=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},m5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of d5(t))!f5.call(e,s)&&s!==r&&dc(e,s,{get:()=>t[s],enumerable:!(n=l5(t,s))||n.enumerable});return e},h5=e=>m5(dc({},"__esModule",{value:!0}),e),W0={};p5(W0,{GetRoleCredentialsCommand:()=>mC,GetRoleCredentialsRequestFilterSensitiveLog:()=>rC,GetRoleCredentialsResponseFilterSensitiveLog:()=>sC,InvalidRequestException:()=>G0,ListAccountRolesCommand:()=>Jf,ListAccountRolesRequestFilterSensitiveLog:()=>oC,ListAccountsCommand:()=>Yf,ListAccountsRequestFilterSensitiveLog:()=>iC,LogoutCommand:()=>hC,LogoutRequestFilterSensitiveLog:()=>aC,ResourceNotFoundException:()=>J0,RoleCredentialsFilterSensitiveLog:()=>nC,SSO:()=>gC,SSOClient:()=>pc,SSOServiceException:()=>$n,TooManyRequestsException:()=>X0,UnauthorizedException:()=>eC,__Client:()=>I.Client,paginateListAccountRoles:()=>H5,paginateListAccounts:()=>q5});yC.exports=h5(W0);var j0=os(),g5=is(),y5=as(),H0=Cn(),_5=wt(),Ht=($e(),j(hn)),S5=Vs(),oo=mr(),q0=Ft(),B0=qf(),v5=F(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),fc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},b5=M0(),z0=no(),V0=X(),I=L(),E5=F(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),w5=F(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),C5=F((e,t)=>{let r=Object.assign((0,z0.getAwsRegionExtensionConfiguration)(e),(0,I.getDefaultExtensionConfiguration)(e),(0,V0.getHttpHandlerExtensionConfiguration)(e),E5(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,z0.resolveAwsRegionExtensionConfiguration)(r),(0,I.resolveDefaultRuntimeConfig)(r),(0,V0.resolveHttpHandlerRuntimeConfig)(r),w5(r))},"resolveRuntimeExtensions"),pc=class extends I.Client{static{F(this,"SSOClient")}config;constructor(...[e]){let t=(0,b5.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=v5(t),n=(0,H0.resolveUserAgentConfig)(r),s=(0,q0.resolveRetryConfig)(n),o=(0,_5.resolveRegionConfig)(s),i=(0,j0.resolveHostHeaderConfig)(o),a=(0,oo.resolveEndpointConfig)(i),c=(0,B0.resolveHttpAuthSchemeConfig)(a),u=C5(c,e?.extensions||[]);this.config=u,this.middlewareStack.use((0,H0.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,q0.getRetryPlugin)(this.config)),this.middlewareStack.use((0,S5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,j0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,g5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,y5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Ht.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:B0.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:F(async d=>new Ht.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Ht.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},mc=tr(),$n=class Q0 extends I.ServiceException{static{F(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Q0.prototype)}},G0=class K0 extends $n{static{F(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,K0.prototype)}},J0=class Y0 extends $n{static{F(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Y0.prototype)}},X0=class Z0 extends $n{static{F(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Z0.prototype)}},eC=class tC extends $n{static{F(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,tC.prototype)}},rC=F(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),nC=F(e=>({...e,...e.secretAccessKey&&{secretAccessKey:I.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:I.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),sC=F(e=>({...e,...e.roleCredentials&&{roleCredentials:nC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),oC=F(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),iC=F(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),aC=F(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),so=(ye(),j(bt)),A5=F(async(e,t)=>{let r=(0,Ht.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[yc]:e[gc]});r.bp("/federation/credentials");let s=(0,I.map)({[F5]:[,(0,I.expectNonNull)(e[U5],"roleName")],[uC]:[,(0,I.expectNonNull)(e[cC],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),P5=F(async(e,t)=>{let r=(0,Ht.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[yc]:e[gc]});r.bp("/assignment/roles");let s=(0,I.map)({[pC]:[,e[fC]],[dC]:[()=>e.maxResults!==void 0,()=>e[lC].toString()],[uC]:[,(0,I.expectNonNull)(e[cC],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),T5=F(async(e,t)=>{let r=(0,Ht.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[yc]:e[gc]});r.bp("/assignment/accounts");let s=(0,I.map)({[pC]:[,e[fC]],[dC]:[()=>e.maxResults!==void 0,()=>e[lC].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),R5=F(async(e,t)=>{let r=(0,Ht.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[yc]:e[gc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),x5=F(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hc(e,t);let r=(0,I.map)({$metadata:_r(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,so.parseJsonBody)(e.body,t)),"body"),s=(0,I.take)(n,{roleCredentials:I._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),O5=F(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hc(e,t);let r=(0,I.map)({$metadata:_r(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,so.parseJsonBody)(e.body,t)),"body"),s=(0,I.take)(n,{nextToken:I.expectString,roleList:I._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),I5=F(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hc(e,t);let r=(0,I.map)({$metadata:_r(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,so.parseJsonBody)(e.body,t)),"body"),s=(0,I.take)(n,{accountList:I._json,nextToken:I.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),N5=F(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hc(e,t);let r=(0,I.map)({$metadata:_r(e)});return await(0,I.collectBody)(e.body,t),r},"de_LogoutCommand"),hc=F(async(e,t)=>{let r={...e,body:await(0,so.parseJsonErrorBody)(e.body,t)},n=(0,so.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await k5(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await D5(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await $5(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await L5(r,t);default:let s=r.body;return M5({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),M5=(0,I.withBaseException)($n),k5=F(async(e,t)=>{let r=(0,I.map)({}),n=e.body,s=(0,I.take)(n,{message:I.expectString});Object.assign(r,s);let o=new G0({$metadata:_r(e),...r});return(0,I.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),D5=F(async(e,t)=>{let r=(0,I.map)({}),n=e.body,s=(0,I.take)(n,{message:I.expectString});Object.assign(r,s);let o=new J0({$metadata:_r(e),...r});return(0,I.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),$5=F(async(e,t)=>{let r=(0,I.map)({}),n=e.body,s=(0,I.take)(n,{message:I.expectString});Object.assign(r,s);let o=new X0({$metadata:_r(e),...r});return(0,I.decorateServiceException)(o,e.body)},"de_TooManyRequestsExceptionRes"),L5=F(async(e,t)=>{let r=(0,I.map)({}),n=e.body,s=(0,I.take)(n,{message:I.expectString});Object.assign(r,s);let o=new eC({$metadata:_r(e),...r});return(0,I.decorateServiceException)(o,e.body)},"de_UnauthorizedExceptionRes"),_r=F(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),cC="accountId",gc="accessToken",uC="account_id",lC="maxResults",dC="max_result",fC="nextToken",pC="next_token",U5="roleName",F5="role_name",yc="x-amz-sso_bearer_token",mC=class extends I.Command.classBuilder().ep(fc).m(function(e,t,r,n){return[(0,mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,oo.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(rC,sC).ser(A5).de(x5).build(){static{F(this,"GetRoleCredentialsCommand")}},Jf=class extends I.Command.classBuilder().ep(fc).m(function(e,t,r,n){return[(0,mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,oo.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(oC,void 0).ser(P5).de(O5).build(){static{F(this,"ListAccountRolesCommand")}},Yf=class extends I.Command.classBuilder().ep(fc).m(function(e,t,r,n){return[(0,mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,oo.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(iC,void 0).ser(T5).de(I5).build(){static{F(this,"ListAccountsCommand")}},hC=class extends I.Command.classBuilder().ep(fc).m(function(e,t,r,n){return[(0,mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,oo.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(aC,void 0).ser(R5).de(N5).build(){static{F(this,"LogoutCommand")}},j5={GetRoleCredentialsCommand:mC,ListAccountRolesCommand:Jf,ListAccountsCommand:Yf,LogoutCommand:hC},gC=class extends pc{static{F(this,"SSO")}};(0,I.createAggregatedClient)(j5,gC);var H5=(0,Ht.createPaginator)(pc,Jf,"nextToken","nextToken","maxResults"),q5=(0,Ht.createPaginator)(pc,Yf,"nextToken","nextToken","maxResults")});function B5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function z5(e){return{schemeId:"smithy.api#noAuth"}}var io,SC,vC,bC,Xf=y(()=>{ye();io=v(at()),SC=async(e,t,r)=>({operation:(0,io.getSmithyContext)(t).operation,region:await(0,io.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});vC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(z5(e));break}default:t.push(B5(e))}return t},bC=e=>{let t=Hr(e);return Object.assign(t,{authSchemePreference:(0,io.normalizeProvider)(e.authSchemePreference??[])})}});var EC,wC,Zf=y(()=>{EC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),wC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var _c,ep=y(()=>{_c={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var MC,et,CC,ao,Ln,Un,qt,tp,rp,AC,PC,TC,kC,DC,Ze,RC,$C,xC,OC,IC,NC,W5,LC,UC=y(()=>{MC="required",et="argv",CC="isSet",ao="booleanEquals",Ln="error",Un="endpoint",qt="tree",tp="PartitionResult",rp="getAttr",AC={[MC]:!1,type:"String"},PC={[MC]:!0,default:!1,type:"Boolean"},TC={ref:"Endpoint"},kC={fn:ao,[et]:[{ref:"UseFIPS"},!0]},DC={fn:ao,[et]:[{ref:"UseDualStack"},!0]},Ze={},RC={fn:rp,[et]:[{ref:tp},"supportsFIPS"]},$C={ref:tp},xC={fn:ao,[et]:[!0,{fn:rp,[et]:[$C,"supportsDualStack"]}]},OC=[kC],IC=[DC],NC=[{ref:"Region"}],W5={version:"1.0",parameters:{Region:AC,UseDualStack:PC,UseFIPS:PC,Endpoint:AC},rules:[{conditions:[{fn:CC,[et]:[TC]}],rules:[{conditions:OC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ln},{conditions:IC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ln},{endpoint:{url:TC,properties:Ze,headers:Ze},type:Un}],type:qt},{conditions:[{fn:CC,[et]:NC}],rules:[{conditions:[{fn:"aws.partition",[et]:NC,assign:tp}],rules:[{conditions:[kC,DC],rules:[{conditions:[{fn:ao,[et]:[!0,RC]},xC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Un}],type:qt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ln}],type:qt},{conditions:OC,rules:[{conditions:[{fn:ao,[et]:[RC,!0]}],rules:[{conditions:[{fn:"stringEquals",[et]:[{fn:rp,[et]:[$C,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ze,headers:Ze},type:Un},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Un}],type:qt},{error:"FIPS is enabled but this partition does not support FIPS",type:Ln}],type:qt},{conditions:IC,rules:[{conditions:[xC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Un}],type:qt},{error:"DualStack is enabled but this partition does not support DualStack",type:Ln}],type:qt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Un}],type:qt}],type:qt},{error:"Invalid Configuration: Missing Region",type:Ln}]},LC=W5});var FC,Fn,Q5,jC,HC=y(()=>{FC=v(yn()),Fn=v(gn());UC();Q5=new Fn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),jC=(e,t={})=>Q5.get(e,()=>(0,Fn.resolveEndpoint)(LC,{endpointParams:e,logger:t.logger}));Fn.customEndpointFunctions.aws=FC.awsEndpointFunctions});var qC,BC,Sc,vc,zC,VC=y(()=>{ye();$e();qC=v(L()),BC=v(nr()),Sc=v(xe()),vc=v(de());Xf();HC();zC=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Sc.fromBase64,base64Encoder:e?.base64Encoder??Sc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jC,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??vC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ue},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $t}],logger:e?.logger??new qC.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??BC.parseUrl,utf8Decoder:e?.utf8Decoder??vc.fromUtf8,utf8Encoder:e?.utf8Encoder??vc.toUtf8})});var bc,vr,WC,Ec,Sr,wc,QC,GC,KC,JC,YC,XC,ZC=y(()=>{ep();ye();bc=v(Ys()),vr=v(wt()),WC=v(Xs()),Ec=v(Ft()),Sr=v(pr()),wc=v(xr()),QC=v(Zs()),GC=v(Tn());VC();KC=v(L()),JC=v(ro()),YC=v(L()),XC=e=>{(0,YC.emitWarningIfUnsupportedVersion)(process.version);let t=(0,JC.resolveDefaultsModeConfig)(e),r=()=>t().then(KC.loadConfigsForDefaultMode),n=zC(e);_n(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Sr.loadConfig)(bn,s),bodyLengthChecker:e?.bodyLengthChecker??QC.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,bc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_c.version}),maxAttempts:e?.maxAttempts??(0,Sr.loadConfig)(Ec.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Sr.loadConfig)(vr.NODE_REGION_CONFIG_OPTIONS,{...vr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:wc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Sr.loadConfig)({...Ec.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GC.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??WC.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??wc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Sr.loadConfig)(vr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Sr.loadConfig)(vr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Sr.loadConfig)(bc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var eA,tA,rA=y(()=>{eA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},tA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Cc,Ac,Pc,nA,sA=y(()=>{Cc=v(no()),Ac=v(X()),Pc=v(L());rA();nA=(e,t)=>{let r=Object.assign((0,Cc.getAwsRegionExtensionConfiguration)(e),(0,Pc.getDefaultExtensionConfiguration)(e),(0,Ac.getHttpHandlerExtensionConfiguration)(e),eA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Cc.resolveAwsRegionExtensionConfiguration)(r),(0,Pc.resolveDefaultRuntimeConfig)(r),(0,Ac.resolveHttpHandlerRuntimeConfig)(r),tA(r))}});var Tc,oA,iA,Rc,aA,cA,uA,xc,np,co,sp=y(()=>{Tc=v(os()),oA=v(is()),iA=v(as()),Rc=v(Cn()),aA=v(wt());$e();cA=v(Vs()),uA=v(mr()),xc=v(Ft()),np=v(L());Xf();Zf();ZC();sA();co=class extends np.Client{config;constructor(...[t]){let r=XC(t||{});super(r),this.initConfig=r;let n=EC(r),s=(0,Rc.resolveUserAgentConfig)(n),o=(0,xc.resolveRetryConfig)(s),i=(0,aA.resolveRegionConfig)(o),a=(0,Tc.resolveHostHeaderConfig)(i),c=(0,uA.resolveEndpointConfig)(a),u=bC(c),d=nA(u,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Rc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Tc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,oA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(xs(this.config,{httpAuthSchemeParametersProvider:SC,identityProviderConfigProvider:async l=>new Fr({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Os(this.config))}destroy(){super.destroy()}}});var lA,_e,Oc=y(()=>{lA=v(L()),_e=class e extends lA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Yr,uo,lo,op,ip,fo,po,mo,ho,go,yo,_o,So,vo,Ic=y(()=>{Yr=v(L());Oc();uo=class e extends _e{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},lo=class e extends _e{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},op=e=>({...e,...e.clientSecret&&{clientSecret:Yr.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Yr.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Yr.SENSITIVE_STRING}}),ip=e=>({...e,...e.accessToken&&{accessToken:Yr.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Yr.SENSITIVE_STRING},...e.idToken&&{idToken:Yr.SENSITIVE_STRING}}),fo=class e extends _e{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},po=class e extends _e{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},mo=class e extends _e{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ho=class e extends _e{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},go=class e extends _e{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},yo=class e extends _e{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_o=class e extends _e{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},So=class e extends _e{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vo=class e extends _e{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var P,dA,fA,G5,K5,J5,Y5,X5,Z5,eH,tH,rH,nH,sH,oH,iH,tt,pA=y(()=>{ye();$e();P=v(L());Ic();Oc();dA=async(e,t)=>{let r=As(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,P.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,P._json)(o)})),r.m("POST").h(n).b(s),r.build()},fA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G5(e,t);let r=(0,P.map)({$metadata:tt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await wn(e.body,t)),"body"),s=(0,P.take)(n,{accessToken:P.expectString,expiresIn:P.expectInt32,idToken:P.expectString,refreshToken:P.expectString,tokenType:P.expectString});return Object.assign(r,s),r},G5=async(e,t)=>{let r={...e,body:await $d(e.body,t)},n=qr(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await J5(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Y5(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await X5(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Z5(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await eH(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await tH(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await rH(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await nH(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await sH(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await oH(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await iH(r,t);default:let s=r.body;return K5({output:e,parsedBody:s,errorCode:n})}},K5=(0,P.withBaseException)(_e),J5=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new uo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},Y5=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new lo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},X5=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new fo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},Z5=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new po({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},eH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new mo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},tH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new ho({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},rH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new go({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},nH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new yo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},sH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new _o({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},oH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new So({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},iH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new vo({$metadata:tt(e),...r});return(0,P.decorateServiceException)(o,e.body)},tt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var mA,hA,ap,bo,cp=y(()=>{mA=v(mr()),hA=v(tr()),ap=v(L());Zf();Ic();pA();bo=class extends ap.Command.classBuilder().ep(wC).m(function(t,r,n,s){return[(0,hA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,mA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(op,ip).ser(dA).de(fA).build(){}});var gA,aH,Nc,yA=y(()=>{gA=v(L());cp();sp();aH={CreateTokenCommand:bo},Nc=class extends co{};(0,gA.createAggregatedClient)(aH,Nc)});var _A=y(()=>{cp()});var SA=y(()=>{Ic()});var up={};ot(up,{$Command:()=>ap.Command,AccessDeniedException:()=>uo,AuthorizationPendingException:()=>lo,CreateTokenCommand:()=>bo,CreateTokenRequestFilterSensitiveLog:()=>op,CreateTokenResponseFilterSensitiveLog:()=>ip,ExpiredTokenException:()=>fo,InternalServerException:()=>po,InvalidClientException:()=>mo,InvalidGrantException:()=>ho,InvalidRequestException:()=>go,InvalidScopeException:()=>yo,SSOOIDC:()=>Nc,SSOOIDCClient:()=>co,SSOOIDCServiceException:()=>_e,SlowDownException:()=>_o,UnauthorizedClientException:()=>So,UnsupportedGrantTypeException:()=>vo,__Client:()=>np.Client});var lp=y(()=>{sp();yA();_A();SA();Oc()});var TA=w((eZ,PA)=>{"use strict";var cH=Object.create,wo=Object.defineProperty,uH=Object.getOwnPropertyDescriptor,lH=Object.getOwnPropertyNames,dH=Object.getPrototypeOf,fH=Object.prototype.hasOwnProperty,Bt=(e,t)=>wo(e,"name",{value:t,configurable:!0}),pH=(e,t)=>{for(var r in t)wo(e,r,{get:t[r],enumerable:!0})},EA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lH(t))!fH.call(e,s)&&s!==r&&wo(e,s,{get:()=>t[s],enumerable:!(n=uH(t,s))||n.enumerable});return e},wA=(e,t,r)=>(r=e!=null?cH(dH(e)):{},EA(t||!e||!e.__esModule?wo(r,"default",{value:e,enumerable:!0}):r,e)),mH=e=>EA(wo({},"__esModule",{value:!0}),e),CA={};pH(CA,{fromEnvSigningName:()=>yH,fromSso:()=>AA,fromStatic:()=>CH,nodeProvider:()=>AH});PA.exports=mH(CA);var hH=(ut(),j(ir)),gH=(kd(),j(pv)),Be=Ne(),yH=Bt(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Be.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,gH.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Be.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,hH.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),_H=300*1e3,dp="To refresh this SSO session run 'aws sso login' with the corresponding profile.",SH=Bt(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>wA((lp(),j(up))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),vH=Bt(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>wA((lp(),j(up))));return(await SH(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),vA=Bt(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Be.TokenProviderError(`Token is expired. ${dp}`,!1)},"validateTokenExpiry"),Xr=Bt((e,t,r=!1)=>{if(typeof t>"u")throw new Be.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${dp}`,!1)},"validateTokenKey"),Eo=fr(),bH=require("fs"),{writeFile:EH}=bH.promises,wH=Bt((e,t)=>{let r=(0,Eo.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return EH(r,n)},"writeSSOTokenToFile"),bA=new Date(0),AA=Bt((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Eo.parseKnownFiles)(r),s=(0,Eo.getProfileName)({profile:r.profile??t?.profile}),o=n[s];if(o){if(!o.sso_session)throw new Be.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Be.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,c=(await(0,Eo.loadSsoSessionData)(r))[i];if(!c)throw new Be.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!c[g])throw new Be.TokenProviderError(`Sso session '${i}' is missing required property '${g}'.`,!1);let u=c.sso_start_url,d=c.sso_region,l;try{l=await(0,Eo.getSSOTokenFromFile)(i)}catch{throw new Be.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${dp}`,!1)}Xr("accessToken",l.accessToken),Xr("expiresAt",l.expiresAt);let{accessToken:f,expiresAt:p}=l,h={token:f,expiration:new Date(p)};if(h.expiration.getTime()-Date.now()>_H)return h;if(Date.now()-bA.getTime()<30*1e3)return vA(h),h;Xr("clientId",l.clientId,!0),Xr("clientSecret",l.clientSecret,!0),Xr("refreshToken",l.refreshToken,!0);try{bA.setTime(Date.now());let g=await vH(l,d,r);Xr("accessToken",g.accessToken),Xr("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await wH(i,{...l,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return vA(h),h}},"fromSso"),CH=Bt(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Be.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),AH=Bt((e={})=>(0,Be.memoize)((0,Be.chain)(AA(e),async()=>{throw new Be.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var pp=w((tZ,$A)=>{"use strict";var kc=Object.defineProperty,PH=Object.getOwnPropertyDescriptor,OA=Object.getOwnPropertyNames,TH=Object.prototype.hasOwnProperty,Dc=(e,t)=>kc(e,"name",{value:t,configurable:!0}),RH=(e,t)=>function(){return e&&(t=(0,e[OA(e)[0]])(e=0)),t},IA=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},xH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OA(t))!TH.call(e,s)&&s!==r&&kc(e,s,{get:()=>t[s],enumerable:!(n=PH(t,s))||n.enumerable});return e},OH=e=>xH(kc({},"__esModule",{value:!0}),e),NA={};IA(NA,{GetRoleCredentialsCommand:()=>fp.GetRoleCredentialsCommand,SSOClient:()=>fp.SSOClient});var fp,IH=RH({"src/loadSso.ts"(){"use strict";fp=_C()}}),MA={};IA(MA,{fromSSO:()=>MH,isSsoProfile:()=>kA,validateSsoProfile:()=>DA});$A.exports=OH(MA);var kA=Dc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),RA=(ut(),j(ir)),NH=TA(),ft=Ne(),Mc=fr(),Co=!1,xA=Dc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:c,logger:u})=>{let d,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let J=await(0,NH.fromSso)({profile:c})();d={accessToken:J.token,expiresAt:new Date(J.expiration).toISOString()}}catch(J){throw new ft.CredentialsProviderError(J.message,{tryNextLink:Co,logger:u})}else try{d=await(0,Mc.getSSOTokenFromFile)(e)}catch{throw new ft.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,{tryNextLink:Co,logger:u})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new ft.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,{tryNextLink:Co,logger:u});let{accessToken:f}=d,{SSOClient:p,GetRoleCredentialsCommand:h}=await Promise.resolve().then(()=>(IH(),NA)),g=o||new p(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),S;try{S=await g.send(new h({accountId:r,roleName:s,accessToken:f}))}catch(J){throw new ft.CredentialsProviderError(J,{tryNextLink:Co,logger:u})}let{roleCredentials:{accessKeyId:b,secretAccessKey:E,sessionToken:T,expiration:A,credentialScope:R,accountId:k}={}}=S;if(!b||!E||!T||!A)throw new ft.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Co,logger:u});let Pe={accessKeyId:b,secretAccessKey:E,sessionToken:T,expiration:new Date(A),...R&&{credentialScope:R},...k&&{accountId:k}};return t?(0,RA.setCredentialFeature)(Pe,"CREDENTIALS_SSO","s"):(0,RA.setCredentialFeature)(Pe,"CREDENTIALS_SSO_LEGACY","u"),Pe},"resolveSSOCredentials"),DA=Dc((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new ft.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),MH=Dc((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Mc.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!o&&!i){let d=(await(0,Mc.parseKnownFiles)(e))[c];if(!d)throw new ft.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!kA(d))throw new ft.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let b=(await(0,Mc.loadSsoSessionData)(e))[d.sso_session],E=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==b.sso_region)throw new ft.CredentialsProviderError("Conflicting SSO region"+E,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new ft.CredentialsProviderError("Conflicting SSO start_url"+E,{tryNextLink:!1,logger:e.logger});d.sso_region=b.sso_region,d.sso_start_url=b.sso_start_url}let{sso_start_url:l,sso_account_id:f,sso_region:p,sso_role_name:h,sso_session:g}=DA(d,e.logger);return xA({ssoStartUrl:l,ssoSession:g,ssoAccountId:f,ssoRegion:p,ssoRoleName:h,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!s||!o)throw new ft.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return xA({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function kH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function DH(e){return{schemeId:"smithy.api#noAuth"}}var Ao,LA,UA,$H,FA,mp=y(()=>{ye();Ao=v(at());Po();LA=async(e,t,r)=>({operation:(0,Ao.getSmithyContext)(t).operation,region:await(0,Ao.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});UA=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(DH(e));break}default:t.push(kH(e))}return t},$H=e=>Object.assign(e,{stsClientCtor:Pt}),FA=e=>{let t=$H(e),r=Hr(t);return Object.assign(r,{authSchemePreference:(0,Ao.normalizeProvider)(e.authSchemePreference??[])})}});var jA,$c,Lc=y(()=>{jA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$c={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var YA,$,z,br,we,XA,ZA,ee,HA,Tt,jn,gp,qA,hp,eP,BA,Ce,zA,tP,rP,Re,ze,VA,nP,sP,WA,oP,QA,GA,KA,JA,LH,iP,aP=y(()=>{YA="required",$="type",z="argv",br="booleanEquals",we="stringEquals",XA="sigv4",ZA="us-east-1",ee="endpoint",HA="https://sts.{Region}.{PartitionResult#dnsSuffix}",Tt="tree",jn="error",gp="getAttr",qA={[YA]:!1,[$]:"String"},hp={[YA]:!0,default:!1,[$]:"Boolean"},eP={ref:"Endpoint"},BA={fn:"isSet",[z]:[{ref:"Region"}]},Ce={ref:"Region"},zA={fn:"aws.partition",[z]:[Ce],assign:"PartitionResult"},tP={ref:"UseFIPS"},rP={ref:"UseDualStack"},Re={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:XA,signingName:"sts",signingRegion:ZA}]},headers:{}},ze={},VA={conditions:[{fn:we,[z]:[Ce,"aws-global"]}],[ee]:Re,[$]:ee},nP={fn:br,[z]:[tP,!0]},sP={fn:br,[z]:[rP,!0]},WA={fn:gp,[z]:[{ref:"PartitionResult"},"supportsFIPS"]},oP={ref:"PartitionResult"},QA={fn:br,[z]:[!0,{fn:gp,[z]:[oP,"supportsDualStack"]}]},GA=[{fn:"isSet",[z]:[eP]}],KA=[nP],JA=[sP],LH={version:"1.0",parameters:{Region:qA,UseDualStack:hp,UseFIPS:hp,Endpoint:qA,UseGlobalEndpoint:hp},rules:[{conditions:[{fn:br,[z]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[z]:GA},BA,zA,{fn:br,[z]:[tP,!1]},{fn:br,[z]:[rP,!1]}],rules:[{conditions:[{fn:we,[z]:[Ce,"ap-northeast-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"ap-south-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"ap-southeast-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"ap-southeast-2"]}],endpoint:Re,[$]:ee},VA,{conditions:[{fn:we,[z]:[Ce,"ca-central-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"eu-central-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"eu-north-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"eu-west-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"eu-west-2"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"eu-west-3"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"sa-east-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,ZA]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"us-east-2"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"us-west-1"]}],endpoint:Re,[$]:ee},{conditions:[{fn:we,[z]:[Ce,"us-west-2"]}],endpoint:Re,[$]:ee},{endpoint:{url:HA,properties:{authSchemes:[{name:XA,signingName:"sts",signingRegion:"{Region}"}]},headers:ze},[$]:ee}],[$]:Tt},{conditions:GA,rules:[{conditions:KA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[$]:jn},{conditions:JA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[$]:jn},{endpoint:{url:eP,properties:ze,headers:ze},[$]:ee}],[$]:Tt},{conditions:[BA],rules:[{conditions:[zA],rules:[{conditions:[nP,sP],rules:[{conditions:[{fn:br,[z]:[!0,WA]},QA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[$]:ee}],[$]:Tt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[$]:jn}],[$]:Tt},{conditions:KA,rules:[{conditions:[{fn:br,[z]:[WA,!0]}],rules:[{conditions:[{fn:we,[z]:[{fn:gp,[z]:[oP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ze,headers:ze},[$]:ee},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},[$]:ee}],[$]:Tt},{error:"FIPS is enabled but this partition does not support FIPS",[$]:jn}],[$]:Tt},{conditions:JA,rules:[{conditions:[QA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[$]:ee}],[$]:Tt},{error:"DualStack is enabled but this partition does not support DualStack",[$]:jn}],[$]:Tt},VA,{endpoint:{url:HA,properties:ze,headers:ze},[$]:ee}],[$]:Tt}],[$]:Tt},{error:"Invalid Configuration: Missing Region",[$]:jn}]},iP=LH});var cP,Hn,UH,uP,lP=y(()=>{cP=v(yn()),Hn=v(gn());aP();UH=new Hn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),uP=(e,t={})=>UH.get(e,()=>(0,Hn.resolveEndpoint)(iP,{endpointParams:e,logger:t.logger}));Hn.customEndpointFunctions.aws=cP.awsEndpointFunctions});var dP,fP,Uc,Fc,pP,mP=y(()=>{ye();$e();dP=v(L()),fP=v(nr()),Uc=v(xe()),Fc=v(de());mp();lP();pP=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Uc.fromBase64,base64Encoder:e?.base64Encoder??Uc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??UA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ue},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $t}],logger:e?.logger??new dP.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??fP.parseUrl,utf8Decoder:e?.utf8Decoder??Fc.fromUtf8,utf8Encoder:e?.utf8Encoder??Fc.toUtf8})});var jc,wr,hP,Hc,Er,qc,gP,yP,_P,SP,vP,bP,EP=y(()=>{ep();ye();jc=v(Ys()),wr=v(wt());$e();hP=v(Xs()),Hc=v(Ft()),Er=v(pr()),qc=v(xr()),gP=v(Zs()),yP=v(Tn());mP();_P=v(L()),SP=v(ro()),vP=v(L()),bP=e=>{(0,vP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,SP.resolveDefaultsModeConfig)(e),r=()=>t().then(_P.loadConfigsForDefaultMode),n=pP(e);_n(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Er.loadConfig)(bn,s),bodyLengthChecker:e?.bodyLengthChecker??gP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,jc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_c.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Ue},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $t}],maxAttempts:e?.maxAttempts??(0,Er.loadConfig)(Hc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Er.loadConfig)(wr.NODE_REGION_CONFIG_OPTIONS,{...wr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:qc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Er.loadConfig)({...Hc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||yP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??hP.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Er.loadConfig)(wr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Er.loadConfig)(wr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Er.loadConfig)(jc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var wP,CP,AP=y(()=>{wP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},CP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Bc,zc,Vc,PP,TP=y(()=>{Bc=v(no()),zc=v(X()),Vc=v(L());AP();PP=(e,t)=>{let r=Object.assign((0,Bc.getAwsRegionExtensionConfiguration)(e),(0,Vc.getDefaultExtensionConfiguration)(e),(0,zc.getHttpHandlerExtensionConfiguration)(e),wP(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Bc.resolveAwsRegionExtensionConfiguration)(r),(0,Vc.resolveDefaultRuntimeConfig)(r),(0,zc.resolveHttpHandlerRuntimeConfig)(r),CP(r))}});var Wc,RP,xP,Qc,OP,IP,NP,Gc,yp,Pt,Po=y(()=>{Wc=v(os()),RP=v(is()),xP=v(as()),Qc=v(Cn()),OP=v(wt());$e();IP=v(Vs()),NP=v(mr()),Gc=v(Ft()),yp=v(L());mp();Lc();EP();TP();Pt=class extends yp.Client{config;constructor(...[t]){let r=bP(t||{});super(r),this.initConfig=r;let n=jA(r),s=(0,Qc.resolveUserAgentConfig)(n),o=(0,Gc.resolveRetryConfig)(s),i=(0,OP.resolveRegionConfig)(o),a=(0,Wc.resolveHostHeaderConfig)(i),c=(0,NP.resolveEndpointConfig)(a),u=FA(c),d=PP(u,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Qc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Gc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,IP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Wc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,RP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,xP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(xs(this.config,{httpAuthSchemeParametersProvider:LA,identityProviderConfigProvider:async l=>new Fr({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Os(this.config))}destroy(){super.destroy()}}});var MP,Fe,Kc=y(()=>{MP=v(L()),Fe=class e extends MP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var _p,Sp,vp,To,Ro,xo,Oo,Io,No,bp,Ep,Mo,ko=y(()=>{_p=v(L());Kc();Sp=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:_p.SENSITIVE_STRING}}),vp=e=>({...e,...e.Credentials&&{Credentials:Sp(e.Credentials)}}),To=class e extends Fe{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ro=class e extends Fe{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xo=class e extends Fe{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Oo=class e extends Fe{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Io=class e extends Fe{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},No=class e extends Fe{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bp=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:_p.SENSITIVE_STRING}}),Ep=e=>({...e,...e.Credentials&&{Credentials:Sp(e.Credentials)}}),Mo=class e extends Fe{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var kP,U,DP,$P,LP,UP,FP,FH,jH,HH,qH,BH,zH,VH,WH,QH,jP,GH,KH,JH,YH,XH,ZH,HP,e8,t8,qP,r8,n8,s8,o8,i8,a8,c8,Vt,u8,BP,zP,VP,WP,wp,l8,Cp,qn,d8,Ap,Pp,Bn,Tp,zn,Rp,xp,Op,Vn,Wn,Ip,Np,Mp,Qn,kp,Gn,Kn,Dp,$p,zt,Lp,Up,Fp,jp,Hp,QP,qp,Bp,zp,le,GP,f8,Vp=y(()=>{ye();kP=v(X()),U=v(L());ko();Kc();DP=async(e,t)=>{let r=zP,n;return n=GP({...WH(e,t),[WP]:l8,[QP]:VP}),BP(t,r,"/",void 0,n)},$P=async(e,t)=>{let r=zP,n;return n=GP({...QH(e,t),[WP]:d8,[QP]:VP}),BP(t,r,"/",void 0,n)},LP=async(e,t)=>{if(e.statusCode>=300)return FP(e,t);let r=await qs(e.body,t),n={};return n=e8(r.AssumeRoleResult,t),{$metadata:Vt(e),...n}},UP=async(e,t)=>{if(e.statusCode>=300)return FP(e,t);let r=await qs(e.body,t),n={};return n=t8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Vt(e),...n}},FP=async(e,t)=>{let r={...e,body:await Zd(e.body,t)},n=f8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await FH(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await BH(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await zH(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await VH(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await jH(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await HH(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await qH(r,t);default:let s=r.body;return u8({output:e,parsedBody:s.Error,errorCode:n})}},FH=async(e,t)=>{let r=e.body,n=r8(r.Error,t),s=new To({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},jH=async(e,t)=>{let r=e.body,n=n8(r.Error,t),s=new Mo({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},HH=async(e,t)=>{let r=e.body,n=s8(r.Error,t),s=new Io({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},qH=async(e,t)=>{let r=e.body,n=o8(r.Error,t),s=new No({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},BH=async(e,t)=>{let r=e.body,n=i8(r.Error,t),s=new Ro({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},zH=async(e,t)=>{let r=e.body,n=a8(r.Error,t),s=new xo({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},VH=async(e,t)=>{let r=e.body,n=c8(r.Error,t),s=new Oo({$metadata:Vt(e),...n});return(0,U.decorateServiceException)(s,r)},WH=(e,t)=>{let r={};if(e[Gn]!=null&&(r[Gn]=e[Gn]),e[Kn]!=null&&(r[Kn]=e[Kn]),e[Wn]!=null){let n=jP(e[Wn],t);e[Wn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}if(e[Vn]!=null&&(r[Vn]=e[Vn]),e[zn]!=null&&(r[zn]=e[zn]),e[Fp]!=null){let n=ZH(e[Fp],t);e[Fp]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,o])=>{let i=`Tags.${s}`;r[i]=o})}if(e[Hp]!=null){let n=XH(e[Hp],t);e[Hp]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;r[i]=o})}if(e[xp]!=null&&(r[xp]=e[xp]),e[Lp]!=null&&(r[Lp]=e[Lp]),e[jp]!=null&&(r[jp]=e[jp]),e[zt]!=null&&(r[zt]=e[zt]),e[Np]!=null){let n=JH(e[Np],t);e[Np]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;r[i]=o})}return r},QH=(e,t)=>{let r={};if(e[Gn]!=null&&(r[Gn]=e[Gn]),e[Kn]!=null&&(r[Kn]=e[Kn]),e[Bp]!=null&&(r[Bp]=e[Bp]),e[Mp]!=null&&(r[Mp]=e[Mp]),e[Wn]!=null){let n=jP(e[Wn],t);e[Wn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}return e[Vn]!=null&&(r[Vn]=e[Vn]),e[zn]!=null&&(r[zn]=e[zn]),r},jP=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=GH(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},GH=(e,t)=>{let r={};return e[zp]!=null&&(r[zp]=e[zp]),r},KH=(e,t)=>{let r={};return e[Ip]!=null&&(r[Ip]=e[Ip]),e[Tp]!=null&&(r[Tp]=e[Tp]),r},JH=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=KH(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},YH=(e,t)=>{let r={};return e[Op]!=null&&(r[Op]=e[Op]),e[qp]!=null&&(r[qp]=e[qp]),r},XH=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},ZH=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=YH(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},HP=(e,t)=>{let r={};return e[Cp]!=null&&(r[Cp]=(0,U.expectString)(e[Cp])),e[Ap]!=null&&(r[Ap]=(0,U.expectString)(e[Ap])),r},e8=(e,t)=>{let r={};return e[Bn]!=null&&(r[Bn]=qP(e[Bn],t)),e[qn]!=null&&(r[qn]=HP(e[qn],t)),e[Qn]!=null&&(r[Qn]=(0,U.strictParseInt32)(e[Qn])),e[zt]!=null&&(r[zt]=(0,U.expectString)(e[zt])),r},t8=(e,t)=>{let r={};return e[Bn]!=null&&(r[Bn]=qP(e[Bn],t)),e[$p]!=null&&(r[$p]=(0,U.expectString)(e[$p])),e[qn]!=null&&(r[qn]=HP(e[qn],t)),e[Qn]!=null&&(r[Qn]=(0,U.strictParseInt32)(e[Qn])),e[kp]!=null&&(r[kp]=(0,U.expectString)(e[kp])),e[Pp]!=null&&(r[Pp]=(0,U.expectString)(e[Pp])),e[zt]!=null&&(r[zt]=(0,U.expectString)(e[zt])),r},qP=(e,t)=>{let r={};return e[wp]!=null&&(r[wp]=(0,U.expectString)(e[wp])),e[Dp]!=null&&(r[Dp]=(0,U.expectString)(e[Dp])),e[Up]!=null&&(r[Up]=(0,U.expectString)(e[Up])),e[Rp]!=null&&(r[Rp]=(0,U.expectNonNull)((0,U.parseRfc3339DateTimeWithOffset)(e[Rp]))),r},r8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},n8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},s8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},o8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},i8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},a8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},c8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,U.expectString)(e[le])),r},Vt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),u8=(0,U.withBaseException)(Fe),BP=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(u.hostname=n),s!==void 0&&(u.body=s),new kP.HttpRequest(u)},zP={"content-type":"application/x-www-form-urlencoded"},VP="2011-06-15",WP="Action",wp="AccessKeyId",l8="AssumeRole",Cp="AssumedRoleId",qn="AssumedRoleUser",d8="AssumeRoleWithWebIdentity",Ap="Arn",Pp="Audience",Bn="Credentials",Tp="ContextAssertion",zn="DurationSeconds",Rp="Expiration",xp="ExternalId",Op="Key",Vn="Policy",Wn="PolicyArns",Ip="ProviderArn",Np="ProvidedContexts",Mp="ProviderId",Qn="PackedPolicySize",kp="Provider",Gn="RoleArn",Kn="RoleSessionName",Dp="SecretAccessKey",$p="SubjectFromWebIdentityToken",zt="SourceIdentity",Lp="SerialNumber",Up="SessionToken",Fp="Tags",jp="TokenCode",Hp="TransitiveTagKeys",QP="Version",qp="Value",Bp="WebIdentityToken",zp="arn",le="message",GP=e=>Object.entries(e).map(([t,r])=>(0,U.extendedEncodeURIComponent)(t)+"="+(0,U.extendedEncodeURIComponent)(r)).join("&"),f8=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var KP,JP,YP,Zr,Jc=y(()=>{KP=v(mr()),JP=v(tr()),YP=v(L());Lc();ko();Vp();Zr=class extends YP.Command.classBuilder().ep($c).m(function(t,r,n,s){return[(0,JP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,KP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,vp).ser(DP).de(LP).build(){}});var XP,ZP,eT,en,Yc=y(()=>{XP=v(mr()),ZP=v(tr()),eT=v(L());Lc();ko();Vp();en=class extends eT.Command.classBuilder().ep($c).m(function(t,r,n,s){return[(0,ZP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,XP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(bp,Ep).ser($P).de(UP).build(){}});var tT,p8,Xc,rT=y(()=>{tT=v(L());Jc();Yc();Po();p8={AssumeRoleCommand:Zr,AssumeRoleWithWebIdentityCommand:en},Xc=class extends Pt{};(0,tT.createAggregatedClient)(p8,Xc)});var nT=y(()=>{Jc();Yc()});var sT=y(()=>{ko()});var oT,iT,aT,cT,uT,lT,dT=y(()=>{ut();Jc();Yc();oT="us-east-1",iT=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},aT=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${oT} (STS default)`),n??s??oT},cT=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:d=e?.parentClientConfig?.logger,region:l,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,h=await aT(l,e?.parentClientConfig?.region,p),g=!lT(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:h,requestHandler:g?f:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Zr(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=iT(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return or(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},uT=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:u,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:l}=e,f=await aT(u,e?.parentClientConfig?.region,l),p=!lT(d);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:p?d:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new en(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=iT(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&or(a,"RESOLVED_ACCOUNT_ID","T"),or(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},lT=e=>e?.metadata?.handlerProtocol==="h2"});var fT,pT,mT,m8,hT=y(()=>{dT();Po();fT=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,pT=(e={},t)=>cT(e,fT(Pt,t)),mT=(e={},t)=>uT(e,fT(Pt,t)),m8=e=>t=>e({roleAssumer:pT(t),roleAssumerWithWebIdentity:mT(t),...t})});var Wp={};ot(Wp,{AssumeRoleCommand:()=>Zr,AssumeRoleResponseFilterSensitiveLog:()=>vp,AssumeRoleWithWebIdentityCommand:()=>en,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>bp,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Ep,CredentialsFilterSensitiveLog:()=>Sp,ExpiredTokenException:()=>To,IDPCommunicationErrorException:()=>Mo,IDPRejectedClaimException:()=>Io,InvalidIdentityTokenException:()=>No,MalformedPolicyDocumentException:()=>Ro,PackedPolicyTooLargeException:()=>xo,RegionDisabledException:()=>Oo,STS:()=>Xc,STSClient:()=>Pt,STSServiceException:()=>Fe,__Client:()=>yp.Client,decorateDefaultCredentialProvider:()=>m8,getDefaultRoleAssumer:()=>pT,getDefaultRoleAssumerWithWebIdentity:()=>mT});var Qp=y(()=>{Po();rT();nT();sT();hT();Kc()});var Jp=w((fee,_T)=>{"use strict";var Zc=Object.defineProperty,h8=Object.getOwnPropertyDescriptor,g8=Object.getOwnPropertyNames,y8=Object.prototype.hasOwnProperty,Kp=(e,t)=>Zc(e,"name",{value:t,configurable:!0}),_8=(e,t)=>{for(var r in t)Zc(e,r,{get:t[r],enumerable:!0})},S8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of g8(t))!y8.call(e,s)&&s!==r&&Zc(e,s,{get:()=>t[s],enumerable:!(n=h8(t,s))||n.enumerable});return e},v8=e=>S8(Zc({},"__esModule",{value:!0}),e),yT={};_8(yT,{fromProcess:()=>P8});_T.exports=v8(yT);var gT=fr(),Gp=Ne(),b8=require("child_process"),E8=require("util"),w8=(ut(),j(ir)),C8=Kp((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,w8.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),A8=Kp(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let o=(0,E8.promisify)(b8.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return C8(e,a,t)}catch(i){throw new Gp.CredentialsProviderError(i.message,{logger:r})}}else throw new Gp.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Gp.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),P8=Kp((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,gT.parseKnownFiles)(e);return A8((0,gT.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var Yp=w(Rt=>{"use strict";var T8=Rt&&Rt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),R8=Rt&&Rt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),x8=Rt&&Rt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&T8(r,t,n[s]);return R8(r,t),r}})();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.fromWebToken=void 0;var O8=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>x8((Qp(),j(Wp))));u=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:c})};Rt.fromWebToken=O8});var vT=w(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.fromTokenFile=void 0;var I8=(ut(),j(ir)),N8=Ne(),M8=require("fs"),k8=Yp(),ST="AWS_WEB_IDENTITY_TOKEN_FILE",D8="AWS_ROLE_ARN",$8="AWS_ROLE_SESSION_NAME",L8=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[ST],r=e?.roleArn??process.env[D8],n=e?.roleSessionName??process.env[$8];if(!t||!r)throw new N8.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,k8.fromWebToken)({...e,webIdentityToken:(0,M8.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[ST]&&(0,I8.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};eu.fromTokenFile=L8});var em=w((hee,tu)=>{"use strict";var bT=Object.defineProperty,U8=Object.getOwnPropertyDescriptor,F8=Object.getOwnPropertyNames,j8=Object.prototype.hasOwnProperty,Xp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of F8(t))!j8.call(e,s)&&s!==r&&bT(e,s,{get:()=>t[s],enumerable:!(n=U8(t,s))||n.enumerable});return e},ET=(e,t,r)=>(Xp(e,t,"default"),r&&Xp(r,t,"default")),H8=e=>Xp(bT({},"__esModule",{value:!0}),e),Zp={};tu.exports=H8(Zp);ET(Zp,vT(),tu.exports);ET(Zp,Yp(),tu.exports)});var OT=w((gee,xT)=>{"use strict";var q8=Object.create,$o=Object.defineProperty,B8=Object.getOwnPropertyDescriptor,z8=Object.getOwnPropertyNames,V8=Object.getPrototypeOf,W8=Object.prototype.hasOwnProperty,me=(e,t)=>$o(e,"name",{value:t,configurable:!0}),Q8=(e,t)=>{for(var r in t)$o(e,r,{get:t[r],enumerable:!0})},PT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z8(t))!W8.call(e,s)&&s!==r&&$o(e,s,{get:()=>t[s],enumerable:!(n=B8(t,s))||n.enumerable});return e},Cr=(e,t,r)=>(r=e!=null?q8(V8(e)):{},PT(t||!e||!e.__esModule?$o(r,"default",{value:e,enumerable:!0}):r,e)),G8=e=>PT($o({},"__esModule",{value:!0}),e),TT={};Q8(TT,{fromIni:()=>iq});xT.exports=G8(TT);var rm=fr(),Ar=(ut(),j(ir)),Do=Ne(),K8=me((e,t,r)=>{let n={EcsContainer:me(async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>Cr(jf())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Cr(Js()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Do.chain)(o(s??{}),i(s))().then(tm)},"EcsContainer"),Ec2InstanceMetadata:me(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>Cr(Js()));return async()=>o(s)().then(tm)},"Ec2InstanceMetadata"),Environment:me(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>Cr(Mf()));return async()=>o(s)().then(tm)},"Environment")};if(e in n)return n[e];throw new Do.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),tm=me(e=>(0,Ar.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),J8=me((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Y8(e,{profile:t,logger:r})||X8(e,{profile:t,logger:r})),"isAssumeRoleProfile"),Y8=me((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),X8=me((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),Z8=me(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:o,region:i}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Cr((Qp(),j(Wp))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new Do.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,rm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let a=o?RT(o,t,r,{...n,[o]:!0},wT(t[o]??{})):(await K8(s.credential_source,e,r.logger)(r))();if(wT(s))return a.then(c=>(0,Ar.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:u}=s;if(u){if(!r.mfaCodeProvider)throw new Do.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=u,c.TokenCode=await r.mfaCodeProvider(u)}let d=await a;return r.roleAssumer(d,c).then(l=>(0,Ar.setCredentialFeature)(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),wT=me(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),eq=me(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),tq=me(async(e,t)=>Promise.resolve().then(()=>Cr(Jp())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Ar.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),rq=me(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Cr(pp()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Ar.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Ar.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),nq=me(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),CT=me(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),AT=me(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Ar.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),sq=me(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),oq=me(async(e,t)=>Promise.resolve().then(()=>Cr(em())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Ar.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),RT=me(async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&CT(o))return AT(o,r);if(s||J8(o,{profile:e,logger:r.logger}))return Z8(e,t,r,n);if(CT(o))return AT(o,r);if(sq(o))return oq(o,r);if(eq(o))return tq(r,e);if(nq(o))return await rq(e,o,r);throw new Do.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),iq=me((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,rm.parseKnownFiles)(r);return RT((0,rm.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var UT=w((yee,LT)=>{"use strict";var aq=Object.create,Lo=Object.defineProperty,cq=Object.getOwnPropertyDescriptor,uq=Object.getOwnPropertyNames,lq=Object.getPrototypeOf,dq=Object.prototype.hasOwnProperty,ru=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),fq=(e,t)=>{for(var r in t)Lo(e,r,{get:t[r],enumerable:!0})},MT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uq(t))!dq.call(e,s)&&s!==r&&Lo(e,s,{get:()=>t[s],enumerable:!(n=cq(t,s))||n.enumerable});return e},Jn=(e,t,r)=>(r=e!=null?aq(lq(e)):{},MT(t||!e||!e.__esModule?Lo(r,"default",{value:e,enumerable:!0}):r,e)),pq=e=>MT(Lo({},"__esModule",{value:!0}),e),kT={};fq(kT,{credentialsTreatedAsExpired:()=>$T,credentialsWillNeedRefresh:()=>DT,defaultProvider:()=>gq});LT.exports=pq(kT);var nm=Mf(),mq=fr(),tn=Ne(),IT="AWS_EC2_METADATA_DISABLED",hq=ru(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Jn(Js()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>Jn(jf()));return(0,tn.chain)(o(e),n(e))}return process.env[IT]&&process.env[IT]!=="false"?async()=>{throw new tn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),NT=!1,gq=ru((e={})=>(0,tn.memoize)((0,tn.chain)(async()=>{if(e.profile??process.env[mq.ENV_PROFILE])throw process.env[nm.ENV_KEY]&&process.env[nm.ENV_SECRET]&&(NT||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),NT=!0)),new tn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,nm.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!t&&!r&&!n&&!s&&!o)throw new tn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Jn(pp()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Jn(OT()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Jn(Jp()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Jn(em()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await hq(e))()),async()=>{throw new tn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),$T,DT),"defaultProvider"),DT=ru(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),$T=ru(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var ZT=w(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.ruleSet=void 0;var KT="required",nt="fn",st="argv",Zn="ref",FT=!0,jT="isSet",Uo="booleanEquals",Yn="error",Xn="endpoint",Wt="tree",sm="PartitionResult",om="getAttr",HT={[KT]:!1,type:"String"},qT={[KT]:!0,default:!1,type:"Boolean"},BT={[Zn]:"Endpoint"},JT={[nt]:Uo,[st]:[{[Zn]:"UseFIPS"},!0]},YT={[nt]:Uo,[st]:[{[Zn]:"UseDualStack"},!0]},rt={},zT={[nt]:om,[st]:[{[Zn]:sm},"supportsFIPS"]},XT={[Zn]:sm},VT={[nt]:Uo,[st]:[!0,{[nt]:om,[st]:[XT,"supportsDualStack"]}]},WT=[JT],QT=[YT],GT=[{[Zn]:"Region"}],yq={version:"1.0",parameters:{Region:HT,UseDualStack:qT,UseFIPS:qT,Endpoint:HT},rules:[{conditions:[{[nt]:jT,[st]:[BT]}],rules:[{conditions:WT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yn},{conditions:QT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yn},{endpoint:{url:BT,properties:rt,headers:rt},type:Xn}],type:Wt},{conditions:[{[nt]:jT,[st]:GT}],rules:[{conditions:[{[nt]:"aws.partition",[st]:GT,assign:sm}],rules:[{conditions:[JT,YT],rules:[{conditions:[{[nt]:Uo,[st]:[FT,zT]},VT],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rt,headers:rt},type:Xn}],type:Wt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yn}],type:Wt},{conditions:WT,rules:[{conditions:[{[nt]:Uo,[st]:[zT,FT]}],rules:[{conditions:[{[nt]:"stringEquals",[st]:[{[nt]:om,[st]:[XT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:rt,headers:rt},type:Xn},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rt,headers:rt},type:Xn}],type:Wt},{error:"FIPS is enabled but this partition does not support FIPS",type:Yn}],type:Wt},{conditions:QT,rules:[{conditions:[VT],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rt,headers:rt},type:Xn}],type:Wt},{error:"DualStack is enabled but this partition does not support DualStack",type:Yn}],type:Wt},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:rt,headers:rt},type:Xn}],type:Wt}],type:Wt},{error:"Invalid Configuration: Missing Region",type:Yn}]};nu.ruleSet=yq});var eR=w(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.defaultEndpointResolver=void 0;var _q=yn(),im=gn(),Sq=ZT(),vq=new im.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),bq=(e,t={})=>vq.get(e,()=>(0,im.resolveEndpoint)(Sq.ruleSet,{endpointParams:e,logger:t.logger}));su.defaultEndpointResolver=bq;im.customEndpointFunctions.aws=_q.awsEndpointFunctions});var nR=w(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.getRuntimeConfig=void 0;var Eq=(ye(),j(bt)),wq=L(),Cq=nr(),tR=xe(),rR=de(),Aq=xf(),Pq=eR(),Tq=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??tR.fromBase64,base64Encoder:e?.base64Encoder??tR.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Pq.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Aq.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Eq.AwsSdkSigV4Signer}],logger:e?.logger??new wq.NoOpLogger,serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??Cq.parseUrl,utf8Decoder:e?.utf8Decoder??rR.fromUtf8,utf8Encoder:e?.utf8Encoder??rR.toUtf8});ou.getRuntimeConfig=Tq});var uR=w(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.getRuntimeConfig=void 0;var Rq=(In(),j(On)),xq=Rq.__importDefault(mw()),sR=(ye(),j(bt)),Oq=UT(),oR=Ys(),iu=wt(),iR=Xs(),aR=Ft(),rn=pr(),cR=xr(),Iq=Zs(),Nq=Tn(),Mq=nR(),kq=L(),Dq=ro(),$q=L(),Lq=e=>{(0,$q.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Dq.resolveDefaultsModeConfig)(e),r=()=>t().then(kq.loadConfigsForDefaultMode),n=(0,Mq.getRuntimeConfig)(e);(0,sR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,rn.loadConfig)(sR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Iq.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Oq.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,oR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:xq.default.version}),maxAttempts:e?.maxAttempts??(0,rn.loadConfig)(aR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??iR.Hash.bind(null,"md5"),region:e?.region??(0,rn.loadConfig)(iu.NODE_REGION_CONFIG_OPTIONS,{...iu.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:cR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,rn.loadConfig)({...aR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Nq.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??iR.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,rn.loadConfig)(iu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,rn.loadConfig)(iu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,rn.loadConfig)(oR.NODE_APP_ID_CONFIG_OPTIONS,s)}};au.getRuntimeConfig=Lq});var lu=w((Eee,Gx)=>{"use strict";var cu=Object.defineProperty,Uq=Object.getOwnPropertyDescriptor,Fq=Object.getOwnPropertyNames,jq=Object.prototype.hasOwnProperty,m=(e,t)=>cu(e,"name",{value:t,configurable:!0}),Hq=(e,t)=>{for(var r in t)cu(e,r,{get:t[r],enumerable:!0})},qq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fq(t))!jq.call(e,s)&&s!==r&&cu(e,s,{get:()=>t[s],enumerable:!(n=Uq(t,s))||n.enumerable});return e},Bq=e=>qq(cu({},"__esModule",{value:!0}),e),hR={};Hq(hR,{AddPermissionCommand:()=>Px,BatchEntryIdsNotDistinct:()=>DR,BatchRequestTooLong:()=>yx,CancelMessageMoveTaskCommand:()=>Tx,ChangeMessageVisibilityBatchCommand:()=>Rx,ChangeMessageVisibilityCommand:()=>xx,CreateQueueCommand:()=>Ox,DeleteMessageBatchCommand:()=>Ix,DeleteMessageCommand:()=>Nx,DeleteQueueCommand:()=>Mx,EmptyBatchRequest:()=>LR,GetQueueAttributesCommand:()=>kx,GetQueueUrlCommand:()=>Dx,InvalidAddress:()=>yR,InvalidAttributeName:()=>BR,InvalidAttributeValue:()=>VR,InvalidBatchEntryId:()=>FR,InvalidIdFormat:()=>YR,InvalidMessageContents:()=>hx,InvalidSecurity:()=>SR,KmsAccessDenied:()=>tx,KmsDisabled:()=>nx,KmsInvalidKeyUsage:()=>ox,KmsInvalidState:()=>ax,KmsNotFound:()=>ux,KmsOptInRequired:()=>dx,KmsThrottled:()=>px,ListDeadLetterSourceQueuesCommand:()=>cm,ListMessageMoveTasksCommand:()=>$x,ListQueueTagsCommand:()=>Lx,ListQueuesCommand:()=>um,MessageNotInflight:()=>IR,MessageSystemAttributeName:()=>e6,MessageSystemAttributeNameForSends:()=>t6,OverLimit:()=>bR,PurgeQueueCommand:()=>Ux,PurgeQueueInProgress:()=>ZR,QueueAttributeName:()=>Zq,QueueDeletedRecently:()=>QR,QueueDoesNotExist:()=>wR,QueueNameExists:()=>KR,ReceiptHandleIsInvalid:()=>MR,ReceiveMessageCommand:()=>Fx,RemovePermissionCommand:()=>jx,RequestThrottled:()=>AR,ResourceNotFoundException:()=>xR,SQS:()=>Qx,SQSClient:()=>uu,SQSServiceException:()=>W,SendMessageBatchCommand:()=>Hx,SendMessageCommand:()=>qx,SetQueueAttributesCommand:()=>Bx,StartMessageMoveTaskCommand:()=>zx,TagQueueCommand:()=>Vx,TooManyEntriesInBatchRequest:()=>HR,UnsupportedOperation:()=>TR,UntagQueueCommand:()=>Wx,__Client:()=>_.Client,paginateListDeadLetterSourceQueues:()=>pz,paginateListQueues:()=>mz});Gx.exports=Bq(hR);var lR=os(),zq=is(),Vq=as(),jo=Yy(),dR=Cn(),Wq=wt(),Fo=($e(),j(hn)),Qq=Vs(),te=mr(),fR=Ft(),pR=xf(),Gq=m(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),"resolveClientEndpointParameters"),se={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Kq=uR(),mR=no(),am=X(),_=L(),Jq=m(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Yq=m(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Xq=m((e,t)=>{let r=Object.assign((0,mR.getAwsRegionExtensionConfiguration)(e),(0,_.getDefaultExtensionConfiguration)(e),(0,am.getHttpHandlerExtensionConfiguration)(e),Jq(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,mR.resolveAwsRegionExtensionConfiguration)(r),(0,_.resolveDefaultRuntimeConfig)(r),(0,am.resolveHttpHandlerRuntimeConfig)(r),Yq(r))},"resolveRuntimeExtensions"),uu=class extends _.Client{static{m(this,"SQSClient")}config;constructor(...[e]){let t=(0,Kq.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Gq(t),n=(0,dR.resolveUserAgentConfig)(r),s=(0,fR.resolveRetryConfig)(n),o=(0,Wq.resolveRegionConfig)(s),i=(0,lR.resolveHostHeaderConfig)(o),a=(0,te.resolveEndpointConfig)(i),c=(0,jo.resolveQueueUrlConfig)(a),u=(0,pR.resolveHttpAuthSchemeConfig)(c),d=Xq(u,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,dR.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,fR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Qq.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,lR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zq.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Vq.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,jo.getQueueUrlPlugin)(this.config)),this.middlewareStack.use((0,Fo.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:pR.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:m(async l=>new Fo.DefaultIdentityProviderConfig({"aws.auth#sigv4":l.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Fo.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},oe=tr(),C=(ye(),j(bt)),W=class gR extends _.ServiceException{static{m(this,"SQSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,gR.prototype)}},yR=class _R extends W{static{m(this,"InvalidAddress")}name="InvalidAddress";$fault="client";constructor(t){super({name:"InvalidAddress",$fault:"client",...t}),Object.setPrototypeOf(this,_R.prototype)}},SR=class vR extends W{static{m(this,"InvalidSecurity")}name="InvalidSecurity";$fault="client";constructor(t){super({name:"InvalidSecurity",$fault:"client",...t}),Object.setPrototypeOf(this,vR.prototype)}},bR=class ER extends W{static{m(this,"OverLimit")}name="OverLimit";$fault="client";constructor(t){super({name:"OverLimit",$fault:"client",...t}),Object.setPrototypeOf(this,ER.prototype)}},wR=class CR extends W{static{m(this,"QueueDoesNotExist")}name="QueueDoesNotExist";$fault="client";constructor(t){super({name:"QueueDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,CR.prototype)}},AR=class PR extends W{static{m(this,"RequestThrottled")}name="RequestThrottled";$fault="client";constructor(t){super({name:"RequestThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,PR.prototype)}},TR=class RR extends W{static{m(this,"UnsupportedOperation")}name="UnsupportedOperation";$fault="client";constructor(t){super({name:"UnsupportedOperation",$fault:"client",...t}),Object.setPrototypeOf(this,RR.prototype)}},xR=class OR extends W{static{m(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,OR.prototype)}},IR=class NR extends W{static{m(this,"MessageNotInflight")}name="MessageNotInflight";$fault="client";constructor(t){super({name:"MessageNotInflight",$fault:"client",...t}),Object.setPrototypeOf(this,NR.prototype)}},MR=class kR extends W{static{m(this,"ReceiptHandleIsInvalid")}name="ReceiptHandleIsInvalid";$fault="client";constructor(t){super({name:"ReceiptHandleIsInvalid",$fault:"client",...t}),Object.setPrototypeOf(this,kR.prototype)}},DR=class $R extends W{static{m(this,"BatchEntryIdsNotDistinct")}name="BatchEntryIdsNotDistinct";$fault="client";constructor(t){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...t}),Object.setPrototypeOf(this,$R.prototype)}},LR=class UR extends W{static{m(this,"EmptyBatchRequest")}name="EmptyBatchRequest";$fault="client";constructor(t){super({name:"EmptyBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,UR.prototype)}},FR=class jR extends W{static{m(this,"InvalidBatchEntryId")}name="InvalidBatchEntryId";$fault="client";constructor(t){super({name:"InvalidBatchEntryId",$fault:"client",...t}),Object.setPrototypeOf(this,jR.prototype)}},HR=class qR extends W{static{m(this,"TooManyEntriesInBatchRequest")}name="TooManyEntriesInBatchRequest";$fault="client";constructor(t){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...t}),Object.setPrototypeOf(this,qR.prototype)}},Zq={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},BR=class zR extends W{static{m(this,"InvalidAttributeName")}name="InvalidAttributeName";$fault="client";constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),Object.setPrototypeOf(this,zR.prototype)}},VR=class WR extends W{static{m(this,"InvalidAttributeValue")}name="InvalidAttributeValue";$fault="client";constructor(t){super({name:"InvalidAttributeValue",$fault:"client",...t}),Object.setPrototypeOf(this,WR.prototype)}},QR=class GR extends W{static{m(this,"QueueDeletedRecently")}name="QueueDeletedRecently";$fault="client";constructor(t){super({name:"QueueDeletedRecently",$fault:"client",...t}),Object.setPrototypeOf(this,GR.prototype)}},KR=class JR extends W{static{m(this,"QueueNameExists")}name="QueueNameExists";$fault="client";constructor(t){super({name:"QueueNameExists",$fault:"client",...t}),Object.setPrototypeOf(this,JR.prototype)}},YR=class XR extends W{static{m(this,"InvalidIdFormat")}name="InvalidIdFormat";$fault="client";constructor(t){super({name:"InvalidIdFormat",$fault:"client",...t}),Object.setPrototypeOf(this,XR.prototype)}},ZR=class ex extends W{static{m(this,"PurgeQueueInProgress")}name="PurgeQueueInProgress";$fault="client";constructor(t){super({name:"PurgeQueueInProgress",$fault:"client",...t}),Object.setPrototypeOf(this,ex.prototype)}},tx=class rx extends W{static{m(this,"KmsAccessDenied")}name="KmsAccessDenied";$fault="client";constructor(t){super({name:"KmsAccessDenied",$fault:"client",...t}),Object.setPrototypeOf(this,rx.prototype)}},nx=class sx extends W{static{m(this,"KmsDisabled")}name="KmsDisabled";$fault="client";constructor(t){super({name:"KmsDisabled",$fault:"client",...t}),Object.setPrototypeOf(this,sx.prototype)}},ox=class ix extends W{static{m(this,"KmsInvalidKeyUsage")}name="KmsInvalidKeyUsage";$fault="client";constructor(t){super({name:"KmsInvalidKeyUsage",$fault:"client",...t}),Object.setPrototypeOf(this,ix.prototype)}},ax=class cx extends W{static{m(this,"KmsInvalidState")}name="KmsInvalidState";$fault="client";constructor(t){super({name:"KmsInvalidState",$fault:"client",...t}),Object.setPrototypeOf(this,cx.prototype)}},ux=class lx extends W{static{m(this,"KmsNotFound")}name="KmsNotFound";$fault="client";constructor(t){super({name:"KmsNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,lx.prototype)}},dx=class fx extends W{static{m(this,"KmsOptInRequired")}name="KmsOptInRequired";$fault="client";constructor(t){super({name:"KmsOptInRequired",$fault:"client",...t}),Object.setPrototypeOf(this,fx.prototype)}},px=class mx extends W{static{m(this,"KmsThrottled")}name="KmsThrottled";$fault="client";constructor(t){super({name:"KmsThrottled",$fault:"client",...t}),Object.setPrototypeOf(this,mx.prototype)}},e6={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},hx=class gx extends W{static{m(this,"InvalidMessageContents")}name="InvalidMessageContents";$fault="client";constructor(t){super({name:"InvalidMessageContents",$fault:"client",...t}),Object.setPrototypeOf(this,gx.prototype)}},t6={AWSTraceHeader:"AWSTraceHeader"},yx=class _x extends W{static{m(this,"BatchRequestTooLong")}name="BatchRequestTooLong";$fault="client";constructor(t){super({name:"BatchRequestTooLong",$fault:"client",...t}),Object.setPrototypeOf(this,_x.prototype)}},r6=m(async(e,t)=>{let r=re("AddPermission"),n;return n=JSON.stringify(wB(e,t)),ae(t,r,"/",void 0,n)},"se_AddPermissionCommand"),n6=m(async(e,t)=>{let r=re("CancelMessageMoveTask"),n;return n=JSON.stringify(AB(e,t)),ae(t,r,"/",void 0,n)},"se_CancelMessageMoveTaskCommand"),s6=m(async(e,t)=>{let r=re("ChangeMessageVisibility"),n;return n=JSON.stringify(xB(e,t)),ae(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityCommand"),o6=m(async(e,t)=>{let r=re("ChangeMessageVisibilityBatch"),n;return n=JSON.stringify(PB(e,t)),ae(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityBatchCommand"),i6=m(async(e,t)=>{let r=re("CreateQueue"),n;return n=JSON.stringify(OB(e,t)),ae(t,r,"/",void 0,n)},"se_CreateQueueCommand"),a6=m(async(e,t)=>{let r=re("DeleteMessage"),n;return n=JSON.stringify(kB(e,t)),ae(t,r,"/",void 0,n)},"se_DeleteMessageCommand"),c6=m(async(e,t)=>{let r=re("DeleteMessageBatch"),n;return n=JSON.stringify(IB(e,t)),ae(t,r,"/",void 0,n)},"se_DeleteMessageBatchCommand"),u6=m(async(e,t)=>{let r=re("DeleteQueue"),n;return n=JSON.stringify(DB(e,t)),ae(t,r,"/",void 0,n)},"se_DeleteQueueCommand"),l6=m(async(e,t)=>{let r=re("GetQueueAttributes"),n;return n=JSON.stringify($B(e,t)),ae(t,r,"/",void 0,n)},"se_GetQueueAttributesCommand"),d6=m(async(e,t)=>{let r=re("GetQueueUrl"),n;return n=JSON.stringify(LB(e,t)),ae(t,r,"/",void 0,n)},"se_GetQueueUrlCommand"),f6=m(async(e,t)=>{let r=re("ListDeadLetterSourceQueues"),n;return n=JSON.stringify(UB(e,t)),ae(t,r,"/",void 0,n)},"se_ListDeadLetterSourceQueuesCommand"),p6=m(async(e,t)=>{let r=re("ListMessageMoveTasks"),n;return n=JSON.stringify(FB(e,t)),ae(t,r,"/",void 0,n)},"se_ListMessageMoveTasksCommand"),m6=m(async(e,t)=>{let r=re("ListQueues"),n;return n=JSON.stringify(jB(e,t)),ae(t,r,"/",void 0,n)},"se_ListQueuesCommand"),h6=m(async(e,t)=>{let r=re("ListQueueTags"),n;return n=JSON.stringify(HB(e,t)),ae(t,r,"/",void 0,n)},"se_ListQueueTagsCommand"),g6=m(async(e,t)=>{let r=re("PurgeQueue"),n;return n=JSON.stringify(WB(e,t)),ae(t,r,"/",void 0,n)},"se_PurgeQueueCommand"),y6=m(async(e,t)=>{let r=re("ReceiveMessage"),n;return n=JSON.stringify(QB(e,t)),ae(t,r,"/",void 0,n)},"se_ReceiveMessageCommand"),_6=m(async(e,t)=>{let r=re("RemovePermission"),n;return n=JSON.stringify(GB(e,t)),ae(t,r,"/",void 0,n)},"se_RemovePermissionCommand"),S6=m(async(e,t)=>{let r=re("SendMessage"),n;return n=JSON.stringify(XB(e,t)),ae(t,r,"/",void 0,n)},"se_SendMessageCommand"),v6=m(async(e,t)=>{let r=re("SendMessageBatch"),n;return n=JSON.stringify(KB(e,t)),ae(t,r,"/",void 0,n)},"se_SendMessageBatchCommand"),b6=m(async(e,t)=>{let r=re("SetQueueAttributes"),n;return n=JSON.stringify(ZB(e,t)),ae(t,r,"/",void 0,n)},"se_SetQueueAttributesCommand"),E6=m(async(e,t)=>{let r=re("StartMessageMoveTask"),n;return n=JSON.stringify(ez(e,t)),ae(t,r,"/",void 0,n)},"se_StartMessageMoveTaskCommand"),w6=m(async(e,t)=>{let r=re("TagQueue"),n;return n=JSON.stringify(rz(e,t)),ae(t,r,"/",void 0,n)},"se_TagQueueCommand"),C6=m(async(e,t)=>{let r=re("UntagQueue"),n;return n=JSON.stringify(nz(e,t)),ae(t,r,"/",void 0,n)},"se_UntagQueueCommand"),A6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_AddPermissionCommand"),P6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_CancelMessageMoveTaskCommand"),T6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_ChangeMessageVisibilityCommand"),R6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_ChangeMessageVisibilityBatchCommand"),x6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_CreateQueueCommand"),O6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_DeleteMessageCommand"),I6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_DeleteMessageBatchCommand"),N6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_DeleteQueueCommand"),M6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_GetQueueAttributesCommand"),k6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_GetQueueUrlCommand"),D6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_ListDeadLetterSourceQueuesCommand"),$6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_ListMessageMoveTasksCommand"),L6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_ListQueuesCommand"),U6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_ListQueueTagsCommand"),F6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_PurgeQueueCommand"),j6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=uz(r,t),{$metadata:N(e),...n}},"de_ReceiveMessageCommand"),H6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_RemovePermissionCommand"),q6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_SendMessageCommand"),B6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_SendMessageBatchCommand"),z6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_SetQueueAttributesCommand"),V6=m(async(e,t)=>{if(e.statusCode>=300)return ie(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:N(e),...n}},"de_StartMessageMoveTaskCommand"),W6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_TagQueueCommand"),Q6=m(async(e,t)=>e.statusCode>=300?ie(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:N(e)}),"de_UntagQueueCommand"),ie=m(async(e,t)=>{let r={...e,body:await(0,C.parseJsonErrorBody)(e.body,t)};dz(r,e.headers);let n=(0,C.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidAddress":case"com.amazonaws.sqs#InvalidAddress":throw await Y6(r,t);case"InvalidSecurity":case"com.amazonaws.sqs#InvalidSecurity":throw await nB(r,t);case"OverLimit":case"com.amazonaws.sqs#OverLimit":throw await fB(r,t);case"QueueDoesNotExist":case"com.amazonaws.sqs#QueueDoesNotExist":case"AWS.SimpleQueueService.NonExistentQueue":throw await hB(r,t);case"RequestThrottled":case"com.amazonaws.sqs#RequestThrottled":throw await _B(r,t);case"UnsupportedOperation":case"com.amazonaws.sqs#UnsupportedOperation":case"AWS.SimpleQueueService.UnsupportedOperation":throw await bB(r,t);case"ResourceNotFoundException":case"com.amazonaws.sqs#ResourceNotFoundException":throw await SB(r,t);case"MessageNotInflight":case"com.amazonaws.sqs#MessageNotInflight":case"AWS.SimpleQueueService.MessageNotInflight":throw await dB(r,t);case"ReceiptHandleIsInvalid":case"com.amazonaws.sqs#ReceiptHandleIsInvalid":throw await yB(r,t);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sqs#BatchEntryIdsNotDistinct":case"AWS.SimpleQueueService.BatchEntryIdsNotDistinct":throw await G6(r,t);case"EmptyBatchRequest":case"com.amazonaws.sqs#EmptyBatchRequest":case"AWS.SimpleQueueService.EmptyBatchRequest":throw await J6(r,t);case"InvalidBatchEntryId":case"com.amazonaws.sqs#InvalidBatchEntryId":case"AWS.SimpleQueueService.InvalidBatchEntryId":throw await eB(r,t);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sqs#TooManyEntriesInBatchRequest":case"AWS.SimpleQueueService.TooManyEntriesInBatchRequest":throw await vB(r,t);case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await X6(r,t);case"InvalidAttributeValue":case"com.amazonaws.sqs#InvalidAttributeValue":throw await Z6(r,t);case"QueueDeletedRecently":case"com.amazonaws.sqs#QueueDeletedRecently":case"AWS.SimpleQueueService.QueueDeletedRecently":throw await mB(r,t);case"QueueNameExists":case"com.amazonaws.sqs#QueueNameExists":case"QueueAlreadyExists":throw await gB(r,t);case"InvalidIdFormat":case"com.amazonaws.sqs#InvalidIdFormat":throw await tB(r,t);case"PurgeQueueInProgress":case"com.amazonaws.sqs#PurgeQueueInProgress":case"AWS.SimpleQueueService.PurgeQueueInProgress":throw await pB(r,t);case"KmsAccessDenied":case"com.amazonaws.sqs#KmsAccessDenied":case"KMS.AccessDeniedException":throw await sB(r,t);case"KmsDisabled":case"com.amazonaws.sqs#KmsDisabled":case"KMS.DisabledException":throw await oB(r,t);case"KmsInvalidKeyUsage":case"com.amazonaws.sqs#KmsInvalidKeyUsage":case"KMS.InvalidKeyUsageException":throw await iB(r,t);case"KmsInvalidState":case"com.amazonaws.sqs#KmsInvalidState":case"KMS.InvalidStateException":throw await aB(r,t);case"KmsNotFound":case"com.amazonaws.sqs#KmsNotFound":case"KMS.NotFoundException":throw await cB(r,t);case"KmsOptInRequired":case"com.amazonaws.sqs#KmsOptInRequired":case"KMS.OptInRequired":throw await uB(r,t);case"KmsThrottled":case"com.amazonaws.sqs#KmsThrottled":case"KMS.ThrottlingException":throw await lB(r,t);case"InvalidMessageContents":case"com.amazonaws.sqs#InvalidMessageContents":throw await rB(r,t);case"BatchRequestTooLong":case"com.amazonaws.sqs#BatchRequestTooLong":case"AWS.SimpleQueueService.BatchRequestTooLong":throw await K6(r,t);default:let s=r.body;return lz({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),G6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new DR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_BatchEntryIdsNotDistinctRes"),K6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new yx({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_BatchRequestTooLongRes"),J6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new LR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_EmptyBatchRequestRes"),Y6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new yR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidAddressRes"),X6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new BR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidAttributeNameRes"),Z6=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new VR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidAttributeValueRes"),eB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new FR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidBatchEntryIdRes"),tB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new YR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidIdFormatRes"),rB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new hx({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidMessageContentsRes"),nB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new SR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_InvalidSecurityRes"),sB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new tx({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsAccessDeniedRes"),oB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new nx({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsDisabledRes"),iB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new ox({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsInvalidKeyUsageRes"),aB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new ax({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsInvalidStateRes"),cB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new ux({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsNotFoundRes"),uB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new dx({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsOptInRequiredRes"),lB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new px({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_KmsThrottledRes"),dB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new IR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_MessageNotInflightRes"),fB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new bR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_OverLimitRes"),pB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new ZR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_PurgeQueueInProgressRes"),mB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new QR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_QueueDeletedRecentlyRes"),hB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new wR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_QueueDoesNotExistRes"),gB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new KR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_QueueNameExistsRes"),yB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new MR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_ReceiptHandleIsInvalidRes"),_B=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new AR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_RequestThrottledRes"),SB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new xR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),vB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new HR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_TooManyEntriesInBatchRequestRes"),bB=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),s=new TR({$metadata:N(e),...n});return(0,_.decorateServiceException)(s,r)},"de_UnsupportedOperationRes"),EB=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_ActionNameList"),wB=m((e,t)=>(0,_.take)(e,{AWSAccountIds:m(r=>CB(r,t),"AWSAccountIds"),Actions:m(r=>EB(r,t),"Actions"),Label:C._toStr,QueueUrl:C._toStr}),"se_AddPermissionRequest"),Sx=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_AttributeNameList"),CB=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_AWSAccountIdList"),vx=m((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinaryList"),AB=m((e,t)=>(0,_.take)(e,{TaskHandle:C._toStr}),"se_CancelMessageMoveTaskRequest"),PB=m((e,t)=>(0,_.take)(e,{Entries:m(r=>RB(r,t),"Entries"),QueueUrl:C._toStr}),"se_ChangeMessageVisibilityBatchRequest"),TB=m((e,t)=>(0,_.take)(e,{Id:C._toStr,ReceiptHandle:C._toStr,VisibilityTimeout:C._toNum}),"se_ChangeMessageVisibilityBatchRequestEntry"),RB=m((e,t)=>e.filter(r=>r!=null).map(r=>TB(r,t)),"se_ChangeMessageVisibilityBatchRequestEntryList"),xB=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,ReceiptHandle:C._toStr,VisibilityTimeout:C._toNum}),"se_ChangeMessageVisibilityRequest"),OB=m((e,t)=>(0,_.take)(e,{Attributes:m(r=>wx(r,t),"Attributes"),QueueName:C._toStr,tags:m(r=>Ax(r,t),"tags")}),"se_CreateQueueRequest"),IB=m((e,t)=>(0,_.take)(e,{Entries:m(r=>MB(r,t),"Entries"),QueueUrl:C._toStr}),"se_DeleteMessageBatchRequest"),NB=m((e,t)=>(0,_.take)(e,{Id:C._toStr,ReceiptHandle:C._toStr}),"se_DeleteMessageBatchRequestEntry"),MB=m((e,t)=>e.filter(r=>r!=null).map(r=>NB(r,t)),"se_DeleteMessageBatchRequestEntryList"),kB=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,ReceiptHandle:C._toStr}),"se_DeleteMessageRequest"),DB=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_DeleteQueueRequest"),$B=m((e,t)=>(0,_.take)(e,{AttributeNames:m(r=>Sx(r,t),"AttributeNames"),QueueUrl:C._toStr}),"se_GetQueueAttributesRequest"),LB=m((e,t)=>(0,_.take)(e,{QueueName:C._toStr,QueueOwnerAWSAccountId:C._toStr}),"se_GetQueueUrlRequest"),UB=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,NextToken:C._toStr,QueueUrl:C._toStr}),"se_ListDeadLetterSourceQueuesRequest"),FB=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,SourceArn:C._toStr}),"se_ListMessageMoveTasksRequest"),jB=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,NextToken:C._toStr,QueueNamePrefix:C._toStr}),"se_ListQueuesRequest"),HB=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_ListQueueTagsRequest"),qB=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_MessageAttributeNameList"),BB=m((e,t)=>(0,_.take)(e,{BinaryListValues:m(r=>vx(r,t),"BinaryListValues"),BinaryValue:t.base64Encoder,DataType:C._toStr,StringListValues:m(r=>Cx(r,t),"StringListValues"),StringValue:C._toStr}),"se_MessageAttributeValue"),bx=m((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=BB(s,t)),r),{}),"se_MessageBodyAttributeMap"),Ex=m((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=VB(s,t)),r),{}),"se_MessageBodySystemAttributeMap"),zB=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_MessageSystemAttributeList"),VB=m((e,t)=>(0,_.take)(e,{BinaryListValues:m(r=>vx(r,t),"BinaryListValues"),BinaryValue:t.base64Encoder,DataType:C._toStr,StringListValues:m(r=>Cx(r,t),"StringListValues"),StringValue:C._toStr}),"se_MessageSystemAttributeValue"),WB=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_PurgeQueueRequest"),wx=m((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,C._toStr)(s)),r),{}),"se_QueueAttributeMap"),QB=m((e,t)=>(0,_.take)(e,{AttributeNames:m(r=>Sx(r,t),"AttributeNames"),MaxNumberOfMessages:C._toNum,MessageAttributeNames:m(r=>qB(r,t),"MessageAttributeNames"),MessageSystemAttributeNames:m(r=>zB(r,t),"MessageSystemAttributeNames"),QueueUrl:C._toStr,ReceiveRequestAttemptId:C._toStr,VisibilityTimeout:C._toNum,WaitTimeSeconds:C._toNum}),"se_ReceiveMessageRequest"),GB=m((e,t)=>(0,_.take)(e,{Label:C._toStr,QueueUrl:C._toStr}),"se_RemovePermissionRequest"),KB=m((e,t)=>(0,_.take)(e,{Entries:m(r=>YB(r,t),"Entries"),QueueUrl:C._toStr}),"se_SendMessageBatchRequest"),JB=m((e,t)=>(0,_.take)(e,{DelaySeconds:C._toNum,Id:C._toStr,MessageAttributes:m(r=>bx(r,t),"MessageAttributes"),MessageBody:C._toStr,MessageDeduplicationId:C._toStr,MessageGroupId:C._toStr,MessageSystemAttributes:m(r=>Ex(r,t),"MessageSystemAttributes")}),"se_SendMessageBatchRequestEntry"),YB=m((e,t)=>e.filter(r=>r!=null).map(r=>JB(r,t)),"se_SendMessageBatchRequestEntryList"),XB=m((e,t)=>(0,_.take)(e,{DelaySeconds:C._toNum,MessageAttributes:m(r=>bx(r,t),"MessageAttributes"),MessageBody:C._toStr,MessageDeduplicationId:C._toStr,MessageGroupId:C._toStr,MessageSystemAttributes:m(r=>Ex(r,t),"MessageSystemAttributes"),QueueUrl:C._toStr}),"se_SendMessageRequest"),ZB=m((e,t)=>(0,_.take)(e,{Attributes:m(r=>wx(r,t),"Attributes"),QueueUrl:C._toStr}),"se_SetQueueAttributesRequest"),ez=m((e,t)=>(0,_.take)(e,{DestinationArn:C._toStr,MaxNumberOfMessagesPerSecond:C._toNum,SourceArn:C._toStr}),"se_StartMessageMoveTaskRequest"),Cx=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_StringList"),tz=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_TagKeyList"),Ax=m((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,C._toStr)(s)),r),{}),"se_TagMap"),rz=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,Tags:m(r=>Ax(r,t),"Tags")}),"se_TagQueueRequest"),nz=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,TagKeys:m(r=>tz(r,t),"TagKeys")}),"se_UntagQueueRequest"),sz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinaryList"),oz=m((e,t)=>(0,_.take)(e,{Attributes:_._json,Body:_.expectString,MD5OfBody:_.expectString,MD5OfMessageAttributes:_.expectString,MessageAttributes:m(r=>az(r,t),"MessageAttributes"),MessageId:_.expectString,ReceiptHandle:_.expectString}),"de_Message"),iz=m((e,t)=>(0,_.take)(e,{BinaryListValues:m(r=>sz(r,t),"BinaryListValues"),BinaryValue:t.base64Decoder,DataType:_.expectString,StringListValues:_._json,StringValue:_.expectString}),"de_MessageAttributeValue"),az=m((e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=iz(s,t)),r),{}),"de_MessageBodyAttributeMap"),cz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oz(n,t)),"de_MessageList"),uz=m((e,t)=>(0,_.take)(e,{Messages:m(r=>cz(r,t),"Messages")}),"de_ReceiveMessageResult"),N=m(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),lz=(0,_.withBaseException)(W),ae=m(async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(u.hostname=n),s!==void 0&&(u.body=s),new am.HttpRequest(u)},"buildHttpRpcRequest");function re(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AmazonSQS.${e}`,"x-amzn-query-mode":"true"}}m(re,"sharedHeaders");var dz=m((e,t)=>{let r=t["x-amzn-query-error"];if(e.body!==void 0&&r!=null){let[n,s]=r.split(";"),o=Object.entries(e.body),i={Type:s,Code:n};Object.assign(e.body,i);for(let[a,c]of o)i[a]=c;delete i.__type,e.body.Error=i}},"populateBodyWithQueryCompatibility"),Px=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").f(void 0,void 0).ser(r6).de(A6).build(){static{m(this,"AddPermissionCommand")}},Tx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").f(void 0,void 0).ser(n6).de(P6).build(){static{m(this,"CancelMessageMoveTaskCommand")}},Rx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").f(void 0,void 0).ser(o6).de(R6).build(){static{m(this,"ChangeMessageVisibilityBatchCommand")}},xx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").f(void 0,void 0).ser(s6).de(T6).build(){static{m(this,"ChangeMessageVisibilityCommand")}},Ox=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").f(void 0,void 0).ser(i6).de(x6).build(){static{m(this,"CreateQueueCommand")}},Ix=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").f(void 0,void 0).ser(c6).de(I6).build(){static{m(this,"DeleteMessageBatchCommand")}},Nx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").f(void 0,void 0).ser(a6).de(O6).build(){static{m(this,"DeleteMessageCommand")}},Mx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").f(void 0,void 0).ser(u6).de(N6).build(){static{m(this,"DeleteQueueCommand")}},kx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").f(void 0,void 0).ser(l6).de(M6).build(){static{m(this,"GetQueueAttributesCommand")}},Dx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").f(void 0,void 0).ser(d6).de(k6).build(){static{m(this,"GetQueueUrlCommand")}},cm=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").f(void 0,void 0).ser(f6).de(D6).build(){static{m(this,"ListDeadLetterSourceQueuesCommand")}},$x=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").f(void 0,void 0).ser(p6).de($6).build(){static{m(this,"ListMessageMoveTasksCommand")}},um=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").f(void 0,void 0).ser(m6).de(L6).build(){static{m(this,"ListQueuesCommand")}},Lx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").f(void 0,void 0).ser(h6).de(U6).build(){static{m(this,"ListQueueTagsCommand")}},Ux=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").f(void 0,void 0).ser(g6).de(F6).build(){static{m(this,"PurgeQueueCommand")}},Fx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,jo.getReceiveMessagePlugin)(r)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").f(void 0,void 0).ser(y6).de(j6).build(){static{m(this,"ReceiveMessageCommand")}},jx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").f(void 0,void 0).ser(_6).de(H6).build(){static{m(this,"RemovePermissionCommand")}},Hx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,jo.getSendMessageBatchPlugin)(r)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").f(void 0,void 0).ser(v6).de(B6).build(){static{m(this,"SendMessageBatchCommand")}},qx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions()),(0,jo.getSendMessagePlugin)(r)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").f(void 0,void 0).ser(S6).de(q6).build(){static{m(this,"SendMessageCommand")}},Bx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").f(void 0,void 0).ser(b6).de(z6).build(){static{m(this,"SetQueueAttributesCommand")}},zx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").f(void 0,void 0).ser(E6).de(V6).build(){static{m(this,"StartMessageMoveTaskCommand")}},Vx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").f(void 0,void 0).ser(w6).de(W6).build(){static{m(this,"TagQueueCommand")}},Wx=class extends _.Command.classBuilder().ep(se).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,te.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").f(void 0,void 0).ser(C6).de(Q6).build(){static{m(this,"UntagQueueCommand")}},fz={AddPermissionCommand:Px,CancelMessageMoveTaskCommand:Tx,ChangeMessageVisibilityCommand:xx,ChangeMessageVisibilityBatchCommand:Rx,CreateQueueCommand:Ox,DeleteMessageCommand:Nx,DeleteMessageBatchCommand:Ix,DeleteQueueCommand:Mx,GetQueueAttributesCommand:kx,GetQueueUrlCommand:Dx,ListDeadLetterSourceQueuesCommand:cm,ListMessageMoveTasksCommand:$x,ListQueuesCommand:um,ListQueueTagsCommand:Lx,PurgeQueueCommand:Ux,ReceiveMessageCommand:Fx,RemovePermissionCommand:jx,SendMessageCommand:qx,SendMessageBatchCommand:Hx,SetQueueAttributesCommand:Bx,StartMessageMoveTaskCommand:zx,TagQueueCommand:Vx,UntagQueueCommand:Wx},Qx=class extends uu{static{m(this,"SQS")}};(0,_.createAggregatedClient)(fz,Qx);var pz=(0,Fo.createPaginator)(uu,cm,"NextToken","NextToken","MaxResults"),mz=(0,Fo.createPaginator)(uu,um,"NextToken","NextToken","MaxResults")});var Ho=w(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.getHomeDir=void 0;var Uz=require("os"),Fz=require("path"),jz=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Fz.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,Uz.homedir)())};mu.getHomeDir=jz});var pO=w(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.getProfileName=xt.DEFAULT_PROFILE=xt.ENV_PROFILE=void 0;xt.ENV_PROFILE="AWS_PROFILE";xt.DEFAULT_PROFILE="default";var Hz=e=>e.profile||process.env[xt.ENV_PROFILE]||xt.DEFAULT_PROFILE;xt.getProfileName=Hz});var Sm=w(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.getSSOTokenFilepath=void 0;var qz=require("crypto"),Bz=require("path"),zz=Ho(),Vz=e=>{let r=(0,qz.createHash)("sha1").update(e).digest("hex");return(0,Bz.join)((0,zz.getHomeDir)(),".aws","sso","cache",`${r}.json`)};hu.getSSOTokenFilepath=Vz});var mO=w(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.getSSOTokenFromFile=void 0;var Wz=require("fs"),Qz=Sm(),{readFile:Gz}=Wz.promises,Kz=async e=>{let t=(0,Qz.getSSOTokenFilepath)(e),r=await Gz(t,"utf8");return JSON.parse(r)};gu.getSSOTokenFromFile=Kz});var vm=w(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.getConfigFilepath=sn.ENV_CONFIG_PATH=void 0;var Jz=require("path"),Yz=Ho();sn.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var Xz=()=>process.env[sn.ENV_CONFIG_PATH]||(0,Jz.join)((0,Yz.getHomeDir)(),".aws","config");sn.getConfigFilepath=Xz});var hO=w(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.getCredentialsFilepath=on.ENV_CREDENTIALS_PATH=void 0;var Zz=require("path"),e7=Ho();on.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var t7=()=>process.env[on.ENV_CREDENTIALS_PATH]||(0,Zz.join)((0,e7.getHomeDir)(),".aws","credentials");on.getCredentialsFilepath=t7});var yO=w(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.getProfileData=void 0;var gO=/^profile\s(["'])?([^\1]+)\1$/,r7=e=>Object.entries(e).filter(([t])=>gO.test(t)).reduce((t,[r,n])=>({...t,[gO.exec(r)[2]]:n}),{...e.default&&{default:e.default}});yu.getProfileData=r7});var bm=w(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.parseIni=void 0;var n7=["__proto__","profile __proto__"],s7=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),n7.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[u,d]=[n.substring(0,o).trim(),n.substring(o+1).trim()];t[r]=t[r]||{},t[r][u]=d}}return t};_u.parseIni=s7});var wm=w(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.slurpFile=void 0;var o7=require("fs"),{readFile:i7}=o7.promises,Em={},a7=(e,t)=>((!Em[e]||t?.ignoreCache)&&(Em[e]=i7(e,"utf8")),Em[e]);Su.slurpFile=a7});var Cm=w(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.loadSharedConfigFiles=void 0;var c7=vm(),u7=hO(),l7=yO(),_O=bm(),SO=wm(),vO=()=>({}),d7=async(e={})=>{let{filepath:t=(0,u7.getCredentialsFilepath)(),configFilepath:r=(0,c7.getConfigFilepath)()}=e,n=await Promise.all([(0,SO.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(_O.parseIni).then(l7.getProfileData).catch(vO),(0,SO.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(_O.parseIni).catch(vO)]);return{configFile:n[0],credentialsFile:n[1]}};vu.loadSharedConfigFiles=d7});var EO=w(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.getSsoSessionData=void 0;var bO=/^sso-session\s(["'])?([^\1]+)\1$/,f7=e=>Object.entries(e).filter(([t])=>bO.test(t)).reduce((t,[r,n])=>({...t,[bO.exec(r)[2]]:n}),{});bu.getSsoSessionData=f7});var wO=w(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.loadSsoSessionData=void 0;var p7=vm(),m7=EO(),h7=bm(),g7=wm(),y7=()=>({}),_7=async(e={})=>{var t;return(0,g7.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,p7.getConfigFilepath)()).then(h7.parseIni).then(m7.getSsoSessionData).catch(y7)};Eu.loadSsoSessionData=_7});var CO=w(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.mergeConfigFiles=void 0;var S7=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t};wu.mergeConfigFiles=S7});var AO=w(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.parseKnownFiles=void 0;var v7=Cm(),b7=CO(),E7=async e=>{let t=await(0,v7.loadSharedConfigFiles)(e);return(0,b7.mergeConfigFiles)(t.configFile,t.credentialsFile)};Cu.parseKnownFiles=E7});var TO=w(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0})});var RO=w(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});var Pr=(In(),j(On));Pr.__exportStar(Ho(),Ot);Pr.__exportStar(pO(),Ot);Pr.__exportStar(Sm(),Ot);Pr.__exportStar(mO(),Ot);Pr.__exportStar(Cm(),Ot);Pr.__exportStar(wO(),Ot);Pr.__exportStar(AO(),Ot);Pr.__exportStar(TO(),Ot)});var xO=w(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});var w7=(In(),j(On));w7.__exportStar(RO(),Am)});var O7={};ot(O7,{default:()=>DO});module.exports=j(O7);var xu=v(lu()),x=require("@raycast/api");var D=v(require("react")),G=require("@raycast/api");var Kx=Object.prototype.hasOwnProperty;function du(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&du(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Kx.call(e,r)&&++n&&!Kx.call(t,r)||!(r in t)||!du(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var nn=v(require("node:fs")),pu=v(require("node:path")),sO=v(require("node:crypto")),oO=v(require("node:child_process")),iO=require("node:buffer"),ts=v(require("node:stream")),aO=require("node:util");var cO=require("react/jsx-runtime");var lm=globalThis;function hz(e){let t=(0,D.useRef)(e),r=(0,D.useRef)(0);return du(e,t.current)||(t.current=e,r.current+=1),(0,D.useMemo)(()=>t.current,[r.current])}function Ae(e){let t=(0,D.useRef)(e);return t.current=e,t}function gz(e,t){let r=e instanceof Error?e.message:String(e);return(0,G.showToast)({style:G.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??Jx(e),secondaryAction:t?.primaryAction?Jx(e):void 0})}var Jx=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,nn.readFileSync)((0,pu.join)(G.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let s=G.environment.isDevelopment||t,o=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?G.Clipboard.copy(o):(0,G.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function yz(e,t,r){let n=(0,D.useRef)(0),[s,o]=(0,D.useState)({isLoading:!0}),i=Ae(e),a=Ae(r?.abortable),c=Ae(t||[]),u=Ae(r?.onError),d=Ae(r?.onData),l=Ae(r?.onWillExecute),f=Ae(r?.failureToastOptions),p=Ae(s.data),h=(0,D.useRef)(null),g=(0,D.useRef)({page:0}),S=(0,D.useRef)(!1),b=(0,D.useRef)(!0),E=(0,D.useRef)(50),T=(0,D.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),A=(0,D.useCallback)((...ce)=>{let Se=T();l.current?.(ce),o(V=>({...V,isLoading:!0}));let Gt=_z(i.current)(...ce);function Kt(V){return V.name=="AbortError"||Se===n.current&&(u.current?u.current(V):G.environment.launchType!==G.LaunchType.Background&&gz(V,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(It){It.hide(),h.current?.(...c.current||[])}},...f.current}),o({error:V,isLoading:!1})),V}return typeof Gt=="function"?(S.current=!0,Gt(g.current).then(({data:V,hasMore:It,cursor:Ou})=>(Se===n.current&&(g.current&&(g.current.cursor=Ou,g.current.lastItem=V?.[V.length-1]),d.current&&d.current(V,g.current),It&&(E.current=V.length),b.current=It,o(Iu=>g.current.page===0?{data:V,isLoading:!1}:{data:(Iu.data||[])?.concat(V),isLoading:!1})),V),V=>(b.current=!1,Kt(V)))):(S.current=!1,Gt.then(V=>(Se===n.current&&(d.current&&d.current(V),o({data:V,isLoading:!1})),V),Kt))},[d,u,c,i,o,h,l,g,f,T]);h.current=A;let R=(0,D.useCallback)(()=>{g.current={page:0};let ce=c.current||[];return A(...ce)},[A,c]),k=(0,D.useCallback)(async(ce,Se)=>{let Gt;try{if(Se?.optimisticUpdate){T(),typeof Se?.rollbackOnError!="function"&&Se?.rollbackOnError!==!1&&(Gt=structuredClone(p.current?.value));let Kt=Se.optimisticUpdate;o(V=>({...V,data:Kt(V.data)}))}return await ce}catch(Kt){if(typeof Se?.rollbackOnError=="function"){let V=Se.rollbackOnError;o(It=>({...It,data:V(It.data)}))}else Se?.optimisticUpdate&&Se?.rollbackOnError!==!1&&o(V=>({...V,data:Gt}));throw Kt}finally{Se?.shouldRevalidateAfter!==!1&&(G.environment.launchType===G.LaunchType.Background||G.environment.commandMode==="menu-bar"?await R():R())}},[R,p,o,T]),Pe=(0,D.useCallback)(()=>{g.current.page+=1;let ce=c.current||[];A(...ce)},[g,c,A]);(0,D.useEffect)(()=>{g.current={page:0},r?.execute!==!1?A(...t||[]):T()},[hz([t,r?.execute,A]),a,g]),(0,D.useEffect)(()=>()=>{T()},[T]);let J=r?.execute!==!1?s.isLoading:!1,he={...s,isLoading:J},Y=S.current?{pageSize:E.current,hasMore:b.current,onLoadMore:Pe}:void 0;return{...he,revalidate:R,mutate:k,pagination:Y}}function _z(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Yx(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Sz(e){return e instanceof URLSearchParams?e.toString():e}function uO(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=Sz(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,o=Object.prototype.toString.call(n),i=s.exec(o)?.[1]??"unknown:["+o+"]";i=i.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),Yx(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let u=this;return c.forEach(function(d){u.dispatch(d),r(":"),u.dispatch(n[d]),r(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let o=this;if(r("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(c){o.dispatch(c)});return}let i=[],a=n.map(function(c){let u=vz(),d=t.slice();return uO(u,d).dispatch(c),i=i.concat(d.slice(t.length)),u.read().toString()});t=t.concat(i),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Yx(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){r("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function vz(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function bz(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function Ez(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function Xx(e){let t=sO.default.createHash("sha1");return uO(t).dispatch(e),t.digest("hex")}var wz=Symbol("cache without namespace"),Zx=new Map;function rs(e,t,r){let n=r?.cacheNamespace||wz,s=Zx.get(n)||Zx.set(n,new G.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let o=Ae(e),i=Ae(t),a=(0,D.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(o.current)}catch(l){console.error("Could not get Cache data:",l);return}}),c=(0,D.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,Ez)}catch(l){return console.warn("The cached data is corrupted",l),i.current}}else return i.current},[a,i]),u=Ae(c),d=(0,D.useCallback)(l=>{let f=typeof l=="function"?l(u.current):l;if(typeof f>"u")s.set(o.current,"undefined");else{let p=JSON.stringify(f,bz);s.set(o.current,p)}return f},[s,o,u]);return[c,d]}var es=Symbol();function ns(e,t,r){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:o,...i}=r||{},a=(0,D.useRef)(null),[c,u]=rs(Xx(t||[])+o,es,{cacheNamespace:Xx(e)}),d=(0,D.useRef)(c!==es?c:n),l=(0,D.useRef)(void 0),{mutate:f,revalidate:p,...h}=yz(e,t||[],{...i,onData(T,A){l.current=A,i.onData&&i.onData(T,A),!(A&&A.page>0)&&(a.current="promise",d.current=T,u(T))}}),g,S=h.pagination;l.current&&l.current.page>0&&h.data?g=h.data:a.current==="promise"?g=d.current:s&&c!==es?(g=c,S&&(S.hasMore=!0,S.pageSize=c.length)):s&&c===es?g=d.current:c!==es?(g=c,S&&(S.hasMore=!0,S.pageSize=c.length)):g=n;let b=Ae(g),E=(0,D.useCallback)(async(T,A)=>{let R;try{if(A?.optimisticUpdate){typeof A?.rollbackOnError!="function"&&A?.rollbackOnError!==!1&&(R=structuredClone(b.current));let k=A.optimisticUpdate(b.current);a.current="cache",d.current=k,u(k)}return await f(T,{shouldRevalidateAfter:A?.shouldRevalidateAfter})}catch(k){if(typeof A?.rollbackOnError=="function"){let Pe=A.rollbackOnError(b.current);a.current="cache",d.current=Pe,u(Pe)}else A?.optimisticUpdate&&A?.rollbackOnError!==!1&&(a.current="cache",d.current=R,u(R));throw k}},[u,f,b,d,a]);return(0,D.useEffect)(()=>{c!==es&&(a.current="cache",d.current=c)},[c]),{data:g,isLoading:h.isLoading,error:h.error,mutate:l.current&&l.current.page>0?f:E,pagination:S,revalidate:p}}var fu=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",dm=Symbol.for("signal-exit emitter"),mm=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),lm[dm])return lm[dm];Object.defineProperty(lm,dm,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let o of this.listeners[t])s=o(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},hm=class{onExit(){return()=>{}}load(){}unload(){}},gm=class{#a;#t;#e;#o;#i;#s;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new mm,this.#s={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#s={};for(let r of this.#r)this.#s[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(s+=o.__signal_exit_emitter__.count),n.length===s){this.unload();let i=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#o=t.emit}onExit(t,r){if(!fu(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#s[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#u(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#s[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#o,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(t){return fu(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#u(t,...r){let n=this.#o;if(t==="exit"&&fu(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},fm=null,Cz=(e,t)=>(fm||(fm=fu(process)?new gm(process):new hm),fm.onExit(e,t));function Az(e,{timeout:t}={}){let r=new Promise((a,c)=>{e.on("exit",(u,d)=>{a({exitCode:u,signal:d,timedOut:!1})}),e.on("error",u=>{c(u)}),e.stdin&&e.stdin.on("error",u=>{c(u)})}),n=Cz(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let s,o=new Promise((a,c)=>{s=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(s)});return Promise.race([o,i]).finally(()=>n())}var ym=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function Pz(e){let{encoding:t}=e,r=t==="buffer",n=new ts.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let s=0,o=[];return n.on("data",i=>{o.push(i),s+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(o,s):o.join(""),n.getBufferedLength=()=>s,n}async function eO(e,t){let r=Pz(t);return await new Promise((n,s)=>{let o=i=>{i&&r.getBufferedLength()<=iO.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),s(i)};(async()=>{try{await(0,aO.promisify)(ts.default.pipeline)(e,r),n()}catch(i){o(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&o(new ym)})}),r.getBufferedValue()}async function tO(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function Tz({stdout:e,stderr:t},{encoding:r},n){let s=eO(e,{encoding:r}),o=eO(t,{encoding:r});try{return await Promise.all([n,s,o])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},tO(e,s),tO(t,o)])}}function Rz(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function rO(e,t){return e.stripFinalNewline?Rz(t):t}function xz({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Oz({stdout:e,stderr:t,error:r,signal:n,exitCode:s,command:o,timedOut:i,options:a,parentError:c}){let d=`Command ${xz({timedOut:i,timeout:a?.timeout,signal:n,exitCode:s})}: ${o}`,l=r?`${d}
${r.message}`:d,f=[l,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=f,r.shortMessage=l,r.command=o,r.exitCode=s,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function Iz({stdout:e,stderr:t,error:r,exitCode:n,signal:s,timedOut:o,command:i,options:a,parentError:c}){if(r||n!==0||s!==null)throw Oz({error:r,exitCode:n,signal:s,stdout:e,stderr:t,command:i,timedOut:o,options:a,parentError:c});return e}var Nz=/ +/g;function Mz(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(Nz)){let s=r[r.length-1];s&&s.endsWith("\\")?r[r.length-1]=`${s.slice(0,-1)} ${n}`:r.push(n)}return r}function _m(e,t,r){let{parseOutput:n,input:s,onData:o,onWillExecute:i,initialData:a,execute:c,keepPreviousData:u,onError:d,failureToastOptions:l,...f}=Array.isArray(t)?r||{}:t||{},p={initialData:a,execute:c,keepPreviousData:u,onError:d,onData:o,onWillExecute:i,failureToastOptions:l},h=(0,D.useRef)(null),g=Ae(n||Iz),S=(0,D.useCallback)(async(b,E,T,A)=>{let[R,...k]=Mz(b,E),Pe=[R,...k].join(" "),J={stripFinalNewline:!0,...T,timeout:T?.timeout||1e4,signal:h.current?.signal,encoding:T?.encoding===null?"buffer":T?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...T?.env}},he=oO.default.spawn(R,k,J),Y=Az(he,J);A&&he.stdin.end(A);let[{error:ce,exitCode:Se,signal:Gt,timedOut:Kt},V,It]=await Tz(he,J,Y),Ou=rO(J,V),Iu=rO(J,It);return g.current({stdout:Ou,stderr:Iu,error:ce,exitCode:Se,signal:Gt,timedOut:Kt,command:Pe,options:J,parentError:new Error})},[g]);return ns(S,[e,Array.isArray(t)?t:[],f,s],{...p,abortable:h})}var lO=(function(e){return e.Required="required",e})({});function pm(e,t){if(e){if(typeof e=="function")return e(t);if(e==="required"){let r=typeof t<"u"&&t!==null;if(r)switch(typeof t){case"string":r=t.length>0;break;case"object":Array.isArray(t)?r=t.length>0:t instanceof Date&&(r=t.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function dO(e){let{onSubmit:t,validation:r,initialValues:n={}}=e,[s,o]=(0,D.useState)(n),[i,a]=(0,D.useState)({}),c=(0,D.useRef)({}),u=Ae(r||{}),d=Ae(t),l=(0,D.useCallback)(b=>{c.current[b]?.focus()},[c]),f=(0,D.useCallback)(async b=>{let E=!1;for(let[A,R]of Object.entries(u.current)){let k=pm(R,b[A]);k&&(E||(E={},l(A)),E[A]=k)}if(E)return a(E),!1;let T=await d.current(b);return typeof T=="boolean"?T:!0},[u,d,l]),p=(0,D.useCallback)((b,E)=>{a(T=>({...T,[b]:E}))},[a]),h=(0,D.useCallback)(function(b,E){o(T=>({...T,[b]:typeof E=="function"?E(T[b]):E}))},[o]),g=(0,D.useMemo)(()=>new Proxy({},{get(b,E){let T=u.current[E],A=s[E];return{onChange(R){i[E]&&(pm(T,R)||p(E,void 0)),h(E,R)},onBlur(R){let k=pm(T,R.target.value);k&&p(E,k)},error:i[E],id:E,value:typeof A>"u"?null:A,ref:R=>{c.current[E]=R}}}}),[i,u,p,s,c,h]),S=(0,D.useCallback)(b=>{a({}),Object.entries(c.current).forEach(([E,T])=>{b?.[E]||T?.reset()}),b&&o(b)},[o,a,c]);return{handleSubmit:f,setValidationError:p,setValue:h,values:s,itemProps:g,focus:l,reset:S}}var kz=10,nO=864e5,Dz={Default:100,Embed:0,Bookmark:140};function $z(e){let t=Date.now(),r=e?e.lastVisited:0,n=e?e.frecency:0,s=(t-r)/nO,o=Math.log(2)/(kz*nO),i=Dz.Default*Math.exp(-o*s),a=n+i;return{lastVisited:t,frecency:a}}var Lz=e=>{if(process.env.NODE_ENV!=="production"&&(typeof e!="object"||!e||!("id"in e)||typeof e.id!="string"))throw new Error("Specify a key function or make sure your items have an 'id' property");return e.id};function fO(e,t){let r=Ae(t?.key||Lz),n=Ae(t?.sortUnvisited),[s,o]=rs(`raycast_frecency_${t?.namespace}`,{}),i=(0,D.useCallback)(async function(d){let l=r.current(d);o(f=>{let p=f[l],h=$z(p);return{...f,[l]:h}})},[r,o]),a=(0,D.useCallback)(async function(d){let l=r.current(d);o(f=>{let p={...f};return delete p[l],p})},[r,o]);return{data:(0,D.useMemo)(()=>e?e.sort((u,d)=>{let l=s[r.current(u)],f=s[r.current(d)];return l&&!f?-1:!l&&f?1:l&&f?f.frecency-l.frecency:n.current?n.current(u,d):0}):[],[s,e,r,n]),visitItem:i,resetRanking:a}}var Tr=require("@raycast/api"),Au=require("react"),Pu=v(xO());var Pm=require("react/jsx-runtime");function Tm({onProfileSelected:e}){let t=(0,Tr.getPreferenceValues)(),[r,n]=rs("aws_profile"),s=P7();(0,Au.useEffect)(()=>{let a=r&&!s.some(c=>c.name===r);(!r||a)&&n(s[0]?.name)},[s]);let{isUsingAwsVault:o,vaultSessions:i}=A7({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:s,onProfileSelected:e});return(0,Au.useEffect)(()=>{if(r&&!o?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=s.find(c=>c.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}i?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,o]),!s||s.length<2?null:(0,Pm.jsx)(Tr.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:s.map(a=>(0,Pm.jsx)(Tr.List.Dropdown.Item,{value:a.name,title:a.name,icon:o?i?.some(c=>c===a.name)?Tr.Icon.LockUnlocked:Tr.Icon.LockDisabled:void 0},a.name))})}var C7=e=>{let{data:t}=_m("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(T7).map(s=>s.split(" ")[0]),n=e.filter(s=>s.source_profile&&r?.includes(s.source_profile)).map(s=>s.name);return r&&[...r,...n]},A7=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let s=C7(r),o=!!s,i=o&&s?.includes(t||"")?t:void 0,{revalidate:a}=_m("aws-vault",["exec",i,"--json"],{execute:!!i,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:c=>{if(c){let{AccessKeyId:u,SecretAccessKey:d,SessionToken:l}=JSON.parse(c);process.env.AWS_VAULT=i,process.env.AWS_ACCESS_KEY_ID=u,process.env.AWS_SECRET_ACCESS_KEY=d,process.env.AWS_SESSION_TOKEN=l,n?.()}}});return(0,Au.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[i]),{isUsingAwsVault:o,vaultSessions:s}},P7=()=>{let{data:e={configFile:{},credentialsFile:{}}}=ns(Pu.loadSharedConfigFiles),{data:t={}}=ns(Pu.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([o,i])=>{let a=r[o]?.include_profile,c=r[o]?.region||a&&r[a]?.region,u=r[o]?.sso_start_url||r[o]?.sso_session&&t[r[o].sso_session]?.sso_start_url,d=r[o]?.sso_account_id||a&&r[a]?.sso_account_id,l=r[o]?.sso_role_name||a&&r[a]?.sso_role_name;return{...i,region:c,name:o,sso_start_url:u,sso_account_id:d,sso_role_name:l}})},T7=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var Ve="https://console.aws.amazon.com";function OO(){let e=!!process.env.AWS_PROFILE,t=!!process.env.AWS_VAULT;return e||t}function Rm(e,t,r=void 0){let{AWS_REGION:n}=process.env;if(!e)return"";switch(t){case"AWS::SSM::Parameter":return`${Ve}/systems-manager/parameters/${e}/description?region=${n}`;case"AWS::SecretsManager::Secret":return`https://${n}.console.aws.amazon.com/secretsmanager/secret?name=${encodeURI(e)}&region=${n}`;case"AWS::EC2::Instance":return`${Ve}/ec2/v2/home?region=${n}#InstanceDetails:instanceId=${e}`;case"AWS::Logs::LogGroup":return`${Ve}/cloudwatch/home?region=${n}#logsV2:log-groups/log-group/${encodeURIComponent(e)}`;case"AWS::CloudFormation::Stack":return`${Ve}/cloudformation/home?region=${n}#/stacks/stackinfo?stackId=${e}`;case"AWS::Lambda::Function":return`${Ve}/lambda/home?region=${n}#/functions/${e}?tab=monitoring`;case"AWS::Glue::JobRun":return`${Ve}/gluestudio/home?region=eu-central-1#/job/${e}/run/${r}`;case"AWS::Glue::JobRuns":return`${Ve}/gluestudio/home?region=eu-central-1#/editor/job/${e}/runs`;case"AWS::CodePipeline::Pipeline":return`${Ve}/codesuite/codepipeline/pipelines/${e}/view?region=${n}`;case"AWS::S3::Bucket":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}`;case"AWS::S3::Object":{let[s,...o]=e.split("/");return`https://s3.console.aws.amazon.com/s3/object/${s}?&prefix=${o.join("/")}`}case"AWS::S3::BucketPolicy":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}&tab=permissions`;case"AWS::SQS::Queue":return`${Ve}/sqs/v2/home?region=${n}#/queues/${encodeURIComponent(e)}`;case"AWS::SNS::Topic":return`${Ve}/sns/v3/home?region=${n}#/topic/${e}`;case"AWS::DynamoDB::Table":return`${Ve}/dynamodb/home?region=${n}#tables:selected=${e}`;case"AWS::StepFunctions::StateMachine":return`${Ve}/states/home?region=${n}#/statemachines/view/${e}`;case"AWS::Amplify::App":return`https://${n}.console.aws.amazon.com/amplify/home?region=${n}#/apps/${e}`;case"AWS::Amplify::Branch":{let s=e.split("/branches/"),o=s[0],i=s[1]||"main";return`https://${n}.console.aws.amazon.com/amplify/apps/${o}/branches/${i}/deployments`}case"AWS::AppSync::GraphQLApi":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/home`;case"AWS::AppSync::GraphQLApi::Playground":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/queries`;case"AWS::AppSync::DataSource":{let s=e.split("/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${o}/v1/datasources/${i}/edit`}case"AWS::AppSync::Resolver":{let s=e.split("/"),o=s[0],i=s[1],a=s[2];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${o}/v1/schema/resolver/${i}/${a}`}case"AWS::AppSync::Schema":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/schema`;case"AWS::ApiGateway::RestApi":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/resources`;case"AWS::ApiGateway::RestApi::Documentation":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/documentation`;case"AWS::ApiGateway::Resource":{let s=e.split("/resources/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${o}/resources/${i}`}case"AWS::ApiGateway::Stage":{let s=e.split("/stages/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${o}/stages/${i}`}case"AWS::ApiGateway::ApiKey":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/api-keys/${e}`;case"AWS::ApiGateway::UsagePlan":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/usage-plans/${e}`;case"AWS::ApiGateway::Deployment":{let s=e.split("/deployments/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${o}/deployments/${i}`}case"AWS::ApiGateway::Method":{let s=e.split("/"),o=s[0],i=s.slice(2,-2).join("/"),a=s[s.length-1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${o}/resources/${i}/methods/${a}`}case"AWS::ApiGatewayV2::Api":return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${e}?region=${n}`;case"AWS::ApiGatewayV2::Route":{let s=e.split("/routes/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${o}/routes/${i}?region=${n}`}case"AWS::ApiGatewayV2::Stage":{let s=e.split("/stages/"),o=s[0],i=s[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${o}/stages/${i}?region=${n}`}default:return""}}var ss=e=>{if(e instanceof Error)try{let t=JSON.parse(e.message);if(t.errorMessages&&Array.isArray(t.errorMessages))return t.errorMessages[0]}catch{return e.message}return String(e)};var R7=e=>Object.keys(e).filter(t=>isNaN(Number(t))),IO=(e,t)=>R7(e).filter(r=>e[r]!==t);var je=require("@raycast/api");var Qt=require("react/jsx-runtime"),Tu=class{static Console=({url:t,onAction:r})=>(0,Qt.jsxs)(je.ActionPanel.Section,{title:"Console",children:[(0,Qt.jsx)(je.Action.OpenInBrowser,{title:"Open in Browser",url:NO(t),onOpen:()=>r?.()},"openConsoleLink"),(0,Qt.jsx)(je.Action.CopyToClipboard,{title:"Copy Link",content:NO(t),shortcut:je.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,Qt.jsx)(je.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let s=IO(n,r);return(0,Qt.jsx)(je.ActionPanel.Section,{children:(0,Qt.jsx)(je.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:je.Icon.Box,children:s.map(o=>(0,Qt.jsx)(je.Action,{title:`Show ${o.toString()}`,onAction:()=>t(n[o]),icon:je.Icon.Box},o.toString()))})})}};function NO(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var q=require("@raycast/api"),Ru=v(lu());var ke=require("react/jsx-runtime"),xm=q.Toast.Style,Om=({queue:e,mutate:t,retryInitValues:r})=>{let n=e.attributes?.FifoQueue==="true",{push:s,pop:o}=(0,q.useNavigation)(),{handleSubmit:i,values:a,itemProps:c}=dO({onSubmit:async u=>(0,q.confirmAlert)({title:"Send Message",message:"Are you sure you want to send this message?",primaryAction:{title:"Send",onAction:async()=>{let d={QueueUrl:e.queueUrl,MessageBody:u.msgBody,...u.useDelaySeconds&&{DelaySeconds:Number(u.delaySeconds)},...n&&{MessageGroupId:u.msgGroupId},...(u.useMsgDeduplicationId||e.attributes?.ContentBasedDeduplication==="false")&&{MessageDeduplicationId:u.msgDeduplicationId},...u.useMsgAttributes&&{MessageAttributes:JSON.parse(u.msgAttributes)}},l=await(0,q.showToast)({style:xm.Animated,title:"\u{1F6A7} Sending message..."});t(new Ru.SQSClient({}).send(new Ru.SendMessageCommand(d)),{optimisticUpdate:f=>{if(f)return f.map(p=>p.queueUrl!==e.queueUrl?p:{...p,attributes:{...p.attributes,ApproximateNumberOfMessages:Number(p.attributes?.ApproximateNumberOfMessages??"0")+1+""}})}}).then(({MessageId:f})=>{l.style=xm.Success,l.title="\u2705 Message sent",l.message=`Message ID: ${f}`,l.primaryAction={title:"Copy Message ID",shortcut:q.Keyboard.Shortcut.Common.Copy,onAction:()=>q.Clipboard.copy(`${f}`)}}).catch(f=>{(0,q.captureException)(f),l.style=xm.Failure,l.title="\u274C Failed to send message",l.message=ss(f),l.primaryAction={title:"Retry",shortcut:q.Keyboard.Shortcut.Common.Refresh,onAction:()=>{s((0,ke.jsx)(Om,{queue:e,mutate:t,retryInitValues:u})),l.hide()}},l.secondaryAction={title:"Copy Error",shortcut:q.Keyboard.Shortcut.Common.Copy,onAction:()=>{q.Clipboard.copy(ss(f)),l.hide()}}}).finally(o)}}}),initialValues:r||{useDelaySeconds:!1,useMsgDeduplicationId:!1,useMsgAttributes:!1},validation:{msgDeduplicationId:u=>{if(e.attributes?.ContentBasedDeduplication==="false"&&(!u||u.length<1))return"Message Deduplication ID is required when content based deduplication is disabled";if(a.useMsgDeduplicationId&&(!u||u.length<1))return"Message Deduplication ID is required (if checked)"},msgGroupId:u=>n&&(u.length<1||u.length>128)?"Message Group ID is required and must be between 1 and 128 characters":void 0,msgBody:lO.Required,delaySeconds:u=>{if(a.useDelaySeconds){if(!u||u.length<1)return"Delay Seconds is required (if checked)";if(Number.isNaN(Number(u)))return"Delay Seconds must be a number"}},msgAttributes:u=>{if(a.useMsgAttributes){if(!u||u.length<2)return"Message Attributes are required (if checked)";try{JSON.parse(u)}catch{return"Message Attributes must be valid JSON"}}}}});return(0,ke.jsxs)(q.Form,{navigationTitle:"Send Message",actions:(0,ke.jsx)(q.ActionPanel,{children:(0,ke.jsx)(q.Action.SubmitForm,{title:"Send Message",icon:q.Icon.Message,onSubmit:i})}),children:[(0,ke.jsx)(q.Form.Description,{text:e.queueUrl,title:"Queue URL"}),(0,ke.jsx)(q.Form.TextArea,{title:"Message",placeholder:"Message XML, JSON, unstructured text...",...c.msgBody}),!n&&(0,ke.jsx)(q.Form.Checkbox,{label:"Add Delay Seconds",...c.useDelaySeconds}),a.useDelaySeconds&&(0,ke.jsx)(q.Form.TextField,{title:"Delay Seconds",placeholder:"Delay Seconds",...c.delaySeconds}),n&&(0,ke.jsx)(q.Form.TextField,{title:"Message Group ID",placeholder:"unique group id...",...c.msgGroupId,info:"Message Group ID is required for FIFO queues"}),n&&e.attributes?.ContentBasedDeduplication==="true"&&(0,ke.jsx)(q.Form.Checkbox,{label:"Add Message Deduplication ID",...c.useMsgDeduplicationId}),(a.useMsgDeduplicationId||e.attributes?.ContentBasedDeduplication==="false")&&(0,ke.jsx)(q.Form.TextField,{title:"Message Deduplication ID",info:"Message Deduplication ID is required if the queue is not configured with content based deduplication",placeholder:"uuid...",...c.msgDeduplicationId}),(0,ke.jsx)(q.Form.Checkbox,{label:"Add Message Attributes",...c.useMsgAttributes}),a.useMsgAttributes&&(0,ke.jsx)(q.Form.TextArea,{title:"Message Attributes",placeholder:"JSON ...",info:'{ "string" : { "DataType": "String | Number", "StringListValues": [ "string" ], "StringValue": "string" } }',...c.msgAttributes})]})};var an=v(lu()),MO=e=>{let{data:t,error:r,isLoading:n,mutate:s}=ns(async o=>{let{QueueUrls:i}=await new an.SQSClient({}).send(new an.ListQueuesCommand({MaxResults:25,...o.trim().length>2&&{QueueNamePrefix:o}}));return(await Promise.all((i??[]).map(async c=>{let{Attributes:u}=await new an.SQSClient({}).send(new an.GetQueueAttributesCommand({QueueUrl:c,AttributeNames:["All"]}));return{queueUrl:c,attributes:u}}))).filter(c=>!!c&&!!c.queueUrl&&!!c.attributes&&!!c.attributes.QueueArn)},[e],{execute:OO(),failureToastOptions:{title:"\u274CFailed to load queues"}});return{queues:t,error:r,isLoading:!t&&!r||n,mutate:s}};var kO=require("react"),H=require("react/jsx-runtime");function DO(){let[e,t]=(0,kO.useState)(""),[r,n]=rs("show-details",!1,{cacheNamespace:"aws-sqs"}),{queues:s,error:o,isLoading:i,mutate:a}=MO(e),{data:c,resetRanking:u,visitItem:d}=fO(s,{namespace:"aws-sqs-sort",key:l=>l.queueUrl,sortUnvisited:(l,f)=>l.queueUrl.localeCompare(f.queueUrl)});return(0,H.jsxs)(x.List,{isLoading:i,filtering:!0,throttle:!0,onSearchTextChange:t,isShowingDetail:!i&&!o&&(s||[]).length>0&&r,searchBarPlaceholder:"Search queues by name prefix (>2 characters)",searchBarAccessory:(0,H.jsx)(Tm,{onProfileSelected:a}),children:[o&&(0,H.jsx)(x.List.EmptyView,{title:o.name,description:o.message,icon:{source:x.Icon.Warning,tintColor:x.Color.Red}}),!o&&s?.length===0&&(0,H.jsx)(x.List.EmptyView,{title:"No queues found!",icon:{source:x.Icon.Warning,tintColor:x.Color.Orange}}),c.map(l=>(0,H.jsx)(x.List.Item,{title:l.attributes.QueueArn.split(":").pop(),icon:"aws-icons/sqs/queue.png",detail:(0,H.jsx)(x.List.Item.Detail,{markdown:l.attributes?.Policy?`**Policy:**
 \`\`\`json
${JSON.stringify(JSON.parse(l.attributes.Policy),void 0,4)}
\`\`\``:void 0,metadata:(0,H.jsxs)(x.List.Item.Detail.Metadata,{children:[(0,H.jsx)(x.List.Item.Detail.Metadata.Link,{title:"URL",text:l.queueUrl,target:Rm(l.queueUrl,"AWS::SQS::Queue")}),(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"ARN",text:l.attributes?.QueueArn}),l.attributes?.FifoQueue&&(0,H.jsxs)(x.List.Item.Detail.Metadata.TagList,{title:"FIFO",children:[l.attributes?.ContentBasedDeduplication&&(0,H.jsx)(x.List.Item.Detail.Metadata.TagList.Item,{text:"Content Based Deduplication",icon:l.attributes?.ContentBasedDeduplication==="true"?x.Icon.Checkmark:x.Icon.Xmark,color:l.attributes?.ContentBasedDeduplication==="true"?x.Color.Green:x.Color.Red}),l.attributes?.DeduplicationScope&&(0,H.jsx)(x.List.Item.Detail.Metadata.TagList.Item,{text:`Scope: ${l.attributes.DeduplicationScope}`,color:x.Color.Orange})]}),(0,H.jsx)(x.List.Item.Detail.Metadata.Separator,{}),l.attributes?.ApproximateNumberOfMessages&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"# Approx Msgs",text:l.attributes?.ApproximateNumberOfMessages}),l.attributes?.ApproximateNumberOfMessagesDelayed&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"# Approx Msgs Delayed",text:l.attributes?.ApproximateNumberOfMessagesDelayed}),l.attributes?.ApproximateNumberOfMessagesNotVisible&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"# Approx Msgs Not Visible",text:l.attributes?.ApproximateNumberOfMessagesNotVisible}),(0,H.jsx)(x.List.Item.Detail.Metadata.Separator,{}),l.attributes?.VisibilityTimeout&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Visibility Timeout",text:l.attributes?.VisibilityTimeout}),l.attributes?.DelaySeconds&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Delay Seconds",text:l.attributes?.DelaySeconds}),l.attributes?.MaximumMessageSize&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Maximum Msg Size",text:l.attributes?.MaximumMessageSize}),l.attributes?.MessageRetentionPeriod&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Retention Period",text:l.attributes?.MessageRetentionPeriod}),(0,H.jsx)(x.List.Item.Detail.Metadata.Separator,{}),(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Creation Time",text:l.attributes?.CreatedTimestamp}),l.attributes?.LastModifiedTimestamp&&(0,H.jsx)(x.List.Item.Detail.Metadata.Label,{title:"Last Modified Time",text:l.attributes?.LastModifiedTimestamp})]})}),actions:(0,H.jsxs)(x.ActionPanel,{children:[(0,H.jsx)(Tu.Console,{url:Rm(l.queueUrl,"AWS::SQS::Queue"),onAction:()=>d(l)}),(0,H.jsxs)(x.ActionPanel.Section,{title:"Queue Actions",children:[(0,H.jsx)(x.Action.CopyToClipboard,{title:"Copy Queue URL",content:l.queueUrl,onCopy:()=>d(l)}),(0,H.jsx)(x.Action.Push,{target:(0,H.jsx)(Om,{queue:l,mutate:a}),title:"Send Message",icon:x.Icon.Message,shortcut:{modifiers:["ctrl"],key:"m"},onPush:()=>d(l)}),(0,H.jsx)(x.Action,{icon:{source:x.Icon.Trash,tintColor:x.Color.Red},title:"Purge Queue",shortcut:{modifiers:["ctrl"],key:"p"},style:x.Action.Style.Destructive,onAction:async()=>{await d(l),await x7(l,a)}}),(0,H.jsx)(x.Action,{title:`${r?"Hide":"Show"} Details`,onAction:()=>n(!r),icon:r?x.Icon.EyeDisabled:x.Icon.Eye}),(0,H.jsx)(x.Action,{title:"Reset Ranking",icon:x.Icon.ArrowCounterClockwise,onAction:()=>u(l)})]})]}),accessories:[{date:new Date(+(l.attributes?.CreatedTimestamp+"000")),tooltip:"Creation Time",icon:x.Icon.Calendar},{tag:{value:l.attributes?.ApproximateNumberOfMessages,color:x.Color.Magenta},icon:x.Icon.Message,tooltip:"Messages available"}]},l.attributes.QueueArn))]})}var x7=async(e,t)=>await(0,x.confirmAlert)({icon:{source:x.Icon.Trash,tintColor:x.Color.Red},title:"Are you sure you want to purge the queue?",message:"This action cannot be undone.",primaryAction:{title:"Purge",style:x.Alert.ActionStyle.Destructive,onAction:()=>$O(e,t)}}),$O=async(e,t)=>{let r=await(0,x.showToast)({style:x.Toast.Style.Animated,title:"\u{1F5D1}\uFE0F Purging queue..."});t(new xu.SQSClient({}).send(new xu.PurgeQueueCommand({QueueUrl:e.queueUrl})),{optimisticUpdate:n=>{if(n)return n.map(s=>s.queueUrl!==e.queueUrl?s:{...s,attributes:{...s.attributes,ApproximateNumberOfMessages:"0"}})}}).then(()=>{r.style=x.Toast.Style.Success,r.title="\u2705 Queue purged"}).catch(n=>{(0,x.captureException)(n),r.style=x.Toast.Style.Failure,r.title="\u274C Failed to purge queue",r.message=ss(n),r.primaryAction={title:"Retry",shortcut:{modifiers:["cmd"],key:"r"},onAction:()=>$O(e,t)},r.secondaryAction={title:"Copy Error",shortcut:{modifiers:["cmd"],key:"c"},onAction:()=>x.Clipboard.copy(ss(n))}})};
