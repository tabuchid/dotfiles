"use strict";var lk=Object.create;var Ii=Object.defineProperty;var dk=Object.getOwnPropertyDescriptor;var uk=Object.getOwnPropertyNames;var pk=Object.getPrototypeOf,mk=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ot=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},ig=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uk(t))!mk.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=dk(t,o))||n.enumerable});return e};var b=(e,t,r)=>(r=e!=null?lk(pk(e)):{},ig(t||!e||!e.__esModule?Ii(r,"default",{value:e,enumerable:!0}):r,e)),G=e=>ig(Ii({},"__esModule",{value:!0}),e);var Vn={};ot(Vn,{__addDisposableResource:()=>Wg,__assign:()=>Ni,__asyncDelegator:()=>Fg,__asyncGenerator:()=>Ug,__asyncValues:()=>Bg,__await:()=>zn,__awaiter:()=>Og,__classPrivateFieldGet:()=>Vg,__classPrivateFieldIn:()=>Gg,__classPrivateFieldSet:()=>qg,__createBinding:()=>Di,__decorate:()=>wg,__disposeResources:()=>Kg,__esDecorate:()=>Ig,__exportStar:()=>kg,__extends:()=>Cg,__generator:()=>Dg,__importDefault:()=>zg,__importStar:()=>Hg,__makeTemplateObject:()=>jg,__metadata:()=>Ng,__param:()=>xg,__propKey:()=>Pg,__read:()=>Jd,__rest:()=>Tg,__rewriteRelativeImportExtension:()=>Jg,__runInitializers:()=>Ag,__setFunctionName:()=>Rg,__spread:()=>$g,__spreadArray:()=>Lg,__spreadArrays:()=>Mg,__values:()=>Oi,default:()=>Uk});function Cg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Tg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function wg(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function xg(e,t){return function(r,n){t(r,n,e)}}function Ig(e,t,r,n,o,s){function i(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,f=!1,h=r.length-1;h>=0;h--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(S){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(S||null))};var E=(0,r[h])(a==="accessor"?{get:p.get,set:p.set}:p[l],g);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=i(E.get))&&(p.get=m),(m=i(E.set))&&(p.set=m),(m=i(E.init))&&o.unshift(m)}else(m=i(E))&&(a==="field"?o.unshift(m):p[l]=m)}u&&Object.defineProperty(u,n.name,p),f=!0}function Ag(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Pg(e){return typeof e=="symbol"?e:"".concat(e)}function Rg(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ng(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Og(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{u(n.next(p))}catch(m){i(m)}}function l(p){try{u(n.throw(p))}catch(m){i(m)}}function u(p){p.done?s(p.value):o(p.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function Dg(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(p){return l([u,p])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(p){u=[6,p],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function kg(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Di(t,e,r)}function Oi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jd(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function $g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jd(arguments[t]));return e}function Mg(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function Lg(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function zn(e){return this instanceof zn?(this.v=e,this):new zn(e)}function Ug(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(g){return Promise.resolve(g).then(h,m)}}function a(h,g){n[h]&&(o[h]=function(y){return new Promise(function(E,S){s.push([h,y,E,S])>1||l(h,y)})},g&&(o[h]=g(o[h])))}function l(h,g){try{u(n[h](g))}catch(y){f(s[0][3],y)}}function u(h){h.value instanceof zn?Promise.resolve(h.value.v).then(p,m):f(s[0][2],h)}function p(h){l("next",h)}function m(h){l("throw",h)}function f(h,g){h(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Fg(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:zn(e[o](i)),done:!1}:s?s(i):i}:s}}function Bg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Oi=="function"?Oi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,l){i=e[s](i),o(a,l,i.done,i.value)})}}function o(s,i,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},i)}}function jg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Hg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Kd(e),n=0;n<r.length;n++)r[n]!=="default"&&Di(t,e,r[n]);return Mk(t,e),t}function zg(e){return e&&e.__esModule?e:{default:e}}function Vg(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function qg(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function Gg(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Wg(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function Kg(e){function t(s){e.error=e.hasError?new Lk(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function Jg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Wd,Ni,Di,Mk,Kd,Lk,Uk,qn=_(()=>{Wd=function(e,t){return Wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Wd(e,t)};Ni=function(){return Ni=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ni.apply(this,arguments)};Di=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});Mk=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Kd=function(e){return Kd=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Kd(e)};Lk=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Uk={__extends:Cg,__assign:Ni,__rest:Tg,__decorate:wg,__param:xg,__esDecorate:Ig,__runInitializers:Ag,__propKey:Pg,__setFunctionName:Rg,__metadata:Ng,__awaiter:Og,__generator:Dg,__createBinding:Di,__exportStar:kg,__values:Oi,__read:Jd,__spread:$g,__spreadArrays:Mg,__spreadArray:Lg,__await:zn,__asyncGenerator:Ug,__asyncDelegator:Fg,__asyncValues:Bg,__makeTemplateObject:jg,__importStar:Hg,__importDefault:zg,__classPrivateFieldGet:Vg,__classPrivateFieldSet:qg,__classPrivateFieldIn:Gg,__addDisposableResource:Wg,__disposeResources:Kg,__rewriteRelativeImportExtension:Jg}});var Fo=T(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.getHomeDir=void 0;var Fk=require("os"),Bk=require("path"),jk=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Bk.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,Fk.homedir)())};ki.getHomeDir=jk});var Yg=T(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.getProfileName=It.DEFAULT_PROFILE=It.ENV_PROFILE=void 0;It.ENV_PROFILE="AWS_PROFILE";It.DEFAULT_PROFILE="default";var Hk=e=>e.profile||process.env[It.ENV_PROFILE]||It.DEFAULT_PROFILE;It.getProfileName=Hk});var Yd=T($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.getSSOTokenFilepath=void 0;var zk=require("crypto"),Vk=require("path"),qk=Fo(),Gk=e=>{let r=(0,zk.createHash)("sha1").update(e).digest("hex");return(0,Vk.join)((0,qk.getHomeDir)(),".aws","sso","cache",`${r}.json`)};$i.getSSOTokenFilepath=Gk});var Xg=T(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.getSSOTokenFromFile=void 0;var Wk=require("fs"),Kk=Yd(),{readFile:Jk}=Wk.promises,Yk=async e=>{let t=(0,Kk.getSSOTokenFilepath)(e),r=await Jk(t,"utf8");return JSON.parse(r)};Mi.getSSOTokenFromFile=Yk});var Xd=T(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.getConfigFilepath=an.ENV_CONFIG_PATH=void 0;var Xk=require("path"),Qk=Fo();an.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var Zk=()=>process.env[an.ENV_CONFIG_PATH]||(0,Xk.join)((0,Qk.getHomeDir)(),".aws","config");an.getConfigFilepath=Zk});var Qg=T(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.getCredentialsFilepath=cn.ENV_CREDENTIALS_PATH=void 0;var e1=require("path"),t1=Fo();cn.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var r1=()=>process.env[cn.ENV_CREDENTIALS_PATH]||(0,e1.join)((0,t1.getHomeDir)(),".aws","credentials");cn.getCredentialsFilepath=r1});var ey=T(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.getProfileData=void 0;var Zg=/^profile\s(["'])?([^\1]+)\1$/,n1=e=>Object.entries(e).filter(([t])=>Zg.test(t)).reduce((t,[r,n])=>({...t,[Zg.exec(r)[2]]:n}),{...e.default&&{default:e.default}});Li.getProfileData=n1});var Qd=T(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.parseIni=void 0;var o1=["__proto__","profile __proto__"],s1=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),o1.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[u,p]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][u]=p}}return t};Ui.parseIni=s1});var eu=T(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.slurpFile=void 0;var i1=require("fs"),{readFile:a1}=i1.promises,Zd={},c1=(e,t)=>((!Zd[e]||t?.ignoreCache)&&(Zd[e]=a1(e,"utf8")),Zd[e]);Fi.slurpFile=c1});var tu=T(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.loadSharedConfigFiles=void 0;var l1=Xd(),d1=Qg(),u1=ey(),ty=Qd(),ry=eu(),ny=()=>({}),p1=async(e={})=>{let{filepath:t=(0,d1.getCredentialsFilepath)(),configFilepath:r=(0,l1.getConfigFilepath)()}=e,n=await Promise.all([(0,ry.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(ty.parseIni).then(u1.getProfileData).catch(ny),(0,ry.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(ty.parseIni).catch(ny)]);return{configFile:n[0],credentialsFile:n[1]}};Bi.loadSharedConfigFiles=p1});var sy=T(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.getSsoSessionData=void 0;var oy=/^sso-session\s(["'])?([^\1]+)\1$/,m1=e=>Object.entries(e).filter(([t])=>oy.test(t)).reduce((t,[r,n])=>({...t,[oy.exec(r)[2]]:n}),{});ji.getSsoSessionData=m1});var iy=T(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.loadSsoSessionData=void 0;var f1=Xd(),h1=sy(),g1=Qd(),y1=eu(),_1=()=>({}),E1=async(e={})=>{var t;return(0,y1.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,f1.getConfigFilepath)()).then(g1.parseIni).then(h1.getSsoSessionData).catch(_1)};Hi.loadSsoSessionData=E1});var ay=T(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.mergeConfigFiles=void 0;var b1=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};zi.mergeConfigFiles=b1});var cy=T(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.parseKnownFiles=void 0;var S1=tu(),v1=ay(),C1=async e=>{let t=await(0,S1.loadSharedConfigFiles)(e);return(0,v1.mergeConfigFiles)(t.configFile,t.credentialsFile)};Vi.parseKnownFiles=C1});var dy=T(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0})});var uy=T(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var Er=(qn(),G(Vn));Er.__exportStar(Fo(),At);Er.__exportStar(Yg(),At);Er.__exportStar(Yd(),At);Er.__exportStar(Xg(),At);Er.__exportStar(tu(),At);Er.__exportStar(iy(),At);Er.__exportStar(cy(),At);Er.__exportStar(dy(),At)});var py=T(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var T1=(qn(),G(Vn));T1.__exportStar(uy(),ru)});var Pt=T((KQ,xy)=>{var Ki=Object.defineProperty,R1=Object.getOwnPropertyDescriptor,N1=Object.getOwnPropertyNames,O1=Object.prototype.hasOwnProperty,Ji=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),D1=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},k1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N1(t))!O1.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=R1(t,o))||n.enumerable});return e},$1=e=>k1(Ki({},"__esModule",{value:!0}),e),_y={};D1(_y,{AlgorithmId:()=>vy,EndpointURLScheme:()=>Sy,FieldPosition:()=>Cy,HttpApiKeyAuthLocation:()=>by,HttpAuthLocation:()=>Ey,IniSectionType:()=>Ty,RequestHandlerProtocol:()=>wy,SMITHY_CONTEXT_KEY:()=>B1,getDefaultClientConfiguration:()=>U1,resolveDefaultRuntimeConfig:()=>F1});xy.exports=$1(_y);var Ey=(e=>(e.HEADER="header",e.QUERY="query",e))(Ey||{}),by=(e=>(e.HEADER="header",e.QUERY="query",e))(by||{}),Sy=(e=>(e.HTTP="http",e.HTTPS="https",e))(Sy||{}),vy=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(vy||{}),M1=Ji(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),L1=Ji(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),U1=Ji(e=>M1(e),"getDefaultClientConfiguration"),F1=Ji(e=>L1(e),"resolveDefaultRuntimeConfig"),Cy=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Cy||{}),B1="__smithy_context",Ty=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Ty||{}),wy=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(wy||{})});var it=T((JQ,Ry)=>{var Yi=Object.defineProperty,j1=Object.getOwnPropertyDescriptor,H1=Object.getOwnPropertyNames,z1=Object.prototype.hasOwnProperty,Ay=(e,t)=>Yi(e,"name",{value:t,configurable:!0}),V1=(e,t)=>{for(var r in t)Yi(e,r,{get:t[r],enumerable:!0})},q1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H1(t))!z1.call(e,o)&&o!==r&&Yi(e,o,{get:()=>t[o],enumerable:!(n=j1(t,o))||n.enumerable});return e},G1=e=>q1(Yi({},"__esModule",{value:!0}),e),Py={};V1(Py,{getSmithyContext:()=>W1,normalizeProvider:()=>K1});Ry.exports=G1(Py);var Iy=Pt(),W1=Ay(e=>e[Iy.SMITHY_CONTEXT_KEY]||(e[Iy.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),K1=Ay(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function Gn(e){return Ny.includes(e)}var Bo,Ny,Xi=_(()=>{Bo="preferred",Ny=["disabled","preferred","required"]});var Oy,J1,Dy=_(()=>{Oy=b(it());Xi();J1=e=>{let{accountIdEndpointMode:t}=e,r=(0,Oy.normalizeProvider)(t??Bo);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Gn(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var ky,$y,My,Ly,Y1,Uy=_(()=>{Xi();ky="Invalid AccountIdEndpointMode value",$y=e=>{throw new Error(e)},My="AWS_ACCOUNT_ID_ENDPOINT_MODE",Ly="account_id_endpoint_mode",Y1={environmentVariableSelector:e=>{let t=e[My];return t&&!Gn(t)&&$y(ky),t},configFileSelector:e=>{let t=e[Ly];return t&&!Gn(t)&&$y(ky),t},default:Bo}});var su={};ot(su,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Ny,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>Ly,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Bo,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>My,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>Y1,resolveAccountIdEndpointModeConfig:()=>J1,validateAccountIdEndpointMode:()=>Gn});var iu=_(()=>{Dy();Xi();Uy()});var ae=T((oZ,zy)=>{var Qi=Object.defineProperty,X1=Object.getOwnPropertyDescriptor,Q1=Object.getOwnPropertyNames,Z1=Object.prototype.hasOwnProperty,Sr=(e,t)=>Qi(e,"name",{value:t,configurable:!0}),e$=(e,t)=>{for(var r in t)Qi(e,r,{get:t[r],enumerable:!0})},t$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q1(t))!Z1.call(e,o)&&o!==r&&Qi(e,o,{get:()=>t[o],enumerable:!(n=X1(t,o))||n.enumerable});return e},r$=e=>t$(Qi({},"__esModule",{value:!0}),e),Fy={};e$(Fy,{Field:()=>s$,Fields:()=>i$,HttpRequest:()=>a$,HttpResponse:()=>c$,IHttpRequest:()=>By.HttpRequest,getHttpHandlerExtensionConfiguration:()=>n$,isValidHostname:()=>Hy,resolveHttpHandlerRuntimeConfig:()=>o$});zy.exports=r$(Fy);var n$=Sr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),o$=Sr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),By=Pt(),s$=class{static{Sr(this,"Field")}constructor({name:e,kind:t=By.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},i$=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Sr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},a$=class au{static{Sr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new au({...t,headers:{...t.headers}});return r.query&&(r.query=jy(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return au.clone(this)}};function jy(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Sr(jy,"cloneQuery");var c$=class{static{Sr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Hy(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Sr(Hy,"isValidHostname")});var qy=T((cZ,Vy)=>{function Xt(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Xt.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Xt.prototype[Symbol.iterator]=function(){return this});Xt.of=function(){var e=arguments,t=e.length,r=0;return new Xt(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Xt.empty=function(){var e=new Xt(null);return e.done=!0,e};Xt.is=function(e){return e instanceof Xt?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};Vy.exports=Xt});var cu=T((lZ,Jy)=>{var Gy=typeof ArrayBuffer<"u",Wy=typeof Symbol<"u";function Ky(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Gy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Wy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Ky.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Gy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Wy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Jy.exports=Ky});var lu=T(Rt=>{var l$=Math.pow(2,8)-1,d$=Math.pow(2,16)-1,u$=Math.pow(2,32)-1,p$=Math.pow(2,7)-1,m$=Math.pow(2,15)-1,f$=Math.pow(2,31)-1;Rt.getPointerArray=function(e){var t=e-1;return t<=l$?Uint8Array:t<=d$?Uint16Array:t<=u$?Uint32Array:Float64Array};Rt.getSignedPointerArray=function(e){var t=e-1;return t<=p$?Int8Array:t<=m$?Int16Array:t<=f$?Int32Array:Float64Array};Rt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var h$={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Rt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,l;for(a=0,l=e.length;a<l;a++)i=t?t(e[a]):e[a],s=Rt.getNumberType(i),o=h$[s.name],o>n&&(n=o,r=s);return r};Rt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Rt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Rt.indices=function(e){for(var t=Rt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Qy=T(jo=>{var Yy=cu(),Xy=lu();function g$(e){return Array.isArray(e)||Xy.isTypedArray(e)}function du(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function y$(e){var t=du(e),r=typeof t=="number"?new Array(t):[],n=0;return Yy(e,function(o){r[n++]=o}),r}function _$(e){var t=du(e),r=typeof t=="number"?Xy.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return Yy(e,function(i){n[s]=i,o[s]=s++}),[n,o]}jo.isArrayLike=g$;jo.guessLength=du;jo.toArray=y$;jo.toArrayWithIndices=_$});var e_=T((pZ,Zy)=>{var uu=qy(),E$=cu(),b$=lu(),S$=Qy();function _e(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=b$.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}_e.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};_e.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};_e.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};_e.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};_e.prototype.has=function(e){return e in this.items};_e.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};_e.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};_e.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};_e.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new uu(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};_e.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new uu(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};_e.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new uu(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(_e.prototype[Symbol.iterator]=_e.prototype.entries);_e.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:_e,enumerable:!1}),e};typeof Symbol<"u"&&(_e.prototype[Symbol.for("nodejs.util.inspect.custom")]=_e.prototype.inspect);_e.from=function(e,t,r,n){if(arguments.length<2){if(n=S$.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new _e(t,r,n);return E$(e,function(s,i){o.set(i,s)}),o};Zy.exports=_e});var o_=T((mZ,n_)=>{"use strict";var v$=Object.create,Ho=Object.defineProperty,C$=Object.getOwnPropertyDescriptor,T$=Object.getOwnPropertyNames,w$=Object.getPrototypeOf,x$=Object.prototype.hasOwnProperty,I$=(e,t)=>Ho(e,"name",{value:t,configurable:!0}),A$=(e,t)=>{for(var r in t)Ho(e,r,{get:t[r],enumerable:!0})},t_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T$(t))!x$.call(e,o)&&o!==r&&Ho(e,o,{get:()=>t[o],enumerable:!(n=C$(t,o))||n.enumerable});return e},P$=(e,t,r)=>(r=e!=null?v$(w$(e)):{},t_(t||!e||!e.__esModule?Ho(r,"default",{value:e,enumerable:!0}):r,e)),R$=e=>t_(Ho({},"__esModule",{value:!0}),e),r_={};A$(r_,{EndpointCache:()=>O$});n_.exports=R$(r_);var N$=P$(e_()),O$=class{static{I$(this,"EndpointCache")}cache;constructor(e){this.cache=new N$.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var fu=T((hZ,l_)=>{"use strict";var Zi=Object.defineProperty,D$=Object.getOwnPropertyDescriptor,k$=Object.getOwnPropertyNames,$$=Object.prototype.hasOwnProperty,et=(e,t)=>Zi(e,"name",{value:t,configurable:!0}),M$=(e,t)=>{for(var r in t)Zi(e,r,{get:t[r],enumerable:!0})},L$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k$(t))!$$.call(e,o)&&o!==r&&Zi(e,o,{get:()=>t[o],enumerable:!(n=D$(t,o))||n.enumerable});return e},U$=e=>L$(Zi({},"__esModule",{value:!0}),e),c_={};M$(c_,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>F$,endpointDiscoveryMiddlewareOptions:()=>ea,getEndpointDiscoveryOptionalPlugin:()=>V$,getEndpointDiscoveryPlugin:()=>H$,getEndpointDiscoveryRequiredPlugin:()=>z$,resolveEndpointDiscoveryConfig:()=>G$});l_.exports=U$(c_);var s_=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],pu="endpoint_discovery_enabled",i_=et(e=>["false","0"].indexOf(e)>=0,"isFalsy"),F$={environmentVariableSelector:et(e=>{for(let t=0;t<s_.length;t++){let r=s_[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!i_(n)}}},"environmentVariableSelector"),configFileSelector:et(e=>{if(pu in e){let t=e[pu];if(t===void 0)throw Error(`Shared config entry ${pu} can't be undefined, got "${t}"`);return!i_(t)}},"configFileSelector"),default:void 0},B$=ae(),j$=et(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},"getCacheKey"),Qt={},a_=et(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,l=o.get(s);if(l&&l.length===1&&l[0].Address==="")t.isDiscoveredEndpointRequired?(Qt[s]||(Qt[s]=[]),Qt[s].push({resolve:r,reject:n})):r();else if(l&&l.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];o.set(s,u);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(f=>{o.set(s,f.output.Endpoints),Qt[s]&&(Qt[s].forEach(({resolve:h})=>{h()}),delete Qt[s]),r()}).catch(f=>{o.delete(s);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:f});Qt[s]&&(Qt[s].forEach(({reject:g})=>{g(h)}),delete Qt[s]),t.isDiscoveredEndpointRequired?n(h):(o.set(s,u),r())})}}),"updateDiscoveredEndpointInCache"),mu=et((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,l=n.clientName,u=n.commandName,p=await e.endpointDiscoveryEnabled(),m=await j$(u,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await a_(e,{...t,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:s})}else p&&a_(e,{...t,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:s});let{request:f}=o;if(m&&B$.HttpRequest.isInstance(f)){let h=e.endpointCache.getEndpoint(m);h&&(f.hostname=h)}return r(o)},"endpointDiscoveryMiddleware"),ea={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},H$=et((e,t)=>({applyToStack:et(r=>{r.add(mu(e,t),ea)},"applyToStack")}),"getEndpointDiscoveryPlugin"),z$=et((e,t)=>({applyToStack:et(r=>{r.add(mu(e,{...t,isDiscoveredEndpointRequired:!0}),ea)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),V$=et((e,t)=>({applyToStack:et(r=>{r.add(mu(e,{...t,isDiscoveredEndpointRequired:!1}),ea)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),q$=o_(),G$=et((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new q$.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var zo=T((gZ,f_)=>{"use strict";var ra=Object.defineProperty,W$=Object.getOwnPropertyDescriptor,K$=Object.getOwnPropertyNames,J$=Object.prototype.hasOwnProperty,ta=(e,t)=>ra(e,"name",{value:t,configurable:!0}),Y$=(e,t)=>{for(var r in t)ra(e,r,{get:t[r],enumerable:!0})},X$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K$(t))!J$.call(e,o)&&o!==r&&ra(e,o,{get:()=>t[o],enumerable:!(n=W$(t,o))||n.enumerable});return e},Q$=e=>X$(ra({},"__esModule",{value:!0}),e),d_={};Y$(d_,{getHostHeaderPlugin:()=>eM,hostHeaderMiddleware:()=>p_,hostHeaderMiddlewareOptions:()=>m_,resolveHostHeaderConfig:()=>u_});f_.exports=Q$(d_);var Z$=ae();function u_(e){return e}ta(u_,"resolveHostHeaderConfig");var p_=ta(e=>t=>async r=>{if(!Z$.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),m_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},eM=ta(e=>({applyToStack:ta(t=>{t.add(p_(e),m_)},"applyToStack")}),"getHostHeaderPlugin")});var Vo=T((yZ,__)=>{"use strict";var na=Object.defineProperty,tM=Object.getOwnPropertyDescriptor,rM=Object.getOwnPropertyNames,nM=Object.prototype.hasOwnProperty,hu=(e,t)=>na(e,"name",{value:t,configurable:!0}),oM=(e,t)=>{for(var r in t)na(e,r,{get:t[r],enumerable:!0})},sM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rM(t))!nM.call(e,o)&&o!==r&&na(e,o,{get:()=>t[o],enumerable:!(n=tM(t,o))||n.enumerable});return e},iM=e=>sM(na({},"__esModule",{value:!0}),e),h_={};oM(h_,{getLoggerPlugin:()=>aM,loggerMiddleware:()=>g_,loggerMiddlewareOptions:()=>y_});__.exports=iM(h_);var g_=hu(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,p=l??t.inputFilterSensitiveLog,m=u??t.outputFilterSensitiveLog,{$metadata:f,...h}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:m(h),metadata:f}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l}=a,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),y_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},aM=hu(e=>({applyToStack:hu(t=>{t.add(g_(),y_)},"applyToStack")}),"getLoggerPlugin")});var qo=T((_Z,v_)=>{"use strict";var sa=Object.defineProperty,cM=Object.getOwnPropertyDescriptor,lM=Object.getOwnPropertyNames,dM=Object.prototype.hasOwnProperty,oa=(e,t)=>sa(e,"name",{value:t,configurable:!0}),uM=(e,t)=>{for(var r in t)sa(e,r,{get:t[r],enumerable:!0})},pM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lM(t))!dM.call(e,o)&&o!==r&&sa(e,o,{get:()=>t[o],enumerable:!(n=cM(t,o))||n.enumerable});return e},mM=e=>pM(sa({},"__esModule",{value:!0}),e),E_={};uM(E_,{addRecursionDetectionMiddlewareOptions:()=>S_,getRecursionDetectionPlugin:()=>yM,recursionDetectionMiddleware:()=>b_});v_.exports=mM(E_);var fM=ae(),gu="X-Amzn-Trace-Id",hM="AWS_LAMBDA_FUNCTION_NAME",gM="_X_AMZN_TRACE_ID",b_=oa(e=>t=>async r=>{let{request:n}=r;if(!fM.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(l=>l.toLowerCase()===gu.toLowerCase())??gu;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[hM],i=process.env[gM],a=oa(l=>typeof l=="string"&&l.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[gu]=i),t({...r,request:n})},"recursionDetectionMiddleware"),S_={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},yM=oa(e=>({applyToStack:oa(t=>{t.add(b_(e),S_)},"applyToStack")}),"getRecursionDetectionPlugin")});var yu,_M,C_=_(()=>{yu=b(Pt()),_M=e=>e[yu.SMITHY_CONTEXT_KEY]||(e[yu.SMITHY_CONTEXT_KEY]={})});var T_,w_=_(()=>{T_=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function EM(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var SZ,x_,Go,ia=_(()=>{SZ=b(Pt()),x_=b(it());w_();Go=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=T_(s,i),l=EM(e.httpAuthSchemes),u=(0,x_.getSmithyContext)(n),p=[];for(let m of a){let f=l.get(m.schemeId);if(!f){p.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(await t.identityProviderConfigProvider(e));if(!h){p.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},g),m.signingProperties=Object.assign(m.signingProperties||{},y),u.selectedHttpAuthScheme={httpAuthOption:m,identity:await h(m.identityProperties),signer:f.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var I_,Wo,A_=_(()=>{ia();I_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Wo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Go(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),I_)}})});var vr=T((IZ,$_)=>{var aa=Object.defineProperty,bM=Object.getOwnPropertyDescriptor,SM=Object.getOwnPropertyNames,vM=Object.prototype.hasOwnProperty,ca=(e,t)=>aa(e,"name",{value:t,configurable:!0}),CM=(e,t)=>{for(var r in t)aa(e,r,{get:t[r],enumerable:!0})},TM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SM(t))!vM.call(e,o)&&o!==r&&aa(e,o,{get:()=>t[o],enumerable:!(n=bM(t,o))||n.enumerable});return e},wM=e=>TM(aa({},"__esModule",{value:!0}),e),P_={};CM(P_,{deserializerMiddleware:()=>R_,deserializerMiddlewareOption:()=>O_,getSerdePlugin:()=>k_,serializerMiddleware:()=>N_,serializerMiddlewareOption:()=>D_});$_.exports=wM(P_);var xM=ae(),R_=ca((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(xM.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:_u(/^x-[\w-]+-request-?id$/,u),extendedRequestId:_u(/^x-[\w-]+-id-2$/,u),cfId:_u(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},"deserializerMiddleware"),_u=ca((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),N_=ca((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),O_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},D_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function k_(e,t,r){return{applyToStack:n=>{n.add(R_(e,r),O_),n.add(N_(e,t),D_)}}}ca(k_,"getSerdePlugin")});var M_,L_,IM,U_=_(()=>{M_=b(vr());ia();L_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:M_.serializerMiddlewareOption.name},IM=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Go(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),L_)}})});var F_=_(()=>{ia();A_();U_()});var B_,kZ,j_,AM,PM,Eu,bu=_(()=>{B_=b(ae()),kZ=b(Pt()),j_=b(it()),AM=e=>t=>{throw t},PM=(e,t)=>{},Eu=e=>(t,r)=>async n=>{if(!B_.HttpRequest.isInstance(n.request))return t(n);let s=(0,j_.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=s,u=await t({...n,request:await l.sign(n.request,a,i)}).catch((l.errorHandler||AM)(i));return(l.successHandler||PM)(u.response,i),u}});var H_,Ko,z_=_(()=>{bu();H_={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ko=e=>({applyToStack:t=>{t.addRelativeTo(Eu(e),H_)}})});var V_=_(()=>{bu();z_()});var Cr,q_=_(()=>{Cr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function G_(e,t,r,n,o){return async function*(i,a,...l){let u=a,p=i.startingToken??u[r],m=!0,f;for(;m;){if(u[r]=p,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)f=await RM(t,i.client,a,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let h=p;p=NM(f,n),m=!!(p&&(!i.stopOnSameToken||p!==h))}return void 0}}var RM,NM,W_=_(()=>{RM=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};NM=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Su=T((VZ,J_)=>{var la=Object.defineProperty,OM=Object.getOwnPropertyDescriptor,DM=Object.getOwnPropertyNames,kM=Object.prototype.hasOwnProperty,$M=(e,t)=>la(e,"name",{value:t,configurable:!0}),MM=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},LM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DM(t))!kM.call(e,o)&&o!==r&&la(e,o,{get:()=>t[o],enumerable:!(n=OM(t,o))||n.enumerable});return e},UM=e=>LM(la({},"__esModule",{value:!0}),e),K_={};MM(K_,{isArrayBuffer:()=>FM});J_.exports=UM(K_);var FM=$M(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Wn=T((qZ,Q_)=>{var da=Object.defineProperty,BM=Object.getOwnPropertyDescriptor,jM=Object.getOwnPropertyNames,HM=Object.prototype.hasOwnProperty,Y_=(e,t)=>da(e,"name",{value:t,configurable:!0}),zM=(e,t)=>{for(var r in t)da(e,r,{get:t[r],enumerable:!0})},VM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jM(t))!HM.call(e,o)&&o!==r&&da(e,o,{get:()=>t[o],enumerable:!(n=BM(t,o))||n.enumerable});return e},qM=e=>VM(da({},"__esModule",{value:!0}),e),X_={};zM(X_,{fromArrayBuffer:()=>WM,fromString:()=>KM});Q_.exports=qM(X_);var GM=Su(),vu=require("buffer"),WM=Y_((e,t=0,r=e.byteLength-t)=>{if(!(0,GM.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return vu.Buffer.from(e,t,r)},"fromArrayBuffer"),KM=Y_((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?vu.Buffer.from(e,t):vu.Buffer.from(e)},"fromString")});var Z_=T(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.fromBase64=void 0;var JM=Wn(),YM=/^[A-Za-z0-9+/]*={0,2}$/,XM=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!YM.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,JM.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ua.fromBase64=XM});var Oe=T((WZ,nE)=>{var pa=Object.defineProperty,QM=Object.getOwnPropertyDescriptor,ZM=Object.getOwnPropertyNames,eL=Object.prototype.hasOwnProperty,Cu=(e,t)=>pa(e,"name",{value:t,configurable:!0}),tL=(e,t)=>{for(var r in t)pa(e,r,{get:t[r],enumerable:!0})},rL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZM(t))!eL.call(e,o)&&o!==r&&pa(e,o,{get:()=>t[o],enumerable:!(n=QM(t,o))||n.enumerable});return e},nL=e=>rL(pa({},"__esModule",{value:!0}),e),eE={};tL(eE,{fromUtf8:()=>rE,toUint8Array:()=>oL,toUtf8:()=>sL});nE.exports=nL(eE);var tE=Wn(),rE=Cu(e=>{let t=(0,tE.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),oL=Cu(e=>typeof e=="string"?rE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),sL=Cu(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,tE.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var oE=T(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.toBase64=void 0;var iL=Wn(),aL=Oe(),cL=e=>{let t;if(typeof e=="string"?t=(0,aL.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,iL.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ma.toBase64=cL});var ze=T((JZ,fa)=>{var sE=Object.defineProperty,lL=Object.getOwnPropertyDescriptor,dL=Object.getOwnPropertyNames,uL=Object.prototype.hasOwnProperty,Tu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dL(t))!uL.call(e,o)&&o!==r&&sE(e,o,{get:()=>t[o],enumerable:!(n=lL(t,o))||n.enumerable});return e},iE=(e,t,r)=>(Tu(e,t,"default"),r&&Tu(r,t,"default")),pL=e=>Tu(sE({},"__esModule",{value:!0}),e),wu={};fa.exports=pL(wu);iE(wu,Z_(),fa.exports);iE(wu,oE(),fa.exports)});var Iu=T(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.ChecksumStream=void 0;var mL=ze(),fL=require("stream"),xu=class extends fL.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??mL.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};ha.ChecksumStream=xu});var Tr=T(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.isBlob=Kn.isReadableStream=void 0;var hL=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Kn.isReadableStream=hL;var gL=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Kn.isBlob=gL});var aE=T(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.ChecksumStream=void 0;var yL=typeof ReadableStream=="function"?ReadableStream:function(){},Au=class extends yL{};ga.ChecksumStream=Au});var cE=T(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.createChecksumStream=void 0;var _L=ze(),EL=Tr(),bL=aE(),SL=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,EL.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??_L.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let l=new TransformStream({start(){},async transform(p,m){t.update(p),m.enqueue(p)},async flush(p){let m=await t.digest(),f=a(m);if(e!==f){let h=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);p.error(h)}else p.terminate()}});r.pipeThrough(l);let u=l.readable;return Object.setPrototypeOf(u,bL.ChecksumStream.prototype),u};ya.createChecksumStream=SL});var lE=T(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.createChecksumStream=wL;var vL=Tr(),CL=Iu(),TL=cE();function wL(e){return typeof ReadableStream=="function"&&(0,vL.isReadableStream)(e.source)?(0,TL.createChecksumStream)(e):new CL.ChecksumStream(e)}});var Nu=T(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.ByteArrayCollector=void 0;var Ru=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};_a.ByteArrayCollector=Ru});var mE=T(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createBufferedReadable=void 0;Zt.createBufferedReadableStream=dE;Zt.merge=uE;Zt.flush=Ea;Zt.sizeOf=Jn;Zt.modeOf=pE;var xL=Nu();function dE(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new xL.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,l=async u=>{let{value:p,done:m}=await n.read(),f=p;if(m){if(a!==-1){let h=Ea(i,a);Jn(h)>0&&u.enqueue(h)}u.close()}else{let h=pE(f,!1);if(a!==h&&(a>=0&&u.enqueue(Ea(i,a)),a=h),a===-1){u.enqueue(f);return}let g=Jn(f);s+=g;let y=Jn(i[a]);if(g>=t&&y===0)u.enqueue(f);else{let E=uE(i,a,f);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),E>=t?u.enqueue(Ea(i,a)):await l(u)}}};return new ReadableStream({pull:l})}Zt.createBufferedReadable=dE;function uE(e,t,r){switch(t){case 0:return e[0]+=r,Jn(e[0]);case 1:case 2:return e[t].push(r),Jn(e[t])}}function Ea(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Jn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function pE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var hE=T(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.createBufferedReadable=PL;var IL=require("node:stream"),fE=Nu(),er=mE(),AL=Tr();function PL(e,t,r){if((0,AL.isReadableStream)(e))return(0,er.createBufferedReadableStream)(e,t,r);let n=new IL.Readable({read(){}}),o=!1,s=0,i=["",new fE.ByteArrayCollector(l=>new Uint8Array(l)),new fE.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let u=(0,er.modeOf)(l,!0);if(a!==u&&(a>=0&&n.push((0,er.flush)(i,a)),a=u),a===-1){n.push(l);return}let p=(0,er.sizeOf)(l);s+=p;let m=(0,er.sizeOf)(i[a]);if(p>=t&&m===0)n.push(l);else{let f=(0,er.merge)(i,a,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),f>=t&&n.push((0,er.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,er.flush)(i,a);(0,er.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var gE=T(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.getAwsChunkedEncodingStream=void 0;var RL=require("stream"),NL=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=a?i(o,e):void 0,u=new RL.Readable({read:()=>{}});return e.on("data",p=>{let m=n(p)||0;u.push(`${m.toString(16)}\r
`),u.push(p),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let p=r(await l);u.push(`${s}:${p}\r
`),u.push(`\r
`)}u.push(null)}),u};ba.getAwsChunkedEncodingStream=NL});var yE=T(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.headStream=OL;async function OL(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:u,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=u}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),l=0;for(let u of o){if(u.byteLength>a.byteLength-l){a.set(u.subarray(0,a.byteLength-l),l);break}else a.set(u,l);l+=u.length}return a}});var _E=T(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.headStream=void 0;var DL=require("stream"),kL=yE(),$L=Tr(),ML=(e,t)=>(0,$L.isReadableStream)(e)?(0,kL.headStream)(e,t):new Promise((r,n)=>{let o=new ku;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Sa.headStream=ML;var ku=class extends DL.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var Mu=T((aee,SE)=>{var va=Object.defineProperty,LL=Object.getOwnPropertyDescriptor,UL=Object.getOwnPropertyNames,FL=Object.prototype.hasOwnProperty,$u=(e,t)=>va(e,"name",{value:t,configurable:!0}),BL=(e,t)=>{for(var r in t)va(e,r,{get:t[r],enumerable:!0})},jL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UL(t))!FL.call(e,o)&&o!==r&&va(e,o,{get:()=>t[o],enumerable:!(n=LL(t,o))||n.enumerable});return e},HL=e=>jL(va({},"__esModule",{value:!0}),e),EE={};BL(EE,{escapeUri:()=>bE,escapeUriPath:()=>VL});SE.exports=HL(EE);var bE=$u(e=>encodeURIComponent(e).replace(/[!'()*]/g,zL),"escapeUri"),zL=$u(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),VL=$u(e=>e.split("/").map(bE).join("/"),"escapeUriPath")});var Uu=T((cee,TE)=>{var Ca=Object.defineProperty,qL=Object.getOwnPropertyDescriptor,GL=Object.getOwnPropertyNames,WL=Object.prototype.hasOwnProperty,KL=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),JL=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},YL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GL(t))!WL.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=qL(t,o))||n.enumerable});return e},XL=e=>YL(Ca({},"__esModule",{value:!0}),e),vE={};JL(vE,{buildQueryString:()=>CE});TE.exports=XL(vE);var Lu=Mu();function CE(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Lu.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Lu.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Lu.escapeUri)(n)}`),t.push(o)}}return t.join("&")}KL(CE,"buildQueryString")});var ln=T((lee,FE)=>{var QL=Object.create,Jo=Object.defineProperty,ZL=Object.getOwnPropertyDescriptor,eU=Object.getOwnPropertyNames,tU=Object.getPrototypeOf,rU=Object.prototype.hasOwnProperty,ce=(e,t)=>Jo(e,"name",{value:t,configurable:!0}),nU=(e,t)=>{for(var r in t)Jo(e,r,{get:t[r],enumerable:!0})},PE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eU(t))!rU.call(e,o)&&o!==r&&Jo(e,o,{get:()=>t[o],enumerable:!(n=ZL(t,o))||n.enumerable});return e},oU=(e,t,r)=>(r=e!=null?QL(tU(e)):{},PE(t||!e||!e.__esModule?Jo(r,"default",{value:e,enumerable:!0}):r,e)),sU=e=>PE(Jo({},"__esModule",{value:!0}),e),RE={};nU(RE,{DEFAULT_REQUEST_TIMEOUT:()=>ME,NodeHttp2Handler:()=>hU,NodeHttpHandler:()=>uU,streamCollector:()=>yU});FE.exports=sU(RE);var NE=ae(),OE=Uu(),Fu=require("http"),Bu=require("https"),iU=["ECONNRESET","EPIPE","ETIMEDOUT"],DE=ce(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Je={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},wE=1e3,aU=ce((e,t,r=0)=>{if(!r)return-1;let n=ce(o=>{let s=Je.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ce(a=>{a?.connecting?a.on("connect",()=>{Je.clearTimeout(s)}):Je.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):Je.setTimeout(n.bind(null,wE),wE)},"setConnectionTimeout"),cU=3e3,lU=ce((e,{keepAlive:t,keepAliveMsecs:r},n=cU)=>{if(t!==!0)return-1;let o=ce(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):Je.setTimeout(o,n)},"setSocketKeepAlive"),xE=3e3,dU=ce((e,t,r=ME)=>{let n=ce(o=>{let s=r-o,i=ce(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Je.setTimeout(n.bind(null,r===0?0:xE),xE)},"setSocketTimeout"),kE=require("stream"),IE=6e3;async function Hu(e,t,r=IE){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(Je.setTimeout(()=>a(!0),Math.max(IE,r)))}),new Promise(a=>{e.on("continue",()=>{Je.clearTimeout(s),a(!0)}),e.on("response",()=>{Je.clearTimeout(s),a(!1)}),e.on("error",()=>{Je.clearTimeout(s),a(!1)})})])),i&&$E(e,t.body)}ce(Hu,"writeRequestBody");function $E(e,t){if(t instanceof kE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ce($E,"writeBody");var ME=0,uU=class ju{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ce(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new ju(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,p=s[l]?.length??0;if(u>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Fu.Agent||typeof i?.destroy=="function"?i:new Fu.Agent({keepAlive:l,maxSockets:u,...i}),httpsAgent:a instanceof Bu.Agent||typeof a?.destroy=="function"?a:new Bu.Agent({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],l=ce(async R=>{await i,a.forEach(Je.clearTimeout),o(R)},"resolve"),u=ce(async R=>{await i,a.forEach(Je.clearTimeout),s(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",u(R);return}let p=t.protocol==="https:",m=p?this.config.httpsAgent:this.config.httpAgent;a.push(Je.setTimeout(()=>{this.socketWarningTimestamp=ju.checkSocketUsage(m,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let f=(0,OE.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let R=t.username??"",H=t.password??"";h=`${R}:${H}`}let g=t.path;f&&(g+=`?${f}`),t.fragment&&(g+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let E={headers:t.headers,host:y,method:t.method,path:g,port:t.port,agent:m,auth:h},C=(p?Bu.request:Fu.request)(E,R=>{let H=new NE.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:DE(R.headers),body:R});l({response:H})});if(C.on("error",R=>{iU.includes(R.code)?u(Object.assign(R,{name:"TimeoutError"})):u(R)}),r){let R=ce(()=>{C.destroy();let H=new Error("Request aborted");H.name="AbortError",u(H)},"onAbort");if(typeof r.addEventListener=="function"){let H=r;H.addEventListener("abort",R,{once:!0}),C.once("close",()=>H.removeEventListener("abort",R))}else r.onabort=R}let I=n??this.config.requestTimeout;a.push(aU(C,u,this.config.connectionTimeout)),a.push(dU(C,u,I));let A=E.agent;typeof A=="object"&&"keepAlive"in A&&a.push(lU(C,{keepAlive:A.keepAlive,keepAliveMsecs:A.keepAliveMsecs})),i=Hu(C,t,I).catch(R=>(a.forEach(Je.clearTimeout),s(R)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},AE=require("http2"),pU=oU(require("http2")),mU=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ce(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},fU=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ce(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=pU.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ce(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new mU;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},hU=class LE{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new fU({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ce(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new LE(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,l)=>{let u=!1,p,m=ce(async de=>{await p,a(de)},"resolve"),f=ce(async de=>{await p,l(de)},"reject");if(r?.aborted){u=!0;let de=new Error("Request aborted");de.name="AbortError",f(de);return}let{hostname:h,method:g,port:y,protocol:E,query:S}=t,C="";if(t.username!=null||t.password!=null){let de=t.username??"",fe=t.password??"";C=`${de}:${fe}@`}let I=`${E}//${C}${h}${y?`:${y}`:""}`,A={destination:new URL(I)},R=this.connectionManager.lease(A,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),H=ce(de=>{s&&this.destroySession(R),u=!0,f(de)},"rejectWithDestroy"),Be=(0,OE.buildQueryString)(S||{}),le=t.path;Be&&(le+=`?${Be}`),t.fragment&&(le+=`#${t.fragment}`);let we=R.request({...t.headers,[AE.constants.HTTP2_HEADER_PATH]:le,[AE.constants.HTTP2_HEADER_METHOD]:g});if(R.ref(),we.on("response",de=>{let fe=new NE.HttpResponse({statusCode:de[":status"]||-1,headers:DE(de),body:we});u=!0,m({response:fe}),s&&(R.close(),this.connectionManager.deleteSession(I,R))}),i&&we.setTimeout(i,()=>{we.close();let de=new Error(`Stream timed out because of no activity for ${i} ms`);de.name="TimeoutError",H(de)}),r){let de=ce(()=>{we.close();let fe=new Error("Request aborted");fe.name="AbortError",H(fe)},"onAbort");if(typeof r.addEventListener=="function"){let fe=r;fe.addEventListener("abort",de,{once:!0}),we.once("close",()=>fe.removeEventListener("abort",de))}else r.onabort=de}we.on("frameError",(de,fe,Re)=>{H(new Error(`Frame type id ${de} in stream id ${Re} has failed with code ${fe}.`))}),we.on("error",H),we.on("aborted",()=>{H(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${we.rstCode}.`))}),we.on("close",()=>{R.unref(),s&&R.destroy(),u||H(new Error("Unexpected error: http2 request did not get a response"))}),p=Hu(we,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},gU=class extends kE.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ce(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},yU=ce(e=>_U(e)?UE(e):new Promise((t,r)=>{let n=new gU;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),_U=ce(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function UE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ce(UE,"collectReadableStream")});var KE=T((mee,WE)=>{var wa=Object.defineProperty,EU=Object.getOwnPropertyDescriptor,bU=Object.getOwnPropertyNames,SU=Object.prototype.hasOwnProperty,Nt=(e,t)=>wa(e,"name",{value:t,configurable:!0}),vU=(e,t)=>{for(var r in t)wa(e,r,{get:t[r],enumerable:!0})},CU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bU(t))!SU.call(e,o)&&o!==r&&wa(e,o,{get:()=>t[o],enumerable:!(n=EU(t,o))||n.enumerable});return e},TU=e=>CU(wa({},"__esModule",{value:!0}),e),jE={};vU(jE,{FetchHttpHandler:()=>xU,keepAliveSupport:()=>Ta,streamCollector:()=>AU});WE.exports=TU(jE);var BE=ae(),wU=Uu();function zu(e,t){return new Request(e,t)}Nt(zu,"createRequest");function HE(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Nt(HE,"requestTimeout");var Ta={supported:void 0},xU=class zE{static{Nt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new zE(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Ta.supported===void 0&&(Ta.supported=typeof Request<"u"&&"keepalive"in zu("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let a=t.path,l=(0,wU.buildQueryString)(t.query||{});l&&(a+=`?${l}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let C=t.username??"",I=t.password??"";u=`${C}:${I}@`}let{port:p,method:m}=t,f=`${t.protocol}//${u}${t.hostname}${p?`:${p}`:""}${a}`,h=m==="GET"||m==="HEAD"?void 0:t.body,g={body:h,headers:new Headers(t.headers),method:m,credentials:i};this.config?.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),Ta.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=Nt(()=>{},"removeSignalEventListener"),E=zu(f,g),S=[fetch(E).then(C=>{let I=C.headers,A={};for(let H of I.entries())A[H[0]]=H[1];return C.body!=null?{response:new BE.HttpResponse({headers:A,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(H=>({response:new BE.HttpResponse({headers:A,reason:C.statusText,statusCode:C.status,body:H})}))}),HE(o)];return r&&S.push(new Promise((C,I)=>{let A=Nt(()=>{let R=new Error("Request aborted");R.name="AbortError",I(R)},"onAbort");if(typeof r.addEventListener=="function"){let R=r;R.addEventListener("abort",A,{once:!0}),y=Nt(()=>R.removeEventListener("abort",A),"removeSignalEventListener")}else r.onabort=A})),Promise.race(S).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},IU=ze(),AU=Nt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):VE(e):qE(e),"streamCollector");async function VE(e){let t=await GE(e),r=(0,IU.fromBase64)(t);return new Uint8Array(r)}Nt(VE,"collectBlob");async function qE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Nt(qE,"collectStream");function GE(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Nt(GE,"readToBase64")});var qu=T((fee,eb)=>{var xa=Object.defineProperty,PU=Object.getOwnPropertyDescriptor,RU=Object.getOwnPropertyNames,NU=Object.prototype.hasOwnProperty,JE=(e,t)=>xa(e,"name",{value:t,configurable:!0}),OU=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},DU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RU(t))!NU.call(e,o)&&o!==r&&xa(e,o,{get:()=>t[o],enumerable:!(n=PU(t,o))||n.enumerable});return e},kU=e=>DU(xa({},"__esModule",{value:!0}),e),YE={};OU(YE,{fromHex:()=>QE,toHex:()=>ZE});eb.exports=kU(YE);var XE={},Vu={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),XE[e]=t,Vu[t]=e}function QE(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Vu)t[r/2]=Vu[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}JE(QE,"fromHex");function ZE(e){let t="";for(let r=0;r<e.byteLength;r++)t+=XE[e[r]];return t}JE(ZE,"toHex")});var ob=T(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.sdkStreamMixin=void 0;var $U=KE(),MU=ze(),LU=qu(),UU=Oe(),tb=Tr(),rb="The stream has already been transformed.",FU=e=>{var t,r;if(!nb(e)&&!(0,tb.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(rb);return n=!0,await(0,$U.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,MU.toBase64)(a);if(i==="hex")return(0,LU.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,UU.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(rb);if(n=!0,nb(e))return s(e);if((0,tb.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ia.sdkStreamMixin=FU;var nb=e=>typeof Blob=="function"&&e instanceof Blob});var ib=T(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.sdkStreamMixin=void 0;var BU=ln(),jU=Wn(),Gu=require("stream"),HU=ob(),sb="The stream has already been transformed.",zU=e=>{var t,r;if(!(e instanceof Gu.Readable))try{return(0,HU.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(sb);return n=!0,await(0,BU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,jU.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(sb);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Gu.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Gu.Readable.toWeb(e)}})};Aa.sdkStreamMixin=zU});var ab=T(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.splitStream=VU;async function VU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var db=T(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.splitStream=GU;var cb=require("stream"),qU=ab(),lb=Tr();async function GU(e){if((0,lb.isReadableStream)(e)||(0,lb.isBlob)(e))return(0,qU.splitStream)(e);let t=new cb.PassThrough,r=new cb.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ra=T((Eee,Dt)=>{var Pa=Object.defineProperty,WU=Object.getOwnPropertyDescriptor,KU=Object.getOwnPropertyNames,JU=Object.prototype.hasOwnProperty,Xu=(e,t)=>Pa(e,"name",{value:t,configurable:!0}),YU=(e,t)=>{for(var r in t)Pa(e,r,{get:t[r],enumerable:!0})},Ju=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KU(t))!JU.call(e,o)&&o!==r&&Pa(e,o,{get:()=>t[o],enumerable:!(n=WU(t,o))||n.enumerable});return e},wr=(e,t,r)=>(Ju(e,t,"default"),r&&Ju(r,t,"default")),XU=e=>Ju(Pa({},"__esModule",{value:!0}),e),Ot={};YU(Ot,{Uint8ArrayBlobAdapter:()=>Yu});Dt.exports=XU(Ot);var ub=ze(),pb=Oe();function mb(e,t="utf-8"){return t==="base64"?(0,ub.toBase64)(e):(0,pb.toUtf8)(e)}Xu(mb,"transformToString");function fb(e,t){return t==="base64"?Yu.mutate((0,ub.fromBase64)(e)):Yu.mutate((0,pb.fromUtf8)(e))}Xu(fb,"transformFromString");var Yu=class hb extends Uint8Array{static{Xu(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return fb(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,hb.prototype),t}transformToString(t="utf-8"){return mb(this,t)}};wr(Ot,Iu(),Dt.exports);wr(Ot,lE(),Dt.exports);wr(Ot,hE(),Dt.exports);wr(Ot,gE(),Dt.exports);wr(Ot,_E(),Dt.exports);wr(Ot,ib(),Dt.exports);wr(Ot,db(),Dt.exports);wr(Ot,Tr(),Dt.exports)});var Na,_t,Oa=_(()=>{Na=b(Ra()),_t=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Na.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Na.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Na.Uint8ArrayBlobAdapter.mutate(await r)}});function kt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Da=_(()=>{});var tr,Qu=_(()=>{tr=e=>typeof e=="function"?e():e});var gb=_(()=>{});var Ve,yb=_(()=>{Ve=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Ve.registries=new Map});var $t,Yn=_(()=>{$t=class{constructor(t,r){this.name=t,this.traits=r}}});var Yo,Zu=_(()=>{Yn();Yo=class e extends $t{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Yo.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Xo,ep=_(()=>{Yn();Xo=class e extends $t{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xo.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var _b=_(()=>{});var dn,ka=_(()=>{Yn();dn=class e extends $t{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};dn.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var tp,Eb=_(()=>{ka();tp=class e extends dn{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};tp.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var N,rp=_(()=>{N={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Qo,np=_(()=>{Yn();Qo=class e extends $t{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Qo.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var j,bb=_(()=>{Qu();Zu();ep();rp();np();ka();j=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=tr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=tr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Qo?tr(this.schema.schemaRef):tr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=N.LIST_MODIFIER&&t<N.MAP_MODIFIER:t instanceof Yo}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=N.MAP_MODIFIER&&t<=255:t instanceof Xo}isDocumentSchema(){return this.getSchema()===N.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof dn}isBlobSchema(){return this.getSchema()===N.BLOB||this.getSchema()===N.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=N.TIMESTAMP_DEFAULT&&t<=N.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===N.STRING}isBooleanSchema(){return this.getSchema()===N.BOOLEAN}isNumericSchema(){return this.getSchema()===N.NUMERIC}isBigIntegerSchema(){return this.getSchema()===N.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===N.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===N.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(N).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case N.MAP_MODIFIER:return`${o}Map`;case N.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};j.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var xe=_(()=>{Qu();gb();Zu();ep();_b();Eb();bb();Yn();np();ka();rp();yb()});var QU,Sb=_(()=>{QU=(e,t,r=n=>n)=>e});var ZU,e2,Zo,t2,$a,es,r2,op,sp,ip,ap,n2,o2,vb,s2,i2,La,a2,cp,c2,Xn,lp,l2,d2,u2,Cb,Tb,p2,m2,un,dp,Ma,ts,up=_(()=>{ZU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},e2=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ts.warn(Ma(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ts.warn(Ma(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Zo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ts.warn(Ma(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},t2=Math.ceil(34028234663852886e22),$a=e=>{let t=Zo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>t2)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},es=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},r2=es,op=e=>ap(e,32),sp=e=>ap(e,16),ip=e=>ap(e,8),ap=(e,t)=>{let r=es(e);if(r!==void 0&&n2(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},n2=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},o2=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},vb=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},s2=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ts.warn(Ma(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},i2=e=>{if(e==null)return;let t=vb(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},La=e=>Zo(typeof e=="string"?Xn(e):e),a2=La,cp=e=>$a(typeof e=="string"?Xn(e):e),c2=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Xn=e=>{let t=e.match(c2);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},lp=e=>typeof e=="string"?Cb(e):Zo(e),l2=lp,d2=lp,u2=e=>typeof e=="string"?Cb(e):$a(e),Cb=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Tb=e=>es(typeof e=="string"?Xn(e):e),p2=Tb,m2=e=>op(typeof e=="string"?Xn(e):e),un=e=>sp(typeof e=="string"?Xn(e):e),dp=e=>ip(typeof e=="string"?Xn(e):e),Ma=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ts={warn:console.warn}});function ns(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${f2[n]}, ${l} ${mp[r]} ${t} ${u}:${p}:${m} GMT`}var f2,mp,h2,g2,y2,os,_2,E2,b2,ss,is,rs,S2,v2,C2,pp,T2,w2,x2,Mt,I2,A2,Qn,wb=_(()=>{up();f2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],mp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),g2=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=h2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u]=t,p=un(Qn(n)),m=Mt(o,"month",1,12),f=Mt(s,"day",1,31);return rs(p,m,f,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})},y2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),os=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=y2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u,p]=t,m=un(Qn(n)),f=Mt(o,"month",1,12),h=Mt(s,"day",1,31),g=rs(m,f,h,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u});return p.toUpperCase()!="Z"&&g.setTime(g.getTime()-A2(p)),g},_2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),E2=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),b2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ss=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=_2.exec(e);if(t){let[r,n,o,s,i,a,l,u]=t;return rs(un(Qn(s)),pp(o),Mt(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})}if(t=E2.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return C2(rs(S2(s),pp(o),Mt(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(t=b2.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return rs(un(Qn(u)),pp(n),Mt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},is=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=La(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},rs=(e,t,r,n)=>{let o=t-1;return w2(e,o,r),new Date(Date.UTC(e,o,r,Mt(n.hours,"hour",0,23),Mt(n.minutes,"minute",0,59),Mt(n.seconds,"seconds",0,60),I2(n.fractionalMilliseconds)))},S2=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+un(Qn(e));return r<t?r+100:r},v2=50*365*24*60*60*1e3,C2=e=>e.getTime()-new Date().getTime()>v2?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,pp=e=>{let t=mp.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},T2=[31,28,31,30,31,30,31,31,30,31,30,31],w2=(e,t,r)=>{let n=T2[t];if(t===1&&x2(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${mp[t]} in ${e}: ${r}`)},x2=e=>e%4===0&&(e%100!==0||e%400===0),Mt=(e,t,r,n)=>{let o=dp(Qn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},I2=e=>e==null?0:cp("0."+e)*1e3,A2=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Qn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function as(){return Ua>Fa.length-16&&(xb.default.randomFillSync(Fa),Ua=0),Fa.slice(Ua,Ua+=16)}var xb,Fa,Ua,fp=_(()=>{xb=b(require("crypto")),Fa=new Uint8Array(256),Ua=Fa.length});var Ib,Ab=_(()=>{Ib=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function P2(e){return typeof e=="string"&&Ib.test(e)}var xr,cs=_(()=>{Ab();xr=P2});function pn(e,t=0){return De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]}function R2(e,t=0){let r=pn(e,t);if(!xr(r))throw TypeError("Stringified UUID is invalid");return r}var De,Pb,ls=_(()=>{cs();De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));Pb=R2});function N2(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||Rb,i=e.clockseq!==void 0?e.clockseq:hp;if(s==null||i==null){let f=e.random||(e.rng||as)();s==null&&(s=Rb=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=hp=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:yp+1,u=a-gp+(l-yp)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||a>gp)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gp=a,yp=l,hp=i,a+=122192928e5;let p=((a&268435455)*1e4+l)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let f=0;f<6;++f)o[n+f]=s[f];return t||pn(o)}var Rb,hp,gp,yp,Nb,Ob=_(()=>{fp();ls();gp=0,yp=0;Nb=N2});function O2(e){if(!xr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ba,_p=_(()=>{cs();Ba=O2});function D2(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function ds(e,t,r){function n(o,s,i,a){var l;if(typeof o=="string"&&(o=D2(o)),typeof s=="string"&&(s=Ba(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(s),u.set(o,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=u[p];return i}return pn(u)}try{n.name=e}catch{}return n.DNS=k2,n.URL=$2,n}var k2,$2,Ep=_(()=>{ls();_p();k2="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$2="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function M2(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Db.default.createHash("md5").update(e).digest()}var Db,kb,$b=_(()=>{Db=b(require("crypto"));kb=M2});var L2,Mb,Lb=_(()=>{Ep();$b();L2=ds("v3",48,kb),Mb=L2});var Ub,bp,Fb=_(()=>{Ub=b(require("crypto")),bp={randomUUID:Ub.default.randomUUID}});function U2(e,t,r){if(bp.randomUUID&&!t&&!e)return bp.randomUUID();e=e||{};let n=e.random||(e.rng||as)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return pn(n)}var Lt,Bb=_(()=>{Fb();fp();ls();Lt=U2});function F2(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),jb.default.createHash("sha1").update(e).digest()}var jb,Hb,zb=_(()=>{jb=b(require("crypto"));Hb=F2});var B2,Vb,qb=_(()=>{Ep();zb();B2=ds("v5",80,Hb),Vb=B2});var Gb,Wb=_(()=>{Gb="00000000-0000-0000-0000-000000000000"});function j2(e){if(!xr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Kb,Jb=_(()=>{cs();Kb=j2});var Sp={};ot(Sp,{NIL:()=>Gb,parse:()=>Ba,stringify:()=>Pb,v1:()=>Nb,v3:()=>Mb,v4:()=>Lt,v5:()=>Vb,validate:()=>xr,version:()=>Kb});var ja=_(()=>{Ob();Lb();Bb();qb();Wb();Jb();cs();ls();_p()});var Yb=_(()=>{ja()});var qe,Xb=_(()=>{qe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};qe.from=e=>e&&typeof e=="object"&&(e instanceof qe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?qe(String(e)):qe(JSON.stringify(e));qe.fromObject=qe.from});function vp(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Qb=_(()=>{});function Cp(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var Zb=_(()=>{});var us,eS=_(()=>{us=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function H2(e){return new ke(String(e),"bigDecimal")}var ke,tS=_(()=>{ke=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var rS={};ot(rS,{LazyJsonString:()=>qe,NumericValue:()=>ke,copyDocumentWithTransform:()=>QU,dateToUtcString:()=>ns,expectBoolean:()=>e2,expectByte:()=>ip,expectFloat32:()=>$a,expectInt:()=>r2,expectInt32:()=>op,expectLong:()=>es,expectNonNull:()=>o2,expectNumber:()=>Zo,expectObject:()=>vb,expectShort:()=>sp,expectString:()=>s2,expectUnion:()=>i2,generateIdempotencyToken:()=>Lt,handleFloat:()=>l2,limitedParseDouble:()=>lp,limitedParseFloat:()=>d2,limitedParseFloat32:()=>u2,logger:()=>ts,nv:()=>H2,parseBoolean:()=>ZU,parseEpochTimestamp:()=>is,parseRfc3339DateTime:()=>g2,parseRfc3339DateTimeWithOffset:()=>os,parseRfc7231DateTime:()=>ss,quoteHeader:()=>vp,splitEvery:()=>Cp,splitHeader:()=>us,strictParseByte:()=>dp,strictParseDouble:()=>La,strictParseFloat:()=>a2,strictParseFloat32:()=>cp,strictParseInt:()=>p2,strictParseInt32:()=>m2,strictParseLong:()=>Tb,strictParseShort:()=>un});var Et=_(()=>{Sb();wb();Yb();Xb();up();Qb();Zb();eS();tS()});var Ha,Zn,Tp=_(()=>{xe();Ha=b(ae()),Zn=class{constructor(t){this.options=t}getRequestType(){return Ha.HttpRequest}getResponseType(){return Ha.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=j.of(r),s=j.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){return[]}}});var nS,oS,mn,sS=_(()=>{xe();Et();nS=b(ae()),oS=b(Ra());Oa();Da();Tp();mn=class extends Zn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},l=await n.endpoint(),u=j.of(t?.input),p=u.getSchema(),m=!1,f,h=new nS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,t,o);let g=j.translateTraits(t.traits);if(g.http){h.method=g.http[0];let[y,E]=g.http[1].split("?");h.path=="/"?h.path=y:h.path+=y;let S=new URLSearchParams(E??"");Object.assign(i,Object.fromEntries(S))}}for(let[g,y]of u.structIterator()){let E=y.getMergedTraits()??{},S=o[g];if(S!=null)if(E.httpPayload){if(y.isStreaming()){if(y.isStructSchema())throw new Error("serialization of event streams is not yet implemented");f=S}else s.write(y,S),f=s.flush();delete o[g]}else if(E.httpLabel){s.write(y,S);let C=s.flush();h.path.includes(`{${g}+}`)?h.path=h.path.replace(`{${g}+}`,C.split("/").map(kt).join("/")):h.path.includes(`{${g}}`)&&(h.path=h.path.replace(`{${g}}`,kt(C))),delete o[g]}else if(E.httpHeader)s.write(y,S),a[E.httpHeader.toLowerCase()]=String(s.flush()),delete o[g];else if(typeof E.httpPrefixHeaders=="string"){for(let[C,I]of Object.entries(S)){let A=E.httpPrefixHeaders+C;s.write([y.getValueSchema(),{httpHeader:A}],I),a[A.toLowerCase()]=s.flush()}delete o[g]}else E.httpQuery||E.httpQueryParams?(this.serializeQuery(y,S,i),delete o[g]):m=!0}return m&&o&&(s.write(p,o),f=s.flush()),h.headers=a,h.query=i,h.body=f,h}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(j.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&a.push(u)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let u=await _t(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let u=await _t(n.body,r);if(u.byteLength>0){let p=await o.read(s,u);for(let m of a)i[m]=p[m]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,l=j.of(t),u=[];for(let[p,m]of l.structIterator()){let f=m.getMemberTraits();if(f.httpPayload){if(m.isStreaming())if(m.isStructSchema()){let y=this.serdeContext;if(!y.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let E=m.getMemberSchemas();i[p]=y.eventStreamMarshaller.deserialize(n.body,async S=>{let C=Object.keys(S).find(I=>I!=="__type")??"";if(C in E){let I=E[C];return{[C]:await a.read(I,S[C].body)}}else return{$unknown:S}})}else i[p]=(0,oS.sdkStreamMixin)(n.body);else if(n.body){let g=await _t(n.body,r);g.byteLength>0&&(i[p]=await a.read(m,g))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),g=n.headers[h];if(g!=null)if(m.isListSchema()){let y=m.getValueSchema(),E;y.isTimestampSchema()&&y.getSchema()===N.TIMESTAMP_DEFAULT?E=Cp(g,",",2):E=us(g);let S=[];for(let C of E)S.push(await a.read([y,{httpHeader:h}],C.trim()));i[p]=S}else i[p]=await a.read(m,g)}else if(f.httpPrefixHeaders!==void 0){i[p]={};for(let[h,g]of Object.entries(n.headers))h.startsWith(f.httpPrefixHeaders)&&(i[p][h.slice(f.httpPrefixHeaders.length)]=await a.read([m.getValueSchema(),{httpHeader:h}],g))}else f.httpResponseCode?i[p]=n.statusCode:u.push(p)}return u}}});var iS,fn,aS=_(()=>{xe();iS=b(ae());Oa();Tp();fn=class extends Zn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),u=j.of(t?.input).getSchema(),p,m=new iS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(m,a),this.setHostPrefix(m,t,r));let f={...r};return r&&(o.write(u,f),p=o.flush()),m.headers=i,m.query=s,m.body=p,m.method="POST",m}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let u=await _t(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let a=await _t(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var wp,xp=_(()=>{Da();wp=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>kt(a)).join("/"):kt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ps(e,t){return new za(e,t)}var cS,za,lS=_(()=>{cS=b(ae());xp();za=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new cS.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=wp(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function hn(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===N.TIMESTAMP_DATE_TIME||e.getSchema()===N.TIMESTAMP_HTTP_DATE||e.getSchema()===N.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?N.TIMESTAMP_HTTP_DATE:s||r?N.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Va=_(()=>{xe()});var Ip,dS,gn,Ap=_(()=>{xe();Et();Ip=b(ze()),dS=b(Oe());Va();gn=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=j.of(t);if(n.isListSchema())return us(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Ip.fromBase64)(r);if(n.isTimestampSchema())switch(hn(n,this.settings)){case N.TIMESTAMP_DATE_TIME:return os(r);case N.TIMESTAMP_HTTP_DATE:return ss(r);case N.TIMESTAMP_EPOCH_SECONDS:return is(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=qe.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new ke(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??dS.toUtf8)((this.serdeContext?.base64Decoder??Ip.fromBase64)(t))}}});var qa,yn,uS=_(()=>{xe();qa=b(Oe());Ap();yn=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new gn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=j.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??qa.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??qa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Pp,ms,Rp=_(()=>{xe();Et();Pp=b(ze());Va();ms=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=j.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(hn(n,this.settings)){case N.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case N.TIMESTAMP_HTTP_DATE:this.stringBuffer=ns(r);break;case N.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Pp.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:vp(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=qe.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Pp.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var _n,pS=_(()=>{xe();Rp();_n=class{constructor(t,r,n=new ms(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=j.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var mS={};ot(mS,{FromStringShapeDeserializer:()=>gn,HttpBindingProtocol:()=>mn,HttpInterceptingShapeDeserializer:()=>yn,HttpInterceptingShapeSerializer:()=>_n,RequestBuilder:()=>za,RpcProtocol:()=>fn,ToStringShapeSerializer:()=>ms,collectBody:()=>_t,determineTimestampFormat:()=>hn,extendedEncodeURIComponent:()=>kt,requestBuilder:()=>ps,resolvedPath:()=>wp});var rr=_(()=>{Oa();Da();sS();aS();lS();xp();Ap();uS();pS();Rp();Va()});var fS=_(()=>{rr()});function z2(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var hS=_(()=>{});var En,gS=_(()=>{En=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var yS,Np,Op,_S=_(()=>{yS=b(ae()),Np=b(Pt()),Op=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=yS.HttpRequest.clone(t);if(n.in===Np.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Np.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var ES,Dp,bS=_(()=>{ES=b(ae()),Dp=class{async sign(t,r,n){let o=ES.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var nr,SS=_(()=>{nr=class{async sign(t,r,n){return t}}});var vS=_(()=>{_S();bS();SS()});var CS,V2,kp,Ga,$p,TS=_(()=>{CS=e=>t=>Ga(t)&&t.expiration.getTime()-Date.now()<e,V2=3e5,kp=CS(3e5),Ga=e=>e.expiration!==void 0,$p=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),a?o:r(o)?(t(o)&&await l(u),o):(a=!0,o))}});var wS=_(()=>{gS();vS();TS()});var at={};ot(at,{DefaultIdentityProviderConfig:()=>En,EXPIRATION_MS:()=>V2,HttpApiKeyAuthSigner:()=>Op,HttpBearerAuthSigner:()=>Dp,NoAuthSigner:()=>nr,createIsIdentityExpiredFunction:()=>CS,createPaginator:()=>G_,doesIdentityRequireRefresh:()=>Ga,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Wo,getHttpAuthSchemePlugin:()=>IM,getHttpSigningPlugin:()=>Ko,getSmithyContext:()=>_M,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>I_,httpAuthSchemeMiddleware:()=>Go,httpAuthSchemeMiddlewareOptions:()=>L_,httpSigningMiddleware:()=>Eu,httpSigningMiddlewareOptions:()=>H_,isIdentityExpired:()=>kp,memoizeIdentityProvider:()=>$p,normalizeProvider:()=>Cr,requestBuilder:()=>ps,setFeature:()=>z2});var Ee=_(()=>{C_();F_();V_();q_();W_();fS();hS();wS()});var eo=T((vne,kS)=>{var Wa=Object.defineProperty,q2=Object.getOwnPropertyDescriptor,G2=Object.getOwnPropertyNames,W2=Object.prototype.hasOwnProperty,se=(e,t)=>Wa(e,"name",{value:t,configurable:!0}),K2=(e,t)=>{for(var r in t)Wa(e,r,{get:t[r],enumerable:!0})},J2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G2(t))!W2.call(e,o)&&o!==r&&Wa(e,o,{get:()=>t[o],enumerable:!(n=q2(t,o))||n.enumerable});return e},Y2=e=>J2(Wa({},"__esModule",{value:!0}),e),xS={};K2(xS,{EndpointCache:()=>X2,EndpointError:()=>Ye,customEndpointFunctions:()=>Lp,isIpAddress:()=>IS,isValidHostLabel:()=>Fp,resolveEndpoint:()=>gF});kS.exports=Y2(xS);var X2=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{se(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},Q2=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),IS=se(e=>Q2.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),Z2=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Fp=se((e,t=!1)=>{if(!t)return Z2.test(e);let r=e.split(".");for(let n of r)if(!Fp(n))return!1;return!0},"isValidHostLabel"),Lp={},fs="endpoints";function or(e){return typeof e!="object"||e==null?e:"ref"in e?`$${or(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(or).join(", ")})`:JSON.stringify(e,null,2)}se(or,"toDebugString");var Ye=class extends Error{static{se(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},eF=se((e,t)=>e===t,"booleanEquals"),tF=se(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ye(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Ye(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),AS=se((e,t)=>tF(t).reduce((r,n)=>{if(typeof r!="object")throw new Ye(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),rF=se(e=>e!=null,"isSet"),nF=se(e=>!e,"not"),Up=Pt(),Mp={[Up.EndpointURLScheme.HTTP]:80,[Up.EndpointURLScheme.HTTPS]:443},oF=se(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:h,protocol:g="",path:y="",query:E={}}=e,S=new URL(`${g}//${f}${h?`:${h}`:""}${y}`);return S.search=Object.entries(E).map(([C,I])=>`${C}=${I}`).join("&"),S}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let l=i.slice(0,-1);if(!Object.values(Up.EndpointURLScheme).includes(l))return null;let u=IS(o),p=r.includes(`${n}:${Mp[l]}`)||typeof e=="string"&&e.includes(`${n}:${Mp[l]}`),m=`${n}${p?`:${Mp[l]}`:""}`;return{scheme:l,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},"parseURL"),sF=se((e,t)=>e===t,"stringEquals"),iF=se((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),aF=se(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),cF={booleanEquals:eF,getAttr:AS,isSet:rF,isValidHostLabel:Fp,not:nF,parseURL:oF,stringEquals:sF,substring:iF,uriEncode:aF},PS=se((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[l,u]=a.split("#");r.push(AS(n[l],u))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),lF=se(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Ka=se((e,t,r)=>{if(typeof e=="string")return PS(e,r);if(e.fn)return RS(e,r);if(e.ref)return lF(e,r);throw new Ye(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),RS=se(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Ka(s,"arg",r)),o=e.split(".");return o[0]in Lp&&o[1]!=null?Lp[o[0]][o[1]](...n):cF[e](...n)},"callFunction"),dF=se(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ye(`'${e}' is already defined in Reference Record.`);let n=RS(t,r);return r.logger?.debug?.(`${fs} evaluateCondition: ${or(t)} = ${or(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Bp=se((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=dF(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${fs} assign: ${s.name} := ${or(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),uF=se((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Ka(s,"Header value entry",t);if(typeof i!="string")throw new Ye(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),NS=se((e,t)=>{if(Array.isArray(e))return e.map(r=>NS(r,t));switch(typeof e){case"string":return PS(e,t);case"object":if(e===null)throw new Ye(`Unexpected endpoint property: ${e}`);return OS(e,t);case"boolean":return e;default:throw new Ye(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),OS=se((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:NS(o,t)}),{}),"getEndpointProperties"),pF=se((e,t)=>{let r=Ka(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ye(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),mF=se((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Bp(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return t.logger?.debug?.(`${fs} Resolving endpoint from template: ${or(n)}`),{...u!=null&&{headers:uF(u,i)},...l!=null&&{properties:OS(l,i)},url:pF(a,i)}},"evaluateEndpointRule"),fF=se((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Bp(r,t);if(o)throw new Ye(Ka(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),hF=se((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Bp(r,t);if(o)return DS(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),DS=se((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=mF(r,t);if(n)return n}else if(r.type==="error")fF(r,t);else if(r.type==="tree"){let n=hF(r,t);if(n)return n}else throw new Ye(`Unknown endpoint rule: ${r}`);throw new Ye("Rules evaluation failed")},"evaluateRules"),gF=se((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${fs} Initial EndpointParams: ${or(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,p])=>[u,p.default]);if(i.length>0)for(let[u,p]of i)r[u]=r[u]??p;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new Ye(`Missing required parameter: '${u}'`);let l=DS(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${fs} Resolved endpoint: ${or(l)}`),l},"resolveEndpoint")});var US=T((wne,LS)=>{var Ja=Object.defineProperty,yF=Object.getOwnPropertyDescriptor,_F=Object.getOwnPropertyNames,EF=Object.prototype.hasOwnProperty,bF=(e,t)=>Ja(e,"name",{value:t,configurable:!0}),SF=(e,t)=>{for(var r in t)Ja(e,r,{get:t[r],enumerable:!0})},vF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _F(t))!EF.call(e,o)&&o!==r&&Ja(e,o,{get:()=>t[o],enumerable:!(n=yF(t,o))||n.enumerable});return e},CF=e=>vF(Ja({},"__esModule",{value:!0}),e),$S={};SF($S,{parseQueryString:()=>MS});LS.exports=CF($S);function MS(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}bF(MS,"parseQueryString")});var Ir=T((xne,jS)=>{var Ya=Object.defineProperty,TF=Object.getOwnPropertyDescriptor,wF=Object.getOwnPropertyNames,xF=Object.prototype.hasOwnProperty,IF=(e,t)=>Ya(e,"name",{value:t,configurable:!0}),AF=(e,t)=>{for(var r in t)Ya(e,r,{get:t[r],enumerable:!0})},PF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wF(t))!xF.call(e,o)&&o!==r&&Ya(e,o,{get:()=>t[o],enumerable:!(n=TF(t,o))||n.enumerable});return e},RF=e=>PF(Ya({},"__esModule",{value:!0}),e),FS={};AF(FS,{parseUrl:()=>BS});jS.exports=RF(FS);var NF=US(),BS=IF(e=>{if(typeof e=="string")return BS(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,NF.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var to=T((Ine,QS)=>{"use strict";var Xa=Object.defineProperty,OF=Object.getOwnPropertyDescriptor,DF=Object.getOwnPropertyNames,kF=Object.prototype.hasOwnProperty,Ar=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),$F=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},MF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DF(t))!kF.call(e,o)&&o!==r&&Xa(e,o,{get:()=>t[o],enumerable:!(n=OF(t,o))||n.enumerable});return e},LF=e=>MF(Xa({},"__esModule",{value:!0}),e),zS={};$F(zS,{ConditionObject:()=>ue.ConditionObject,DeprecatedObject:()=>ue.DeprecatedObject,EndpointError:()=>ue.EndpointError,EndpointObject:()=>ue.EndpointObject,EndpointObjectHeaders:()=>ue.EndpointObjectHeaders,EndpointObjectProperties:()=>ue.EndpointObjectProperties,EndpointParams:()=>ue.EndpointParams,EndpointResolverOptions:()=>ue.EndpointResolverOptions,EndpointRuleObject:()=>ue.EndpointRuleObject,ErrorRuleObject:()=>ue.ErrorRuleObject,EvaluateOptions:()=>ue.EvaluateOptions,Expression:()=>ue.Expression,FunctionArgv:()=>ue.FunctionArgv,FunctionObject:()=>ue.FunctionObject,FunctionReturn:()=>ue.FunctionReturn,ParameterObject:()=>ue.ParameterObject,ReferenceObject:()=>ue.ReferenceObject,ReferenceRecord:()=>ue.ReferenceRecord,RuleSetObject:()=>ue.RuleSetObject,RuleSetRules:()=>ue.RuleSetRules,TreeRuleObject:()=>ue.TreeRuleObject,awsEndpointFunctions:()=>YS,getUserAgentPrefix:()=>jF,isIpAddress:()=>ue.isIpAddress,partition:()=>KS,resolveDefaultAwsRegionalEndpointsConfig:()=>zF,resolveEndpoint:()=>ue.resolveEndpoint,setPartitionInfo:()=>JS,toEndpointV1:()=>XS,useDefaultPartitionInfo:()=>BF});QS.exports=LF(zS);var ue=eo(),VS=Ar((e,t=!1)=>{if(t){for(let r of e.split("."))if(!VS(r))return!1;return!0}return!(!(0,ue.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ue.isIpAddress)(e))},"isVirtualHostableS3Bucket"),HS=":",UF="/",FF=Ar(e=>{let t=e.split(HS);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(HS)==="")return null;let l=a.map(u=>u.split(UF)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},"parseArn"),qS={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},GS=qS,WS="",KS=Ar(e=>{let{partitions:t}=GS;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),JS=Ar((e,t="")=>{GS=e,WS=t},"setPartitionInfo"),BF=Ar(()=>{JS(qS,"")},"useDefaultPartitionInfo"),jF=Ar(()=>WS,"getUserAgentPrefix"),YS={isVirtualHostableS3Bucket:VS,parseArn:FF,partition:KS};ue.customEndpointFunctions.aws=YS;var HF=Ir(),zF=Ar(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>XS(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),XS=Ar(e=>(0,HF.parseUrl)(e.url),"toEndpointV1")});var Qa,ro,ZS=_(()=>{Qa={warningEmitted:!1},ro=e=>{e&&!Qa.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Qa.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Pr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var ev=_(()=>{});function tv(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var rv=_(()=>{});function ov(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var sv=_(()=>{});var Rr={};ot(Rr,{emitWarningIfUnsupportedVersion:()=>ro,setCredentialFeature:()=>Pr,setFeature:()=>tv,setTokenFeature:()=>ov,state:()=>Qa});var bt=_(()=>{ZS();ev();rv();sv()});var iv,jp,av=_(()=>{iv=b(ae()),jp=e=>iv.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var no,Hp=_(()=>{no=e=>new Date(Date.now()+e)});var cv,lv=_(()=>{Hp();cv=(e,t)=>Math.abs(no(t).getTime()-e)>=3e5});var zp,dv=_(()=>{lv();zp=(e,t)=>{let r=Date.parse(e);return cv(r,t)?r-Date.now():t}});var Vp=_(()=>{av();Hp();dv()});var uv,hs,oo,Xe,qp,Gp=_(()=>{uv=b(ae());Vp();hs=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},oo=async e=>{let t=hs("context",e.context),r=hs("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await hs("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}},Xe=class{async sign(t,r,n){if(!uv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await oo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[m,f]=u.authSchemes;m?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,l=f?.signingName??l)}return await i.sign(t,{signingDate:no(s.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??jp(r.$response);if(n){let o=hs("config",t.config),s=o.systemClockOffset;o.systemClockOffset=zp(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=jp(t);if(n){let o=hs("config",r.config);o.systemClockOffset=zp(n,o.systemClockOffset)}}},qp=Xe});var pv,gs,mv=_(()=>{pv=b(ae());Vp();Gp();gs=class extends Xe{async sign(t,r,n){if(!pv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}=await oo(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:no(o.systemClockOffset),signingRegion:p,signingService:l})}}});var Wp,fv=_(()=>{Wp=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Za,Kp=_(()=>{Za=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var hv,gv,so,yv=_(()=>{fv();Kp();hv="AWS_AUTH_SCHEME_PREFERENCE",gv="auth_scheme_preference",so={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Za(t.signingName)in e)return["httpBearerAuth"];if(hv in e)return Wp(e[hv])},configFileSelector:e=>{if(gv in e)return Wp(e[gv])},default:[]}});var Ge=T((roe,vv)=>{var ec=Object.defineProperty,VF=Object.getOwnPropertyDescriptor,qF=Object.getOwnPropertyNames,GF=Object.prototype.hasOwnProperty,bn=(e,t)=>ec(e,"name",{value:t,configurable:!0}),WF=(e,t)=>{for(var r in t)ec(e,r,{get:t[r],enumerable:!0})},KF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qF(t))!GF.call(e,o)&&o!==r&&ec(e,o,{get:()=>t[o],enumerable:!(n=VF(t,o))||n.enumerable});return e},JF=e=>KF(ec({},"__esModule",{value:!0}),e),_v={};WF(_v,{CredentialsProviderError:()=>YF,ProviderError:()=>tc,TokenProviderError:()=>XF,chain:()=>QF,fromStatic:()=>ZF,memoize:()=>eB});vv.exports=JF(_v);var tc=class Ev extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,Ev.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{bn(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},YF=class bv extends tc{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,bv.prototype)}static{bn(this,"CredentialsProviderError")}},XF=class Sv extends tc{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,Sv.prototype)}static{bn(this,"TokenProviderError")}},QF=bn((...e)=>async()=>{if(e.length===0)throw new tc("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),ZF=bn(e=>()=>Promise.resolve(e),"fromStatic"),eB=bn((e,t,r)=>{let n,o,s,i=!1,a=bn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await a()),n):async l=>((!s||l?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Jp,Cv,Tv,wv=_(()=>{Ee();Jp=b(Ge()),Cv=e=>(e.sigv4aSigningRegionSet=Cr(e.sigv4aSigningRegionSet),e),Tv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Jp.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Jp.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var e0=T((soe,Zv)=>{var cc=Object.defineProperty,tB=Object.getOwnPropertyDescriptor,rB=Object.getOwnPropertyNames,nB=Object.prototype.hasOwnProperty,$e=(e,t)=>cc(e,"name",{value:t,configurable:!0}),oB=(e,t)=>{for(var r in t)cc(e,r,{get:t[r],enumerable:!0})},sB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rB(t))!nB.call(e,o)&&o!==r&&cc(e,o,{get:()=>t[o],enumerable:!(n=tB(t,o))||n.enumerable});return e},iB=e=>sB(cc({},"__esModule",{value:!0}),e),Rv={};oB(Rv,{ALGORITHM_IDENTIFIER:()=>rc,ALGORITHM_IDENTIFIER_V4A:()=>dB,ALGORITHM_QUERY_PARAM:()=>Nv,ALWAYS_UNSIGNABLE_HEADERS:()=>Fv,AMZ_DATE_HEADER:()=>nm,AMZ_DATE_QUERY_PARAM:()=>Zp,AUTH_HEADER:()=>rm,CREDENTIAL_QUERY_PARAM:()=>Ov,DATE_HEADER:()=>$v,EVENT_ALGORITHM_IDENTIFIER:()=>Hv,EXPIRES_QUERY_PARAM:()=>kv,GENERATED_HEADERS:()=>Mv,HOST_HEADER:()=>cB,KEY_TYPE_IDENTIFIER:()=>om,MAX_CACHE_SIZE:()=>Vv,MAX_PRESIGNED_TTL:()=>qv,PROXY_HEADER_PATTERN:()=>Bv,REGION_SET_PARAM:()=>aB,SEC_HEADER_PATTERN:()=>jv,SHA256_HEADER:()=>ac,SIGNATURE_HEADER:()=>Lv,SIGNATURE_QUERY_PARAM:()=>em,SIGNED_HEADERS_QUERY_PARAM:()=>Dv,SignatureV4:()=>SB,SignatureV4Base:()=>Qv,TOKEN_HEADER:()=>Uv,TOKEN_QUERY_PARAM:()=>tm,UNSIGNABLE_PATTERNS:()=>lB,UNSIGNED_PAYLOAD:()=>zv,clearCredentialCache:()=>pB,createScope:()=>oc,getCanonicalHeaders:()=>Yp,getCanonicalQuery:()=>Xv,getPayloadHash:()=>sc,getSigningKey:()=>Gv,hasHeader:()=>Kv,moveHeadersToQuery:()=>Yv,prepareRequest:()=>Qp,signatureV4aContainer:()=>vB});Zv.exports=iB(Rv);var xv=Oe(),Nv="X-Amz-Algorithm",Ov="X-Amz-Credential",Zp="X-Amz-Date",Dv="X-Amz-SignedHeaders",kv="X-Amz-Expires",em="X-Amz-Signature",tm="X-Amz-Security-Token",aB="X-Amz-Region-Set",rm="authorization",nm=Zp.toLowerCase(),$v="date",Mv=[rm,nm,$v],Lv=em.toLowerCase(),ac="x-amz-content-sha256",Uv=tm.toLowerCase(),cB="host",Fv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Bv=/^proxy-/,jv=/^sec-/,lB=[/^proxy-/i,/^sec-/i],rc="AWS4-HMAC-SHA256",dB="AWS4-ECDSA-P256-SHA256",Hv="AWS4-HMAC-SHA256-PAYLOAD",zv="UNSIGNED-PAYLOAD",Vv=50,om="aws4_request",qv=3600*24*7,Nr=qu(),uB=Oe(),io={},nc=[],oc=$e((e,t,r)=>`${e}/${t}/${r}/${om}`,"createScope"),Gv=$e(async(e,t,r,n,o)=>{let s=await Iv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,Nr.toHex)(s)}:${t.sessionToken}`;if(i in io)return io[i];for(nc.push(i);nc.length>Vv;)delete io[nc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,om])a=await Iv(e,a,l);return io[i]=a},"getSigningKey"),pB=$e(()=>{nc.length=0,Object.keys(io).forEach(e=>{delete io[e]})},"clearCredentialCache"),Iv=$e((e,t,r)=>{let n=new e(t);return n.update((0,uB.toUint8Array)(r)),n.digest()},"hmac"),Yp=$e(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Fv||t?.has(s)||Bv.test(s)||jv.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),mB=Su(),fB=Oe(),sc=$e(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ac)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,mB.isArrayBuffer)(t)){let n=new r;return n.update((0,fB.toUint8Array)(t)),(0,Nr.toHex)(await n.digest())}return zv},"getPayloadHash"),Av=Oe(),hB=class{static{$e(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,Av.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,Av.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let l=new Uint8Array(a.buffer);return l.set(i,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(yB.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!gB.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Nr.fromHex)(e.value.replace(/\-/g,"")),1),p}}},gB=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,yB=class Wv{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{$e(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Xp(r),new Wv(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Xp(t),parseInt((0,Nr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Xp(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}$e(Xp,"negate");var Kv=$e((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Jv=ae(),Yv=$e((e,t={})=>{let{headers:r,query:n={}}=Jv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Qp=$e(e=>{e=Jv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Mv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),Pv=it(),_B=Oe(),ic=Mu(),Xv=$e(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Lv)continue;let o=(0,ic.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,ic.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,ic.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),EB=$e(e=>bB(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),bB=$e(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Qv=class{static{$e(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,Pv.normalizeProvider)(r),this.credentialProvider=(0,Pv.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Xv(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,_B.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,Nr.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,ic.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=EB(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},SB=class extends Qv{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new hB}static{$e(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:l,signingService:u}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let m=l??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(r);if(n>qv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=oc(h,m,u??this.service),y=Yv(Qp(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(y.query[tm]=p.sessionToken),y.query[Nv]=rc,y.query[Ov]=`${p.accessKeyId}/${g}`,y.query[Zp]=f,y.query[kv]=n.toString(10);let E=Yp(y,o,i);return y.query[Dv]=this.getCanonicalHeaderList(E),y.query[em]=await this.getSignature(f,g,this.getSigningKey(p,m,h,u),this.createCanonicalRequest(y,E,await sc(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:l}=this.formatDate(r),u=oc(a,i,s??this.service),p=await sc({headers:{},body:t},this.sha256),m=new this.sha256;m.update(e);let f=(0,Nr.toHex)(await m.digest()),h=[Hv,l,u,n,f,p].join(`
`);return this.signString(h,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,xv.toUint8Array)(e)),(0,Nr.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),l=Qp(e),{longDate:u,shortDate:p}=this.formatDate(t),m=oc(p,a,s??this.service);l.headers[nm]=u,i.sessionToken&&(l.headers[Uv]=i.sessionToken);let f=await sc(l,this.sha256);!Kv(ac,l.headers)&&this.applyChecksum&&(l.headers[ac]=f);let h=Yp(l,n,r),g=await this.getSignature(u,m,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(l,h,f));return l.headers[rm]=`${rc} Credential=${i.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${g}`,l}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,rc),s=new this.sha256(await r);return s.update((0,xv.toUint8Array)(o)),(0,Nr.toHex)(await s.digest())}getSigningKey(e,t,r,n){return Gv(this.sha256,e,r,t,n||this.service)}},vB={SignatureV4a:null}});function CB(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=$p(t,kp,Ga):r?n=Cr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function TB(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var sm,Sn,t0,r0=_(()=>{bt();Ee();sm=b(e0()),Sn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let p=CB(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=TB(e,p);r&&!m.attributed?(n=async f=>m(f).then(h=>Pr(h,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Cr(e.signer):e.regionInfoProvider?a=()=>Cr(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,p])=>{let{signingRegion:m,signingService:f}=u;e.signingRegion=e.signingRegion||m||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||sm.SignatureV4;return new g(h)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Cr(e.region)(),properties:{}},u);let p=u.signingRegion,m=u.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||m||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||sm.SignatureV4;return new h(f)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},t0=Sn});var n0=_(()=>{Gp();mv();yv();wv();r0()});var o0={};ot(o0,{AWSSDKSigV4Signer:()=>qp,AwsSdkSigV4ASigner:()=>gs,AwsSdkSigV4Signer:()=>Xe,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>so,NODE_SIGV4A_CONFIG_OPTIONS:()=>Tv,getBearerTokenEnvKey:()=>Za,resolveAWSSDKSigV4Config:()=>t0,resolveAwsSdkSigV4AConfig:()=>Cv,resolveAwsSdkSigV4Config:()=>Sn,validateSigningProperties:()=>oo});var im=_(()=>{n0();Kp()});var wB,xB,IB,s0=_(()=>{wB=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},xB=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},IB=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ys=T((Soe,c0)=>{var lc=Object.defineProperty,AB=Object.getOwnPropertyDescriptor,PB=Object.getOwnPropertyNames,RB=Object.prototype.hasOwnProperty,NB=(e,t)=>lc(e,"name",{value:t,configurable:!0}),OB=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},DB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PB(t))!RB.call(e,o)&&o!==r&&lc(e,o,{get:()=>t[o],enumerable:!(n=AB(t,o))||n.enumerable});return e},kB=e=>DB(lc({},"__esModule",{value:!0}),e),a0={};OB(a0,{calculateBodyLength:()=>$B});c0.exports=kB(a0);var i0=typeof TextEncoder=="function"?new TextEncoder:null,$B=NB(e=>{if(typeof e=="string"){if(i0)return i0.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var je,Or=_(()=>{je=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function l0(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ke(n,"bigDecimal"):BigInt(n)}return t}var d0=_(()=>{Et()});var h0=T((woe,f0)=>{var dc=Object.defineProperty,MB=Object.getOwnPropertyDescriptor,LB=Object.getOwnPropertyNames,UB=Object.prototype.hasOwnProperty,ct=(e,t)=>dc(e,"name",{value:t,configurable:!0}),FB=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},BB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LB(t))!UB.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=MB(t,o))||n.enumerable});return e},jB=e=>BB(dc({},"__esModule",{value:!0}),e),m0={};FB(m0,{constructStack:()=>am});f0.exports=jB(m0);var vn=ct((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Dr=ct((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),am=ct(()=>{let e=[],t=[],r=!1,n=new Set,o=ct(m=>m.sort((f,h)=>u0[h.step]-u0[f.step]||p0[h.priority||"normal"]-p0[f.priority||"normal"]),"sort"),s=ct(m=>{let f=!1,h=ct(g=>{let y=vn(g.name,g.aliases);if(y.includes(m)){f=!0;for(let E of y)n.delete(E);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},"removeByName"),i=ct(m=>{let f=!1,h=ct(g=>{if(g.middleware===m){f=!0;for(let y of vn(g.name,g.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},"removeByReference"),a=ct(m=>(e.forEach(f=>{m.add(f.middleware,{...f})}),t.forEach(f=>{m.addRelativeTo(f.middleware,{...f})}),m.identifyOnResolve?.(p.identifyOnResolve()),m),"cloneTo"),l=ct(m=>{let f=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f},"expandRelativeMiddlewareList"),u=ct((m=!1)=>{let f=[],h=[],g={};return e.forEach(E=>{let S={...E,before:[],after:[]};for(let C of vn(S.name,S.aliases))g[C]=S;f.push(S)}),t.forEach(E=>{let S={...E,before:[],after:[]};for(let C of vn(S.name,S.aliases))g[C]=S;h.push(S)}),h.forEach(E=>{if(E.toMiddleware){let S=g[E.toMiddleware];if(S===void 0){if(m)return;throw new Error(`${E.toMiddleware} is not found when adding ${Dr(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&S.after.push(E),E.relation==="before"&&S.before.push(E)}}),o(f).map(l).reduce((E,S)=>(E.push(...S),E),[])},"getMiddlewareList"),p={add:(m,f={})=>{let{name:h,override:g,aliases:y}=f,E={step:"initialize",priority:"normal",middleware:m,...f},S=vn(h,y);if(S.length>0){if(S.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${Dr(h,y)}'`);for(let C of S){let I=e.findIndex(R=>R.name===C||R.aliases?.some(H=>H===C));if(I===-1)continue;let A=e[I];if(A.step!==E.step||E.priority!==A.priority)throw new Error(`"${Dr(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${Dr(h,y)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(I,1)}}for(let C of S)n.add(C)}e.push(E)},addRelativeTo:(m,f)=>{let{name:h,override:g,aliases:y}=f,E={middleware:m,...f},S=vn(h,y);if(S.length>0){if(S.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${Dr(h,y)}'`);for(let C of S){let I=t.findIndex(R=>R.name===C||R.aliases?.some(H=>H===C));if(I===-1)continue;let A=t[I];if(A.toMiddleware!==E.toMiddleware||A.relation!==E.relation)throw new Error(`"${Dr(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${Dr(h,y)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(I,1)}}for(let C of S)n.add(C)}t.push(E)},clone:()=>a(am()),use:m=>{m.applyToStack(p)},remove:m=>typeof m=="string"?s(m):i(m),removeByTag:m=>{let f=!1,h=ct(g=>{let{tags:y,name:E,aliases:S}=g;if(y&&y.includes(m)){let C=vn(E,S);for(let I of C)n.delete(I);return f=!0,!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},concat:m=>{let f=a(am());return f.use(m),f.identifyOnResolve(r||f.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>u(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return Dr(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let h of u().map(g=>g.middleware).reverse())m=h(m,f);return r&&console.log(p.identify()),m}};return p},"constructStack"),u0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},p0={high:3,normal:2,low:1}});var Y=T((xoe,fm)=>{var uc=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,zB=Object.getOwnPropertyNames,VB=Object.prototype.hasOwnProperty,re=(e,t)=>uc(e,"name",{value:t,configurable:!0}),qB=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},lm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zB(t))!VB.call(e,o)&&o!==r&&uc(e,o,{get:()=>t[o],enumerable:!(n=HB(t,o))||n.enumerable});return e},GB=(e,t,r)=>(lm(e,t,"default"),r&&lm(r,t,"default")),WB=e=>lm(uc({},"__esModule",{value:!0}),e),pm={};qB(pm,{Client:()=>KB,Command:()=>_0,NoOpLogger:()=>uj,SENSITIVE_STRING:()=>YB,ServiceException:()=>QB,_json:()=>um,collectBody:()=>cm.collectBody,convertMap:()=>pj,createAggregatedClient:()=>XB,decorateServiceException:()=>E0,emitWarningIfUnsupportedVersion:()=>rj,extendedEncodeURIComponent:()=>cm.extendedEncodeURIComponent,getArrayIfSingleItem:()=>lj,getDefaultClientConfiguration:()=>aj,getDefaultExtensionConfiguration:()=>S0,getValueFromTextNode:()=>v0,isSerializableHeaderValue:()=>dj,loadConfigsForDefaultMode:()=>tj,map:()=>mm,resolveDefaultRuntimeConfig:()=>cj,resolvedPath:()=>cm.resolvedPath,serializeDateTime:()=>_j,serializeFloat:()=>yj,take:()=>mj,throwDefaultError:()=>b0,withBaseException:()=>ZB});fm.exports=WB(pm);var y0=h0(),KB=class{constructor(e){this.config=e,this.middlewareStack=(0,y0.constructStack)()}static{re(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},cm=(rr(),G(mS)),dm=Pt(),_0=class{constructor(){this.middlewareStack=(0,y0.constructStack)()}static{re(this,"Command")}static classBuilder(){return new JB}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:l,additionalContext:u,CommandCtor:p}){for(let y of n.bind(this)(p,e,t,r))this.middlewareStack.use(y);let m=e.concat(this.middlewareStack),{logger:f}=t,h={logger:f,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[dm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...u},{requestHandler:g}=t;return m.resolve(y=>g.handle(y.request,r||{}),h)}},JB=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{re(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends _0{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{re(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},YB="***SensitiveInformation***",XB=re((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=re(async function(i,a,l){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},l)}else return this.send(u,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),QB=class _s extends Error{static{re(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return _s.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===_s?_s.isInstance(t):_s.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},E0=re((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),b0=re(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=ej(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw E0(i,t)},"throwDefaultError"),ZB=re(e=>({output:t,parsedBody:r,errorCode:n})=>{b0({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),ej=re(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),tj=re(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),g0=!1,rj=re(e=>{e&&!g0&&parseInt(e.substring(1,e.indexOf(".")))<16&&(g0=!0)},"emitWarningIfUnsupportedVersion"),nj=re(e=>{let t=[];for(let r in dm.AlgorithmId){let n=dm.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),oj=re(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),sj=re(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),ij=re(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),S0=re(e=>Object.assign(nj(e),sj(e)),"getDefaultExtensionConfiguration"),aj=S0,cj=re(e=>Object.assign(oj(e),ij(e)),"resolveDefaultRuntimeConfig"),lj=re(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),v0=re(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=v0(e[r]));return e},"getValueFromTextNode"),dj=re(e=>e!=null,"isSerializableHeaderValue"),uj=class{static{re(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function mm(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,fj(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}C0(n,null,s,i)}return n}re(mm,"map");var pj=re(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),mj=re((e,t)=>{let r={};for(let n in t)C0(r,e,t,n);return r},"take"),fj=re((e,t,r)=>mm(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),C0=re((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=hj,l=gj,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),hj=re(e=>e!=null,"nonNullish"),gj=re(e=>e,"pass"),yj=re(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),_j=re(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),um=re(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(um);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=um(e[r]));return t}return e},"_json");GB(pm,(Et(),G(rS)),fm.exports)});var T0,pc,hm=_(()=>{T0=b(Y()),pc=(e,t)=>(0,T0.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var ao,gm,Cn,Es=_(()=>{hm();ao=(e,t)=>pc(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),gm=async(e,t)=>{let r=await ao(e,t);return r.message=r.message??r.Message,r},Cn=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var w0,bs,ym=_(()=>{xe();Et();w0=b(ze());Or();d0();Es();bs=class extends je{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,l0):await ao(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=j.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._read(i,u));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},l=!!o.getMergedTraits().sparse;for(let[u,p]of Object.entries(r))(l||p!=null)&&(a[u]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,p=this._read(l,r[u]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,w0.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return qe.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===N.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case N.TIMESTAMP_DATE_TIME:return os(r);case N.TIMESTAMP_HTTP_DATE:return ss(r);case N.TIMESTAMP_EPOCH_SECONDS:return is(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof ke?r:new ke(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var x0,mc,I0=_(()=>{Et();x0="\u039D",mc=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ke){let n=`${x0+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${x0+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Ss,_m=_(()=>{xe();Et();Or();I0();Ss=class extends je{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=j.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new mc;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=j.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],l=!!s.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._write(i,u));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},l=!!s.getMergedTraits().sparse;for(let[u,p]of Object.entries(r))(l||p!=null)&&(a[u]=this._write(i,p));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,l]of s.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,p=this._write(l,r[a],s);p!==void 0&&(i[u]=p)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===N.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case N.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case N.TIMESTAMP_HTTP_DATE:return ns(r);case N.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return Lt();let i=s.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return qe.from(r)}return r}}}});var Tn,fc=_(()=>{Or();ym();_m();Tn=class extends je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ss(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new bs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var A0,wn,hc=_(()=>{rr();xe();A0=b(ys());fc();Es();wn=class extends fn{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Tn({timestampFormat:{useTrait:!0,default:N.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${j.of(t).getName()}`}),(tr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,A0.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Cn(n,o)??"Unknown",a=this.options.defaultNamespace,l=i;i.includes("#")&&([a,l]=i.split("#"));let u=Ve.for(a),p;try{p=u.getSchema(i)}catch{let E=Ve.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(l),o)}throw new Error(l)}let m=j.of(p),f=o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[y,E]of m.structIterator()){let S=E.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(E,o[S])}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}}});var Em,P0=_(()=>{hc();Em=class extends wn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var bm,R0=_(()=>{hc();bm=class extends wn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var N0,Sm,O0=_(()=>{rr();xe();N0=b(ys());fc();Es();Sm=class extends mn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Tn(r),this.serializer=new _n(this.codec.createSerializer(),r),this.deserializer=new yn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(a){let l=a.getMergedTraits().mediaType;l?o.headers["content-type"]=l:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:p,httpQueryParams:m,httpHeader:f,httpLabel:h,httpPrefixHeaders:g}=u.getMergedTraits();return!p&&!m&&!f&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,N0.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Cn(n,o)??"Unknown",a=this.options.defaultNamespace,l=i;i.includes("#")&&([a,l]=i.split("#"));let u=Ve.for(a),p;try{p=u.getSchema(i)}catch{let E=Ve.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(l),o)}throw new Error(l)}let m=j.of(p),f=o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[y,E]of m.structIterator()){let S=E.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(E,o[S])}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}getDefaultContentType(){return"application/json"}}});var D0,Ej,k0=_(()=>{D0=b(Y()),Ej=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,D0.expectUnion)(e)}});function gc(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function M0(e){return typeof e<"u"}var $0,bj,Sj,vj,vs,yc=_(()=>{"use strict";$0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",bj=$0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Sj="["+$0+"]["+bj+"]*",vj=new RegExp("^"+Sj+"$");vs=function(e){let t=vj.exec(e);return!(t===null||typeof t>"u")}});function j0(e,t){t=Object.assign({},Cj,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=U0(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=F0(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!Nj(l)){let m;return l.trim().length===0?m="Invalid space after '<'.":m="Tag '"+l+"' is an invalid name.",he("InvalidTag",m,We(e,s))}let u=xj(e,s);if(u===!1)return he("InvalidAttr","Attributes for '"+l+"' have open quote.",We(e,s));let p=u.value;if(s=u.index,p[p.length-1]==="/"){let m=s-p.length;p=p.substring(0,p.length-1);let f=B0(p,t);if(f===!0)n=!0;else return he(f.err.code,f.err.msg,We(e,m+f.err.line))}else if(a)if(u.tagClosed){if(p.trim().length>0)return he("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",We(e,i));if(r.length===0)return he("InvalidTag","Closing tag '"+l+"' has not been opened.",We(e,i));{let m=r.pop();if(l!==m.tagName){let f=We(e,m.tagStartPos);return he("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+l+"'.",We(e,i))}r.length==0&&(o=!0)}}else return he("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",We(e,s));else{let m=B0(p,t);if(m!==!0)return he(m.err.code,m.err.msg,We(e,s-p.length+m.err.line));if(o===!0)return he("InvalidXml","Multiple possible root nodes found.",We(e,s));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=F0(e,s);continue}else if(e[s+1]==="?"){if(s=U0(e,++s),s.err)return s}else break;else if(e[s]==="&"){let m=Pj(e,s);if(m==-1)return he("InvalidChar","char '&' is not expected.",We(e,s));s=m}else if(o===!0&&!L0(e[s]))return he("InvalidXml","Extra text at the end",We(e,s));e[s]==="<"&&s--}}else{if(L0(e[s]))continue;return he("InvalidChar","char '"+e[s]+"' is not expected.",We(e,s))}if(n){if(r.length==1)return he("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",We(e,r[0].tagStartPos));if(r.length>0)return he("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return he("InvalidXml","Start tag expected.",1);return!0}function L0(e){return e===" "||e==="	"||e===`
`||e==="\r"}function U0(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return he("InvalidXml","XML declaration allowed only at the start of the document.",We(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function F0(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function xj(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Tj||e[t]===wj)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function B0(e,t){let r=gc(e,Ij),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return he("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Cs(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return he("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Cs(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return he("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Cs(r[o]));let s=r[o][2];if(!Rj(s))return he("InvalidAttr","Attribute '"+s+"' is an invalid name.",Cs(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return he("InvalidAttr","Attribute '"+s+"' is repeated.",Cs(r[o]))}return!0}function Aj(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Pj(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Aj(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function he(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Rj(e){return vs(e)}function Nj(e){return vs(e)}function We(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Cs(e){return e.startIndex+e[1].length}var Cj,Tj,wj,Ij,H0=_(()=>{"use strict";yc();Cj={allowBooleanAttributes:!1,unpairedTags:[]};Tj='"',wj="'";Ij=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var Oj,z0,V0=_(()=>{Oj={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},z0=function(e){return Object.assign({},Oj,e)}});var _c,tt,Ec=_(()=>{"use strict";typeof Symbol!="function"?_c="@@xmlMetadata":_c=Symbol("XML Node Metadata");tt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][_c]={startIndex:r})}static getMetaDataSymbol(){return _c}}});function vm(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&xn(e,"!ENTITY",t)){t+=7;let a,l;[a,l,t]=Dj(e,t+1),l.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:l})}else if(o&&xn(e,"!ELEMENT",t)){t+=8;let{index:a}=$j(e,t+1);t=a}else if(o&&xn(e,"!ATTLIST",t))t+=8;else if(o&&xn(e,"!NOTATION",t)){t+=9;let{index:a}=kj(e,t+1);t=a}else if(xn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Dj(e,t){t=kr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Cm(r),t=kr(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=bc(e,t,"entity"),t--,[r,n,t]}function kj(e,t){t=kr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Cm(r),t=kr(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=kr(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=bc(e,t,"publicIdentifier"),t=kr(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=bc(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=bc(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function bc(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function $j(e,t){t=kr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Cm(r))throw new Error(`Invalid element name: "${r}"`);t=kr(e,t);let n="";if(e[t]==="E"&&xn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&xn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function xn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Cm(e){if(vs(e))return e;throw new Error(`Invalid entity name ${e}`)}var kr,q0=_(()=>{yc();kr=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Tm(e,t={}){if(t=Object.assign({},Uj,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&Mj.test(r))return Hj(r,16);if(r.search(/.+[eE].+/)!==-1)return Bj(e,r,t);{let n=Lj.exec(r);if(n){let o=n[1]||"",s=n[2],i=jj(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let l=Number(r),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return t.eNotation?l:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${o}${i}`?l:e;let p=s?i:r;return s?p===u||o+p===u?l:e:p===u||p===o+u?l:e}}else return e}}function Bj(e,t,r){if(!r.eNotation)return e;let n=t.match(Fj);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function jj(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Hj(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var Mj,Lj,Uj,Fj,G0=_(()=>{Mj=/^[-+]?0x[a-fA-F0-9]+$/,Lj=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Uj={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Fj=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function wm(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var W0=_(()=>{});function zj(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Vj(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Im(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Im(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function qj(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function Wj(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=gc(e,Gj),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let l=n[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);let p=this.options.attributeValueProcessor(a,l,t);p==null?s[u]=l:typeof p!=typeof l||p!==l?s[u]=p:s[u]=Im(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function Jj(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function Xj(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Qj(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function Zj(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function In(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function xm(e,t,r,n=">"){let o=Zj(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),l=s,u=!0;a!==-1&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());let p=l;if(r){let m=l.indexOf(":");m!==-1&&(l=l.substr(m+1),u=l!==o.data.substr(m+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:p}}function e3(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=In(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=In(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=In(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=In(e,"]]>",r,"StopNode is not closed.")-2;else{let s=xm(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Im(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Tm(e,r)}else return M0(e)?e:""}var Ts,Gj,Kj,Yj,K0=_(()=>{"use strict";yc();Ec();q0();G0();W0();Ts=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=zj,this.parseXml=Kj,this.parseTextData=Vj,this.resolveNameSpace=qj,this.buildAttributesMap=Wj,this.isItStopNode=Qj,this.replaceEntitiesValue=Yj,this.readStopNodeData=e3,this.saveTextToParentTag=Xj,this.addChild=Jj,this.ignoreAttributesFn=wm(this.options.ignoreAttributes)}};Gj=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");Kj=function(e){e=e.replace(/\r\n?/g,`
`);let t=new tt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=In(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let m=l.indexOf(":");m!==-1&&(l=l.substr(m+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,o));let u=o.substring(o.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let p=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=xm(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let l=new tt(a.tagName);l.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(l[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,l,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=In(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=vm(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=In(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let u=this.parseTextData(l,r.tagname,o,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,u),s=a+2}else{let a=xm(e,s,this.options.removeNSPrefix),l=a.tagName,u=a.rawTagName,p=a.tagExp,m=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l);let g=s;if(this.isItStopNode(this.options.stopNodes,o,l)){let y="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),p=l):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=a.closeIndex;else{let S=this.readStopNodeData(e,u,f+1);if(!S)throw new Error(`Unexpected end of ${u}`);s=S.i,y=S.tagContent}let E=new tt(l);l!==p&&m&&(E[":@"]=this.buildAttributesMap(p,o,l)),y&&(y=this.parseTextData(y,l,o,!0,m,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),E.add(this.options.textNodeName,y),this.addChild(r,E,o,g)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),p=l):p=p.substr(0,p.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let y=new tt(l);l!==p&&m&&(y[":@"]=this.buildAttributesMap(p,o,l)),this.addChild(r,y,o,g),o=o.substr(0,o.lastIndexOf("."))}else{let y=new tt(l);this.tagsNodeStack.push(r),l!==p&&m&&(y[":@"]=this.buildAttributesMap(p,o,l)),this.addChild(r,y,o,g),r=y}n="",s=f}}else n+=e[s];return t.child};Yj=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Pm(e,t){return J0(e,t)}function J0(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=t3(i),l="";if(r===void 0?l=a:l=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=J0(i[a],t,l),p=n3(u,t);i[Am]!==void 0&&(u[Am]=i[Am]),i[":@"]?r3(u,i[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(u)):t.isArray(a,l,p)?o[a]=[u]:o[a]=u}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function t3(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function r3(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function n3(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Am,Y0=_(()=>{"use strict";Ec();Am=tt.getMetaDataSymbol()});var $r,X0=_(()=>{V0();K0();Y0();H0();Ec();$r=class{constructor(t){this.externalEntities={},this.options=z0(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=j0(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Ts(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Pm(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return tt.getMetaDataSymbol()}}});var Rm=_(()=>{"use strict";X0()});var Q0,Z0,An,Sc=_(()=>{rr();xe();Q0=b(Y()),Z0=b(Oe());Rm();Or();An=class extends je{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new gn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=j.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},p=Object.keys(s)[0];return s[p].isBlobSchema()?u[p]=r:u[p]=this.read(s[p],r),u}let a=(this.serdeContext?.utf8Encoder??Z0.toUtf8)(r),l=this.parseXml(a);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=j.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],p=l.getMergedTraits().xmlName??"member",m=i?r:(r[0]??r)[p],f=Array.isArray(m)?m:[m];for(let h of f)(h!=null||s)&&u.push(this.readSchema(l,h));return u}let a={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let m=l.getMergedTraits().xmlName??"key",f=u.getMergedTraits().xmlName??"value";for(let h of p){let g=h[m],y=h[f];(y!=null||s)&&(a[g]=this.readSchema(u,y))}return a}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let p=u.getMergedTraits(),m=p.httpPayload?p.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[m]!=null&&(a[l]=this.readSchema(u,r[m]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new $r({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,Q0.getValueFromTextNode)(i)}return{}}}});var eC,tC,vc,rC=_(()=>{rr();xe();Et();eC=b(Y()),tC=b(ze());Or();vc=class extends je{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=j.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??tC.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Lt()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ke?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),hn(o,this.settings)){case N.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case N.TIMESTAMP_HTTP_DATE:this.writeValue((0,eC.dateToUtcString)(r));break;case N.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${u}.${a}`;this.write(s,l,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,l=1;for(let[u,p]of Object.entries(r)){if(p==null)continue;let m=this.getKey("key",s.getMergedTraits().xmlName),f=a?`${n}${l}.${m}`:`${n}entry.${l}.${m}`,h=this.getKey("value",i.getMergedTraits().xmlName),g=a?`${n}${l}.${h}`:`${n}entry.${l}.${h}`;this.write(s,u,f),this.write(i,p,g),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${a}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${kt(t)}=`}writeValue(t){this.buffer+=kt(t)}}});var nC,ws,Nm=_(()=>{rr();xe();nC=b(ys());Sc();rC();ws=class extends fn{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new vc(r),this.deserializer=new An(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(tr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,nC.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let p=await _t(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let m=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=m}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,l=await _t(n.body,r);return l.byteLength>0&&Object.assign(i,await o.read(s,l,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,l=i;i.includes("#")&&([a,l]=i.split("#"));let u=this.loadQueryError(o),p=Ve.for(a),m;try{m=p.find(E=>j.of(E).getMergedTraits().awsQueryError?.[0]===l),m||(m=p.getSchema(i))}catch{let S=Ve.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let C=S.ctor;throw Object.assign(new C(l),u)}throw new Error(l)}let f=j.of(m),h=this.loadQueryErrorMessage(o),g=new m.ctor(h),y={};for(let[E,S]of f.structIterator()){let C=S.getMergedTraits().xmlName??E,I=u[C]??o[C];y[E]=this.deserializer.readSchema(S,I)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Om,oC=_(()=>{Nm();Om=class extends ws{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var sC,xs,Dm,km,$m=_(()=>{sC=b(Y());Rm();hm();xs=(e,t)=>pc(e,t).then(r=>{if(r.length){let n=new $r({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,sC.getValueFromTextNode)(a)}return{}}),Dm=async(e,t)=>{let r=await xs(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},km=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var uC=T((oie,dC)=>{"use strict";var Tc=Object.defineProperty,o3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,i3=Object.prototype.hasOwnProperty,wc=(e,t)=>Tc(e,"name",{value:t,configurable:!0}),a3=(e,t)=>{for(var r in t)Tc(e,r,{get:t[r],enumerable:!0})},c3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s3(t))!i3.call(e,o)&&o!==r&&Tc(e,o,{get:()=>t[o],enumerable:!(n=o3(t,o))||n.enumerable});return e},l3=e=>c3(Tc({},"__esModule",{value:!0}),e),iC={};a3(iC,{XmlNode:()=>d3,XmlText:()=>lC});dC.exports=l3(iC);function aC(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}wc(aC,"escapeAttribute");function cC(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}wc(cC,"escapeElement");var lC=class{constructor(e){this.value=e}static{wc(this,"XmlText")}toString(){return cC(""+this.value)}},d3=class Cc{constructor(t,r=[]){this.name=t,this.children=r}static{wc(this,"XmlNode")}attributes={};static of(t,r,n){let o=new Cc(t);return r!==void 0&&o.addChildNode(new lC(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=Cc.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new Cc(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${aC(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var lt,Mm,xc,Is,Lm=_(()=>{lt=b(uC());xe();Et();Mm=b(Y()),xc=b(ze());Or();Is=class extends je{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=j.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??xc.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=lt.XmlNode.of(s),[a,l]=this.getXmlnsAttribute(t,n);l&&i.addAttribute(a,l);for(let[u,p]of t.structIterator()){let m=r[u];if(m!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??u,this.writeSimple(p,m));continue}if(p.isListSchema())this.writeList(p,m,i,l);else if(p.isMapSchema())this.writeMap(p,m,i,l);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,m,l));else{let f=lt.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,m,f,l),i.addChildNode(f)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),l=!!a.sparse,u=!!s.xmlFlattened,[p,m]=this.getXmlnsAttribute(t,o),f=(h,g)=>{if(i.isListSchema())this.writeList(i,Array.isArray(g)?g:[g],h,m);else if(i.isMapSchema())this.writeMap(i,g,h,m);else if(i.isStructSchema()){let y=this.writeStruct(i,g,m);h.addChildNode(y.withName(u?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=lt.XmlNode.of(u?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,g,y,m),h.addChildNode(y)}};if(u)for(let h of r)(l||h!=null)&&f(n,h);else{let h=lt.XmlNode.of(s.xmlName??t.getMemberName());m&&h.addAttribute(p,m);for(let g of r)(l||g!=null)&&f(h,g);n.addChildNode(h)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),m=p.getMergedTraits(),f=m.xmlName??"value",h=!!m.sparse,g=!!i.xmlFlattened,[y,E]=this.getXmlnsAttribute(t,o),S=(C,I,A)=>{let R=lt.XmlNode.of(u,I),[H,Be]=this.getXmlnsAttribute(a,E);Be&&R.addAttribute(H,Be),C.addChildNode(R);let le=lt.XmlNode.of(f);p.isListSchema()?this.writeList(p,A,le,E):p.isMapSchema()?this.writeMap(p,A,le,E,!0):p.isStructSchema()?le=this.writeStruct(p,A,E):this.writeSimpleInto(p,A,le,E),C.addChildNode(le)};if(g){for(let[C,I]of Object.entries(r))if(h||I!=null){let A=lt.XmlNode.of(i.xmlName??t.getMemberName());S(A,C,I),n.addChildNode(A)}}else{let C;s||(C=lt.XmlNode.of(i.xmlName??t.getMemberName()),E&&C.addAttribute(y,E),n.addChildNode(C));for(let[I,A]of Object.entries(r))if(h||A!=null){let R=lt.XmlNode.of("entry");S(R,I,A),(s?n:C).addChildNode(R)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=j.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??xc.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===N.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case N.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case N.TIMESTAMP_HTTP_DATE:o=(0,Mm.dateToUtcString)(r);break;case N.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Mm.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof ke?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=Lt():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=j.of(t),a=new lt.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var As,Um=_(()=>{Or();Sc();Lm();As=class extends je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Is(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new An(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var pC,Fm,mC=_(()=>{rr();xe();pC=b(ys());$m();Um();Fm=class extends mn{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new As(r),this.serializer=new _n(this.codec.createSerializer(),r),this.deserializer=new yn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(a){let l=a.getMergedTraits().mediaType;l?o.headers["content-type"]=l:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:p,httpQueryParams:m,httpHeader:f,httpLabel:h,httpPrefixHeaders:g}=u.getMergedTraits();return!p&&!m&&!f&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,pC.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=km(n,o)??"Unknown",a=this.options.defaultNamespace,l=i;i.includes("#")&&([a,l]=i.split("#"));let u=Ve.for(a),p;try{p=u.getSchema(i)}catch{let E=Ve.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(l),o)}throw new Error(l)}let m=j.of(p),f=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[y,E]of m.structIterator()){let S=E.getMergedTraits().xmlName??y,C=o.Error?.[S]??o[S];g[y]=this.codec.createDeserializer().readSchema(E,C)}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}getDefaultContentType(){return"application/xml"}}});var fC=_(()=>{s0();P0();R0();hc();O0();fc();ym();_m();k0();Es();oC();Nm();mC();Um();Sc();Lm();$m()});var Ut={};ot(Ut,{AWSSDKSigV4Signer:()=>qp,AwsEc2QueryProtocol:()=>Om,AwsJson1_0Protocol:()=>Em,AwsJson1_1Protocol:()=>bm,AwsJsonRpcProtocol:()=>wn,AwsQueryProtocol:()=>ws,AwsRestJsonProtocol:()=>Sm,AwsRestXmlProtocol:()=>Fm,AwsSdkSigV4ASigner:()=>gs,AwsSdkSigV4Signer:()=>Xe,JsonCodec:()=>Tn,JsonShapeDeserializer:()=>bs,JsonShapeSerializer:()=>Ss,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>so,NODE_SIGV4A_CONFIG_OPTIONS:()=>Tv,XmlCodec:()=>As,XmlShapeDeserializer:()=>An,XmlShapeSerializer:()=>Is,_toBool:()=>xB,_toNum:()=>IB,_toStr:()=>wB,awsExpectUnion:()=>Ej,emitWarningIfUnsupportedVersion:()=>ro,getBearerTokenEnvKey:()=>Za,loadRestJsonErrorCode:()=>Cn,loadRestXmlErrorCode:()=>km,parseJsonBody:()=>ao,parseJsonErrorBody:()=>gm,parseXmlBody:()=>xs,parseXmlErrorBody:()=>Dm,resolveAWSSDKSigV4Config:()=>t0,resolveAwsSdkSigV4AConfig:()=>Cv,resolveAwsSdkSigV4Config:()=>Sn,setCredentialFeature:()=>Pr,setFeature:()=>tv,setTokenFeature:()=>ov,state:()=>Qa,validateSigningProperties:()=>oo});var Ie=_(()=>{bt();im();fC()});var co=T((Bie,xC)=>{"use strict";var Ac=Object.defineProperty,u3=Object.getOwnPropertyDescriptor,p3=Object.getOwnPropertyNames,m3=Object.prototype.hasOwnProperty,sr=(e,t)=>Ac(e,"name",{value:t,configurable:!0}),f3=(e,t)=>{for(var r in t)Ac(e,r,{get:t[r],enumerable:!0})},h3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of p3(t))!m3.call(e,o)&&o!==r&&Ac(e,o,{get:()=>t[o],enumerable:!(n=u3(t,o))||n.enumerable});return e},g3=e=>h3(Ac({},"__esModule",{value:!0}),e),_C={};f3(_C,{DEFAULT_UA_APP_ID:()=>EC,getUserAgentMiddlewareOptions:()=>wC,getUserAgentPlugin:()=>T3,resolveUserAgentConfig:()=>SC,userAgentMiddleware:()=>TC});xC.exports=g3(_C);var y3=(Ee(),G(at)),EC=void 0;function bC(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}sr(bC,"isValidUserAgentAppId");function SC(e){let t=(0,y3.normalizeProvider)(e.userAgentAppId??EC),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:sr(async()=>{let n=await t();if(!bC(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}sr(SC,"resolveUserAgentConfig");var _3=to(),E3=ae(),Ft=(Ie(),G(Ut)),b3=/\d{12}\.ddb/;async function vC(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Ft.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,Ft.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Ft.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Ft.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(b3)&&(0,Ft.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,Ft.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,Ft.setFeature)(e,i,a)}}sr(vC,"checkFeatures");var hC="user-agent",Bm="x-amz-user-agent",gC=" ",jm="/",S3=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,v3=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,yC="-",C3=1024;function CC(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=C3){t.length?t+=","+n:t+=n;continue}break}return t}sr(CC,"encodeFeatures");var TC=sr(e=>(t,r)=>async n=>{let{request:o}=n;if(!E3.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Ic)||[],a=(await e.defaultUserAgentProvider()).map(Ic);await vC(r,e,n);let l=r;a.push(`m/${CC(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(Ic)||[],p=await e.userAgentAppId();p&&a.push(Ic([`app/${p}`]));let m=(0,_3.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...a,...i,...u]).join(gC),h=[...a.filter(g=>g.startsWith("aws-sdk-")),...u].join(gC);return e.runtime!=="browser"?(h&&(s[Bm]=s[Bm]?`${s[hC]} ${h}`:h),s[hC]=f):s[Bm]=f,t({...n,request:o})},"userAgentMiddleware"),Ic=sr(e=>{let t=e[0].split(jm).map(i=>i.replace(S3,yC)).join(jm),r=e[1]?.replace(v3,yC),n=t.indexOf(jm),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),wC={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},T3=sr(e=>({applyToStack:sr(t=>{t.add(TC(e),wC)},"applyToStack")}),"getUserAgentPlugin")});var NC=T((jie,RC)=>{var Pc=Object.defineProperty,w3=Object.getOwnPropertyDescriptor,x3=Object.getOwnPropertyNames,I3=Object.prototype.hasOwnProperty,IC=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),A3=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},P3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x3(t))!I3.call(e,o)&&o!==r&&Pc(e,o,{get:()=>t[o],enumerable:!(n=w3(t,o))||n.enumerable});return e},R3=e=>P3(Pc({},"__esModule",{value:!0}),e),AC={};A3(AC,{SelectorType:()=>PC,booleanSelector:()=>N3,numberSelector:()=>O3});RC.exports=R3(AC);var N3=IC((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),O3=IC((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),PC=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(PC||{})});var Bt=T((Hie,HC)=>{var Nc=Object.defineProperty,D3=Object.getOwnPropertyDescriptor,k3=Object.getOwnPropertyNames,$3=Object.prototype.hasOwnProperty,St=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),M3=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},L3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k3(t))!$3.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=D3(t,o))||n.enumerable});return e},U3=e=>L3(Nc({},"__esModule",{value:!0}),e),kC={};M3(kC,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>MC,CONFIG_USE_FIPS_ENDPOINT:()=>UC,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>F3,DEFAULT_USE_FIPS_ENDPOINT:()=>j3,ENV_USE_DUALSTACK_ENDPOINT:()=>$C,ENV_USE_FIPS_ENDPOINT:()=>LC,NODE_REGION_CONFIG_FILE_OPTIONS:()=>W3,NODE_REGION_CONFIG_OPTIONS:()=>G3,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>B3,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>H3,REGION_ENV_NAME:()=>FC,REGION_INI_NAME:()=>BC,getRegionInfo:()=>Q3,resolveCustomEndpointsConfig:()=>z3,resolveEndpointsConfig:()=>q3,resolveRegionConfig:()=>K3});HC.exports=U3(kC);var Mr=NC(),$C="AWS_USE_DUALSTACK_ENDPOINT",MC="use_dualstack_endpoint",F3=!1,B3={environmentVariableSelector:e=>(0,Mr.booleanSelector)(e,$C,Mr.SelectorType.ENV),configFileSelector:e=>(0,Mr.booleanSelector)(e,MC,Mr.SelectorType.CONFIG),default:!1},LC="AWS_USE_FIPS_ENDPOINT",UC="use_fips_endpoint",j3=!1,H3={environmentVariableSelector:e=>(0,Mr.booleanSelector)(e,LC,Mr.SelectorType.ENV),configFileSelector:e=>(0,Mr.booleanSelector)(e,UC,Mr.SelectorType.CONFIG),default:!1},Rc=it(),z3=St(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Rc.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Rc.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),V3=St(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),q3=St(e=>{let t=(0,Rc.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Rc.normalizeProvider)(typeof r=="string"?o(r):r):()=>V3({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),FC="AWS_REGION",BC="region",G3={environmentVariableSelector:e=>e[FC],configFileSelector:e=>e[BC],default:()=>{throw new Error("Region is missing")}},W3={preferredFile:"credentials"},jC=St(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),OC=St(e=>jC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),K3=St(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return OC(t);let n=await t();return OC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return jC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),DC=St((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),J3=St((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Y3=St((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),X3=St((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),Q3=St((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=Y3(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=DC(o[a]?.variants,l),p=DC(s[i]?.variants,l),m=J3(a,{regionHostname:u,partitionHostname:p});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let f=X3(m,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:m,...f&&{signingRegion:f},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Ps=T((zie,WC)=>{var Oc=Object.defineProperty,Z3=Object.getOwnPropertyDescriptor,e4=Object.getOwnPropertyNames,t4=Object.prototype.hasOwnProperty,VC=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),r4=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},n4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e4(t))!t4.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=Z3(t,o))||n.enumerable});return e},o4=e=>n4(Oc({},"__esModule",{value:!0}),e),qC={};r4(qC,{contentLengthMiddleware:()=>Hm,contentLengthMiddlewareOptions:()=>GC,getContentLengthPlugin:()=>i4});WC.exports=o4(qC);var s4=ae(),zC="content-length";function Hm(e){return t=>async r=>{let n=r.request;if(s4.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(zC)===-1)try{let i=e(o);n.headers={...n.headers,[zC]:String(i)}}catch{}}return t({...r,request:n})}}VC(Hm,"contentLengthMiddleware");var GC={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},i4=VC(e=>({applyToStack:t=>{t.add(Hm(e.bodyLengthChecker),GC)}}),"getContentLengthPlugin")});var Vm=T((Vie,XC)=>{var Dc=Object.defineProperty,a4=Object.getOwnPropertyDescriptor,c4=Object.getOwnPropertyNames,l4=Object.prototype.hasOwnProperty,Pn=(e,t)=>Dc(e,"name",{value:t,configurable:!0}),d4=(e,t)=>{for(var r in t)Dc(e,r,{get:t[r],enumerable:!0})},u4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c4(t))!l4.call(e,o)&&o!==r&&Dc(e,o,{get:()=>t[o],enumerable:!(n=a4(t,o))||n.enumerable});return e},p4=e=>u4(Dc({},"__esModule",{value:!0}),e),KC={};d4(KC,{isBrowserNetworkError:()=>YC,isClockSkewCorrectedError:()=>JC,isClockSkewError:()=>b4,isRetryableByTrait:()=>E4,isServerError:()=>v4,isThrottlingError:()=>S4,isTransientError:()=>zm});XC.exports=p4(KC);var m4=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],f4=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],h4=["TimeoutError","RequestTimeout","RequestTimeoutException"],g4=[500,502,503,504],y4=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],_4=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],E4=Pn(e=>e.$retryable!==void 0,"isRetryableByTrait"),b4=Pn(e=>m4.includes(e.name),"isClockSkewError"),JC=Pn(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),YC=Pn(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),S4=Pn(e=>e.$metadata?.httpStatusCode===429||f4.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),zm=Pn((e,t=0)=>JC(e)||h4.includes(e.name)||y4.includes(e?.code||"")||_4.includes(e?.code||"")||g4.includes(e.$metadata?.httpStatusCode||0)||YC(e)||e.cause!==void 0&&t<=10&&zm(e.cause,t+1),"isTransientError"),v4=Pn(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!zm(e)}return!1},"isServerError")});var lo=T((qie,aT)=>{var kc=Object.defineProperty,C4=Object.getOwnPropertyDescriptor,T4=Object.getOwnPropertyNames,w4=Object.prototype.hasOwnProperty,vt=(e,t)=>kc(e,"name",{value:t,configurable:!0}),x4=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},I4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T4(t))!w4.call(e,o)&&o!==r&&kc(e,o,{get:()=>t[o],enumerable:!(n=C4(t,o))||n.enumerable});return e},A4=e=>I4(kc({},"__esModule",{value:!0}),e),ZC={};x4(ZC,{AdaptiveRetryStrategy:()=>k4,ConfiguredRetryStrategy:()=>$4,DEFAULT_MAX_ATTEMPTS:()=>qm,DEFAULT_RETRY_DELAY_BASE:()=>Rs,DEFAULT_RETRY_MODE:()=>P4,DefaultRateLimiter:()=>tT,INITIAL_RETRY_TOKENS:()=>Gm,INVOCATION_ID_HEADER:()=>N4,MAXIMUM_RETRY_DELAY:()=>Wm,NO_RETRY_INCREMENT:()=>iT,REQUEST_HEADER:()=>O4,RETRY_COST:()=>oT,RETRY_MODES:()=>eT,StandardRetryStrategy:()=>Km,THROTTLING_RETRY_DELAY_BASE:()=>nT,TIMEOUT_RETRY_COST:()=>sT});aT.exports=A4(ZC);var eT=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(eT||{}),qm=3,P4="standard",R4=Vm(),tT=class rT{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{vt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>rT.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,R4.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Rs=100,Wm=20*1e3,nT=500,Gm=500,oT=5,sT=10,iT=1,N4="amz-sdk-invocation-id",O4="amz-sdk-request",D4=vt(()=>{let e=Rs;return{computeNextBackoffDelay:vt(n=>Math.floor(Math.min(Wm,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:vt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),QC=vt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:vt(()=>t,"getRetryCount"),getRetryDelay:vt(()=>Math.min(Wm,e),"getRetryDelay"),getRetryCost:vt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Km=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Gm,this.retryBackoffStrategy=D4(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{vt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return QC({retryDelay:Rs,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?nT:Rs);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,QC({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Gm,this.capacity+(e.getRetryCost()??iT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${qm}`),qm}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?sT:oT}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},k4=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new tT,this.standardRetryStrategy=new Km(e)}static{vt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},$4=class extends Km{static{vt(this,"ConfiguredRetryStrategy")}constructor(e,t=Rs){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var cT=T($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.isStreamingPayload=void 0;var M4=require("stream"),L4=e=>e?.body instanceof M4.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;$c.isStreamingPayload=L4});var ir=T((Yie,CT)=>{var Mc=Object.defineProperty,U4=Object.getOwnPropertyDescriptor,F4=Object.getOwnPropertyNames,B4=Object.prototype.hasOwnProperty,be=(e,t)=>Mc(e,"name",{value:t,configurable:!0}),j4=(e,t)=>{for(var r in t)Mc(e,r,{get:t[r],enumerable:!0})},H4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F4(t))!B4.call(e,o)&&o!==r&&Mc(e,o,{get:()=>t[o],enumerable:!(n=U4(t,o))||n.enumerable});return e},z4=e=>H4(Mc({},"__esModule",{value:!0}),e),dT={};j4(dT,{AdaptiveRetryStrategy:()=>G4,CONFIG_MAX_ATTEMPTS:()=>Ym,CONFIG_RETRY_MODE:()=>yT,ENV_MAX_ATTEMPTS:()=>Jm,ENV_RETRY_MODE:()=>gT,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>W4,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>J4,StandardRetryStrategy:()=>hT,defaultDelayDecider:()=>pT,defaultRetryDecider:()=>mT,getOmitRetryHeadersPlugin:()=>Y4,getRetryAfterHint:()=>vT,getRetryPlugin:()=>r8,omitRetryHeadersMiddleware:()=>_T,omitRetryHeadersMiddlewareOptions:()=>ET,resolveRetryConfig:()=>K4,retryMiddleware:()=>bT,retryMiddlewareOptions:()=>ST});CT.exports=z4(dT);var uo=ae(),uT=(ja(),G(Sp)),me=lo(),V4=be((e,t)=>{let r=e,n=t?.noRetryIncrement??me.NO_RETRY_INCREMENT,o=t?.retryCost??me.RETRY_COST,s=t?.timeoutRetryCost??me.TIMEOUT_RETRY_COST,i=e,a=be(m=>m.name==="TimeoutError"?s:o,"getCapacityAmount"),l=be(m=>a(m)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:be(m=>{if(!l(m))throw new Error("No retry token available");let f=a(m);return i-=f,f},"retrieveRetryTokens"),releaseRetryTokens:be(m=>{i+=m??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),pT=be((e,t)=>Math.floor(Math.min(me.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Lr=Vm(),mT=be(e=>e?(0,Lr.isRetryableByTrait)(e)||(0,Lr.isClockSkewError)(e)||(0,Lr.isThrottlingError)(e)||(0,Lr.isTransientError)(e):!1,"defaultRetryDecider"),fT=be(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),hT=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=me.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??mT,this.delayDecider=t?.delayDecider??pT,this.retryQuota=t?.retryQuota??V4(me.INITIAL_RETRY_TOKENS)}static{be(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=me.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(uo.HttpRequest.isInstance(a)&&(a.headers[me.INVOCATION_ID_HEADER]=(0,uT.v4)());;)try{uo.HttpRequest.isInstance(a)&&(a.headers[me.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:l,output:u}=await e(t);return r?.afterRequest&&r.afterRequest(l),this.retryQuota.releaseRetryTokens(n),u.$metadata.attempts=o+1,u.$metadata.totalRetryDelay=s,{response:l,output:u}}catch(l){let u=fT(l);if(o++,this.shouldRetry(u,o,i)){n=this.retryQuota.retrieveRetryTokens(u);let p=this.delayDecider((0,Lr.isThrottlingError)(u)?me.THROTTLING_RETRY_DELAY_BASE:me.DEFAULT_RETRY_DELAY_BASE,o),m=q4(u.$response),f=Math.max(m||0,p);s+=f,await new Promise(h=>setTimeout(h,f));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=o,u.$metadata.totalRetryDelay=s,u}}},q4=be(e=>{if(!uo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),G4=class extends hT{static{be(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new me.DefaultRateLimiter,this.mode=me.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},lT=it(),Jm="AWS_MAX_ATTEMPTS",Ym="max_attempts",W4={environmentVariableSelector:e=>{let t=e[Jm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Jm} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Ym];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Ym} mast be a number, got "${t}"`);return r},default:me.DEFAULT_MAX_ATTEMPTS},K4=be(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,lT.normalizeProvider)(n??me.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,lT.normalizeProvider)(r)()===me.RETRY_MODES.ADAPTIVE?new me.AdaptiveRetryStrategy(o):new me.StandardRetryStrategy(o))})},"resolveRetryConfig"),gT="AWS_RETRY_MODE",yT="retry_mode",J4={environmentVariableSelector:e=>e[gT],configFileSelector:e=>e[yT],default:me.DEFAULT_RETRY_MODE},_T=be(()=>e=>async t=>{let{request:r}=t;return uo.HttpRequest.isInstance(r)&&(delete r.headers[me.INVOCATION_ID_HEADER],delete r.headers[me.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),ET={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Y4=be(e=>({applyToStack:t=>{t.addRelativeTo(_T(),ET)}}),"getOmitRetryHeadersPlugin"),X4=Y(),Q4=cT(),bT=be(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Z4(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,l=0,u=0,{request:p}=n,m=uo.HttpRequest.isInstance(p);for(m&&(p.headers[me.INVOCATION_ID_HEADER]=(0,uT.v4)());;)try{m&&(p.headers[me.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:f,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=u,{response:f,output:h}}catch(f){let h=e8(f);if(a=fT(f),m&&(0,Q4.isStreamingPayload)(p))throw(r.logger instanceof X4.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=u,a}l=i.getRetryCount();let g=i.getRetryDelay();u+=g,await new Promise(y=>setTimeout(y,g))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Z4=be(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),e8=be(e=>{let t={error:e,errorType:t8(e)},r=vT(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),t8=be(e=>(0,Lr.isThrottlingError)(e)?"THROTTLING":(0,Lr.isTransientError)(e)?"TRANSIENT":(0,Lr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),ST={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},r8=be(e=>({applyToStack:t=>{t.add(bT(e),ST)}}),"getRetryPlugin"),vT=be(e=>{if(!uo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Qm=T(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.resolveHttpAuthSchemeConfig=Ur.defaultDynamoDBHttpAuthSchemeProvider=Ur.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var n8=(Ie(),G(Ut)),Xm=it(),o8=async(e,t,r)=>({operation:(0,Xm.getSmithyContext)(t).operation,region:await(0,Xm.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ur.defaultDynamoDBHttpAuthSchemeParametersProvider=o8;function s8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var i8=e=>{let t=[];switch(e.operation){default:t.push(s8(e))}return t};Ur.defaultDynamoDBHttpAuthSchemeProvider=i8;var a8=e=>{let t=(0,n8.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Xm.normalizeProvider)(e.authSchemePreference??[])})};Ur.resolveHttpAuthSchemeConfig=a8});var po=T(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getHomeDir=void 0;var c8=require("os"),l8=require("path"),Zm={},d8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",u8=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${l8.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=d8();return Zm[o]||(Zm[o]=(0,c8.homedir)()),Zm[o]};Lc.getHomeDir=u8});var ef=T(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getSSOTokenFilepath=void 0;var p8=require("crypto"),m8=require("path"),f8=po(),h8=e=>{let r=(0,p8.createHash)("sha1").update(e).digest("hex");return(0,m8.join)((0,f8.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Uc.getSSOTokenFilepath=h8});var TT=T(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.getSSOTokenFromFile=void 0;var g8=require("fs"),y8=ef(),{readFile:_8}=g8.promises,E8=async e=>{let t=(0,y8.getSSOTokenFilepath)(e),r=await _8(t,"utf8");return JSON.parse(r)};Fc.getSSOTokenFromFile=E8});var rf=T(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.slurpFile=void 0;var b8=require("fs"),{readFile:S8}=b8.promises,tf={},v8=(e,t)=>((!tf[e]||t?.ignoreCache)&&(tf[e]=S8(e,"utf8")),tf[e]);Bc.slurpFile=v8});var Fr=T((oae,Os)=>{var zc=Object.defineProperty,C8=Object.getOwnPropertyDescriptor,T8=Object.getOwnPropertyNames,w8=Object.prototype.hasOwnProperty,dt=(e,t)=>zc(e,"name",{value:t,configurable:!0}),x8=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},nf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T8(t))!w8.call(e,o)&&o!==r&&zc(e,o,{get:()=>t[o],enumerable:!(n=C8(t,o))||n.enumerable});return e},sf=(e,t,r)=>(nf(e,t,"default"),r&&nf(r,t,"default")),I8=e=>nf(zc({},"__esModule",{value:!0}),e),Ns={};x8(Ns,{CONFIG_PREFIX_SEPARATOR:()=>Rn,DEFAULT_PROFILE:()=>AT,ENV_PROFILE:()=>IT,getProfileName:()=>A8,loadSharedConfigFiles:()=>RT,loadSsoSessionData:()=>j8,parseKnownFiles:()=>z8});Os.exports=I8(Ns);sf(Ns,po(),Os.exports);var IT="AWS_PROFILE",AT="default",A8=dt(e=>e.profile||process.env[IT]||AT,"getProfileName");sf(Ns,ef(),Os.exports);sf(Ns,TT(),Os.exports);var jc=Pt(),P8=dt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Rn);return r===-1?!1:Object.values(jc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Rn),s=r.substring(0,o)===jc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Hc=require("path"),R8=po(),N8="AWS_CONFIG_FILE",PT=dt(()=>process.env[N8]||(0,Hc.join)((0,R8.getHomeDir)(),".aws","config"),"getConfigFilepath"),O8=po(),D8="AWS_SHARED_CREDENTIALS_FILE",k8=dt(()=>process.env[D8]||(0,Hc.join)((0,O8.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),$8=po(),M8=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,L8=["__proto__","profile __proto__"],of=dt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),l=M8.exec(a);if(l){let[,u,,p]=l;Object.values(jc.IniSectionType).includes(u)&&(r=[u,p].join(Rn))}else r=a;if(L8.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[l,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,l].join(Rn):l;t[r][p]=u}}}}return t},"parseIni"),wT=rf(),xT=dt(()=>({}),"swallowError"),Rn=".",RT=dt(async(e={})=>{let{filepath:t=k8(),configFilepath:r=PT()}=e,n=(0,$8.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,Hc.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,Hc.join)(n,r.slice(2)));let a=await Promise.all([(0,wT.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(of).then(P8).catch(xT),(0,wT.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(of).catch(xT)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),U8=dt(e=>Object.entries(e).filter(([t])=>t.startsWith(jc.IniSectionType.SSO_SESSION+Rn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Rn)+1)]:n}),{}),"getSsoSessionData"),F8=rf(),B8=dt(()=>({}),"swallowError"),j8=dt(async(e={})=>(0,F8.slurpFile)(e.configFilepath??PT()).then(of).then(U8).catch(B8),"loadSsoSessionData"),H8=dt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),z8=dt(async e=>{let t=await RT(e);return H8(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Br=T((sae,DT)=>{var Vc=Object.defineProperty,V8=Object.getOwnPropertyDescriptor,q8=Object.getOwnPropertyNames,G8=Object.prototype.hasOwnProperty,mo=(e,t)=>Vc(e,"name",{value:t,configurable:!0}),W8=(e,t)=>{for(var r in t)Vc(e,r,{get:t[r],enumerable:!0})},K8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q8(t))!G8.call(e,o)&&o!==r&&Vc(e,o,{get:()=>t[o],enumerable:!(n=V8(t,o))||n.enumerable});return e},J8=e=>K8(Vc({},"__esModule",{value:!0}),e),OT={};W8(OT,{loadConfig:()=>eH});DT.exports=J8(OT);var Ds=Ge();function af(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}mo(af,"getSelectorName");var Y8=mo((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ds.CredentialsProviderError(r.message||`Not found in ENV: ${af(e.toString())}`,{logger:t?.logger})}},"fromEnv"),NT=Fr(),X8=mo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,NT.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,NT.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},l=t==="config"?{...i,...a}:{...a,...i};try{let p=e(l,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(u){throw new Ds.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${af(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Q8=mo(e=>typeof e=="function","isFunction"),Z8=mo(e=>Q8(e)?async()=>await e():(0,Ds.fromStatic)(e),"fromStatic"),eH=mo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Ds.memoize)((0,Ds.chain)(Y8(e,i),X8(t,n),Z8(r)))},"loadConfig")});var LT=T(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.getEndpointUrlConfig=void 0;var kT=Fr(),$T="AWS_ENDPOINT_URL",MT="endpoint_url",tH=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[$T,...r].join("_")];if(n)return n;let o=t[$T];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(kT.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),MT].join(kT.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[MT];if(n)return n},default:void 0});qc.getEndpointUrlConfig=tH});var cf=T(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getEndpointFromConfig=void 0;var rH=Br(),nH=LT(),oH=async e=>(0,rH.loadConfig)((0,nH.getEndpointUrlConfig)(e??""))();Gc.getEndpointFromConfig=oH});var jr=T((cae,VT)=>{var Kc=Object.defineProperty,sH=Object.getOwnPropertyDescriptor,iH=Object.getOwnPropertyNames,aH=Object.prototype.hasOwnProperty,ut=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),cH=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},lH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iH(t))!aH.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=sH(t,o))||n.enumerable});return e},dH=e=>lH(Kc({},"__esModule",{value:!0}),e),FT={};cH(FT,{endpointMiddleware:()=>HT,endpointMiddlewareOptions:()=>zT,getEndpointFromInstructions:()=>BT,getEndpointPlugin:()=>SH,resolveEndpointConfig:()=>CH,resolveEndpointRequiredConfig:()=>TH,resolveParams:()=>jT,toEndpointV1:()=>lf});VT.exports=dH(FT);var uH=ut(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),gH(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!hH(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),pH=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mH=/(\d+\.){3}\d+/,fH=/\.\./,hH=ut(e=>pH.test(e)&&!mH.test(e)&&!fH.test(e),"isDnsCompatibleBucketName"),gH=ut(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),yH=ut((e,t,r)=>{let n=ut(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:l}=o;return`${s}//${i}${a?":"+a:""}${l}`}}return o}:n},"createConfigValueProvider"),_H=cf(),UT=Ir(),lf=ut(e=>typeof e=="object"?"url"in e?(0,UT.parseUrl)(e.url):e:(0,UT.parseUrl)(e),"toEndpointV1"),BT=ut(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,_H.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(lf(i)),r.isCustomEndpoint=!0)}let o=await jT(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),jT=ut(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await yH(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await uH(n),n},"resolveParams"),EH=(Ee(),G(at)),Wc=it(),HT=ut(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,EH.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await BT(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=(0,Wc.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),bH=vr(),zT={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:bH.serializerMiddlewareOption.name},SH=ut((e,t)=>({applyToStack:r=>{r.addRelativeTo(HT({config:e,instructions:t}),zT)}}),"getEndpointPlugin"),vH=cf(),CH=ut(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>lf(await(0,Wc.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Wc.normalizeProvider)(n??!1),useFipsEndpoint:(0,Wc.normalizeProvider)(o??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=(0,vH.getEndpointFromConfig)(e.serviceId)),l),a},"resolveEndpointConfig"),TH=ut(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var qT=T((lae,wH)=>{wH.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.868.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-endpoint-discovery":"3.862.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.7","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var df=T((dae,ZT)=>{"use strict";var Jc=Object.defineProperty,xH=Object.getOwnPropertyDescriptor,IH=Object.getOwnPropertyNames,AH=Object.prototype.hasOwnProperty,PH=(e,t)=>Jc(e,"name",{value:t,configurable:!0}),RH=(e,t)=>{for(var r in t)Jc(e,r,{get:t[r],enumerable:!0})},NH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IH(t))!AH.call(e,o)&&o!==r&&Jc(e,o,{get:()=>t[o],enumerable:!(n=xH(t,o))||n.enumerable});return e},OH=e=>NH(Jc({},"__esModule",{value:!0}),e),GT={};RH(GT,{ENV_ACCOUNT_ID:()=>QT,ENV_CREDENTIAL_SCOPE:()=>XT,ENV_EXPIRATION:()=>YT,ENV_KEY:()=>WT,ENV_SECRET:()=>KT,ENV_SESSION:()=>JT,fromEnv:()=>$H});ZT.exports=OH(GT);var DH=(bt(),G(Rr)),kH=Ge(),WT="AWS_ACCESS_KEY_ID",KT="AWS_SECRET_ACCESS_KEY",JT="AWS_SESSION_TOKEN",YT="AWS_CREDENTIAL_EXPIRATION",XT="AWS_CREDENTIAL_SCOPE",QT="AWS_ACCOUNT_ID",$H=PH(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[WT],r=process.env[KT],n=process.env[JT],o=process.env[YT],s=process.env[XT],i=process.env[QT];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,DH.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new kH.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var ks=T((uae,mw)=>{var Qc=Object.defineProperty,MH=Object.getOwnPropertyDescriptor,LH=Object.getOwnPropertyNames,UH=Object.prototype.hasOwnProperty,Se=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),FH=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},BH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LH(t))!UH.call(e,o)&&o!==r&&Qc(e,o,{get:()=>t[o],enumerable:!(n=MH(t,o))||n.enumerable});return e},jH=e=>BH(Qc({},"__esModule",{value:!0}),e),nw={};FH(nw,{DEFAULT_MAX_RETRIES:()=>aw,DEFAULT_TIMEOUT:()=>iw,ENV_CMDS_AUTH_TOKEN:()=>mf,ENV_CMDS_FULL_URI:()=>Yc,ENV_CMDS_RELATIVE_URI:()=>Xc,Endpoint:()=>lw,fromContainerMetadata:()=>qH,fromInstanceMetadata:()=>p6,getInstanceMetadataEndpoint:()=>uw,httpRequest:()=>fo,providerConfigFromInit:()=>ff});mw.exports=jH(nw);var HH=require("url"),jt=Ge(),zH=require("buffer"),VH=require("http");function fo(e){return new Promise((t,r)=>{let n=(0,VH.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new jt.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new jt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new jt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(zH.Buffer.concat(i)),n.destroy()})}),n.end()})}Se(fo,"httpRequest");var ow=Se(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),sw=Se(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),iw=1e3,aw=0,ff=Se(({maxRetries:e=aw,timeout:t=iw})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),pf=Se((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Yc="AWS_CONTAINER_CREDENTIALS_FULL_URI",Xc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",mf="AWS_CONTAINER_AUTHORIZATION_TOKEN",qH=Se((e={})=>{let{timeout:t,maxRetries:r}=ff(e);return()=>pf(async()=>{let n=await YH({logger:e.logger}),o=JSON.parse(await GH(t,n));if(!ow(o))throw new jt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return sw(o)},r)},"fromContainerMetadata"),GH=Se(async(e,t)=>(process.env[mf]&&(t.headers={...t.headers,Authorization:process.env[mf]}),(await fo({...t,timeout:e})).toString()),"requestFromEcsImds"),WH="169.254.170.2",KH={localhost:!0,"127.0.0.1":!0},JH={"http:":!0,"https:":!0},YH=Se(async({logger:e})=>{if(process.env[Xc])return{hostname:WH,path:process.env[Xc]};if(process.env[Yc]){let t=(0,HH.parse)(process.env[Yc]);if(!t.hostname||!(t.hostname in KH))throw new jt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in JH))throw new jt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new jt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Xc} or ${Yc} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),XH=class cw extends jt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,cw.prototype)}static{Se(this,"InstanceMetadataV1FallbackError")}},hf=Br(),QH=Ir(),lw=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(lw||{}),ZH="AWS_EC2_METADATA_SERVICE_ENDPOINT",e6="ec2_metadata_service_endpoint",t6={environmentVariableSelector:e=>e[ZH],configFileSelector:e=>e[e6],default:void 0},dw=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(dw||{}),r6="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",n6="ec2_metadata_service_endpoint_mode",o6={environmentVariableSelector:e=>e[r6],configFileSelector:e=>e[n6],default:"IPv4"},uw=Se(async()=>(0,QH.parseUrl)(await s6()||await i6()),"getInstanceMetadataEndpoint"),s6=Se(async()=>(0,hf.loadConfig)(t6)(),"getFromEndpointConfig"),i6=Se(async()=>{let e=await(0,hf.loadConfig)(o6)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(dw)}`)}},"getFromEndpointModeConfig"),a6=300,c6=300,l6="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ew=Se((e,t)=>{let r=a6+Math.floor(Math.random()*c6),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+l6);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),d6=Se((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=ew(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=ew(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),pw="/latest/meta-data/iam/security-credentials/",u6="/latest/api/token",uf="AWS_EC2_METADATA_V1_DISABLED",tw="ec2_metadata_v1_disabled",rw="x-aws-ec2-metadata-token",p6=Se((e={})=>d6(m6(e),{logger:e.logger}),"fromInstanceMetadata"),m6=Se((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=ff(e),i=Se(async(a,l)=>{if(t||l.headers?.[rw]==null){let m=!1,f=!1,h=await(0,hf.loadConfig)({environmentVariableSelector:g=>{let y=g[uf];if(f=!!y&&y!=="false",y===void 0)throw new jt.CredentialsProviderError(`${uf} not set in env, checking config file next.`,{logger:e.logger});return f},configFileSelector:g=>{let y=g[tw];return m=!!y&&y!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&g.push(`config file profile (${tw})`),f&&g.push(`process environment variable (${uf})`),new XH(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let p=(await pf(async()=>{let m;try{m=await h6(l)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)).trim();return pf(async()=>{let m;try{m=await g6(p,l,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)},"getCredentials");return async()=>{let a=await uw();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let l;try{l=(await f6({...a,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[rw]:l},timeout:o})}}},"getInstanceMetadataProvider"),f6=Se(async e=>fo({...e,path:u6,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),h6=Se(async e=>(await fo({...e,path:pw})).toString(),"getProfile"),g6=Se(async(e,t,r)=>{let n=JSON.parse((await fo({...t,path:pw+e})).toString());if(!ow(n))throw new jt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return sw(n)},"getCredentialsFromProfile")});var fw=T(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.checkUrl=void 0;var y6=Ge(),_6="169.254.170.2",E6="169.254.170.23",b6="[fd00:ec2::23]",S6=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===_6||e.hostname===E6||e.hostname===b6)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new y6.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Zc.checkUrl=S6});var hw=T(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.createGetRequest=w6;el.getCredentials=x6;var gf=Ge(),v6=ae(),C6=Y(),T6=Ra();function w6(e){return new v6.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function x6(e,t){let n=await(0,T6.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new gf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,C6.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new gf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new gf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var gw=T(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.retryWrapper=void 0;var I6=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};tl.retryWrapper=I6});var Ew=T(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.fromHttp=void 0;var A6=(qn(),G(Vn)),P6=(bt(),G(Rr)),R6=ln(),yw=Ge(),N6=A6.__importDefault(require("fs/promises")),O6=fw(),_w=hw(),D6=gw(),k6="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",$6="http://169.254.170.2",M6="AWS_CONTAINER_CREDENTIALS_FULL_URI",L6="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",U6="AWS_CONTAINER_AUTHORIZATION_TOKEN",F6=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[k6],n=e.awsContainerCredentialsFullUri??process.env[M6],o=e.awsContainerAuthorizationToken??process.env[U6],s=e.awsContainerAuthorizationTokenFile??process.env[L6],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${$6}${r}`;else throw new yw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,O6.checkUrl)(a,e.logger);let l=new R6.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,D6.retryWrapper)(async()=>{let u=(0,_w.createGetRequest)(a);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await N6.default.readFile(s)).toString());try{let p=await l.handle(u);return(0,_w.getCredentials)(p.response).then(m=>(0,P6.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(p){throw new yw.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};rl.fromHttp=F6});var yf=T(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.fromHttp=void 0;var B6=Ew();Object.defineProperty(nl,"fromHttp",{enumerable:!0,get:function(){return B6.fromHttp}})});var Ef=T(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.resolveHttpAuthSchemeConfig=Hr.defaultSSOHttpAuthSchemeProvider=Hr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var j6=(Ie(),G(Ut)),_f=it(),H6=async(e,t,r)=>({operation:(0,_f.getSmithyContext)(t).operation,region:await(0,_f.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Hr.defaultSSOHttpAuthSchemeParametersProvider=H6;function z6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ol(e){return{schemeId:"smithy.api#noAuth"}}var V6=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ol(e));break}case"ListAccountRoles":{t.push(ol(e));break}case"ListAccounts":{t.push(ol(e));break}case"Logout":{t.push(ol(e));break}default:t.push(z6(e))}return t};Hr.defaultSSOHttpAuthSchemeProvider=V6;var q6=e=>{let t=(0,j6.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,_f.normalizeProvider)(e.authSchemePreference??[])})};Hr.resolveHttpAuthSchemeConfig=q6});var bw=T((_ae,G6)=>{G6.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var $s=T((Eae,Iw)=>{"use strict";var il=Object.defineProperty,W6=Object.getOwnPropertyDescriptor,K6=Object.getOwnPropertyNames,J6=Object.prototype.hasOwnProperty,sl=(e,t)=>il(e,"name",{value:t,configurable:!0}),Y6=(e,t)=>{for(var r in t)il(e,r,{get:t[r],enumerable:!0})},X6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K6(t))!J6.call(e,o)&&o!==r&&il(e,o,{get:()=>t[o],enumerable:!(n=W6(t,o))||n.enumerable});return e},Q6=e=>X6(il({},"__esModule",{value:!0}),e),vw={};Y6(vw,{NODE_APP_ID_CONFIG_OPTIONS:()=>n5,UA_APP_ID_ENV_NAME:()=>ww,UA_APP_ID_INI_NAME:()=>xw,createDefaultUserAgentProvider:()=>Tw,crtAvailability:()=>Cw,defaultUserAgent:()=>e5});Iw.exports=Q6(vw);var Sw=require("os"),bf=require("process"),Cw={isCrtAvailable:!1},Z6=sl(()=>Cw.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Tw=sl(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Sw.platform)()}`,(0,Sw.release)()],["lang/js"],["md/nodejs",`${bf.versions.node}`]],o=Z6();o&&n.push(o),e&&n.push([`api/${e}`,t]),bf.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${bf.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),e5=Tw,t5=co(),ww="AWS_SDK_UA_APP_ID",xw="sdk_ua_app_id",r5="sdk-ua-app-id",n5={environmentVariableSelector:sl(e=>e[ww],"environmentVariableSelector"),configFileSelector:sl(e=>e[xw]??e[r5],"configFileSelector"),default:t5.DEFAULT_UA_APP_ID}});var Ms=T((bae,Nw)=>{var al=Object.defineProperty,o5=Object.getOwnPropertyDescriptor,s5=Object.getOwnPropertyNames,i5=Object.prototype.hasOwnProperty,Pw=(e,t)=>al(e,"name",{value:t,configurable:!0}),a5=(e,t)=>{for(var r in t)al(e,r,{get:t[r],enumerable:!0})},c5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s5(t))!i5.call(e,o)&&o!==r&&al(e,o,{get:()=>t[o],enumerable:!(n=o5(t,o))||n.enumerable});return e},l5=e=>c5(al({},"__esModule",{value:!0}),e),Rw={};a5(Rw,{Hash:()=>p5});Nw.exports=l5(Rw);var Sf=Wn(),d5=Oe(),u5=require("buffer"),Aw=require("crypto"),p5=class{static{Pw(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,d5.toUint8Array)(vf(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Aw.createHmac)(this.algorithmIdentifier,vf(this.secret)):(0,Aw.createHash)(this.algorithmIdentifier)}};function vf(e,t){return u5.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Sf.fromString)(e,t):ArrayBuffer.isView(e)?(0,Sf.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Sf.fromArrayBuffer)(e)}Pw(vf,"castSourceData")});var Ls=T((vae,kw)=>{var cl=Object.defineProperty,m5=Object.getOwnPropertyDescriptor,f5=Object.getOwnPropertyNames,h5=Object.prototype.hasOwnProperty,g5=(e,t)=>cl(e,"name",{value:t,configurable:!0}),y5=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},_5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f5(t))!h5.call(e,o)&&o!==r&&cl(e,o,{get:()=>t[o],enumerable:!(n=m5(t,o))||n.enumerable});return e},E5=e=>_5(cl({},"__esModule",{value:!0}),e),Dw={};y5(Dw,{calculateBodyLength:()=>b5});kw.exports=E5(Dw);var Ow=require("fs"),b5=g5(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Ow.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Ow.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Jw=T(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.ruleSet=void 0;var qw="required",mt="fn",ft="argv",yo="ref",$w=!0,Mw="isSet",Us="booleanEquals",ho="error",go="endpoint",ar="tree",Cf="PartitionResult",Tf="getAttr",Lw={[qw]:!1,type:"String"},Uw={[qw]:!0,default:!1,type:"Boolean"},Fw={[yo]:"Endpoint"},Gw={[mt]:Us,[ft]:[{[yo]:"UseFIPS"},!0]},Ww={[mt]:Us,[ft]:[{[yo]:"UseDualStack"},!0]},pt={},Bw={[mt]:Tf,[ft]:[{[yo]:Cf},"supportsFIPS"]},Kw={[yo]:Cf},jw={[mt]:Us,[ft]:[!0,{[mt]:Tf,[ft]:[Kw,"supportsDualStack"]}]},Hw=[Gw],zw=[Ww],Vw=[{[yo]:"Region"}],S5={version:"1.0",parameters:{Region:Lw,UseDualStack:Uw,UseFIPS:Uw,Endpoint:Lw},rules:[{conditions:[{[mt]:Mw,[ft]:[Fw]}],rules:[{conditions:Hw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ho},{conditions:zw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ho},{endpoint:{url:Fw,properties:pt,headers:pt},type:go}],type:ar},{conditions:[{[mt]:Mw,[ft]:Vw}],rules:[{conditions:[{[mt]:"aws.partition",[ft]:Vw,assign:Cf}],rules:[{conditions:[Gw,Ww],rules:[{conditions:[{[mt]:Us,[ft]:[$w,Bw]},jw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:go}],type:ar},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ho}],type:ar},{conditions:Hw,rules:[{conditions:[{[mt]:Us,[ft]:[Bw,$w]}],rules:[{conditions:[{[mt]:"stringEquals",[ft]:[{[mt]:Tf,[ft]:[Kw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:pt,headers:pt},type:go},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:go}],type:ar},{error:"FIPS is enabled but this partition does not support FIPS",type:ho}],type:ar},{conditions:zw,rules:[{conditions:[jw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:go}],type:ar},{error:"DualStack is enabled but this partition does not support DualStack",type:ho}],type:ar},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:go}],type:ar}],type:ar},{error:"Invalid Configuration: Missing Region",type:ho}]};ll.ruleSet=S5});var Yw=T(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.defaultEndpointResolver=void 0;var v5=to(),wf=eo(),C5=Jw(),T5=new wf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),w5=(e,t={})=>T5.get(e,()=>(0,wf.resolveEndpoint)(C5.ruleSet,{endpointParams:e,logger:t.logger}));dl.defaultEndpointResolver=w5;wf.customEndpointFunctions.aws=v5.awsEndpointFunctions});var Zw=T(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.getRuntimeConfig=void 0;var x5=(Ie(),G(Ut)),I5=(Ee(),G(at)),A5=Y(),P5=Ir(),Xw=ze(),Qw=Oe(),R5=Ef(),N5=Yw(),O5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Xw.fromBase64,base64Encoder:e?.base64Encoder??Xw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??N5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??R5.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new x5.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new I5.NoAuthSigner}],logger:e?.logger??new A5.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??P5.parseUrl,utf8Decoder:e?.utf8Decoder??Qw.fromUtf8,utf8Encoder:e?.utf8Encoder??Qw.toUtf8});ul.getRuntimeConfig=O5});var Bs=T((xae,sx)=>{var D5=Object.create,Fs=Object.defineProperty,k5=Object.getOwnPropertyDescriptor,$5=Object.getOwnPropertyNames,M5=Object.getPrototypeOf,L5=Object.prototype.hasOwnProperty,xf=(e,t)=>Fs(e,"name",{value:t,configurable:!0}),U5=(e,t)=>{for(var r in t)Fs(e,r,{get:t[r],enumerable:!0})},nx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $5(t))!L5.call(e,o)&&o!==r&&Fs(e,o,{get:()=>t[o],enumerable:!(n=k5(t,o))||n.enumerable});return e},F5=(e,t,r)=>(r=e!=null?D5(M5(e)):{},nx(t||!e||!e.__esModule?Fs(r,"default",{value:e,enumerable:!0}):r,e)),B5=e=>nx(Fs({},"__esModule",{value:!0}),e),ox={};U5(ox,{resolveDefaultsModeConfig:()=>Y5});sx.exports=B5(ox);var j5=Bt(),ex=Br(),H5=Ge(),z5="AWS_EXECUTION_ENV",tx="AWS_REGION",rx="AWS_DEFAULT_REGION",V5="AWS_EC2_METADATA_DISABLED",q5=["in-region","cross-region","mobile","standard","legacy"],G5="/latest/meta-data/placement/region",W5="AWS_DEFAULTS_MODE",K5="defaults_mode",J5={environmentVariableSelector:e=>e[W5],configFileSelector:e=>e[K5],default:"legacy"},Y5=xf(({region:e=(0,ex.loadConfig)(j5.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,ex.loadConfig)(J5)}={})=>(0,H5.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return X5(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${q5.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),X5=xf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Q5();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Q5=xf(async()=>{if(process.env[z5]&&(process.env[tx]||process.env[rx]))return process.env[tx]??process.env[rx];if(!process.env[V5])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>F5(ks())),r=await e();return(await t({...r,path:G5})).toString()}catch{}},"inferPhysicalRegion")});var dx=T(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.getRuntimeConfig=void 0;var Z5=(qn(),G(Vn)),ez=Z5.__importDefault(bw()),ix=(Ie(),G(Ut)),ax=$s(),pl=Bt(),tz=Ms(),cx=ir(),Nn=Br(),lx=ln(),rz=Ls(),nz=lo(),oz=Zw(),sz=Y(),iz=Bs(),az=Y(),cz=e=>{(0,az.emitWarningIfUnsupportedVersion)(process.version);let t=(0,iz.resolveDefaultsModeConfig)(e),r=()=>t().then(sz.loadConfigsForDefaultMode),n=(0,oz.getRuntimeConfig)(e);(0,ix.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Nn.loadConfig)(ix.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??rz.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ax.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ez.default.version}),maxAttempts:e?.maxAttempts??(0,Nn.loadConfig)(cx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Nn.loadConfig)(pl.NODE_REGION_CONFIG_OPTIONS,{...pl.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:lx.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Nn.loadConfig)({...cx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||nz.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??tz.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??lx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Nn.loadConfig)(pl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Nn.loadConfig)(pl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Nn.loadConfig)(ax.NODE_APP_ID_CONFIG_OPTIONS,o)}};ml.getRuntimeConfig=cz});var js=T((Aae,gx)=>{"use strict";var fl=Object.defineProperty,lz=Object.getOwnPropertyDescriptor,dz=Object.getOwnPropertyNames,uz=Object.prototype.hasOwnProperty,Ht=(e,t)=>fl(e,"name",{value:t,configurable:!0}),pz=(e,t)=>{for(var r in t)fl(e,r,{get:t[r],enumerable:!0})},mz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dz(t))!uz.call(e,o)&&o!==r&&fl(e,o,{get:()=>t[o],enumerable:!(n=lz(t,o))||n.enumerable});return e},fz=e=>mz(fl({},"__esModule",{value:!0}),e),px={};pz(px,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>_z,NODE_REGION_CONFIG_OPTIONS:()=>yz,REGION_ENV_NAME:()=>mx,REGION_INI_NAME:()=>fx,getAwsRegionExtensionConfiguration:()=>hz,resolveAwsRegionExtensionConfiguration:()=>gz,resolveRegionConfig:()=>Ez});gx.exports=fz(px);var hz=Ht(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),gz=Ht(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),mx="AWS_REGION",fx="region",yz={environmentVariableSelector:Ht(e=>e[mx],"environmentVariableSelector"),configFileSelector:Ht(e=>e[fx],"configFileSelector"),default:Ht(()=>{throw new Error("Region is missing")},"default")},_z={preferredFile:"credentials"},hx=Ht(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),ux=Ht(e=>hx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Ez=Ht(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Ht(async()=>{if(typeof t=="string")return ux(t);let n=await t();return ux(n)},"region"),useFipsEndpoint:Ht(async()=>{let n=typeof t=="string"?t:await t();return hx(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var Jx=T((Pae,Kx)=>{"use strict";var hl=Object.defineProperty,bz=Object.getOwnPropertyDescriptor,Sz=Object.getOwnPropertyNames,vz=Object.prototype.hasOwnProperty,Z=(e,t)=>hl(e,"name",{value:t,configurable:!0}),Cz=(e,t)=>{for(var r in t)hl(e,r,{get:t[r],enumerable:!0})},Tz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sz(t))!vz.call(e,o)&&o!==r&&hl(e,o,{get:()=>t[o],enumerable:!(n=bz(t,o))||n.enumerable});return e},wz=e=>Tz(hl({},"__esModule",{value:!0}),e),Cx={};Cz(Cx,{GetRoleCredentialsCommand:()=>qx,GetRoleCredentialsRequestFilterSensitiveLog:()=>Dx,GetRoleCredentialsResponseFilterSensitiveLog:()=>$x,InvalidRequestException:()=>wx,ListAccountRolesCommand:()=>If,ListAccountRolesRequestFilterSensitiveLog:()=>Mx,ListAccountsCommand:()=>Af,ListAccountsRequestFilterSensitiveLog:()=>Lx,LogoutCommand:()=>Gx,LogoutRequestFilterSensitiveLog:()=>Ux,ResourceNotFoundException:()=>Ix,RoleCredentialsFilterSensitiveLog:()=>kx,SSO:()=>Wx,SSOClient:()=>yl,SSOServiceException:()=>_o,TooManyRequestsException:()=>Px,UnauthorizedException:()=>Nx,__Client:()=>O.Client,paginateListAccountRoles:()=>Xz,paginateListAccounts:()=>Qz});Kx.exports=wz(Cx);var yx=zo(),xz=Vo(),Iz=qo(),_x=co(),Az=Bt(),cr=(Ee(),G(at)),Pz=Ps(),zs=jr(),Ex=ir(),bx=Ef(),Rz=Z(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),gl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Nz=dx(),Sx=js(),vx=ae(),O=Y(),Oz=Z(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Dz=Z(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),kz=Z((e,t)=>{let r=Object.assign((0,Sx.getAwsRegionExtensionConfiguration)(e),(0,O.getDefaultExtensionConfiguration)(e),(0,vx.getHttpHandlerExtensionConfiguration)(e),Oz(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Sx.resolveAwsRegionExtensionConfiguration)(r),(0,O.resolveDefaultRuntimeConfig)(r),(0,vx.resolveHttpHandlerRuntimeConfig)(r),Dz(r))},"resolveRuntimeExtensions"),yl=class extends O.Client{static{Z(this,"SSOClient")}config;constructor(...[e]){let t=(0,Nz.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Rz(t),n=(0,_x.resolveUserAgentConfig)(r),o=(0,Ex.resolveRetryConfig)(n),s=(0,Az.resolveRegionConfig)(o),i=(0,yx.resolveHostHeaderConfig)(s),a=(0,zs.resolveEndpointConfig)(i),l=(0,bx.resolveHttpAuthSchemeConfig)(a),u=kz(l,e?.extensions||[]);this.config=u,this.middlewareStack.use((0,_x.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ex.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Pz.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xz.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Iz.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,cr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:bx.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:Z(async p=>new cr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,cr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},_l=vr(),_o=class Tx extends O.ServiceException{static{Z(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Tx.prototype)}},wx=class xx extends _o{static{Z(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,xx.prototype)}},Ix=class Ax extends _o{static{Z(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Ax.prototype)}},Px=class Rx extends _o{static{Z(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Rx.prototype)}},Nx=class Ox extends _o{static{Z(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,Ox.prototype)}},Dx=Z(e=>({...e,...e.accessToken&&{accessToken:O.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),kx=Z(e=>({...e,...e.secretAccessKey&&{secretAccessKey:O.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:O.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),$x=Z(e=>({...e,...e.roleCredentials&&{roleCredentials:kx(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Mx=Z(e=>({...e,...e.accessToken&&{accessToken:O.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),Lx=Z(e=>({...e,...e.accessToken&&{accessToken:O.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),Ux=Z(e=>({...e,...e.accessToken&&{accessToken:O.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Hs=(Ie(),G(Ut)),$z=Z(async(e,t)=>{let r=(0,cr.requestBuilder)(e,t),n=(0,O.map)({},O.isSerializableHeaderValue,{[Sl]:e[bl]});r.bp("/federation/credentials");let o=(0,O.map)({[Jz]:[,(0,O.expectNonNull)(e[Kz],"roleName")],[Bx]:[,(0,O.expectNonNull)(e[Fx],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Mz=Z(async(e,t)=>{let r=(0,cr.requestBuilder)(e,t),n=(0,O.map)({},O.isSerializableHeaderValue,{[Sl]:e[bl]});r.bp("/assignment/roles");let o=(0,O.map)({[Vx]:[,e[zx]],[Hx]:[()=>e.maxResults!==void 0,()=>e[jx].toString()],[Bx]:[,(0,O.expectNonNull)(e[Fx],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Lz=Z(async(e,t)=>{let r=(0,cr.requestBuilder)(e,t),n=(0,O.map)({},O.isSerializableHeaderValue,{[Sl]:e[bl]});r.bp("/assignment/accounts");let o=(0,O.map)({[Vx]:[,e[zx]],[Hx]:[()=>e.maxResults!==void 0,()=>e[jx].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Uz=Z(async(e,t)=>{let r=(0,cr.requestBuilder)(e,t),n=(0,O.map)({},O.isSerializableHeaderValue,{[Sl]:e[bl]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Fz=Z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return El(e,t);let r=(0,O.map)({$metadata:zr(e)}),n=(0,O.expectNonNull)((0,O.expectObject)(await(0,Hs.parseJsonBody)(e.body,t)),"body"),o=(0,O.take)(n,{roleCredentials:O._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Bz=Z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return El(e,t);let r=(0,O.map)({$metadata:zr(e)}),n=(0,O.expectNonNull)((0,O.expectObject)(await(0,Hs.parseJsonBody)(e.body,t)),"body"),o=(0,O.take)(n,{nextToken:O.expectString,roleList:O._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),jz=Z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return El(e,t);let r=(0,O.map)({$metadata:zr(e)}),n=(0,O.expectNonNull)((0,O.expectObject)(await(0,Hs.parseJsonBody)(e.body,t)),"body"),o=(0,O.take)(n,{accountList:O._json,nextToken:O.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),Hz=Z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return El(e,t);let r=(0,O.map)({$metadata:zr(e)});return await(0,O.collectBody)(e.body,t),r},"de_LogoutCommand"),El=Z(async(e,t)=>{let r={...e,body:await(0,Hs.parseJsonErrorBody)(e.body,t)},n=(0,Hs.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Vz(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await qz(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Gz(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Wz(r,t);default:let o=r.body;return zz({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),zz=(0,O.withBaseException)(_o),Vz=Z(async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{message:O.expectString});Object.assign(r,o);let s=new wx({$metadata:zr(e),...r});return(0,O.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),qz=Z(async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{message:O.expectString});Object.assign(r,o);let s=new Ix({$metadata:zr(e),...r});return(0,O.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Gz=Z(async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{message:O.expectString});Object.assign(r,o);let s=new Px({$metadata:zr(e),...r});return(0,O.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),Wz=Z(async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{message:O.expectString});Object.assign(r,o);let s=new Nx({$metadata:zr(e),...r});return(0,O.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),zr=Z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Fx="accountId",bl="accessToken",Bx="account_id",jx="maxResults",Hx="max_result",zx="nextToken",Vx="next_token",Kz="roleName",Jz="role_name",Sl="x-amz-sso_bearer_token",qx=class extends O.Command.classBuilder().ep(gl).m(function(e,t,r,n){return[(0,_l.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Dx,$x).ser($z).de(Fz).build(){static{Z(this,"GetRoleCredentialsCommand")}},If=class extends O.Command.classBuilder().ep(gl).m(function(e,t,r,n){return[(0,_l.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Mx,void 0).ser(Mz).de(Bz).build(){static{Z(this,"ListAccountRolesCommand")}},Af=class extends O.Command.classBuilder().ep(gl).m(function(e,t,r,n){return[(0,_l.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(Lx,void 0).ser(Lz).de(jz).build(){static{Z(this,"ListAccountsCommand")}},Gx=class extends O.Command.classBuilder().ep(gl).m(function(e,t,r,n){return[(0,_l.getSerdePlugin)(r,this.serialize,this.deserialize),(0,zs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(Ux,void 0).ser(Uz).de(Hz).build(){static{Z(this,"LogoutCommand")}},Yz={GetRoleCredentialsCommand:qx,ListAccountRolesCommand:If,ListAccountsCommand:Af,LogoutCommand:Gx},Wx=class extends yl{static{Z(this,"SSO")}};(0,O.createAggregatedClient)(Yz,Wx);var Xz=(0,cr.createPaginator)(yl,If,"nextToken","nextToken","maxResults"),Qz=(0,cr.createPaginator)(yl,Af,"nextToken","nextToken","maxResults")});function Zz(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function eV(e){return{schemeId:"smithy.api#noAuth"}}var Vs,Yx,Xx,Qx,Pf=_(()=>{Ie();Vs=b(it()),Yx=async(e,t,r)=>({operation:(0,Vs.getSmithyContext)(t).operation,region:await(0,Vs.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Xx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(eV(e));break}default:t.push(Zz(e))}return t},Qx=e=>{let t=Sn(e);return Object.assign(t,{authSchemePreference:(0,Vs.normalizeProvider)(e.authSchemePreference??[])})}});var Zx,eI,Rf=_(()=>{Zx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),eI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var vl,Nf=_(()=>{vl={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var dI,gt,tI,qs,Eo,bo,lr,Of,Df,rI,nI,oI,uI,pI,ht,sI,mI,iI,aI,cI,lI,rV,fI,hI=_(()=>{dI="required",gt="argv",tI="isSet",qs="booleanEquals",Eo="error",bo="endpoint",lr="tree",Of="PartitionResult",Df="getAttr",rI={[dI]:!1,type:"String"},nI={[dI]:!0,default:!1,type:"Boolean"},oI={ref:"Endpoint"},uI={fn:qs,[gt]:[{ref:"UseFIPS"},!0]},pI={fn:qs,[gt]:[{ref:"UseDualStack"},!0]},ht={},sI={fn:Df,[gt]:[{ref:Of},"supportsFIPS"]},mI={ref:Of},iI={fn:qs,[gt]:[!0,{fn:Df,[gt]:[mI,"supportsDualStack"]}]},aI=[uI],cI=[pI],lI=[{ref:"Region"}],rV={version:"1.0",parameters:{Region:rI,UseDualStack:nI,UseFIPS:nI,Endpoint:rI},rules:[{conditions:[{fn:tI,[gt]:[oI]}],rules:[{conditions:aI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Eo},{conditions:cI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Eo},{endpoint:{url:oI,properties:ht,headers:ht},type:bo}],type:lr},{conditions:[{fn:tI,[gt]:lI}],rules:[{conditions:[{fn:"aws.partition",[gt]:lI,assign:Of}],rules:[{conditions:[uI,pI],rules:[{conditions:[{fn:qs,[gt]:[!0,sI]},iI],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ht,headers:ht},type:bo}],type:lr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Eo}],type:lr},{conditions:aI,rules:[{conditions:[{fn:qs,[gt]:[sI,!0]}],rules:[{conditions:[{fn:"stringEquals",[gt]:[{fn:Df,[gt]:[mI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:ht,headers:ht},type:bo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ht,headers:ht},type:bo}],type:lr},{error:"FIPS is enabled but this partition does not support FIPS",type:Eo}],type:lr},{conditions:cI,rules:[{conditions:[iI],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ht,headers:ht},type:bo}],type:lr},{error:"DualStack is enabled but this partition does not support DualStack",type:Eo}],type:lr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:ht,headers:ht},type:bo}],type:lr}],type:lr},{error:"Invalid Configuration: Missing Region",type:Eo}]},fI=rV});var gI,So,nV,yI,_I=_(()=>{gI=b(to()),So=b(eo());hI();nV=new So.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),yI=(e,t={})=>nV.get(e,()=>(0,So.resolveEndpoint)(fI,{endpointParams:e,logger:t.logger}));So.customEndpointFunctions.aws=gI.awsEndpointFunctions});var EI,bI,Cl,Tl,SI,vI=_(()=>{Ie();Ee();EI=b(Y()),bI=b(Ir()),Cl=b(ze()),Tl=b(Oe());Pf();_I();SI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Cl.fromBase64,base64Encoder:e?.base64Encoder??Cl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??yI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Xx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Xe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],logger:e?.logger??new EI.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??bI.parseUrl,utf8Decoder:e?.utf8Decoder??Tl.fromUtf8,utf8Encoder:e?.utf8Encoder??Tl.toUtf8})});var wl,qr,CI,xl,Vr,Il,TI,wI,xI,II,AI,PI,RI=_(()=>{Nf();Ie();wl=b($s()),qr=b(Bt()),CI=b(Ms()),xl=b(ir()),Vr=b(Br()),Il=b(ln()),TI=b(Ls()),wI=b(lo());vI();xI=b(Y()),II=b(Bs()),AI=b(Y()),PI=e=>{(0,AI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,II.resolveDefaultsModeConfig)(e),r=()=>t().then(xI.loadConfigsForDefaultMode),n=SI(e);ro(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Vr.loadConfig)(so,o),bodyLengthChecker:e?.bodyLengthChecker??TI.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,wl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:vl.version}),maxAttempts:e?.maxAttempts??(0,Vr.loadConfig)(xl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Vr.loadConfig)(qr.NODE_REGION_CONFIG_OPTIONS,{...qr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Il.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Vr.loadConfig)({...xl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wI.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Il.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Vr.loadConfig)(qr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Vr.loadConfig)(qr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Vr.loadConfig)(wl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var NI,OI,DI=_(()=>{NI=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},OI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Al,Pl,Rl,kI,$I=_(()=>{Al=b(js()),Pl=b(ae()),Rl=b(Y());DI();kI=(e,t)=>{let r=Object.assign((0,Al.getAwsRegionExtensionConfiguration)(e),(0,Rl.getDefaultExtensionConfiguration)(e),(0,Pl.getHttpHandlerExtensionConfiguration)(e),NI(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Al.resolveAwsRegionExtensionConfiguration)(r),(0,Rl.resolveDefaultRuntimeConfig)(r),(0,Pl.resolveHttpHandlerRuntimeConfig)(r),OI(r))}});var Nl,MI,LI,Ol,UI,FI,BI,Dl,kf,Gs,$f=_(()=>{Nl=b(zo()),MI=b(Vo()),LI=b(qo()),Ol=b(co()),UI=b(Bt());Ee();FI=b(Ps()),BI=b(jr()),Dl=b(ir()),kf=b(Y());Pf();Rf();RI();$I();Gs=class extends kf.Client{config;constructor(...[t]){let r=PI(t||{});super(r),this.initConfig=r;let n=Zx(r),o=(0,Ol.resolveUserAgentConfig)(n),s=(0,Dl.resolveRetryConfig)(o),i=(0,UI.resolveRegionConfig)(s),a=(0,Nl.resolveHostHeaderConfig)(i),l=(0,BI.resolveEndpointConfig)(a),u=Qx(l),p=kI(u,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Ol.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Dl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,FI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Nl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,MI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,LI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Wo(this.config,{httpAuthSchemeParametersProvider:Yx,identityProviderConfigProvider:async m=>new En({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Ko(this.config))}destroy(){super.destroy()}}});var jI,Ae,kl=_(()=>{jI=b(Y()),Ae=class e extends jI.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var On,Ws,Ks,Mf,Lf,Js,Ys,Xs,Qs,Zs,ei,ti,ri,ni,$l=_(()=>{On=b(Y());kl();Ws=class e extends Ae{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ks=class e extends Ae{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Mf=e=>({...e,...e.clientSecret&&{clientSecret:On.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:On.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:On.SENSITIVE_STRING}}),Lf=e=>({...e,...e.accessToken&&{accessToken:On.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:On.SENSITIVE_STRING},...e.idToken&&{idToken:On.SENSITIVE_STRING}}),Js=class e extends Ae{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ys=class e extends Ae{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xs=class e extends Ae{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qs=class e extends Ae{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Zs=class e extends Ae{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ei=class e extends Ae{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ti=class e extends Ae{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ri=class e extends Ae{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ni=class e extends Ae{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var P,HI,zI,oV,sV,iV,aV,cV,lV,dV,uV,pV,mV,fV,hV,gV,yt,VI=_(()=>{Ie();Ee();P=b(Y());$l();kl();HI=async(e,t)=>{let r=ps(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,P.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,P._json)(s)})),r.m("POST").h(n).b(o),r.build()},zI=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oV(e,t);let r=(0,P.map)({$metadata:yt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await ao(e.body,t)),"body"),o=(0,P.take)(n,{accessToken:P.expectString,expiresIn:P.expectInt32,idToken:P.expectString,refreshToken:P.expectString,tokenType:P.expectString});return Object.assign(r,o),r},oV=async(e,t)=>{let r={...e,body:await gm(e.body,t)},n=Cn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await iV(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await aV(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await cV(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await lV(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await dV(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await uV(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await pV(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await mV(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await fV(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await hV(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await gV(r,t);default:let o=r.body;return sV({output:e,parsedBody:o,errorCode:n})}},sV=(0,P.withBaseException)(Ae),iV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Ws({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},aV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Ks({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},cV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Js({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},lV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Ys({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},dV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Xs({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},uV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Qs({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},pV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Zs({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},mV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ei({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},fV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ti({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},hV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ri({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},gV=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ni({$metadata:yt(e),...r});return(0,P.decorateServiceException)(s,e.body)},yt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var qI,GI,Uf,oi,Ff=_(()=>{qI=b(jr()),GI=b(vr()),Uf=b(Y());Rf();$l();VI();oi=class extends Uf.Command.classBuilder().ep(eI).m(function(t,r,n,o){return[(0,GI.getSerdePlugin)(n,this.serialize,this.deserialize),(0,qI.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Mf,Lf).ser(HI).de(zI).build(){}});var WI,yV,Ml,KI=_(()=>{WI=b(Y());Ff();$f();yV={CreateTokenCommand:oi},Ml=class extends Gs{};(0,WI.createAggregatedClient)(yV,Ml)});var JI=_(()=>{Ff()});var YI=_(()=>{$l()});var Bf={};ot(Bf,{$Command:()=>Uf.Command,AccessDeniedException:()=>Ws,AuthorizationPendingException:()=>Ks,CreateTokenCommand:()=>oi,CreateTokenRequestFilterSensitiveLog:()=>Mf,CreateTokenResponseFilterSensitiveLog:()=>Lf,ExpiredTokenException:()=>Js,InternalServerException:()=>Ys,InvalidClientException:()=>Xs,InvalidGrantException:()=>Qs,InvalidRequestException:()=>Zs,InvalidScopeException:()=>ei,SSOOIDC:()=>Ml,SSOOIDCClient:()=>Gs,SSOOIDCServiceException:()=>Ae,SlowDownException:()=>ti,UnauthorizedClientException:()=>ri,UnsupportedGrantTypeException:()=>ni,__Client:()=>kf.Client});var jf=_(()=>{$f();KI();JI();YI();kl()});var oA=T((Nce,nA)=>{"use strict";var _V=Object.create,ii=Object.defineProperty,EV=Object.getOwnPropertyDescriptor,bV=Object.getOwnPropertyNames,SV=Object.getPrototypeOf,vV=Object.prototype.hasOwnProperty,dr=(e,t)=>ii(e,"name",{value:t,configurable:!0}),CV=(e,t)=>{for(var r in t)ii(e,r,{get:t[r],enumerable:!0})},ZI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bV(t))!vV.call(e,o)&&o!==r&&ii(e,o,{get:()=>t[o],enumerable:!(n=EV(t,o))||n.enumerable});return e},eA=(e,t,r)=>(r=e!=null?_V(SV(e)):{},ZI(t||!e||!e.__esModule?ii(r,"default",{value:e,enumerable:!0}):r,e)),TV=e=>ZI(ii({},"__esModule",{value:!0}),e),tA={};CV(tA,{fromEnvSigningName:()=>IV,fromSso:()=>rA,fromStatic:()=>kV,nodeProvider:()=>$V});nA.exports=TV(tA);var wV=(bt(),G(Rr)),xV=(im(),G(o0)),rt=Ge(),IV=dr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new rt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,xV.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new rt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,wV.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),AV=300*1e3,Hf="To refresh this SSO session run 'aws sso login' with the corresponding profile.",PV=dr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>eA((jf(),G(Bf))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),RV=dr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>eA((jf(),G(Bf))));return(await PV(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),XI=dr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new rt.TokenProviderError(`Token is expired. ${Hf}`,!1)},"validateTokenExpiry"),Dn=dr((e,t,r=!1)=>{if(typeof t>"u")throw new rt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Hf}`,!1)},"validateTokenKey"),si=Fr(),NV=require("fs"),{writeFile:OV}=NV.promises,DV=dr((e,t)=>{let r=(0,si.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return OV(r,n)},"writeSSOTokenToFile"),QI=new Date(0),rA=dr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,si.parseKnownFiles)(r),o=(0,si.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new rt.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new rt.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,l=(await(0,si.loadSsoSessionData)(r))[i];if(!l)throw new rt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!l[y])throw new rt.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);let u=l.sso_start_url,p=l.sso_region,m;try{m=await(0,si.getSSOTokenFromFile)(i)}catch{throw new rt.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${Hf}`,!1)}Dn("accessToken",m.accessToken),Dn("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:h}=m,g={token:f,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>AV)return g;if(Date.now()-QI.getTime()<30*1e3)return XI(g),g;Dn("clientId",m.clientId,!0),Dn("clientSecret",m.clientSecret,!0),Dn("refreshToken",m.refreshToken,!0);try{QI.setTime(Date.now());let y=await RV(m,p,r);Dn("accessToken",y.accessToken),Dn("expiresIn",y.expiresIn);let E=new Date(Date.now()+y.expiresIn*1e3);try{await DV(i,{...m,accessToken:y.accessToken,expiresAt:E.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:E}}catch{return XI(g),g}},"fromSso"),kV=dr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new rt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),$V=dr((e={})=>(0,rt.memoize)((0,rt.chain)(rA(e),async()=>{throw new rt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Vf=T((Oce,mA)=>{"use strict";var Ul=Object.defineProperty,MV=Object.getOwnPropertyDescriptor,aA=Object.getOwnPropertyNames,LV=Object.prototype.hasOwnProperty,Fl=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),UV=(e,t)=>function(){return e&&(t=(0,e[aA(e)[0]])(e=0)),t},cA=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},FV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aA(t))!LV.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=MV(t,o))||n.enumerable});return e},BV=e=>FV(Ul({},"__esModule",{value:!0}),e),lA={};cA(lA,{GetRoleCredentialsCommand:()=>zf.GetRoleCredentialsCommand,SSOClient:()=>zf.SSOClient});var zf,jV=UV({"src/loadSso.ts"(){"use strict";zf=Jx()}}),dA={};cA(dA,{fromSSO:()=>zV,isSsoProfile:()=>uA,validateSsoProfile:()=>pA});mA.exports=BV(dA);var uA=Fl(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),sA=(bt(),G(Rr)),HV=oA(),Ct=Ge(),Ll=Fr(),ai=!1,iA=Fl(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:l,logger:u})=>{let p,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let le=await(0,HV.fromSso)({profile:l})();p={accessToken:le.token,expiresAt:new Date(le.expiration).toISOString()}}catch(le){throw new Ct.CredentialsProviderError(le.message,{tryNextLink:ai,logger:u})}else try{p=await(0,Ll.getSSOTokenFromFile)(e)}catch{throw new Ct.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:ai,logger:u})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Ct.CredentialsProviderError(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:ai,logger:u});let{accessToken:f}=p,{SSOClient:h,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(jV(),lA)),y=s||new h(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),E;try{E=await y.send(new g({accountId:r,roleName:o,accessToken:f}))}catch(le){throw new Ct.CredentialsProviderError(le,{tryNextLink:ai,logger:u})}let{roleCredentials:{accessKeyId:S,secretAccessKey:C,sessionToken:I,expiration:A,credentialScope:R,accountId:H}={}}=E;if(!S||!C||!I||!A)throw new Ct.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ai,logger:u});let Be={accessKeyId:S,secretAccessKey:C,sessionToken:I,expiration:new Date(A),...R&&{credentialScope:R},...H&&{accountId:H}};return t?(0,sA.setCredentialFeature)(Be,"CREDENTIALS_SSO","s"):(0,sA.setCredentialFeature)(Be,"CREDENTIALS_SSO_LEGACY","u"),Be},"resolveSSOCredentials"),pA=Fl((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Ct.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),zV=Fl((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,l=(0,Ll.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let p=(await(0,Ll.parseKnownFiles)(e))[l];if(!p)throw new Ct.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!uA(p))throw new Ct.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let S=(await(0,Ll.loadSsoSessionData)(e))[p.sso_session],C=` configurations in profile ${l} and sso-session ${p.sso_session}`;if(o&&o!==S.sso_region)throw new Ct.CredentialsProviderError("Conflicting SSO region"+C,{tryNextLink:!1,logger:e.logger});if(r&&r!==S.sso_start_url)throw new Ct.CredentialsProviderError("Conflicting SSO start_url"+C,{tryNextLink:!1,logger:e.logger});p.sso_region=S.sso_region,p.sso_start_url=S.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:h,sso_role_name:g,sso_session:y}=pA(p,e.logger);return iA({ssoStartUrl:m,ssoSession:y,ssoAccountId:f,ssoRegion:h,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}else{if(!r||!n||!o||!s)throw new Ct.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return iA({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}},"fromSSO")});function VV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function qV(e){return{schemeId:"smithy.api#noAuth"}}var ci,fA,hA,GV,gA,qf=_(()=>{Ie();ci=b(it());li();fA=async(e,t,r)=>({operation:(0,ci.getSmithyContext)(t).operation,region:await(0,ci.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hA=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(qV(e));break}default:t.push(VV(e))}return t},GV=e=>Object.assign(e,{stsClientCtor:zt}),gA=e=>{let t=GV(e),r=Sn(t);return Object.assign(r,{authSchemePreference:(0,ci.normalizeProvider)(e.authSchemePreference??[])})}});var yA,Bl,jl=_(()=>{yA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Bl={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var AA,K,ne,Gr,Me,PA,RA,pe,_A,Vt,vo,Wf,EA,Gf,NA,bA,Le,SA,OA,DA,He,nt,vA,kA,$A,CA,MA,TA,wA,xA,IA,WV,LA,UA=_(()=>{AA="required",K="type",ne="argv",Gr="booleanEquals",Me="stringEquals",PA="sigv4",RA="us-east-1",pe="endpoint",_A="https://sts.{Region}.{PartitionResult#dnsSuffix}",Vt="tree",vo="error",Wf="getAttr",EA={[AA]:!1,[K]:"String"},Gf={[AA]:!0,default:!1,[K]:"Boolean"},NA={ref:"Endpoint"},bA={fn:"isSet",[ne]:[{ref:"Region"}]},Le={ref:"Region"},SA={fn:"aws.partition",[ne]:[Le],assign:"PartitionResult"},OA={ref:"UseFIPS"},DA={ref:"UseDualStack"},He={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:PA,signingName:"sts",signingRegion:RA}]},headers:{}},nt={},vA={conditions:[{fn:Me,[ne]:[Le,"aws-global"]}],[pe]:He,[K]:pe},kA={fn:Gr,[ne]:[OA,!0]},$A={fn:Gr,[ne]:[DA,!0]},CA={fn:Wf,[ne]:[{ref:"PartitionResult"},"supportsFIPS"]},MA={ref:"PartitionResult"},TA={fn:Gr,[ne]:[!0,{fn:Wf,[ne]:[MA,"supportsDualStack"]}]},wA=[{fn:"isSet",[ne]:[NA]}],xA=[kA],IA=[$A],WV={version:"1.0",parameters:{Region:EA,UseDualStack:Gf,UseFIPS:Gf,Endpoint:EA,UseGlobalEndpoint:Gf},rules:[{conditions:[{fn:Gr,[ne]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ne]:wA},bA,SA,{fn:Gr,[ne]:[OA,!1]},{fn:Gr,[ne]:[DA,!1]}],rules:[{conditions:[{fn:Me,[ne]:[Le,"ap-northeast-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"ap-south-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"ap-southeast-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"ap-southeast-2"]}],endpoint:He,[K]:pe},vA,{conditions:[{fn:Me,[ne]:[Le,"ca-central-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"eu-central-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"eu-north-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"eu-west-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"eu-west-2"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"eu-west-3"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"sa-east-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,RA]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"us-east-2"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"us-west-1"]}],endpoint:He,[K]:pe},{conditions:[{fn:Me,[ne]:[Le,"us-west-2"]}],endpoint:He,[K]:pe},{endpoint:{url:_A,properties:{authSchemes:[{name:PA,signingName:"sts",signingRegion:"{Region}"}]},headers:nt},[K]:pe}],[K]:Vt},{conditions:wA,rules:[{conditions:xA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[K]:vo},{conditions:IA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[K]:vo},{endpoint:{url:NA,properties:nt,headers:nt},[K]:pe}],[K]:Vt},{conditions:[bA],rules:[{conditions:[SA],rules:[{conditions:[kA,$A],rules:[{conditions:[{fn:Gr,[ne]:[!0,CA]},TA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},[K]:pe}],[K]:Vt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[K]:vo}],[K]:Vt},{conditions:xA,rules:[{conditions:[{fn:Gr,[ne]:[CA,!0]}],rules:[{conditions:[{fn:Me,[ne]:[{fn:Wf,[ne]:[MA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:nt,headers:nt},[K]:pe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},[K]:pe}],[K]:Vt},{error:"FIPS is enabled but this partition does not support FIPS",[K]:vo}],[K]:Vt},{conditions:IA,rules:[{conditions:[TA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},[K]:pe}],[K]:Vt},{error:"DualStack is enabled but this partition does not support DualStack",[K]:vo}],[K]:Vt},vA,{endpoint:{url:_A,properties:nt,headers:nt},[K]:pe}],[K]:Vt}],[K]:Vt},{error:"Invalid Configuration: Missing Region",[K]:vo}]},LA=WV});var FA,Co,KV,BA,jA=_(()=>{FA=b(to()),Co=b(eo());UA();KV=new Co.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),BA=(e,t={})=>KV.get(e,()=>(0,Co.resolveEndpoint)(LA,{endpointParams:e,logger:t.logger}));Co.customEndpointFunctions.aws=FA.awsEndpointFunctions});var HA,zA,Hl,zl,VA,qA=_(()=>{Ie();Ee();HA=b(Y()),zA=b(Ir()),Hl=b(ze()),zl=b(Oe());qf();jA();VA=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Hl.fromBase64,base64Encoder:e?.base64Encoder??Hl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??BA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Xe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],logger:e?.logger??new HA.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??zA.parseUrl,utf8Decoder:e?.utf8Decoder??zl.fromUtf8,utf8Encoder:e?.utf8Encoder??zl.toUtf8})});var Vl,Kr,GA,ql,Wr,Gl,WA,KA,JA,YA,XA,QA,ZA=_(()=>{Nf();Ie();Vl=b($s()),Kr=b(Bt());Ee();GA=b(Ms()),ql=b(ir()),Wr=b(Br()),Gl=b(ln()),WA=b(Ls()),KA=b(lo());qA();JA=b(Y()),YA=b(Bs()),XA=b(Y()),QA=e=>{(0,XA.emitWarningIfUnsupportedVersion)(process.version);let t=(0,YA.resolveDefaultsModeConfig)(e),r=()=>t().then(JA.loadConfigsForDefaultMode),n=VA(e);ro(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Wr.loadConfig)(so,o),bodyLengthChecker:e?.bodyLengthChecker??WA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Vl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:vl.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Xe},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],maxAttempts:e?.maxAttempts??(0,Wr.loadConfig)(ql.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Wr.loadConfig)(Kr.NODE_REGION_CONFIG_OPTIONS,{...Kr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Gl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Wr.loadConfig)({...ql.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??GA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Gl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Wr.loadConfig)(Kr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Wr.loadConfig)(Kr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Wr.loadConfig)(Vl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var eP,tP,rP=_(()=>{eP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},tP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Wl,Kl,Jl,nP,oP=_(()=>{Wl=b(js()),Kl=b(ae()),Jl=b(Y());rP();nP=(e,t)=>{let r=Object.assign((0,Wl.getAwsRegionExtensionConfiguration)(e),(0,Jl.getDefaultExtensionConfiguration)(e),(0,Kl.getHttpHandlerExtensionConfiguration)(e),eP(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Wl.resolveAwsRegionExtensionConfiguration)(r),(0,Jl.resolveDefaultRuntimeConfig)(r),(0,Kl.resolveHttpHandlerRuntimeConfig)(r),tP(r))}});var Yl,sP,iP,Xl,aP,cP,lP,Ql,Kf,zt,li=_(()=>{Yl=b(zo()),sP=b(Vo()),iP=b(qo()),Xl=b(co()),aP=b(Bt());Ee();cP=b(Ps()),lP=b(jr()),Ql=b(ir()),Kf=b(Y());qf();jl();ZA();oP();zt=class extends Kf.Client{config;constructor(...[t]){let r=QA(t||{});super(r),this.initConfig=r;let n=yA(r),o=(0,Xl.resolveUserAgentConfig)(n),s=(0,Ql.resolveRetryConfig)(o),i=(0,aP.resolveRegionConfig)(s),a=(0,Yl.resolveHostHeaderConfig)(i),l=(0,lP.resolveEndpointConfig)(a),u=gA(l),p=nP(u,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Xl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ql.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Yl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Wo(this.config,{httpAuthSchemeParametersProvider:fA,identityProviderConfigProvider:async m=>new En({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Ko(this.config))}destroy(){super.destroy()}}});var dP,Qe,Zl=_(()=>{dP=b(Y()),Qe=class e extends dP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Jf,Yf,Xf,di,ui,pi,mi,fi,hi,Qf,Zf,gi,yi=_(()=>{Jf=b(Y());Zl();Yf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Jf.SENSITIVE_STRING}}),Xf=e=>({...e,...e.Credentials&&{Credentials:Yf(e.Credentials)}}),di=class e extends Qe{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ui=class e extends Qe{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pi=class e extends Qe{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mi=class e extends Qe{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fi=class e extends Qe{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hi=class e extends Qe{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Jf.SENSITIVE_STRING}}),Zf=e=>({...e,...e.Credentials&&{Credentials:Yf(e.Credentials)}}),gi=class e extends Qe{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var uP,J,pP,mP,fP,hP,gP,JV,YV,XV,QV,ZV,eq,tq,rq,nq,yP,oq,sq,iq,aq,cq,lq,_P,dq,uq,EP,pq,mq,fq,hq,gq,yq,_q,pr,Eq,bP,SP,vP,CP,eh,bq,th,To,Sq,rh,nh,wo,oh,xo,sh,ih,ah,Io,Ao,ch,lh,dh,Po,uh,Ro,No,ph,mh,ur,fh,hh,gh,yh,_h,TP,Eh,bh,Sh,ge,wP,vq,vh=_(()=>{Ie();uP=b(ae()),J=b(Y());yi();Zl();pP=async(e,t)=>{let r=SP,n;return n=wP({...rq(e,t),[CP]:bq,[TP]:vP}),bP(t,r,"/",void 0,n)},mP=async(e,t)=>{let r=SP,n;return n=wP({...nq(e,t),[CP]:Sq,[TP]:vP}),bP(t,r,"/",void 0,n)},fP=async(e,t)=>{if(e.statusCode>=300)return gP(e,t);let r=await xs(e.body,t),n={};return n=dq(r.AssumeRoleResult,t),{$metadata:pr(e),...n}},hP=async(e,t)=>{if(e.statusCode>=300)return gP(e,t);let r=await xs(e.body,t),n={};return n=uq(r.AssumeRoleWithWebIdentityResult,t),{$metadata:pr(e),...n}},gP=async(e,t)=>{let r={...e,body:await Dm(e.body,t)},n=vq(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await JV(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ZV(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await eq(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await tq(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await YV(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await XV(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await QV(r,t);default:let o=r.body;return Eq({output:e,parsedBody:o.Error,errorCode:n})}},JV=async(e,t)=>{let r=e.body,n=pq(r.Error,t),o=new di({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},YV=async(e,t)=>{let r=e.body,n=mq(r.Error,t),o=new gi({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},XV=async(e,t)=>{let r=e.body,n=fq(r.Error,t),o=new fi({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},QV=async(e,t)=>{let r=e.body,n=hq(r.Error,t),o=new hi({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},ZV=async(e,t)=>{let r=e.body,n=gq(r.Error,t),o=new ui({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},eq=async(e,t)=>{let r=e.body,n=yq(r.Error,t),o=new pi({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},tq=async(e,t)=>{let r=e.body,n=_q(r.Error,t),o=new mi({$metadata:pr(e),...n});return(0,J.decorateServiceException)(o,r)},rq=(e,t)=>{let r={};if(e[Ro]!=null&&(r[Ro]=e[Ro]),e[No]!=null&&(r[No]=e[No]),e[Ao]!=null){let n=yP(e[Ao],t);e[Ao]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Io]!=null&&(r[Io]=e[Io]),e[xo]!=null&&(r[xo]=e[xo]),e[gh]!=null){let n=lq(e[gh],t);e[gh]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[_h]!=null){let n=cq(e[_h],t);e[_h]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[ih]!=null&&(r[ih]=e[ih]),e[fh]!=null&&(r[fh]=e[fh]),e[yh]!=null&&(r[yh]=e[yh]),e[ur]!=null&&(r[ur]=e[ur]),e[lh]!=null){let n=iq(e[lh],t);e[lh]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},nq=(e,t)=>{let r={};if(e[Ro]!=null&&(r[Ro]=e[Ro]),e[No]!=null&&(r[No]=e[No]),e[bh]!=null&&(r[bh]=e[bh]),e[dh]!=null&&(r[dh]=e[dh]),e[Ao]!=null){let n=yP(e[Ao],t);e[Ao]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Io]!=null&&(r[Io]=e[Io]),e[xo]!=null&&(r[xo]=e[xo]),r},yP=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=oq(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},oq=(e,t)=>{let r={};return e[Sh]!=null&&(r[Sh]=e[Sh]),r},sq=(e,t)=>{let r={};return e[ch]!=null&&(r[ch]=e[ch]),e[oh]!=null&&(r[oh]=e[oh]),r},iq=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=sq(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},aq=(e,t)=>{let r={};return e[ah]!=null&&(r[ah]=e[ah]),e[Eh]!=null&&(r[Eh]=e[Eh]),r},cq=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},lq=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=aq(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},_P=(e,t)=>{let r={};return e[th]!=null&&(r[th]=(0,J.expectString)(e[th])),e[rh]!=null&&(r[rh]=(0,J.expectString)(e[rh])),r},dq=(e,t)=>{let r={};return e[wo]!=null&&(r[wo]=EP(e[wo],t)),e[To]!=null&&(r[To]=_P(e[To],t)),e[Po]!=null&&(r[Po]=(0,J.strictParseInt32)(e[Po])),e[ur]!=null&&(r[ur]=(0,J.expectString)(e[ur])),r},uq=(e,t)=>{let r={};return e[wo]!=null&&(r[wo]=EP(e[wo],t)),e[mh]!=null&&(r[mh]=(0,J.expectString)(e[mh])),e[To]!=null&&(r[To]=_P(e[To],t)),e[Po]!=null&&(r[Po]=(0,J.strictParseInt32)(e[Po])),e[uh]!=null&&(r[uh]=(0,J.expectString)(e[uh])),e[nh]!=null&&(r[nh]=(0,J.expectString)(e[nh])),e[ur]!=null&&(r[ur]=(0,J.expectString)(e[ur])),r},EP=(e,t)=>{let r={};return e[eh]!=null&&(r[eh]=(0,J.expectString)(e[eh])),e[ph]!=null&&(r[ph]=(0,J.expectString)(e[ph])),e[hh]!=null&&(r[hh]=(0,J.expectString)(e[hh])),e[sh]!=null&&(r[sh]=(0,J.expectNonNull)((0,J.parseRfc3339DateTimeWithOffset)(e[sh]))),r},pq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},mq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},fq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},hq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},gq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},yq=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},_q=(e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,J.expectString)(e[ge])),r},pr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Eq=(0,J.withBaseException)(Qe),bP=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new uP.HttpRequest(u)},SP={"content-type":"application/x-www-form-urlencoded"},vP="2011-06-15",CP="Action",eh="AccessKeyId",bq="AssumeRole",th="AssumedRoleId",To="AssumedRoleUser",Sq="AssumeRoleWithWebIdentity",rh="Arn",nh="Audience",wo="Credentials",oh="ContextAssertion",xo="DurationSeconds",sh="Expiration",ih="ExternalId",ah="Key",Io="Policy",Ao="PolicyArns",ch="ProviderArn",lh="ProvidedContexts",dh="ProviderId",Po="PackedPolicySize",uh="Provider",Ro="RoleArn",No="RoleSessionName",ph="SecretAccessKey",mh="SubjectFromWebIdentityToken",ur="SourceIdentity",fh="SerialNumber",hh="SessionToken",gh="Tags",yh="TokenCode",_h="TransitiveTagKeys",TP="Version",Eh="Value",bh="WebIdentityToken",Sh="arn",ge="message",wP=e=>Object.entries(e).map(([t,r])=>(0,J.extendedEncodeURIComponent)(t)+"="+(0,J.extendedEncodeURIComponent)(r)).join("&"),vq=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var xP,IP,AP,kn,ed=_(()=>{xP=b(jr()),IP=b(vr()),AP=b(Y());jl();yi();vh();kn=class extends AP.Command.classBuilder().ep(Bl).m(function(t,r,n,o){return[(0,IP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,xP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Xf).ser(pP).de(fP).build(){}});var PP,RP,NP,$n,td=_(()=>{PP=b(jr()),RP=b(vr()),NP=b(Y());jl();yi();vh();$n=class extends NP.Command.classBuilder().ep(Bl).m(function(t,r,n,o){return[(0,RP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,PP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Qf,Zf).ser(mP).de(hP).build(){}});var OP,Cq,rd,DP=_(()=>{OP=b(Y());ed();td();li();Cq={AssumeRoleCommand:kn,AssumeRoleWithWebIdentityCommand:$n},rd=class extends zt{};(0,OP.createAggregatedClient)(Cq,rd)});var kP=_(()=>{ed();td()});var $P=_(()=>{yi()});var MP,LP,UP,FP,BP,jP,HP=_(()=>{bt();ed();td();MP="us-east-1",LP=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},UP=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${MP} (STS default)`),n??o??MP},FP=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:p=e?.parentClientConfig?.logger,region:m,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,g=await UP(m,e?.parentClientConfig?.region,h),y=!jP(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?f:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new kn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let l=LP(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return Pr(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},BP=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,region:u,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=e,f=await UP(u,e?.parentClientConfig?.region,m),h=!jP(p);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:h?p:void 0,logger:l})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new $n(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=LP(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Pr(a,"RESOLVED_ACCOUNT_ID","T"),Pr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},jP=e=>e?.metadata?.handlerProtocol==="h2"});var zP,VP,qP,Tq,GP=_(()=>{HP();li();zP=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,VP=(e={},t)=>FP(e,zP(zt,t)),qP=(e={},t)=>BP(e,zP(zt,t)),Tq=e=>t=>e({roleAssumer:VP(t),roleAssumerWithWebIdentity:qP(t),...t})});var Ch={};ot(Ch,{AssumeRoleCommand:()=>kn,AssumeRoleResponseFilterSensitiveLog:()=>Xf,AssumeRoleWithWebIdentityCommand:()=>$n,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Qf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Zf,CredentialsFilterSensitiveLog:()=>Yf,ExpiredTokenException:()=>di,IDPCommunicationErrorException:()=>gi,IDPRejectedClaimException:()=>fi,InvalidIdentityTokenException:()=>hi,MalformedPolicyDocumentException:()=>ui,PackedPolicyTooLargeException:()=>pi,RegionDisabledException:()=>mi,STS:()=>rd,STSClient:()=>zt,STSServiceException:()=>Qe,__Client:()=>Kf.Client,decorateDefaultCredentialProvider:()=>Tq,getDefaultRoleAssumer:()=>VP,getDefaultRoleAssumerWithWebIdentity:()=>qP});var Th=_(()=>{li();DP();kP();$P();GP();Zl()});var Ih=T((zle,JP)=>{"use strict";var nd=Object.defineProperty,wq=Object.getOwnPropertyDescriptor,xq=Object.getOwnPropertyNames,Iq=Object.prototype.hasOwnProperty,xh=(e,t)=>nd(e,"name",{value:t,configurable:!0}),Aq=(e,t)=>{for(var r in t)nd(e,r,{get:t[r],enumerable:!0})},Pq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xq(t))!Iq.call(e,o)&&o!==r&&nd(e,o,{get:()=>t[o],enumerable:!(n=wq(t,o))||n.enumerable});return e},Rq=e=>Pq(nd({},"__esModule",{value:!0}),e),KP={};Aq(KP,{fromProcess:()=>Mq});JP.exports=Rq(KP);var WP=Fr(),wh=Ge(),Nq=require("child_process"),Oq=require("util"),Dq=(bt(),G(Rr)),kq=xh((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,Dq.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),$q=xh(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,Oq.promisify)(Nq.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return kq(e,a,t)}catch(i){throw new wh.CredentialsProviderError(i.message,{logger:r})}}else throw new wh.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new wh.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Mq=xh((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,WP.parseKnownFiles)(e);return $q((0,WP.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var Ah=T(qt=>{"use strict";var Lq=qt&&qt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Uq=qt&&qt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Fq=qt&&qt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Lq(r,t,n[o]);return Uq(r,t),r}})();Object.defineProperty(qt,"__esModule",{value:!0});qt.fromWebToken=void 0;var Bq=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>Fq((Th(),G(Ch))));u=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:l})};qt.fromWebToken=Bq});var XP=T(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.fromTokenFile=void 0;var jq=(bt(),G(Rr)),Hq=Ge(),zq=require("fs"),Vq=Ah(),YP="AWS_WEB_IDENTITY_TOKEN_FILE",qq="AWS_ROLE_ARN",Gq="AWS_ROLE_SESSION_NAME",Wq=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[YP],r=e?.roleArn??process.env[qq],n=e?.roleSessionName??process.env[Gq];if(!t||!r)throw new Hq.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,Vq.fromWebToken)({...e,webIdentityToken:(0,zq.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[YP]&&(0,jq.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};od.fromTokenFile=Wq});var Nh=T((Gle,sd)=>{"use strict";var QP=Object.defineProperty,Kq=Object.getOwnPropertyDescriptor,Jq=Object.getOwnPropertyNames,Yq=Object.prototype.hasOwnProperty,Ph=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jq(t))!Yq.call(e,o)&&o!==r&&QP(e,o,{get:()=>t[o],enumerable:!(n=Kq(t,o))||n.enumerable});return e},ZP=(e,t,r)=>(Ph(e,t,"default"),r&&Ph(r,t,"default")),Xq=e=>Ph(QP({},"__esModule",{value:!0}),e),Rh={};sd.exports=Xq(Rh);ZP(Rh,XP(),sd.exports);ZP(Rh,Ah(),sd.exports)});var aR=T((Wle,iR)=>{"use strict";var Qq=Object.create,Ei=Object.defineProperty,Zq=Object.getOwnPropertyDescriptor,eG=Object.getOwnPropertyNames,tG=Object.getPrototypeOf,rG=Object.prototype.hasOwnProperty,ve=(e,t)=>Ei(e,"name",{value:t,configurable:!0}),nG=(e,t)=>{for(var r in t)Ei(e,r,{get:t[r],enumerable:!0})},nR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eG(t))!rG.call(e,o)&&o!==r&&Ei(e,o,{get:()=>t[o],enumerable:!(n=Zq(t,o))||n.enumerable});return e},Jr=(e,t,r)=>(r=e!=null?Qq(tG(e)):{},nR(t||!e||!e.__esModule?Ei(r,"default",{value:e,enumerable:!0}):r,e)),oG=e=>nR(Ei({},"__esModule",{value:!0}),e),oR={};nG(oR,{fromIni:()=>gG});iR.exports=oG(oR);var Dh=Fr(),Yr=(bt(),G(Rr)),_i=Ge(),sG=ve((e,t,r)=>{let n={EcsContainer:ve(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>Jr(yf())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Jr(ks()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,_i.chain)(s(o??{}),i(o))().then(Oh)},"EcsContainer"),Ec2InstanceMetadata:ve(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Jr(ks()));return async()=>s(o)().then(Oh)},"Ec2InstanceMetadata"),Environment:ve(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Jr(df()));return async()=>s(o)().then(Oh)},"Environment")};if(e in n)return n[e];throw new _i.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Oh=ve(e=>(0,Yr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),iG=ve((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(aG(e,{profile:t,logger:r})||cG(e,{profile:t,logger:r})),"isAssumeRoleProfile"),aG=ve((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),cG=ve((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),lG=ve(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>Jr((Th(),G(Ch))));r.roleAssumer=l({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new _i.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Dh.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?sR(s,t,r,{...n,[s]:!0},eR(t[s]??{})):(await sG(o.credential_source,e,r.logger)(r))();if(eR(o))return a.then(l=>(0,Yr.setCredentialFeature)(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:u}=o;if(u){if(!r.mfaCodeProvider)throw new _i.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=u,l.TokenCode=await r.mfaCodeProvider(u)}let p=await a;return r.roleAssumer(p,l).then(m=>(0,Yr.setCredentialFeature)(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),eR=ve(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),dG=ve(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),uG=ve(async(e,t)=>Promise.resolve().then(()=>Jr(Ih())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Yr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),pG=ve(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Jr(Vf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Yr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Yr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),mG=ve(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),tR=ve(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),rR=ve(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Yr.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),fG=ve(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),hG=ve(async(e,t)=>Promise.resolve().then(()=>Jr(Nh())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Yr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),sR=ve(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&tR(s))return rR(s,r);if(o||iG(s,{profile:e,logger:r.logger}))return lG(e,t,r,n);if(tR(s))return rR(s,r);if(fG(s))return hG(s,r);if(dG(s))return uG(r,e);if(mG(s))return await pG(e,s,r);throw new _i.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),gG=ve((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,Dh.parseKnownFiles)(r);return sR((0,Dh.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var hR=T((Kle,fR)=>{"use strict";var yG=Object.create,bi=Object.defineProperty,_G=Object.getOwnPropertyDescriptor,EG=Object.getOwnPropertyNames,bG=Object.getPrototypeOf,SG=Object.prototype.hasOwnProperty,id=(e,t)=>bi(e,"name",{value:t,configurable:!0}),vG=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},dR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EG(t))!SG.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=_G(t,o))||n.enumerable});return e},Oo=(e,t,r)=>(r=e!=null?yG(bG(e)):{},dR(t||!e||!e.__esModule?bi(r,"default",{value:e,enumerable:!0}):r,e)),CG=e=>dR(bi({},"__esModule",{value:!0}),e),uR={};vG(uR,{credentialsTreatedAsExpired:()=>mR,credentialsWillNeedRefresh:()=>pR,defaultProvider:()=>xG});fR.exports=CG(uR);var kh=df(),TG=Fr(),Mn=Ge(),cR="AWS_EC2_METADATA_DISABLED",wG=id(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Oo(ks()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Oo(yf()));return(0,Mn.chain)(s(e),n(e))}return process.env[cR]&&process.env[cR]!=="false"?async()=>{throw new Mn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),lR=!1,xG=id((e={})=>(0,Mn.memoize)((0,Mn.chain)(async()=>{if(e.profile??process.env[TG.ENV_PROFILE])throw process.env[kh.ENV_KEY]&&process.env[kh.ENV_SECRET]&&(lR||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),lR=!0)),new Mn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,kh.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new Mn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Oo(Vf()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Oo(aR()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Oo(Ih()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Oo(Nh()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await wG(e))()),async()=>{throw new Mn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),mR,pR),"defaultProvider"),pR=id(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),mR=id(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var FR=T(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.ruleSet=void 0;var Fh="required",V="type",ee="fn",te="argv",Te="ref",Xr="properties",Qr="headers",gR=!1,Ln="isSet",Ue="error",Gt="endpoint",Ce="tree",ud="PartitionResult",Zr="stringEquals",MR="dynamodb",en="getAttr",yR="aws.parseArn",Do="ParsedArn",Bh="isValidHostLabel",_R="FirstArn",Si={[Fh]:!1,[V]:"String"},ER={[Fh]:!0,default:!1,[V]:"Boolean"},jh={[ee]:"booleanEquals",[te]:[{[Te]:"UseFIPS"},!0]},Hh={[ee]:"booleanEquals",[te]:[{[Te]:"UseDualStack"},!0]},Tt={},LR={[Te]:"Region"},bR={[ee]:"booleanEquals",[te]:[{[ee]:en,[te]:[{[Te]:ud},"supportsFIPS"]},!0]},SR={[ee]:"booleanEquals",[te]:[{[ee]:en,[te]:[{[Te]:ud},"supportsDualStack"]},!0]},$h={conditions:[{[ee]:Ln,[te]:[{[Te]:"AccountIdEndpointMode"}]},{[ee]:Zr,[te]:[{[Te]:"AccountIdEndpointMode"},"required"]}],rules:[{[Ue]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Ue}],[V]:Ce},ld={[ee]:Ln,[te]:[{[Te]:"AccountIdEndpointMode"}]},vR={[Ue]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Ue},UR={[ee]:en,[te]:[{[Te]:ud},"name"]},CR={[Gt]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Xr]:{},[Qr]:{}},[V]:Gt},dd={[ee]:"not",[te]:[jh]},TR={[Ue]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[V]:Ue},Mh={[ee]:"not",[te]:[{[ee]:Zr,[te]:[{[Te]:"AccountIdEndpointMode"},"disabled"]}]},ad={[ee]:Zr,[te]:[UR,"aws"]},cd={[ee]:"not",[te]:[Hh]},wR={[ee]:Zr,[te]:[{[ee]:en,[te]:[{[Te]:Do},"service"]},MR]},xR={[ee]:Bh,[te]:[{[ee]:en,[te]:[{[Te]:Do},"region"]},!1]},IR={[ee]:Zr,[te]:[{[ee]:en,[te]:[{[Te]:Do},"region"]},"{Region}"]},AR={[ee]:Bh,[te]:[{[ee]:en,[te]:[{[Te]:Do},"accountId"]},!1]},PR={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Xr]:{},[Qr]:{}},RR={[Te]:"ResourceArnList"},NR={[Te]:"AccountId"},Lh=[jh],Uh=[Hh],OR=[LR],DR=[ld,{[ee]:Zr,[te]:[{[Te]:"AccountIdEndpointMode"},"required"]}],kR=[dd],$R=[{[Te]:"ResourceArn"}],IG={version:"1.0",parameters:{Region:Si,UseDualStack:ER,UseFIPS:ER,Endpoint:Si,AccountId:Si,AccountIdEndpointMode:Si,ResourceArn:Si,ResourceArnList:{[Fh]:gR,[V]:"stringArray"}},rules:[{conditions:[{[ee]:Ln,[te]:[{[Te]:"Endpoint"}]}],rules:[{conditions:Lh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:Ue},{conditions:Uh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:Ue},{endpoint:{url:"{Endpoint}",[Xr]:Tt,[Qr]:Tt},[V]:Gt}],[V]:Ce},{conditions:[{[ee]:Ln,[te]:OR}],rules:[{conditions:[{[ee]:"aws.partition",[te]:OR,assign:ud}],rules:[{conditions:[{[ee]:Zr,[te]:[LR,"local"]}],rules:[{conditions:Lh,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:Ue},{conditions:Uh,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:Ue},{endpoint:{url:"http://localhost:8000",[Xr]:{authSchemes:[{signingRegion:"us-east-1",signingName:MR,name:"sigv4"}]},[Qr]:Tt},[V]:Gt}],[V]:Ce},{conditions:[jh,Hh],rules:[{conditions:[bR,SR],rules:[$h,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xr]:Tt,[Qr]:Tt},[V]:Gt}],[V]:Ce},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:Ue}],[V]:Ce},{conditions:Lh,rules:[{conditions:[bR],rules:[{conditions:[{[ee]:Zr,[te]:[UR,"aws-us-gov"]}],rules:[$h,CR],[V]:Ce},$h,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Xr]:Tt,[Qr]:Tt},[V]:Gt}],[V]:Ce},{error:"FIPS is enabled but this partition does not support FIPS",[V]:Ue}],[V]:Ce},{conditions:Uh,rules:[{conditions:[SR],rules:[{conditions:DR,rules:[{conditions:kR,rules:[TR],[V]:Ce},vR],[V]:Ce},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xr]:Tt,[Qr]:Tt},[V]:Gt}],[V]:Ce},{error:"DualStack is enabled but this partition does not support DualStack",[V]:Ue}],[V]:Ce},{conditions:[ld,Mh,ad,dd,cd,{[ee]:Ln,[te]:$R},{[ee]:yR,[te]:$R,assign:Do},wR,xR,IR,AR],endpoint:PR,[V]:Gt},{conditions:[ld,Mh,ad,dd,cd,{[ee]:Ln,[te]:[RR]},{[ee]:en,[te]:[RR,"[0]"],assign:_R},{[ee]:yR,[te]:[{[Te]:_R}],assign:Do},wR,xR,IR,AR],endpoint:PR,[V]:Gt},{conditions:[ld,Mh,ad,dd,cd,{[ee]:Ln,[te]:[NR]}],rules:[{conditions:[{[ee]:Bh,[te]:[NR,gR]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Xr]:Tt,[Qr]:Tt},[V]:Gt}],[V]:Ce},{error:"Credentials-sourced account ID parameter is invalid",[V]:Ue}],[V]:Ce},{conditions:DR,rules:[{conditions:kR,rules:[{conditions:[cd],rules:[{conditions:[ad],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:Ue}],[V]:Ce},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:Ue}],[V]:Ce},TR],[V]:Ce},vR],[V]:Ce},CR],[V]:Ce}],[V]:Ce},{error:"Invalid Configuration: Missing Region",[V]:Ue}]};pd.ruleSet=IG});var BR=T(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.defaultEndpointResolver=void 0;var AG=to(),zh=eo(),PG=FR(),RG=new zh.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),NG=(e,t={})=>RG.get(e,()=>(0,zh.resolveEndpoint)(PG.ruleSet,{endpointParams:e,logger:t.logger}));md.defaultEndpointResolver=NG;zh.customEndpointFunctions.aws=AG.awsEndpointFunctions});var zR=T(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.getRuntimeConfig=void 0;var OG=(Ie(),G(Ut)),DG=Y(),kG=Ir(),jR=ze(),HR=Oe(),$G=Qm(),MG=BR(),LG=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??jR.fromBase64,base64Encoder:e?.base64Encoder??jR.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??MG.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??$G.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new OG.AwsSdkSigV4Signer}],logger:e?.logger??new DG.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??kG.parseUrl,utf8Decoder:e?.utf8Decoder??HR.fromUtf8,utf8Encoder:e?.utf8Encoder??HR.toUtf8});fd.getRuntimeConfig=LG});var KR=T(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.getRuntimeConfig=void 0;var UG=(qn(),G(Vn)),FG=UG.__importDefault(qT()),VR=(Ie(),G(Ut)),BG=(iu(),G(su)),jG=hR(),HG=fu(),qR=$s(),hd=Bt(),zG=Ms(),GR=ir(),mr=Br(),WR=ln(),VG=Ls(),qG=lo(),GG=zR(),WG=Y(),KG=Bs(),JG=Y(),YG=e=>{(0,JG.emitWarningIfUnsupportedVersion)(process.version);let t=(0,KG.resolveDefaultsModeConfig)(e),r=()=>t().then(WG.loadConfigsForDefaultMode),n=(0,GG.getRuntimeConfig)(e);(0,VR.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,mr.loadConfig)(BG.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,mr.loadConfig)(VR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??VG.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??jG.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,qR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:FG.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,mr.loadConfig)(HG.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,mr.loadConfig)(GR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,mr.loadConfig)(hd.NODE_REGION_CONFIG_OPTIONS,{...hd.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:WR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,mr.loadConfig)({...GR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qG.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??zG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??WR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,mr.loadConfig)(hd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,mr.loadConfig)(hd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,mr.loadConfig)(qR.NODE_APP_ID_CONFIG_OPTIONS,o)}};gd.getRuntimeConfig=YG});var tN=T((Zle,eN)=>{var yd=Object.defineProperty,XG=Object.getOwnPropertyDescriptor,QG=Object.getOwnPropertyNames,ZG=Object.prototype.hasOwnProperty,Wt=(e,t)=>yd(e,"name",{value:t,configurable:!0}),e7=(e,t)=>{for(var r in t)yd(e,r,{get:t[r],enumerable:!0})},t7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QG(t))!ZG.call(e,o)&&o!==r&&yd(e,o,{get:()=>t[o],enumerable:!(n=XG(t,o))||n.enumerable});return e},r7=e=>t7(yd({},"__esModule",{value:!0}),e),XR={};e7(XR,{WaiterState:()=>ZR,checkExceptions:()=>o7,createWaiter:()=>l7,waiterServiceDefaults:()=>QR});eN.exports=r7(XR);var n7=Wt(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),QR={minDelay:2,maxDelay:120},ZR=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(ZR||{}),o7=Wt(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),s7=Wt((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return i7(e,o)},"exponentialBackoffWithJitter"),i7=Wt((e,t)=>e+Math.random()*(t-e),"randomInRange"),a7=Wt(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let l={},{state:u,reason:p}=await a(o,i);if(p){let g=JR(p);l[g]|=0,l[g]+=1}if(u!=="RETRY")return{state:u,reason:p,observedResponses:l};let m=1,f=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let S="AbortController signal aborted.";return l[S]|=0,l[S]+=1,{state:"ABORTED",observedResponses:l}}let g=s7(e,t,h,m);if(Date.now()+g*1e3>f)return{state:"TIMEOUT",observedResponses:l};await n7(g);let{state:y,reason:E}=await a(o,i);if(E){let S=JR(E);l[S]|=0,l[S]+=1}if(y!=="RETRY")return{state:y,reason:E,observedResponses:l};m+=1}},"runPolling"),JR=Wt(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),c7=Wt(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),YR=Wt(e=>{let t,r=new Promise(n=>{t=Wt(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),l7=Wt(async(e,t,r)=>{let n={...QR,...e};c7(n);let o=[a7(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=YR(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=YR(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var Lo=T((ede,jD)=>{"use strict";var Ed=Object.defineProperty,d7=Object.getOwnPropertyDescriptor,u7=Object.getOwnPropertyNames,p7=Object.prototype.hasOwnProperty,c=(e,t)=>Ed(e,"name",{value:t,configurable:!0}),m7=(e,t)=>{for(var r in t)Ed(e,r,{get:t[r],enumerable:!0})},f7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u7(t))!p7.call(e,o)&&o!==r&&Ed(e,o,{get:()=>t[o],enumerable:!(n=d7(t,o))||n.enumerable});return e},h7=e=>f7(Ed({},"__esModule",{value:!0}),e),cN={};m7(cN,{ApproximateCreationDateTimePrecision:()=>C7,AttributeAction:()=>T7,AttributeValue:()=>_d,BackupInUseException:()=>dN,BackupNotFoundException:()=>pN,BackupStatus:()=>x7,BackupType:()=>I7,BackupTypeFilter:()=>$7,BatchExecuteStatementCommand:()=>zO,BatchGetItemCommand:()=>VO,BatchStatementErrorCodeEnum:()=>U7,BatchWriteItemCommand:()=>qO,BillingMode:()=>A7,ComparisonOperator:()=>B7,ConditionalCheckFailedException:()=>vO,ConditionalOperator:()=>j7,ContinuousBackupsStatus:()=>H7,ContinuousBackupsUnavailableException:()=>RN,ContributorInsightsAction:()=>V7,ContributorInsightsMode:()=>q7,ContributorInsightsStatus:()=>G7,CreateBackupCommand:()=>GO,CreateGlobalTableCommand:()=>WO,CreateTableCommand:()=>KO,DeleteBackupCommand:()=>JO,DeleteItemCommand:()=>YO,DeleteResourcePolicyCommand:()=>XO,DeleteTableCommand:()=>QO,DescribeBackupCommand:()=>ZO,DescribeContinuousBackupsCommand:()=>eD,DescribeContributorInsightsCommand:()=>tD,DescribeEndpointsCommand:()=>Xh,DescribeExportCommand:()=>rD,DescribeGlobalTableCommand:()=>nD,DescribeGlobalTableSettingsCommand:()=>oD,DescribeImportCommand:()=>sD,DescribeKinesisStreamingDestinationCommand:()=>iD,DescribeLimitsCommand:()=>aD,DescribeTableCommand:()=>Cd,DescribeTableReplicaAutoScalingCommand:()=>cD,DescribeTimeToLiveCommand:()=>lD,DestinationStatus:()=>lW,DisableKinesisStreamingDestinationCommand:()=>dD,DuplicateItemException:()=>QN,DynamoDB:()=>UD,DynamoDBClient:()=>on,DynamoDBServiceException:()=>X,EnableKinesisStreamingDestinationCommand:()=>uD,ExecuteStatementCommand:()=>pD,ExecuteTransactionCommand:()=>mD,ExportConflictException:()=>oO,ExportFormat:()=>tW,ExportNotFoundException:()=>GN,ExportStatus:()=>rW,ExportTableToPointInTimeCommand:()=>fD,ExportType:()=>nW,ExportViewType:()=>oW,GetItemCommand:()=>hD,GetResourcePolicyCommand:()=>gD,GlobalTableAlreadyExistsException:()=>UN,GlobalTableNotFoundException:()=>KN,GlobalTableStatus:()=>W7,IdempotentParameterMismatchException:()=>eO,ImportConflictException:()=>dO,ImportNotFoundException:()=>YN,ImportStatus:()=>iW,ImportTableCommand:()=>yD,IndexNotFoundException:()=>bO,IndexStatus:()=>K7,InputCompressionType:()=>aW,InputFormat:()=>cW,InternalServerError:()=>fN,InvalidEndpointException:()=>bN,InvalidExportTimeException:()=>iO,InvalidRestoreTimeException:()=>fO,ItemCollectionSizeLimitExceededException:()=>xN,KeyType:()=>P7,LimitExceededException:()=>ON,ListBackupsCommand:()=>_D,ListContributorInsightsCommand:()=>Qh,ListExportsCommand:()=>Zh,ListGlobalTablesCommand:()=>ED,ListImportsCommand:()=>eg,ListTablesCommand:()=>tg,ListTagsOfResourceCommand:()=>bD,MultiRegionConsistency:()=>Z7,PointInTimeRecoveryStatus:()=>z7,PointInTimeRecoveryUnavailableException:()=>cO,PolicyNotFoundException:()=>VN,ProjectionType:()=>R7,ProvisionedThroughputExceededException:()=>vN,PutItemCommand:()=>SD,PutResourcePolicyCommand:()=>vD,QueryCommand:()=>rg,ReplicaAlreadyExistsException:()=>gO,ReplicaNotFoundException:()=>_O,ReplicaStatus:()=>J7,ReplicatedWriteConflictException:()=>AN,RequestLimitExceeded:()=>gN,ResourceInUseException:()=>BN,ResourceNotFoundException:()=>TN,RestoreTableFromBackupCommand:()=>CD,RestoreTableToPointInTimeCommand:()=>TD,ReturnConsumedCapacity:()=>M7,ReturnItemCollectionMetrics:()=>F7,ReturnValue:()=>eW,ReturnValuesOnConditionCheckFailure:()=>L7,S3SseAlgorithm:()=>sW,SSEStatus:()=>O7,SSEType:()=>N7,ScalarAttributeType:()=>w7,ScanCommand:()=>ng,Select:()=>dW,StreamViewType:()=>D7,TableAlreadyExistsException:()=>pO,TableClass:()=>Y7,TableInUseException:()=>kN,TableNotFoundException:()=>MN,TableStatus:()=>X7,TagResourceCommand:()=>wD,ThrottlingException:()=>_N,TimeToLiveStatus:()=>k7,TransactGetItemsCommand:()=>xD,TransactWriteItemsCommand:()=>ID,TransactionCanceledException:()=>TO,TransactionConflictException:()=>HN,TransactionInProgressException:()=>rO,UntagResourceCommand:()=>AD,UpdateContinuousBackupsCommand:()=>PD,UpdateContributorInsightsCommand:()=>RD,UpdateGlobalTableCommand:()=>ND,UpdateGlobalTableSettingsCommand:()=>OD,UpdateItemCommand:()=>DD,UpdateKinesisStreamingDestinationCommand:()=>kD,UpdateTableCommand:()=>$D,UpdateTableReplicaAutoScalingCommand:()=>MD,UpdateTimeToLiveCommand:()=>LD,WitnessStatus:()=>Q7,__Client:()=>d.Client,paginateListContributorInsights:()=>VX,paginateListExports:()=>GX,paginateListImports:()=>KX,paginateListTables:()=>YX,paginateQuery:()=>QX,paginateScan:()=>eQ,waitForTableExists:()=>tQ,waitForTableNotExists:()=>nQ,waitUntilTableExists:()=>rQ,waitUntilTableNotExists:()=>oQ});jD.exports=h7(cN);var g7=(iu(),G(su)),y7=fu(),rN=zo(),_7=Vo(),E7=qo(),nN=co(),b7=Bt(),Vh=(Ee(),G(at)),S7=Ps(),oN=ir(),sN=Qm(),k=jr(),M=vr(),v7=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),L={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},D=(Ie(),G(Ut)),qh=ae(),bd=(ja(),G(Sp)),d=Y(),X=class lN extends d.ServiceException{static{c(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,lN.prototype)}},C7={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},T7={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},w7={B:"B",N:"N",S:"S"},x7={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},I7={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},A7={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},P7={HASH:"HASH",RANGE:"RANGE"},R7={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},N7={AES256:"AES256",KMS:"KMS"},O7={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},D7={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},k7={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},dN=class uN extends X{static{c(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,uN.prototype)}},pN=class mN extends X{static{c(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,mN.prototype)}},$7={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},M7={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},L7={ALL_OLD:"ALL_OLD",NONE:"NONE"},U7={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},fN=class hN extends X{static{c(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,hN.prototype)}},gN=class yN extends X{static{c(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,yN.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},_N=class EN extends X{static{c(this,"ThrottlingException")}name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,EN.prototype),this.throttlingReasons=t.throttlingReasons}},bN=class SN extends X{static{c(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,SN.prototype),this.Message=t.Message}},vN=class CN extends X{static{c(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,CN.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},TN=class wN extends X{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,wN.prototype)}},F7={NONE:"NONE",SIZE:"SIZE"},xN=class IN extends X{static{c(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,IN.prototype)}},AN=class PN extends X{static{c(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,PN.prototype)}},B7={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},j7={AND:"AND",OR:"OR"},H7={DISABLED:"DISABLED",ENABLED:"ENABLED"},z7={DISABLED:"DISABLED",ENABLED:"ENABLED"},RN=class NN extends X{static{c(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,NN.prototype)}},V7={DISABLE:"DISABLE",ENABLE:"ENABLE"},q7={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},G7={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},ON=class DN extends X{static{c(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,DN.prototype)}},kN=class $N extends X{static{c(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,$N.prototype)}},MN=class LN extends X{static{c(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,LN.prototype)}},W7={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},K7={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},J7={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Y7={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},X7={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},UN=class FN extends X{static{c(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,FN.prototype)}},Q7={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Z7={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},BN=class jN extends X{static{c(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,jN.prototype)}},eW={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},HN=class zN extends X{static{c(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,zN.prototype)}},VN=class qN extends X{static{c(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,qN.prototype)}},tW={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},rW={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},nW={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},oW={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},sW={AES256:"AES256",KMS:"KMS"},GN=class WN extends X{static{c(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,WN.prototype)}},KN=class JN extends X{static{c(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,JN.prototype)}},iW={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},aW={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},cW={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},YN=class XN extends X{static{c(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,XN.prototype)}},lW={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},QN=class ZN extends X{static{c(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,ZN.prototype)}},eO=class tO extends X{static{c(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,tO.prototype),this.Message=t.Message}},rO=class nO extends X{static{c(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,nO.prototype),this.Message=t.Message}},oO=class sO extends X{static{c(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,sO.prototype)}},iO=class aO extends X{static{c(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,aO.prototype)}},cO=class lO extends X{static{c(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,lO.prototype)}},dO=class uO extends X{static{c(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,uO.prototype)}},dW={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},pO=class mO extends X{static{c(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,mO.prototype)}},fO=class hO extends X{static{c(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,hO.prototype)}},gO=class yO extends X{static{c(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,yO.prototype)}},_O=class EO extends X{static{c(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,EO.prototype)}},bO=class SO extends X{static{c(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,SO.prototype)}},_d;(e=>{e.visit=c((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(_d||(_d={}));var vO=class CO extends X{static{c(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,CO.prototype),this.Item=t.Item}},TO=class wO extends X{static{c(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,wO.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},uW=c(async(e,t)=>{let r=$("BatchExecuteStatement"),n;return n=JSON.stringify(rJ(e,t)),F(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),pW=c(async(e,t)=>{let r=$("BatchGetItem"),n;return n=JSON.stringify(nJ(e,t)),F(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),mW=c(async(e,t)=>{let r=$("BatchWriteItem"),n;return n=JSON.stringify(iJ(e,t)),F(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),fW=c(async(e,t)=>{let r=$("CreateBackup"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateBackupCommand"),hW=c(async(e,t)=>{let r=$("CreateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),gW=c(async(e,t)=>{let r=$("CreateTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateTableCommand"),yW=c(async(e,t)=>{let r=$("DeleteBackup"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),_W=c(async(e,t)=>{let r=$("DeleteItem"),n;return n=JSON.stringify(uJ(e,t)),F(t,r,"/",void 0,n)},"se_DeleteItemCommand"),EW=c(async(e,t)=>{let r=$("DeleteResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),bW=c(async(e,t)=>{let r=$("DeleteTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteTableCommand"),SW=c(async(e,t)=>{let r=$("DescribeBackup"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),vW=c(async(e,t)=>{let r=$("DescribeContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),CW=c(async(e,t)=>{let r=$("DescribeContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),TW=c(async(e,t)=>{let r=$("DescribeEndpoints"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),wW=c(async(e,t)=>{let r=$("DescribeExport"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeExportCommand"),xW=c(async(e,t)=>{let r=$("DescribeGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),IW=c(async(e,t)=>{let r=$("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),AW=c(async(e,t)=>{let r=$("DescribeImport"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeImportCommand"),PW=c(async(e,t)=>{let r=$("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),RW=c(async(e,t)=>{let r=$("DescribeLimits"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),NW=c(async(e,t)=>{let r=$("DescribeTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeTableCommand"),OW=c(async(e,t)=>{let r=$("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),DW=c(async(e,t)=>{let r=$("DescribeTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),kW=c(async(e,t)=>{let r=$("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),$W=c(async(e,t)=>{let r=$("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),MW=c(async(e,t)=>{let r=$("ExecuteStatement"),n;return n=JSON.stringify(mJ(e,t)),F(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),LW=c(async(e,t)=>{let r=$("ExecuteTransaction"),n;return n=JSON.stringify(fJ(e,t)),F(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),UW=c(async(e,t)=>{let r=$("ExportTableToPointInTime"),n;return n=JSON.stringify(gJ(e,t)),F(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),FW=c(async(e,t)=>{let r=$("GetItem"),n;return n=JSON.stringify(_J(e,t)),F(t,r,"/",void 0,n)},"se_GetItemCommand"),BW=c(async(e,t)=>{let r=$("GetResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),jW=c(async(e,t)=>{let r=$("ImportTable"),n;return n=JSON.stringify(CJ(e,t)),F(t,r,"/",void 0,n)},"se_ImportTableCommand"),HW=c(async(e,t)=>{let r=$("ListBackups"),n;return n=JSON.stringify(PJ(e,t)),F(t,r,"/",void 0,n)},"se_ListBackupsCommand"),zW=c(async(e,t)=>{let r=$("ListContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),VW=c(async(e,t)=>{let r=$("ListExports"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListExportsCommand"),qW=c(async(e,t)=>{let r=$("ListGlobalTables"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),GW=c(async(e,t)=>{let r=$("ListImports"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListImportsCommand"),WW=c(async(e,t)=>{let r=$("ListTables"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListTablesCommand"),KW=c(async(e,t)=>{let r=$("ListTagsOfResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),JW=c(async(e,t)=>{let r=$("PutItem"),n;return n=JSON.stringify($J(e,t)),F(t,r,"/",void 0,n)},"se_PutItemCommand"),YW=c(async(e,t)=>{let r=$("PutResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),XW=c(async(e,t)=>{let r=$("Query"),n;return n=JSON.stringify(LJ(e,t)),F(t,r,"/",void 0,n)},"se_QueryCommand"),QW=c(async(e,t)=>{let r=$("RestoreTableFromBackup"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),ZW=c(async(e,t)=>{let r=$("RestoreTableToPointInTime"),n;return n=JSON.stringify(GJ(e,t)),F(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),e9=c(async(e,t)=>{let r=$("Scan"),n;return n=JSON.stringify(WJ(e,t)),F(t,r,"/",void 0,n)},"se_ScanCommand"),t9=c(async(e,t)=>{let r=$("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_TagResourceCommand"),r9=c(async(e,t)=>{let r=$("TransactGetItems"),n;return n=JSON.stringify(YJ(e,t)),F(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),n9=c(async(e,t)=>{let r=$("TransactWriteItems"),n;return n=JSON.stringify(ZJ(e,t)),F(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),o9=c(async(e,t)=>{let r=$("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UntagResourceCommand"),s9=c(async(e,t)=>{let r=$("UpdateContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),i9=c(async(e,t)=>{let r=$("UpdateContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),a9=c(async(e,t)=>{let r=$("UpdateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),c9=c(async(e,t)=>{let r=$("UpdateGlobalTableSettings"),n;return n=JSON.stringify(tY(e,t)),F(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),l9=c(async(e,t)=>{let r=$("UpdateItem"),n;return n=JSON.stringify(rY(e,t)),F(t,r,"/",void 0,n)},"se_UpdateItemCommand"),d9=c(async(e,t)=>{let r=$("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),u9=c(async(e,t)=>{let r=$("UpdateTable"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateTableCommand"),p9=c(async(e,t)=>{let r=$("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(nY(e,t)),F(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),m9=c(async(e,t)=>{let r=$("UpdateTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),f9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=pY(r,t),{$metadata:x(e),...n}},"de_BatchExecuteStatementCommand"),h9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=mY(r,t),{$metadata:x(e),...n}},"de_BatchGetItemCommand"),g9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=_Y(r,t),{$metadata:x(e),...n}},"de_BatchWriteItemCommand"),y9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=TY(r,t),{$metadata:x(e),...n}},"de_CreateBackupCommand"),_9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=wY(r,t),{$metadata:x(e),...n}},"de_CreateGlobalTableCommand"),E9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=xY(r,t),{$metadata:x(e),...n}},"de_CreateTableCommand"),b9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=IY(r,t),{$metadata:x(e),...n}},"de_DeleteBackupCommand"),S9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=AY(r,t),{$metadata:x(e),...n}},"de_DeleteItemCommand"),v9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DeleteResourcePolicyCommand"),C9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=RY(r,t),{$metadata:x(e),...n}},"de_DeleteTableCommand"),T9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=NY(r,t),{$metadata:x(e),...n}},"de_DescribeBackupCommand"),w9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=OY(r,t),{$metadata:x(e),...n}},"de_DescribeContinuousBackupsCommand"),x9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=DY(r,t),{$metadata:x(e),...n}},"de_DescribeContributorInsightsCommand"),I9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DescribeEndpointsCommand"),A9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=kY(r,t),{$metadata:x(e),...n}},"de_DescribeExportCommand"),P9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=$Y(r,t),{$metadata:x(e),...n}},"de_DescribeGlobalTableCommand"),R9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=MY(r,t),{$metadata:x(e),...n}},"de_DescribeGlobalTableSettingsCommand"),N9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=LY(r,t),{$metadata:x(e),...n}},"de_DescribeImportCommand"),O9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),D9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DescribeLimitsCommand"),k9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=UY(r,t),{$metadata:x(e),...n}},"de_DescribeTableCommand"),$9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=FY(r,t),{$metadata:x(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),M9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DescribeTimeToLiveCommand"),L9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),U9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),F9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=BY(r,t),{$metadata:x(e),...n}},"de_ExecuteStatementCommand"),B9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=jY(r,t),{$metadata:x(e),...n}},"de_ExecuteTransactionCommand"),j9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=HY(r,t),{$metadata:x(e),...n}},"de_ExportTableToPointInTimeCommand"),H9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=zY(r,t),{$metadata:x(e),...n}},"de_GetItemCommand"),z9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_GetResourcePolicyCommand"),V9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=KY(r,t),{$metadata:x(e),...n}},"de_ImportTableCommand"),q9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nX(r,t),{$metadata:x(e),...n}},"de_ListBackupsCommand"),G9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_ListContributorInsightsCommand"),W9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_ListExportsCommand"),K9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_ListGlobalTablesCommand"),J9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=oX(r,t),{$metadata:x(e),...n}},"de_ListImportsCommand"),Y9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_ListTablesCommand"),X9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_ListTagsOfResourceCommand"),Q9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=lX(r,t),{$metadata:x(e),...n}},"de_PutItemCommand"),Z9=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_PutResourcePolicyCommand"),eK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=uX(r,t),{$metadata:x(e),...n}},"de_QueryCommand"),tK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=SX(r,t),{$metadata:x(e),...n}},"de_RestoreTableFromBackupCommand"),rK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=vX(r,t),{$metadata:x(e),...n}},"de_RestoreTableToPointInTimeCommand"),nK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=CX(r,t),{$metadata:x(e),...n}},"de_ScanCommand"),oK=c(async(e,t)=>e.statusCode>=300?U(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:x(e)}),"de_TagResourceCommand"),sK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=xX(r,t),{$metadata:x(e),...n}},"de_TransactGetItemsCommand"),iK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=AX(r,t),{$metadata:x(e),...n}},"de_TransactWriteItemsCommand"),aK=c(async(e,t)=>e.statusCode>=300?U(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:x(e)}),"de_UntagResourceCommand"),cK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=PX(r,t),{$metadata:x(e),...n}},"de_UpdateContinuousBackupsCommand"),lK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_UpdateContributorInsightsCommand"),dK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=RX(r,t),{$metadata:x(e),...n}},"de_UpdateGlobalTableCommand"),uK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=NX(r,t),{$metadata:x(e),...n}},"de_UpdateGlobalTableSettingsCommand"),pK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=OX(r,t),{$metadata:x(e),...n}},"de_UpdateItemCommand"),mK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),fK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=DX(r,t),{$metadata:x(e),...n}},"de_UpdateTableCommand"),hK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=kX(r,t),{$metadata:x(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),gK=c(async(e,t)=>{if(e.statusCode>=300)return U(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:x(e),...n}},"de_UpdateTimeToLiveCommand"),U=c(async(e,t)=>{let r={...e,body:await(0,D.parseJsonErrorBody)(e.body,t)},n=(0,D.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await RK(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await HK(r,t);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await KK(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await NK(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await UK(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await VK(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await kK(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await jK(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await yK(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await bK(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await $K(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await GK(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await WK(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await TK(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await zK(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await _K(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await EK(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await YK(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await LK(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await CK(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await wK(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await AK(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await SK(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await xK(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await JK(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await XK(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await vK(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await OK(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await MK(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await IK(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await qK(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await DK(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await FK(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await BK(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await PK(r,t);default:let o=r.body;return LX({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),yK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new dN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),_K=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new pN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),EK=c(async(e,t)=>{let r=e.body,n=CY(r,t),o=new vO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),bK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),SK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new QN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),vK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new oO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),CK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new GN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),TK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new UN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),wK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new KN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),xK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new eO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),IK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new dO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),AK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new YN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),PK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new bO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),RK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),NK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new bN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),OK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),DK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),kK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new xN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),$K=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ON({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),MK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),LK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),UK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new vN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),FK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),BK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new _O({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),jK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new AN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),HK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),zK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new BN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),VK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new TN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),qK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new pO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),GK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new kN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),WK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),KK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new _N({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ThrottlingExceptionRes"),JK=c(async(e,t)=>{let r=e.body,n=IX(r,t),o=new TO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),YK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new HN({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),XK=c(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rO({$metadata:x(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),QK=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ZK(o,t)),r),{}),"se_AttributeUpdates"),fr=c((e,t)=>_d.visit(e,{B:c(r=>({B:t.base64Encoder(r)}),"B"),BOOL:c(r=>({BOOL:r}),"BOOL"),BS:c(r=>({BS:cJ(r,t)}),"BS"),L:c(r=>({L:AJ(r,t)}),"L"),M:c(r=>({M:RJ(r,t)}),"M"),N:c(r=>({N:r}),"N"),NS:c(r=>({NS:(0,d._json)(r)}),"NS"),NULL:c(r=>({NULL:r}),"NULL"),S:c(r=>({S:r}),"S"),SS:c(r=>({SS:(0,d._json)(r)}),"SS"),_:c((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),xO=c((e,t)=>e.filter(r=>r!=null).map(r=>fr(r,t)),"se_AttributeValueList"),ZK=c((e,t)=>(0,d.take)(e,{Action:[],Value:c(r=>fr(r,t),"Value")}),"se_AttributeValueUpdate"),eJ=c((e,t)=>(0,d.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:c(r=>tJ(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),rn=c((e,t)=>(0,d.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:c(r=>eJ(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),tJ=c((e,t)=>(0,d.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:d.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),rJ=c((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],Statements:c(r=>DJ(r,t),"Statements")}),"se_BatchExecuteStatementInput"),nJ=c((e,t)=>(0,d.take)(e,{RequestItems:c(r=>oJ(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),oJ=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=IJ(o,t)),r),{}),"se_BatchGetRequestMap"),sJ=c((e,t)=>(0,d.take)(e,{ConsistentRead:[],Parameters:c(r=>Wh(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),iJ=c((e,t)=>(0,d.take)(e,{RequestItems:c(r=>aJ(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),aJ=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=sY(o,t)),r),{}),"se_BatchWriteItemRequestMap"),cJ=c((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),IO=c((e,t)=>(0,d.take)(e,{AttributeValueList:c(r=>xO(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),lJ=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Key:c(r=>xt(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),dJ=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Key:c(r=>xt(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),uJ=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:c(r=>Gh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Key:c(r=>xt(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),pJ=c((e,t)=>(0,d.take)(e,{Key:c(r=>xt(r,t),"Key")}),"se_DeleteRequest"),mJ=c((e,t)=>(0,d.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:c(r=>Wh(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),fJ=c((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,bd.v4)()],ReturnConsumedCapacity:[],TransactStatements:c(r=>OJ(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),Gh=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=hJ(o,t)),r),{}),"se_ExpectedAttributeMap"),hJ=c((e,t)=>(0,d.take)(e,{AttributeValueList:c(r=>xO(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:c(r=>fr(r,t),"Value")}),"se_ExpectedAttributeValue"),gJ=c((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,bd.v4)()],ExportFormat:[],ExportTime:c(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:c(r=>TJ(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),hr=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=fr(o,t)),r),{}),"se_ExpressionAttributeValueMap"),AO=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=IO(o,t)),r),{}),"se_FilterConditionMap"),yJ=c((e,t)=>(0,d.take)(e,{ExpressionAttributeNames:d._json,Key:c(r=>xt(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),_J=c((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Key:c(r=>xt(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),EJ=c((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:c(r=>rn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),bJ=c((e,t)=>e.filter(r=>r!=null).map(r=>EJ(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),SJ=c((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:c(r=>rn(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),vJ=c((e,t)=>e.filter(r=>r!=null).map(r=>SJ(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),CJ=c((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,bd.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:d._json,S3BucketSource:d._json,TableCreationParameters:d._json}),"se_ImportTableInput"),TJ=c((e,t)=>(0,d.take)(e,{ExportFromTime:c(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:c(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),xt=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=fr(o,t)),r),{}),"se_Key"),wJ=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=IO(o,t)),r),{}),"se_KeyConditions"),xJ=c((e,t)=>e.filter(r=>r!=null).map(r=>xt(r,t)),"se_KeyList"),IJ=c((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Keys:c(r=>xJ(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),AJ=c((e,t)=>e.filter(r=>r!=null).map(r=>fr(r,t)),"se_ListAttributeValue"),PJ=c((e,t)=>(0,d.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:c(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:c(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),RJ=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=fr(o,t)),r),{}),"se_MapAttributeValue"),NJ=c((e,t)=>(0,d.take)(e,{Parameters:c(r=>Wh(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),OJ=c((e,t)=>e.filter(r=>r!=null).map(r=>NJ(r,t)),"se_ParameterizedStatements"),DJ=c((e,t)=>e.filter(r=>r!=null).map(r=>sJ(r,t)),"se_PartiQLBatchRequest"),Wh=c((e,t)=>e.filter(r=>r!=null).map(r=>fr(r,t)),"se_PreparedStatementParameters"),kJ=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Item:c(r=>Kh(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),$J=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:c(r=>Gh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Item:c(r=>Kh(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),Kh=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=fr(o,t)),r),{}),"se_PutItemInputAttributeMap"),MJ=c((e,t)=>(0,d.take)(e,{Item:c(r=>Kh(r,t),"Item")}),"se_PutRequest"),LJ=c((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:c(r=>xt(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:c(r=>wJ(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:c(r=>AO(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),UJ=c((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:c(r=>jJ(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:c(r=>rn(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),FJ=c((e,t)=>e.filter(r=>r!=null).map(r=>UJ(r,t)),"se_ReplicaAutoScalingUpdateList"),BJ=c((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:c(r=>rn(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),jJ=c((e,t)=>e.filter(r=>r!=null).map(r=>BJ(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),HJ=c((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:c(r=>rn(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),zJ=c((e,t)=>e.filter(r=>r!=null).map(r=>HJ(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),VJ=c((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:c(r=>zJ(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:c(r=>rn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),qJ=c((e,t)=>e.filter(r=>r!=null).map(r=>VJ(r,t)),"se_ReplicaSettingsUpdateList"),GJ=c((e,t)=>(0,d.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:d._json,LocalSecondaryIndexOverride:d._json,OnDemandThroughputOverride:d._json,ProvisionedThroughputOverride:d._json,RestoreDateTime:c(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:d._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),WJ=c((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:c(r=>xt(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:c(r=>AO(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),KJ=c((e,t)=>(0,d.take)(e,{Get:c(r=>yJ(r,t),"Get")}),"se_TransactGetItem"),JJ=c((e,t)=>e.filter(r=>r!=null).map(r=>KJ(r,t)),"se_TransactGetItemList"),YJ=c((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],TransactItems:c(r=>JJ(r,t),"TransactItems")}),"se_TransactGetItemsInput"),XJ=c((e,t)=>(0,d.take)(e,{ConditionCheck:c(r=>lJ(r,t),"ConditionCheck"),Delete:c(r=>dJ(r,t),"Delete"),Put:c(r=>kJ(r,t),"Put"),Update:c(r=>eY(r,t),"Update")}),"se_TransactWriteItem"),QJ=c((e,t)=>e.filter(r=>r!=null).map(r=>XJ(r,t)),"se_TransactWriteItemList"),ZJ=c((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,bd.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:c(r=>QJ(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),eY=c((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Key:c(r=>xt(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),tY=c((e,t)=>(0,d.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:c(r=>vJ(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:c(r=>rn(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:c(r=>qJ(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),rY=c((e,t)=>(0,d.take)(e,{AttributeUpdates:c(r=>QK(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:c(r=>Gh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:c(r=>hr(r,t),"ExpressionAttributeValues"),Key:c(r=>xt(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),nY=c((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexUpdates:c(r=>bJ(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:c(r=>rn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:c(r=>FJ(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),oY=c((e,t)=>(0,d.take)(e,{DeleteRequest:c(r=>pJ(r,t),"DeleteRequest"),PutRequest:c(r=>MJ(r,t),"PutRequest")}),"se_WriteRequest"),sY=c((e,t)=>e.filter(r=>r!=null).map(r=>oY(r,t)),"se_WriteRequests"),iY=c((e,t)=>(0,d.take)(e,{ArchivalBackupArn:d.expectString,ArchivalDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:d.expectString}),"de_ArchivalSummary"),Kt=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ko((0,D.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),ko=c((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,d.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,d.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:bY(e.BS,t)}:e.L!=null?{L:rX(e.L,t)}:e.M!=null?{M:sX(e.M,t)}:(0,d.expectString)(e.N)!==void 0?{N:(0,d.expectString)(e.N)}:e.NS!=null?{NS:(0,d._json)(e.NS)}:(0,d.expectBoolean)(e.NULL)!==void 0?{NULL:(0,d.expectBoolean)(e.NULL)}:(0,d.expectString)(e.S)!==void 0?{S:(0,d.expectString)(e.S)}:e.SS!=null?{SS:(0,d._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),aY=c((e,t)=>(0,d.take)(e,{PolicyName:d.expectString,TargetTrackingScalingPolicyConfiguration:c(r=>lY(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),cY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>aY(n,t)),"de_AutoScalingPolicyDescriptionList"),tn=c((e,t)=>(0,d.take)(e,{AutoScalingDisabled:d.expectBoolean,AutoScalingRoleArn:d.expectString,MaximumUnits:d.expectLong,MinimumUnits:d.expectLong,ScalingPolicies:c(r=>cY(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),lY=c((e,t)=>(0,d.take)(e,{DisableScaleIn:d.expectBoolean,ScaleInCooldown:d.expectInt32,ScaleOutCooldown:d.expectInt32,TargetValue:d.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),PO=c((e,t)=>(0,d.take)(e,{BackupDetails:c(r=>RO(r,t),"BackupDetails"),SourceTableDetails:c(r=>TX(r,t),"SourceTableDetails"),SourceTableFeatureDetails:c(r=>wX(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),RO=c((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString}),"de_BackupDetails"),dY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>uY(n,t)),"de_BackupSummaries"),uY=c((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString,TableArn:d.expectString,TableId:d.expectString,TableName:d.expectString}),"de_BackupSummary"),pY=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),Responses:c(r=>iX(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),mY=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),Responses:c(r=>hY(r,t),"Responses"),UnprocessedKeys:c(r=>fY(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),fY=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=tX(o,t)),r),{}),"de_BatchGetRequestMap"),hY=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=vd(o,t)),r),{}),"de_BatchGetResponseMap"),gY=c((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:c(r=>Kt(r,t),"Item"),Message:d.expectString}),"de_BatchStatementError"),yY=c((e,t)=>(0,d.take)(e,{Error:c(r=>gY(r,t),"Error"),Item:c(r=>Kt(r,t),"Item"),TableName:d.expectString}),"de_BatchStatementResponse"),_Y=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),ItemCollectionMetrics:c(r=>MO(r,t),"ItemCollectionMetrics"),UnprocessedItems:c(r=>EY(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),EY=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=MX(o,t)),r),{}),"de_BatchWriteItemRequestMap"),NO=c((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,LastUpdateToPayPerRequestDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),bY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),SY=c((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:c(r=>Kt(r,t),"Item"),Message:d.expectString}),"de_CancellationReason"),vY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>SY(n,t)),"de_CancellationReasonList"),OO=c((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,ReadCapacityUnits:d.limitedParseDouble,WriteCapacityUnits:d.limitedParseDouble}),"de_Capacity"),CY=c((e,t)=>(0,d.take)(e,{Item:c(r=>Kt(r,t),"Item"),message:d.expectString}),"de_ConditionalCheckFailedException"),nn=c((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,GlobalSecondaryIndexes:c(r=>iN(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:c(r=>iN(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:d.limitedParseDouble,Table:c(r=>OO(r,t),"Table"),TableName:d.expectString,WriteCapacityUnits:d.limitedParseDouble}),"de_ConsumedCapacity"),$o=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>nn(n,t)),"de_ConsumedCapacityMultiple"),DO=c((e,t)=>(0,d.take)(e,{ContinuousBackupsStatus:d.expectString,PointInTimeRecoveryDescription:c(r=>aX(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),TY=c((e,t)=>(0,d.take)(e,{BackupDetails:c(r=>RO(r,t),"BackupDetails")}),"de_CreateBackupOutput"),wY=c((e,t)=>(0,d.take)(e,{GlobalTableDescription:c(r=>Jh(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),xY=c((e,t)=>(0,d.take)(e,{TableDescription:c(r=>Mo(r,t),"TableDescription")}),"de_CreateTableOutput"),IY=c((e,t)=>(0,d.take)(e,{BackupDescription:c(r=>PO(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),AY=c((e,t)=>(0,d.take)(e,{Attributes:c(r=>Kt(r,t),"Attributes"),ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:c(r=>Sd(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),PY=c((e,t)=>(0,d.take)(e,{Key:c(r=>vi(r,t),"Key")}),"de_DeleteRequest"),RY=c((e,t)=>(0,d.take)(e,{TableDescription:c(r=>Mo(r,t),"TableDescription")}),"de_DeleteTableOutput"),NY=c((e,t)=>(0,d.take)(e,{BackupDescription:c(r=>PO(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),OY=c((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:c(r=>DO(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),DY=c((e,t)=>(0,d.take)(e,{ContributorInsightsMode:d.expectString,ContributorInsightsRuleList:d._json,ContributorInsightsStatus:d.expectString,FailureException:d._json,IndexName:d.expectString,LastUpdateDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateDateTime"),TableName:d.expectString}),"de_DescribeContributorInsightsOutput"),kY=c((e,t)=>(0,d.take)(e,{ExportDescription:c(r=>kO(r,t),"ExportDescription")}),"de_DescribeExportOutput"),$Y=c((e,t)=>(0,d.take)(e,{GlobalTableDescription:c(r=>Jh(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),MY=c((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:c(r=>BO(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),LY=c((e,t)=>(0,d.take)(e,{ImportTableDescription:c(r=>$O(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),UY=c((e,t)=>(0,d.take)(e,{Table:c(r=>Mo(r,t),"Table")}),"de_DescribeTableOutput"),FY=c((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:c(r=>HO(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),BY=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),Items:c(r=>vd(r,t),"Items"),LastEvaluatedKey:c(r=>vi(r,t),"LastEvaluatedKey"),NextToken:d.expectString}),"de_ExecuteStatementOutput"),jY=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),Responses:c(r=>LO(r,t),"Responses")}),"de_ExecuteTransactionOutput"),kO=c((e,t)=>(0,d.take)(e,{BilledSizeBytes:d.expectLong,ClientToken:d.expectString,EndTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ExportArn:d.expectString,ExportFormat:d.expectString,ExportManifest:d.expectString,ExportStatus:d.expectString,ExportTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportTime"),ExportType:d.expectString,FailureCode:d.expectString,FailureMessage:d.expectString,IncrementalExportSpecification:c(r=>JY(r,t),"IncrementalExportSpecification"),ItemCount:d.expectLong,S3Bucket:d.expectString,S3BucketOwner:d.expectString,S3Prefix:d.expectString,S3SseAlgorithm:d.expectString,S3SseKmsKeyId:d.expectString,StartTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString,TableId:d.expectString}),"de_ExportDescription"),HY=c((e,t)=>(0,d.take)(e,{ExportDescription:c(r=>kO(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),zY=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),Item:c(r=>Kt(r,t),"Item")}),"de_GetItemOutput"),VY=c((e,t)=>(0,d.take)(e,{Backfilling:d.expectBoolean,IndexArn:d.expectString,IndexName:d.expectString,IndexSizeBytes:d.expectLong,IndexStatus:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,OnDemandThroughput:d._json,Projection:d._json,ProvisionedThroughput:c(r=>UO(r,t),"ProvisionedThroughput"),WarmThroughput:d._json}),"de_GlobalSecondaryIndexDescription"),qY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>VY(n,t)),"de_GlobalSecondaryIndexDescriptionList"),Jh=c((e,t)=>(0,d.take)(e,{CreationDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:d.expectString,GlobalTableName:d.expectString,GlobalTableStatus:d.expectString,ReplicationGroup:c(r=>FO(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),GY=c((e,t)=>(0,d.take)(e,{CloudWatchLogGroupArn:d.expectString,EndTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ImportArn:d.expectString,ImportStatus:d.expectString,InputFormat:d.expectString,S3BucketSource:d._json,StartTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString}),"de_ImportSummary"),WY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>GY(n,t)),"de_ImportSummaryList"),$O=c((e,t)=>(0,d.take)(e,{ClientToken:d.expectString,CloudWatchLogGroupArn:d.expectString,EndTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ErrorCount:d.expectLong,FailureCode:d.expectString,FailureMessage:d.expectString,ImportArn:d.expectString,ImportStatus:d.expectString,ImportedItemCount:d.expectLong,InputCompressionType:d.expectString,InputFormat:d.expectString,InputFormatOptions:d._json,ProcessedItemCount:d.expectLong,ProcessedSizeBytes:d.expectLong,S3BucketSource:d._json,StartTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString,TableCreationParameters:d._json,TableId:d.expectString}),"de_ImportTableDescription"),KY=c((e,t)=>(0,d.take)(e,{ImportTableDescription:c(r=>$O(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),JY=c((e,t)=>(0,d.take)(e,{ExportFromTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportFromTime"),ExportToTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportToTime"),ExportViewType:d.expectString}),"de_IncrementalExportSpecification"),YY=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ko((0,D.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),Sd=c((e,t)=>(0,d.take)(e,{ItemCollectionKey:c(r=>YY(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:c(r=>QY(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),XY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Sd(n,t)),"de_ItemCollectionMetricsMultiple"),MO=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=XY(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),QY=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,d.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),vd=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Kt(n,t)),"de_ItemList"),ZY=c((e,t)=>(0,d.take)(e,{Item:c(r=>Kt(r,t),"Item")}),"de_ItemResponse"),LO=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZY(n,t)),"de_ItemResponseList"),vi=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ko((0,D.awsExpectUnion)(o),t)),r),{}),"de_Key"),eX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>vi(n,t)),"de_KeyList"),tX=c((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:d.expectBoolean,ExpressionAttributeNames:d._json,Keys:c(r=>eX(r,t),"Keys"),ProjectionExpression:d.expectString}),"de_KeysAndAttributes"),rX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ko((0,D.awsExpectUnion)(n),t)),"de_ListAttributeValue"),nX=c((e,t)=>(0,d.take)(e,{BackupSummaries:c(r=>dY(r,t),"BackupSummaries"),LastEvaluatedBackupArn:d.expectString}),"de_ListBackupsOutput"),oX=c((e,t)=>(0,d.take)(e,{ImportSummaryList:c(r=>WY(r,t),"ImportSummaryList"),NextToken:d.expectString}),"de_ListImportsOutput"),sX=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ko((0,D.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),iX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>yY(n,t)),"de_PartiQLBatchResponse"),aX=c((e,t)=>(0,d.take)(e,{EarliestRestorableDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:d.expectString,RecoveryPeriodInDays:d.expectInt32}),"de_PointInTimeRecoveryDescription"),UO=c((e,t)=>(0,d.take)(e,{LastDecreaseDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:d.expectLong,ReadCapacityUnits:d.expectLong,WriteCapacityUnits:d.expectLong}),"de_ProvisionedThroughputDescription"),cX=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ko((0,D.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),lX=c((e,t)=>(0,d.take)(e,{Attributes:c(r=>Kt(r,t),"Attributes"),ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:c(r=>Sd(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),dX=c((e,t)=>(0,d.take)(e,{Item:c(r=>cX(r,t),"Item")}),"de_PutRequest"),uX=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),Count:d.expectInt32,Items:c(r=>vd(r,t),"Items"),LastEvaluatedKey:c(r=>vi(r,t),"LastEvaluatedKey"),ScannedCount:d.expectInt32}),"de_QueryOutput"),pX=c((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:c(r=>gX(r,t),"GlobalSecondaryIndexes"),RegionName:d.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:c(r=>tn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:c(r=>tn(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:d.expectString}),"de_ReplicaAutoScalingDescription"),mX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>pX(n,t)),"de_ReplicaAutoScalingDescriptionList"),fX=c((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,KMSMasterKeyId:d.expectString,OnDemandThroughputOverride:d._json,ProvisionedThroughputOverride:d._json,RegionName:d.expectString,ReplicaInaccessibleDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:d.expectString,ReplicaStatusDescription:d.expectString,ReplicaStatusPercentProgress:d.expectString,ReplicaTableClassSummary:c(r=>Yh(r,t),"ReplicaTableClassSummary"),WarmThroughput:d._json}),"de_ReplicaDescription"),FO=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>fX(n,t)),"de_ReplicaDescriptionList"),hX=c((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:c(r=>tn(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:c(r=>tn(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),gX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hX(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),yX=c((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:c(r=>tn(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:d.expectLong,ProvisionedWriteCapacityAutoScalingSettings:c(r=>tn(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:d.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),_X=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>yX(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),EX=c((e,t)=>(0,d.take)(e,{RegionName:d.expectString,ReplicaBillingModeSummary:c(r=>NO(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:c(r=>_X(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:c(r=>tn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:d.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:c(r=>tn(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:d.expectLong,ReplicaStatus:d.expectString,ReplicaTableClassSummary:c(r=>Yh(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),BO=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>EX(n,t)),"de_ReplicaSettingsDescriptionList"),bX=c((e,t)=>(0,d.take)(e,{RestoreDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:d.expectBoolean,SourceBackupArn:d.expectString,SourceTableArn:d.expectString}),"de_RestoreSummary"),SX=c((e,t)=>(0,d.take)(e,{TableDescription:c(r=>Mo(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),vX=c((e,t)=>(0,d.take)(e,{TableDescription:c(r=>Mo(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),CX=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),Count:d.expectInt32,Items:c(r=>vd(r,t),"Items"),LastEvaluatedKey:c(r=>vi(r,t),"LastEvaluatedKey"),ScannedCount:d.expectInt32}),"de_ScanOutput"),iN=c((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=OO(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),TX=c((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,OnDemandThroughput:d._json,ProvisionedThroughput:d._json,TableArn:d.expectString,TableCreationDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"TableCreationDateTime"),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong}),"de_SourceTableDetails"),wX=c((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,LocalSecondaryIndexes:d._json,SSEDescription:c(r=>jO(r,t),"SSEDescription"),StreamDescription:d._json,TimeToLiveDescription:d._json}),"de_SourceTableFeatureDetails"),jO=c((e,t)=>(0,d.take)(e,{InaccessibleEncryptionDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:d.expectString,SSEType:d.expectString,Status:d.expectString}),"de_SSEDescription"),HO=c((e,t)=>(0,d.take)(e,{Replicas:c(r=>mX(r,t),"Replicas"),TableName:d.expectString,TableStatus:d.expectString}),"de_TableAutoScalingDescription"),Yh=c((e,t)=>(0,d.take)(e,{LastUpdateDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateDateTime"),TableClass:d.expectString}),"de_TableClassSummary"),Mo=c((e,t)=>(0,d.take)(e,{ArchivalSummary:c(r=>iY(r,t),"ArchivalSummary"),AttributeDefinitions:d._json,BillingModeSummary:c(r=>NO(r,t),"BillingModeSummary"),CreationDateTime:c(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:d.expectBoolean,GlobalSecondaryIndexes:c(r=>qY(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:d.expectString,GlobalTableWitnesses:d._json,ItemCount:d.expectLong,KeySchema:d._json,LatestStreamArn:d.expectString,LatestStreamLabel:d.expectString,LocalSecondaryIndexes:d._json,MultiRegionConsistency:d.expectString,OnDemandThroughput:d._json,ProvisionedThroughput:c(r=>UO(r,t),"ProvisionedThroughput"),Replicas:c(r=>FO(r,t),"Replicas"),RestoreSummary:c(r=>bX(r,t),"RestoreSummary"),SSEDescription:c(r=>jO(r,t),"SSEDescription"),StreamSpecification:d._json,TableArn:d.expectString,TableClassSummary:c(r=>Yh(r,t),"TableClassSummary"),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong,TableStatus:d.expectString,WarmThroughput:d._json}),"de_TableDescription"),xX=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),Responses:c(r=>LO(r,t),"Responses")}),"de_TransactGetItemsOutput"),IX=c((e,t)=>(0,d.take)(e,{CancellationReasons:c(r=>vY(r,t),"CancellationReasons"),Message:d.expectString}),"de_TransactionCanceledException"),AX=c((e,t)=>(0,d.take)(e,{ConsumedCapacity:c(r=>$o(r,t),"ConsumedCapacity"),ItemCollectionMetrics:c(r=>MO(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),PX=c((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:c(r=>DO(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),RX=c((e,t)=>(0,d.take)(e,{GlobalTableDescription:c(r=>Jh(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),NX=c((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:c(r=>BO(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),OX=c((e,t)=>(0,d.take)(e,{Attributes:c(r=>Kt(r,t),"Attributes"),ConsumedCapacity:c(r=>nn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:c(r=>Sd(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),DX=c((e,t)=>(0,d.take)(e,{TableDescription:c(r=>Mo(r,t),"TableDescription")}),"de_UpdateTableOutput"),kX=c((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:c(r=>HO(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),$X=c((e,t)=>(0,d.take)(e,{DeleteRequest:c(r=>PY(r,t),"DeleteRequest"),PutRequest:c(r=>dX(r,t),"PutRequest")}),"de_WriteRequest"),MX=c((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$X(n,t)),"de_WriteRequests"),x=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),LX=(0,d.withBaseException)(X),F=c(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new qh.HttpRequest(u)},"buildHttpRpcRequest");function $(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}c($,"sharedHeaders");var Xh=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(TW).de(I9).build(){static{c(this,"DescribeEndpointsCommand")}},UX=KR(),aN=js(),FX=c(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),BX=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),jX=c((e,t)=>{let r=Object.assign((0,aN.getAwsRegionExtensionConfiguration)(e),(0,d.getDefaultExtensionConfiguration)(e),(0,qh.getHttpHandlerExtensionConfiguration)(e),FX(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,aN.resolveAwsRegionExtensionConfiguration)(r),(0,d.resolveDefaultRuntimeConfig)(r),(0,qh.resolveHttpHandlerRuntimeConfig)(r),BX(r))},"resolveRuntimeExtensions"),on=class extends d.Client{static{c(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,UX.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=v7(t),n=(0,g7.resolveAccountIdEndpointModeConfig)(r),o=(0,nN.resolveUserAgentConfig)(n),s=(0,oN.resolveRetryConfig)(o),i=(0,b7.resolveRegionConfig)(s),a=(0,rN.resolveHostHeaderConfig)(i),l=(0,k.resolveEndpointConfig)(a),u=(0,sN.resolveHttpAuthSchemeConfig)(l),p=(0,y7.resolveEndpointDiscoveryConfig)(u,{endpointDiscoveryCommandCtor:Xh}),m=jX(p,e?.extensions||[]);this.config=m,this.middlewareStack.use((0,nN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,oN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,S7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,rN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,E7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Vh.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:sN.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async f=>new Vh.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Vh.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},zO=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(uW).de(f9).build(){static{c(this,"BatchExecuteStatementCommand")}},VO=class extends d.Command.classBuilder().ep({...L,ResourceArnList:{type:"operationContextParams",get:c(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(pW).de(h9).build(){static{c(this,"BatchGetItemCommand")}},qO=class extends d.Command.classBuilder().ep({...L,ResourceArnList:{type:"operationContextParams",get:c(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(mW).de(g9).build(){static{c(this,"BatchWriteItemCommand")}},GO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(fW).de(y9).build(){static{c(this,"CreateBackupCommand")}},WO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(hW).de(_9).build(){static{c(this,"CreateGlobalTableCommand")}},KO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(gW).de(E9).build(){static{c(this,"CreateTableCommand")}},JO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(yW).de(b9).build(){static{c(this,"DeleteBackupCommand")}},YO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(_W).de(S9).build(){static{c(this,"DeleteItemCommand")}},XO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(EW).de(v9).build(){static{c(this,"DeleteResourcePolicyCommand")}},QO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(bW).de(C9).build(){static{c(this,"DeleteTableCommand")}},ZO=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(SW).de(T9).build(){static{c(this,"DescribeBackupCommand")}},eD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(vW).de(w9).build(){static{c(this,"DescribeContinuousBackupsCommand")}},tD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(CW).de(x9).build(){static{c(this,"DescribeContributorInsightsCommand")}},rD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(wW).de(A9).build(){static{c(this,"DescribeExportCommand")}},nD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(xW).de(P9).build(){static{c(this,"DescribeGlobalTableCommand")}},oD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(IW).de(R9).build(){static{c(this,"DescribeGlobalTableSettingsCommand")}},sD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(AW).de(N9).build(){static{c(this,"DescribeImportCommand")}},iD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(PW).de(O9).build(){static{c(this,"DescribeKinesisStreamingDestinationCommand")}},aD=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(RW).de(D9).build(){static{c(this,"DescribeLimitsCommand")}},Cd=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(NW).de(k9).build(){static{c(this,"DescribeTableCommand")}},cD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(OW).de($9).build(){static{c(this,"DescribeTableReplicaAutoScalingCommand")}},lD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(DW).de(M9).build(){static{c(this,"DescribeTimeToLiveCommand")}},dD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(kW).de(L9).build(){static{c(this,"DisableKinesisStreamingDestinationCommand")}},uD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser($W).de(U9).build(){static{c(this,"EnableKinesisStreamingDestinationCommand")}},pD=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(MW).de(F9).build(){static{c(this,"ExecuteStatementCommand")}},mD=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(LW).de(B9).build(){static{c(this,"ExecuteTransactionCommand")}},fD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(UW).de(j9).build(){static{c(this,"ExportTableToPointInTimeCommand")}},hD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(FW).de(H9).build(){static{c(this,"GetItemCommand")}},gD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(BW).de(z9).build(){static{c(this,"GetResourcePolicyCommand")}},yD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"operationContextParams",get:c(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(jW).de(V9).build(){static{c(this,"ImportTableCommand")}},_D=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(HW).de(q9).build(){static{c(this,"ListBackupsCommand")}},Qh=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(zW).de(G9).build(){static{c(this,"ListContributorInsightsCommand")}},Zh=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(VW).de(W9).build(){static{c(this,"ListExportsCommand")}},ED=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(qW).de(K9).build(){static{c(this,"ListGlobalTablesCommand")}},eg=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(GW).de(J9).build(){static{c(this,"ListImportsCommand")}},tg=class extends d.Command.classBuilder().ep(L).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(WW).de(Y9).build(){static{c(this,"ListTablesCommand")}},bD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(KW).de(X9).build(){static{c(this,"ListTagsOfResourceCommand")}},SD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(JW).de(Q9).build(){static{c(this,"PutItemCommand")}},vD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(YW).de(Z9).build(){static{c(this,"PutResourcePolicyCommand")}},rg=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(XW).de(eK).build(){static{c(this,"QueryCommand")}},CD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(QW).de(tK).build(){static{c(this,"RestoreTableFromBackupCommand")}},TD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(ZW).de(rK).build(){static{c(this,"RestoreTableToPointInTimeCommand")}},ng=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(e9).de(nK).build(){static{c(this,"ScanCommand")}},wD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(t9).de(oK).build(){static{c(this,"TagResourceCommand")}},xD=class extends d.Command.classBuilder().ep({...L,ResourceArnList:{type:"operationContextParams",get:c(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(r9).de(sK).build(){static{c(this,"TransactGetItemsCommand")}},ID=class extends d.Command.classBuilder().ep({...L,ResourceArnList:{type:"operationContextParams",get:c(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(n9).de(iK).build(){static{c(this,"TransactWriteItemsCommand")}},AD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(o9).de(aK).build(){static{c(this,"UntagResourceCommand")}},PD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(s9).de(cK).build(){static{c(this,"UpdateContinuousBackupsCommand")}},RD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(i9).de(lK).build(){static{c(this,"UpdateContributorInsightsCommand")}},ND=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(a9).de(dK).build(){static{c(this,"UpdateGlobalTableCommand")}},OD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(c9).de(uK).build(){static{c(this,"UpdateGlobalTableSettingsCommand")}},DD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(l9).de(pK).build(){static{c(this,"UpdateItemCommand")}},kD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(d9).de(mK).build(){static{c(this,"UpdateKinesisStreamingDestinationCommand")}},$D=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(u9).de(fK).build(){static{c(this,"UpdateTableCommand")}},MD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(p9).de(hK).build(){static{c(this,"UpdateTableReplicaAutoScalingCommand")}},LD=class extends d.Command.classBuilder().ep({...L,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,k.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(m9).de(gK).build(){static{c(this,"UpdateTimeToLiveCommand")}},HX={BatchExecuteStatementCommand:zO,BatchGetItemCommand:VO,BatchWriteItemCommand:qO,CreateBackupCommand:GO,CreateGlobalTableCommand:WO,CreateTableCommand:KO,DeleteBackupCommand:JO,DeleteItemCommand:YO,DeleteResourcePolicyCommand:XO,DeleteTableCommand:QO,DescribeBackupCommand:ZO,DescribeContinuousBackupsCommand:eD,DescribeContributorInsightsCommand:tD,DescribeEndpointsCommand:Xh,DescribeExportCommand:rD,DescribeGlobalTableCommand:nD,DescribeGlobalTableSettingsCommand:oD,DescribeImportCommand:sD,DescribeKinesisStreamingDestinationCommand:iD,DescribeLimitsCommand:aD,DescribeTableCommand:Cd,DescribeTableReplicaAutoScalingCommand:cD,DescribeTimeToLiveCommand:lD,DisableKinesisStreamingDestinationCommand:dD,EnableKinesisStreamingDestinationCommand:uD,ExecuteStatementCommand:pD,ExecuteTransactionCommand:mD,ExportTableToPointInTimeCommand:fD,GetItemCommand:hD,GetResourcePolicyCommand:gD,ImportTableCommand:yD,ListBackupsCommand:_D,ListContributorInsightsCommand:Qh,ListExportsCommand:Zh,ListGlobalTablesCommand:ED,ListImportsCommand:eg,ListTablesCommand:tg,ListTagsOfResourceCommand:bD,PutItemCommand:SD,PutResourcePolicyCommand:vD,QueryCommand:rg,RestoreTableFromBackupCommand:CD,RestoreTableToPointInTimeCommand:TD,ScanCommand:ng,TagResourceCommand:wD,TransactGetItemsCommand:xD,TransactWriteItemsCommand:ID,UntagResourceCommand:AD,UpdateContinuousBackupsCommand:PD,UpdateContributorInsightsCommand:RD,UpdateGlobalTableCommand:ND,UpdateGlobalTableSettingsCommand:OD,UpdateItemCommand:DD,UpdateKinesisStreamingDestinationCommand:kD,UpdateTableCommand:$D,UpdateTableReplicaAutoScalingCommand:MD,UpdateTimeToLiveCommand:LD},UD=class extends on{static{c(this,"DynamoDB")}};(0,d.createAggregatedClient)(HX,UD);var zX=(Ee(),G(at)),VX=(0,zX.createPaginator)(on,Qh,"NextToken","NextToken","MaxResults"),qX=(Ee(),G(at)),GX=(0,qX.createPaginator)(on,Zh,"NextToken","NextToken","MaxResults"),WX=(Ee(),G(at)),KX=(0,WX.createPaginator)(on,eg,"NextToken","NextToken","PageSize"),JX=(Ee(),G(at)),YX=(0,JX.createPaginator)(on,tg,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),XX=(Ee(),G(at)),QX=(0,XX.createPaginator)(on,rg,"ExclusiveStartKey","LastEvaluatedKey","Limit"),ZX=(Ee(),G(at)),eQ=(0,ZX.createPaginator)(on,ng,"ExclusiveStartKey","LastEvaluatedKey","Limit"),wt=tN(),FD=c(async(e,t)=>{let r;try{let n=await e.send(new Cd(t));r=n;try{if(c(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:wt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:wt.WaiterState.RETRY,reason:r}}return{state:wt.WaiterState.RETRY,reason:r}},"checkState"),tQ=c(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,wt.createWaiter)({...r,...e},t,FD)},"waitForTableExists"),rQ=c(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,wt.createWaiter)({...r,...e},t,FD);return(0,wt.checkExceptions)(n)},"waitUntilTableExists"),BD=c(async(e,t)=>{let r;try{r=await e.send(new Cd(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:wt.WaiterState.SUCCESS,reason:r}}return{state:wt.WaiterState.RETRY,reason:r}},"checkState"),nQ=c(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,wt.createWaiter)({...r,...e},t,BD)},"waitForTableNotExists"),oQ=c(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,wt.createWaiter)({...r,...e},t,BD);return(0,wt.checkExceptions)(n)},"waitUntilTableNotExists")});var Id=T((iue,tk)=>{"use strict";var wd=Object.defineProperty,sQ=Object.getOwnPropertyDescriptor,iQ=Object.getOwnPropertyNames,aQ=Object.prototype.hasOwnProperty,ye=(e,t)=>wd(e,"name",{value:t,configurable:!0}),cQ=(e,t)=>{for(var r in t)wd(e,r,{get:t[r],enumerable:!0})},lQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iQ(t))!aQ.call(e,o)&&o!==r&&wd(e,o,{get:()=>t[o],enumerable:!(n=sQ(t,o))||n.enumerable});return e},dQ=e=>lQ(wd({},"__esModule",{value:!0}),e),WD={};cQ(WD,{NumberValueImpl:()=>xd,convertToAttr:()=>Ti,convertToNative:()=>Ci,marshall:()=>ek,unmarshall:()=>gQ});tk.exports=dQ(WD);var xd=class KD{static{ye(this,"NumberValue")}value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new KD(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Ti=ye((e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Td();if(Array.isArray(e))return uQ(e,t);if(e?.constructor?.name==="Set")return pQ(e,t);if(e?.constructor?.name==="Map")return mQ(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return HD(e,t);if(ZD(e))return e.length===0&&t?.convertEmptyValues?Td():JD(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return QD(e,t);if(e instanceof xd)return e.toAttributeValue();if(typeof e=="bigint")return XD(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?Td():YD(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return HD(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),uQ=ye((e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>Ti(r,t))}),"convertToListAttr"),pQ=ye((e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return Td();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof xd)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>QD(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(XD).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(YD).map(o=>o.S)};if(ZD(n))return{BS:Array.from(r).map(JD).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),mQ=ye((e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ti(s,t));return n})(e)}),"convertToMapAttrFromIterable"),HD=ye((e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ti(s,t))}return n})(e)}),"convertToMapAttrFromEnumerableProps"),Td=ye(()=>({NULL:!0}),"convertToNullAttr"),JD=ye(e=>({B:e}),"convertToBinaryAttr"),YD=ye(e=>({S:e.toString()}),"convertToStringAttr"),XD=ye(e=>({N:e.toString()}),"convertToBigIntAttr"),zD=ye(e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},"validateBigIntAndThrow"),QD=ye((e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?zD(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&zD(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},"convertToNumberAttr"),ZD=ye(e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},"isBinary"),Ci=ye((e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return VD(n,t);case"B":return GD(n);case"S":return qD(n);case"L":return fQ(n,t);case"M":return hQ(n,t);case"NS":return new Set(n.map(o=>VD(o,t)));case"BS":return new Set(n.map(GD));case"SS":return new Set(n.map(qD));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},"convertToNative"),VD=ye((e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return xd.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),qD=ye(e=>e,"convertString"),GD=ye(e=>e,"convertBinary"),fQ=ye((e,t)=>e.map(r=>Ci(r,t)),"convertList"),hQ=ye((e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=Ci(o,t),r),{}),"convertMap");function ek(e,t){let r=Ti(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}ye(ek,"marshall");var gQ=ye((e,t)=>t?.convertWithoutMapWrapper?Ci(e,t):Ci({M:e},t),"unmarshall")});var EQ={};ot(EQ,{default:()=>ak});module.exports=G(EQ);var v=require("@raycast/api");var z=b(require("react")),ie=require("@raycast/api");var ag=Object.prototype.hasOwnProperty;function Ai(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Ai(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(ag.call(e,r)&&++n&&!ag.call(t,r)||!(r in t)||!Ai(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var sn=b(require("node:fs")),Ri=b(require("node:path")),gg=b(require("node:crypto")),yg=b(require("node:child_process")),_g=require("node:buffer"),Bn=b(require("node:stream")),Eg=require("node:util");var bg=require("react/jsx-runtime");var Ld=globalThis;function fk(e){let t=(0,z.useRef)(e),r=(0,z.useRef)(0);return Ai(e,t.current)||(t.current=e,r.current+=1),(0,z.useMemo)(()=>t.current,[r.current])}function Ne(e){let t=(0,z.useRef)(e);return t.current=e,t}function hk(e,t){let r=e instanceof Error?e.message:String(e);return(0,ie.showToast)({style:ie.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??cg(e),secondaryAction:t?.primaryAction?cg(e):void 0})}var cg=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,sn.readFileSync)((0,Ri.join)(ie.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let o=ie.environment.isDevelopment||t,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:o?"Copy Logs":"Report Error",onAction(i){i.hide(),o?ie.Clipboard.copy(s):(0,ie.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function qd(e,t,r){let n=(0,z.useRef)(0),[o,s]=(0,z.useState)({isLoading:!0}),i=Ne(e),a=Ne(r?.abortable),l=Ne(t||[]),u=Ne(r?.onError),p=Ne(r?.onData),m=Ne(r?.onWillExecute),f=Ne(r?.failureToastOptions),h=Ne(o.data),g=(0,z.useRef)(null),y=(0,z.useRef)({page:0}),E=(0,z.useRef)(!1),S=(0,z.useRef)(!0),C=(0,z.useRef)(50),I=(0,z.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),A=(0,z.useCallback)((...fe)=>{let Re=I();m.current?.(fe),s(oe=>({...oe,isLoading:!0}));let gr=gk(i.current)(...fe);function yr(oe){return oe.name=="AbortError"||Re===n.current&&(u.current?u.current(oe):ie.environment.launchType!==ie.LaunchType.Background&&hk(oe,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(Jt){Jt.hide(),g.current?.(...l.current||[])}},...f.current}),s({error:oe,isLoading:!1})),oe}return typeof gr=="function"?(E.current=!0,gr(y.current).then(({data:oe,hasMore:Jt,cursor:$d})=>(Re===n.current&&(y.current&&(y.current.cursor=$d,y.current.lastItem=oe?.[oe.length-1]),p.current&&p.current(oe,y.current),Jt&&(C.current=oe.length),S.current=Jt,s(Md=>y.current.page===0?{data:oe,isLoading:!1}:{data:(Md.data||[])?.concat(oe),isLoading:!1})),oe),oe=>(S.current=!1,yr(oe)))):(E.current=!1,gr.then(oe=>(Re===n.current&&(p.current&&p.current(oe),s({data:oe,isLoading:!1})),oe),yr))},[p,u,l,i,s,g,m,y,f,I]);g.current=A;let R=(0,z.useCallback)(()=>{y.current={page:0};let fe=l.current||[];return A(...fe)},[A,l]),H=(0,z.useCallback)(async(fe,Re)=>{let gr;try{if(Re?.optimisticUpdate){I(),typeof Re?.rollbackOnError!="function"&&Re?.rollbackOnError!==!1&&(gr=structuredClone(h.current?.value));let yr=Re.optimisticUpdate;s(oe=>({...oe,data:yr(oe.data)}))}return await fe}catch(yr){if(typeof Re?.rollbackOnError=="function"){let oe=Re.rollbackOnError;s(Jt=>({...Jt,data:oe(Jt.data)}))}else Re?.optimisticUpdate&&Re?.rollbackOnError!==!1&&s(oe=>({...oe,data:gr}));throw yr}finally{Re?.shouldRevalidateAfter!==!1&&(ie.environment.launchType===ie.LaunchType.Background||ie.environment.commandMode==="menu-bar"?await R():R())}},[R,h,s,I]),Be=(0,z.useCallback)(()=>{y.current.page+=1;let fe=l.current||[];A(...fe)},[y,l,A]);(0,z.useEffect)(()=>{y.current={page:0},r?.execute!==!1?A(...t||[]):I()},[fk([t,r?.execute,A]),a,y]),(0,z.useEffect)(()=>()=>{I()},[I]);let le=r?.execute!==!1?o.isLoading:!1,we={...o,isLoading:le},de=E.current?{pageSize:C.current,hasMore:S.current,onLoadMore:Be}:void 0;return{...we,revalidate:R,mutate:H,pagination:de}}function gk(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function lg(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function yk(e){return e instanceof URLSearchParams?e.toString():e}function Sg(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=yk(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let o=/\[object (.*)\]/i,s=Object.prototype.toString.call(n),i=o.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let l=Object.keys(n);l=l.sort(),lg(n)||l.splice(0,0,"prototype","__proto__","constructor"),r("object:"+l.length+":");let u=this;return l.forEach(function(p){u.dispatch(p),r(":"),u.dispatch(n[p]),r(",")})}},_array:function(n,o){o=typeof o<"u"?o:!1;let s=this;if(r("array:"+n.length+":"),!o||n.length<=1){n.forEach(function(l){s.dispatch(l)});return}let i=[],a=n.map(function(l){let u=_k(),p=t.slice();return Sg(u,p).dispatch(l),i=i.concat(p.slice(t.length)),u.read().toString()});t=t.concat(i),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),lg(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let o=Array.from(n);this._array(o,!0)},_set:function(n){r("set:");let o=Array.from(n);this._array(o,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function _k(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Ek(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function bk(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function dg(e){let t=gg.default.createHash("sha1");return Sg(t).dispatch(e),t.digest("hex")}var Sk=Symbol("cache without namespace"),ug=new Map;function _r(e,t,r){let n=r?.cacheNamespace||Sk,o=ug.get(n)||ug.set(n,new ie.Cache({namespace:r?.cacheNamespace})).get(n);if(!o)throw new Error("Missing cache");let s=Ne(e),i=Ne(t),a=(0,z.useSyncExternalStore)(o.subscribe,()=>{try{return o.get(s.current)}catch(m){console.error("Could not get Cache data:",m);return}}),l=(0,z.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,bk)}catch(m){return console.warn("The cached data is corrupted",m),i.current}}else return i.current},[a,i]),u=Ne(l),p=(0,z.useCallback)(m=>{let f=typeof m=="function"?m(u.current):m;if(typeof f>"u")o.set(s.current,"undefined");else{let h=JSON.stringify(f,Ek);o.set(s.current,h)}return f},[o,s,u]);return[l,p]}var Fn=Symbol();function jn(e,t,r){let{initialData:n,keepPreviousData:o,internal_cacheKeySuffix:s,...i}=r||{},a=(0,z.useRef)(null),[l,u]=_r(dg(t||[])+s,Fn,{cacheNamespace:dg(e)}),p=(0,z.useRef)(l!==Fn?l:n),m=(0,z.useRef)(void 0),{mutate:f,revalidate:h,...g}=qd(e,t||[],{...i,onData(I,A){m.current=A,i.onData&&i.onData(I,A),!(A&&A.page>0)&&(a.current="promise",p.current=I,u(I))}}),y,E=g.pagination;m.current&&m.current.page>0&&g.data?y=g.data:a.current==="promise"?y=p.current:o&&l!==Fn?(y=l,E&&(E.hasMore=!0,E.pageSize=l.length)):o&&l===Fn?y=p.current:l!==Fn?(y=l,E&&(E.hasMore=!0,E.pageSize=l.length)):y=n;let S=Ne(y),C=(0,z.useCallback)(async(I,A)=>{let R;try{if(A?.optimisticUpdate){typeof A?.rollbackOnError!="function"&&A?.rollbackOnError!==!1&&(R=structuredClone(S.current));let H=A.optimisticUpdate(S.current);a.current="cache",p.current=H,u(H)}return await f(I,{shouldRevalidateAfter:A?.shouldRevalidateAfter})}catch(H){if(typeof A?.rollbackOnError=="function"){let Be=A.rollbackOnError(S.current);a.current="cache",p.current=Be,u(Be)}else A?.optimisticUpdate&&A?.rollbackOnError!==!1&&(a.current="cache",p.current=R,u(R));throw H}},[u,f,S,p,a]);return(0,z.useEffect)(()=>{l!==Fn&&(a.current="cache",p.current=l)},[l]),{data:y,isLoading:g.isLoading,error:g.error,mutate:m.current&&m.current.page>0?f:C,pagination:E,revalidate:h}}var Pi=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Ud=Symbol.for("signal-exit emitter"),jd=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ld[Ud])return Ld[Ud];Object.defineProperty(Ld,Ud,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let s of this.listeners[t])o=s(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},Hd=class{onExit(){return()=>{}}load(){}unload(){}},zd=class{#a;#t;#e;#s;#i;#o;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new jd,this.#o={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#o={};for(let r of this.#r)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#t,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#s=t.emit}onExit(t,r){if(!Pi(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#l(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(t){return Pi(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(t,...r){let n=this.#s;if(t==="exit"&&Pi(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},Fd=null,vk=(e,t)=>(Fd||(Fd=Pi(process)?new zd(process):new Hd),Fd.onExit(e,t));function Ck(e,{timeout:t}={}){let r=new Promise((a,l)=>{e.on("exit",(u,p)=>{a({exitCode:u,signal:p,timedOut:!1})}),e.on("error",u=>{l(u)}),e.stdin&&e.stdin.on("error",u=>{l(u)})}),n=vk(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let o,s=new Promise((a,l)=>{o=setTimeout(()=>{e.kill("SIGTERM"),l(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(o)});return Promise.race([s,i]).finally(()=>n())}var Vd=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function Tk(e){let{encoding:t}=e,r=t==="buffer",n=new Bn.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let o=0,s=[];return n.on("data",i=>{s.push(i),o+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(s,o):s.join(""),n.getBufferedLength=()=>o,n}async function pg(e,t){let r=Tk(t);return await new Promise((n,o)=>{let s=i=>{i&&r.getBufferedLength()<=_g.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),o(i)};(async()=>{try{await(0,Eg.promisify)(Bn.default.pipeline)(e,r),n()}catch(i){s(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&s(new Vd)})}),r.getBufferedValue()}async function mg(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function wk({stdout:e,stderr:t},{encoding:r},n){let o=pg(e,{encoding:r}),s=pg(t,{encoding:r});try{return await Promise.all([n,o,s])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},mg(e,o),mg(t,s)])}}function xk(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function fg(e,t){return e.stripFinalNewline?xk(t):t}function Ik({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Ak({stdout:e,stderr:t,error:r,signal:n,exitCode:o,command:s,timedOut:i,options:a,parentError:l}){let p=`Command ${Ik({timedOut:i,timeout:a?.timeout,signal:n,exitCode:o})}: ${s}`,m=r?`${p}
${r.message}`:p,f=[m,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=l,r.message=f,r.shortMessage=m,r.command=s,r.exitCode=o,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function Pk({stdout:e,stderr:t,error:r,exitCode:n,signal:o,timedOut:s,command:i,options:a,parentError:l}){if(r||n!==0||o!==null)throw Ak({error:r,exitCode:n,signal:o,stdout:e,stderr:t,command:i,timedOut:s,options:a,parentError:l});return e}var Rk=/ +/g;function Nk(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(Rk)){let o=r[r.length-1];o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r}function Gd(e,t,r){let{parseOutput:n,input:o,onData:s,onWillExecute:i,initialData:a,execute:l,keepPreviousData:u,onError:p,failureToastOptions:m,...f}=Array.isArray(t)?r||{}:t||{},h={initialData:a,execute:l,keepPreviousData:u,onError:p,onData:s,onWillExecute:i,failureToastOptions:m},g=(0,z.useRef)(null),y=Ne(n||Pk),E=(0,z.useCallback)(async(S,C,I,A)=>{let[R,...H]=Nk(S,C),Be=[R,...H].join(" "),le={stripFinalNewline:!0,...I,timeout:I?.timeout||1e4,signal:g.current?.signal,encoding:I?.encoding===null?"buffer":I?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...I?.env}},we=yg.default.spawn(R,H,le),de=Ck(we,le);A&&we.stdin.end(A);let[{error:fe,exitCode:Re,signal:gr,timedOut:yr},oe,Jt]=await wk(we,le,de),$d=fg(le,oe),Md=fg(le,Jt);return y.current({stdout:$d,stderr:Md,error:fe,exitCode:Re,signal:gr,timedOut:yr,command:Be,options:le,parentError:new Error})},[y]);return jn(E,[e,Array.isArray(t)?t:[],f,o],{...h,abortable:g})}var Uo=(function(e){return e.Required="required",e})({});function Bd(e,t){if(e){if(typeof e=="function")return e(t);if(e==="required"){let r=typeof t<"u"&&t!==null;if(r)switch(typeof t){case"string":r=t.length>0;break;case"object":Array.isArray(t)?r=t.length>0:t instanceof Date&&(r=t.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function Hn(e){let{onSubmit:t,validation:r,initialValues:n={}}=e,[o,s]=(0,z.useState)(n),[i,a]=(0,z.useState)({}),l=(0,z.useRef)({}),u=Ne(r||{}),p=Ne(t),m=(0,z.useCallback)(S=>{l.current[S]?.focus()},[l]),f=(0,z.useCallback)(async S=>{let C=!1;for(let[A,R]of Object.entries(u.current)){let H=Bd(R,S[A]);H&&(C||(C={},m(A)),C[A]=H)}if(C)return a(C),!1;let I=await p.current(S);return typeof I=="boolean"?I:!0},[u,p,m]),h=(0,z.useCallback)((S,C)=>{a(I=>({...I,[S]:C}))},[a]),g=(0,z.useCallback)(function(S,C){s(I=>({...I,[S]:typeof C=="function"?C(I[S]):C}))},[s]),y=(0,z.useMemo)(()=>new Proxy({},{get(S,C){let I=u.current[C],A=o[C];return{onChange(R){i[C]&&(Bd(I,R)||h(C,void 0)),g(C,R)},onBlur(R){let H=Bd(I,R.target.value);H&&h(C,H)},error:i[C],id:C,value:typeof A>"u"?null:A,ref:R=>{l.current[C]=R}}}}),[i,u,h,o,l,g]),E=(0,z.useCallback)(S=>{a({}),Object.entries(l.current).forEach(([C,I])=>{S?.[C]||I?.reset()}),S&&s(S)},[s,a,l]);return{handleSubmit:f,setValidationError:h,setValue:g,values:o,itemProps:y,focus:m,reset:E}}var Ok=10,hg=864e5,Dk={Default:100,Embed:0,Bookmark:140};function kk(e){let t=Date.now(),r=e?e.lastVisited:0,n=e?e.frecency:0,o=(t-r)/hg,s=Math.log(2)/(Ok*hg),i=Dk.Default*Math.exp(-s*o),a=n+i;return{lastVisited:t,frecency:a}}var $k=e=>{if(process.env.NODE_ENV!=="production"&&(typeof e!="object"||!e||!("id"in e)||typeof e.id!="string"))throw new Error("Specify a key function or make sure your items have an 'id' property");return e.id};function vg(e,t){let r=Ne(t?.key||$k),n=Ne(t?.sortUnvisited),[o,s]=_r(`raycast_frecency_${t?.namespace}`,{}),i=(0,z.useCallback)(async function(p){let m=r.current(p);s(f=>{let h=f[m],g=kk(h);return{...f,[m]:g}})},[r,s]),a=(0,z.useCallback)(async function(p){let m=r.current(p);s(f=>{let h={...f};return delete h[m],h})},[r,s]);return{data:(0,z.useMemo)(()=>e?e.sort((u,p)=>{let m=o[r.current(u)],f=o[r.current(p)];return m&&!f?-1:!m&&f?1:m&&f?f.frecency-m.frecency:n.current?n.current(u,p):0}):[],[o,e,r,n]),visitItem:i,resetRanking:a}}var br=require("@raycast/api"),qi=require("react"),Gi=b(py());var nu=require("react/jsx-runtime");function ou({onProfileSelected:e}){let t=(0,br.getPreferenceValues)(),[r,n]=_r("aws_profile"),o=I1();(0,qi.useEffect)(()=>{let a=r&&!o.some(l=>l.name===r);(!r||a)&&n(o[0]?.name)},[o]);let{isUsingAwsVault:s,vaultSessions:i}=x1({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:o,onProfileSelected:e});return(0,qi.useEffect)(()=>{if(r&&!s?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=o.find(l=>l.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}i?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,s]),!o||o.length<2?null:(0,nu.jsx)(br.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:o.map(a=>(0,nu.jsx)(br.List.Dropdown.Item,{value:a.name,title:a.name,icon:s?i?.some(l=>l===a.name)?br.Icon.LockUnlocked:br.Icon.LockDisabled:void 0},a.name))})}var w1=e=>{let{data:t}=Gd("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(A1).map(o=>o.split(" ")[0]),n=e.filter(o=>o.source_profile&&r?.includes(o.source_profile)).map(o=>o.name);return r&&[...r,...n]},x1=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let o=w1(r),s=!!o,i=s&&o?.includes(t||"")?t:void 0,{revalidate:a}=Gd("aws-vault",["exec",i,"--json"],{execute:!!i,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:l=>{if(l){let{AccessKeyId:u,SecretAccessKey:p,SessionToken:m}=JSON.parse(l);process.env.AWS_VAULT=i,process.env.AWS_ACCESS_KEY_ID=u,process.env.AWS_SECRET_ACCESS_KEY=p,process.env.AWS_SESSION_TOKEN=m,n?.()}}});return(0,qi.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[i]),{isUsingAwsVault:s,vaultSessions:o}},I1=()=>{let{data:e={configFile:{},credentialsFile:{}}}=jn(Gi.loadSharedConfigFiles),{data:t={}}=jn(Gi.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([s,i])=>{let a=r[s]?.include_profile,l=r[s]?.region||a&&r[a]?.region,u=r[s]?.sso_start_url||r[s]?.sso_session&&t[r[s].sso_session]?.sso_start_url,p=r[s]?.sso_account_id||a&&r[a]?.sso_account_id,m=r[s]?.sso_role_name||a&&r[a]?.sso_role_name;return{...i,region:l,name:s,sso_start_url:u,sso_account_id:p,sso_role_name:m}})},A1=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var Ze="https://console.aws.amazon.com";function my(){let e=!!process.env.AWS_PROFILE,t=!!process.env.AWS_VAULT;return e||t}function fy(e,t,r=void 0){let{AWS_REGION:n}=process.env;if(!e)return"";switch(t){case"AWS::SSM::Parameter":return`${Ze}/systems-manager/parameters/${e}/description?region=${n}`;case"AWS::SecretsManager::Secret":return`https://${n}.console.aws.amazon.com/secretsmanager/secret?name=${encodeURI(e)}&region=${n}`;case"AWS::EC2::Instance":return`${Ze}/ec2/v2/home?region=${n}#InstanceDetails:instanceId=${e}`;case"AWS::Logs::LogGroup":return`${Ze}/cloudwatch/home?region=${n}#logsV2:log-groups/log-group/${encodeURIComponent(e)}`;case"AWS::CloudFormation::Stack":return`${Ze}/cloudformation/home?region=${n}#/stacks/stackinfo?stackId=${e}`;case"AWS::Lambda::Function":return`${Ze}/lambda/home?region=${n}#/functions/${e}?tab=monitoring`;case"AWS::Glue::JobRun":return`${Ze}/gluestudio/home?region=eu-central-1#/job/${e}/run/${r}`;case"AWS::Glue::JobRuns":return`${Ze}/gluestudio/home?region=eu-central-1#/editor/job/${e}/runs`;case"AWS::CodePipeline::Pipeline":return`${Ze}/codesuite/codepipeline/pipelines/${e}/view?region=${n}`;case"AWS::S3::Bucket":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}`;case"AWS::S3::Object":{let[o,...s]=e.split("/");return`https://s3.console.aws.amazon.com/s3/object/${o}?&prefix=${s.join("/")}`}case"AWS::S3::BucketPolicy":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}&tab=permissions`;case"AWS::SQS::Queue":return`${Ze}/sqs/v2/home?region=${n}#/queues/${encodeURIComponent(e)}`;case"AWS::SNS::Topic":return`${Ze}/sns/v3/home?region=${n}#/topic/${e}`;case"AWS::DynamoDB::Table":return`${Ze}/dynamodb/home?region=${n}#tables:selected=${e}`;case"AWS::StepFunctions::StateMachine":return`${Ze}/states/home?region=${n}#/statemachines/view/${e}`;case"AWS::Amplify::App":return`https://${n}.console.aws.amazon.com/amplify/home?region=${n}#/apps/${e}`;case"AWS::Amplify::Branch":{let o=e.split("/branches/"),s=o[0],i=o[1]||"main";return`https://${n}.console.aws.amazon.com/amplify/apps/${s}/branches/${i}/deployments`}case"AWS::AppSync::GraphQLApi":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/home`;case"AWS::AppSync::GraphQLApi::Playground":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/queries`;case"AWS::AppSync::DataSource":{let o=e.split("/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/datasources/${i}/edit`}case"AWS::AppSync::Resolver":{let o=e.split("/"),s=o[0],i=o[1],a=o[2];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/schema/resolver/${i}/${a}`}case"AWS::AppSync::Schema":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/schema`;case"AWS::ApiGateway::RestApi":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/resources`;case"AWS::ApiGateway::RestApi::Documentation":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/documentation`;case"AWS::ApiGateway::Resource":{let o=e.split("/resources/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}`}case"AWS::ApiGateway::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/stages/${i}`}case"AWS::ApiGateway::ApiKey":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/api-keys/${e}`;case"AWS::ApiGateway::UsagePlan":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/usage-plans/${e}`;case"AWS::ApiGateway::Deployment":{let o=e.split("/deployments/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/deployments/${i}`}case"AWS::ApiGateway::Method":{let o=e.split("/"),s=o[0],i=o.slice(2,-2).join("/"),a=o[o.length-1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}/methods/${a}`}case"AWS::ApiGatewayV2::Api":return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${e}?region=${n}`;case"AWS::ApiGatewayV2::Route":{let o=e.split("/routes/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/routes/${i}?region=${n}`}case"AWS::ApiGatewayV2::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/stages/${i}?region=${n}`}default:return""}}var hy=e=>Object.fromEntries(Object.entries(e).sort(([t],[r])=>t.localeCompare(r))),st=e=>{if(e instanceof Error)try{let t=JSON.parse(e.message);if(t.errorMessages&&Array.isArray(t.errorMessages))return t.errorMessages[0]}catch{return e.message}return String(e)};var P1=e=>Object.keys(e).filter(t=>isNaN(Number(t))),gy=(e,t)=>P1(e).filter(r=>e[r]!==t);var Ke=require("@raycast/api");var Yt=require("react/jsx-runtime"),Wi=class{static Console=({url:t,onAction:r})=>(0,Yt.jsxs)(Ke.ActionPanel.Section,{title:"Console",children:[(0,Yt.jsx)(Ke.Action.OpenInBrowser,{title:"Open in Browser",url:yy(t),onOpen:()=>r?.()},"openConsoleLink"),(0,Yt.jsx)(Ke.Action.CopyToClipboard,{title:"Copy Link",content:yy(t),shortcut:Ke.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,Yt.jsx)(Ke.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let o=gy(n,r);return(0,Yt.jsx)(Ke.ActionPanel.Section,{children:(0,Yt.jsx)(Ke.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:Ke.Icon.Box,children:o.map(s=>(0,Yt.jsx)(Ke.Action,{title:`Show ${s.toString()}`,onAction:()=>t(n[s]),icon:Ke.Icon.Box},s.toString()))})})}};function yy(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var kd=b(Lo());var W=require("@raycast/api"),Pd=b(Lo()),Ad=b(Id());var Fe=require("react/jsx-runtime"),og=({table:e,mutate:t,retryInitValues:r})=>{let{pop:n,push:o}=(0,W.useNavigation)(),s=e.KeySchema?.some(p=>p.KeyType==="RANGE"),i=e.keys[`${e.TableName}`],{values:a,handleSubmit:l,itemProps:u}=Hn({onSubmit:async p=>(0,W.confirmAlert)({title:"Are you sure?",message:"This action cannot be undone.",icon:{source:W.Icon.Trash,tintColor:W.Color.Red},primaryAction:{title:"Delete",style:W.Alert.ActionStyle.Destructive,onAction:async()=>{let m={TableName:e.TableName,ReturnConsumedCapacity:"TOTAL",Key:(0,Ad.marshall)({[i.hashKey.name]:i.hashKey.type==="N"?Number(p.hashKey):p.hashKey,...s&&{[i.rangeKey.name]:i.rangeKey.type==="N"?Number(p.rangeKey):p.rangeKey}}),...p.useConditionExpression&&{ConditionExpression:p.conditionExpression},...p.useExpressionAttributeNames&&{ExpressionAttributeNames:JSON.parse(p.expressionAttributeNames)},...p.useExpressionAttributeValues&&{ExpressionAttributeValues:(0,Ad.marshall)(JSON.parse(p.expressionAttributeValues))}},f=await(0,W.showToast)({style:W.Toast.Style.Animated,title:`\u2757Deleting item in ${e.TableName}`});t(new Pd.DynamoDBClient({}).send(new Pd.DeleteItemCommand(m)),{optimisticUpdate:h=>{if(h)return h.map(g=>g.TableName!==e.TableName?g:{...g,ItemCount:Math.max((g.ItemCount??0)-1,0)})},shouldRevalidateAfter:!1}).then(({ConsumedCapacity:h})=>{f.style=W.Toast.Style.Success,f.title="\u2705 Item deleted",f.message=`Consumed capacity: ${h?.CapacityUnits}`}).catch(h=>{(0,W.captureException)(h),f.style=W.Toast.Style.Failure,f.title="Failed to delete item",f.message=st(h),f.primaryAction={title:"Retry",shortcut:W.Keyboard.Shortcut.Common.Refresh,onAction:()=>{o((0,Fe.jsx)(og,{table:e,mutate:t,retryInitValues:p})),f.hide()}},f.secondaryAction={title:"Copy Error",shortcut:W.Keyboard.Shortcut.Common.Copy,onAction:()=>{W.Clipboard.copy(st(h)),f.hide()}}}).finally(n)}}}),validation:{hashKey:p=>{if(!p||p.length<1)return"Hash Key must be provided";if(i.hashKey.type==="N"&&Number.isNaN(Number(p)))return"Hash Key must be a number"},rangeKey:p=>{if(s){if(!p||p.length<1)return"Range Key is required";if(i.rangeKey.type==="N"&&Number.isNaN(Number(p)))return"Range Key must be a number"}},conditionExpression:p=>{if(a.useConditionExpression&&(!p||p.length<1))return"Condition Expression is required (if checked)"},expressionAttributeNames:p=>{if(a.useExpressionAttributeNames){if(!p||p.length<2)return"Expression Attribute Names are required (if checked)";try{JSON.parse(p)}catch{return"Expression Attribute Names must be valid JSON"}}},expressionAttributeValues:p=>{if(a.useExpressionAttributeValues){if(!p||p.length<2)return"Expression Attribute Values are required (if checked)";try{let m=JSON.parse(p);(0,Ad.marshall)(m,{removeUndefinedValues:!0})}catch{return"Expression Attribute Values must be JSON that can be marshalled to DynamoDB"}}}},initialValues:r||{useConditionExpression:!1,useExpressionAttributeNames:!1,useExpressionAttributeValues:!1}});return(0,Fe.jsxs)(W.Form,{actions:(0,Fe.jsx)(W.ActionPanel,{children:(0,Fe.jsx)(W.Action.SubmitForm,{title:"Delete Item",icon:{source:W.Icon.Trash,tintColor:W.Color.Red},onSubmit:l})}),navigationTitle:"Delete Item",children:[(0,Fe.jsx)(W.Form.Description,{title:"\u2757",text:"This action cannot be undone."}),(0,Fe.jsx)(W.Form.Description,{title:"Table Name",text:`${e.TableName}`}),(0,Fe.jsx)(W.Form.Separator,{}),(0,Fe.jsx)(W.Form.TextField,{...u.hashKey,placeholder:"hash key for item...",title:i.hashKey.name}),s&&(0,Fe.jsx)(W.Form.TextField,{...u.rangeKey,placeholder:"range key for item...",title:i.rangeKey?.name}),(0,Fe.jsx)(W.Form.Checkbox,{...u.useConditionExpression,label:"Use Condition Expression"}),a.useConditionExpression&&(0,Fe.jsx)(W.Form.TextField,{...u.conditionExpression,placeholder:`attribute_exists(${i.hashKey.name})`,title:"Condition Expression"}),(0,Fe.jsx)(W.Form.Checkbox,{...u.useExpressionAttributeNames,label:"Use Expression Attribute Names"}),a.useExpressionAttributeNames&&(0,Fe.jsx)(W.Form.TextArea,{...u.expressionAttributeNames,placeholder:'{"#n": "name", "#v": "value"}',title:"Expression Attribute Names"}),(0,Fe.jsx)(W.Form.Checkbox,{...u.useExpressionAttributeValues,label:"Use Expression Attribute Values"}),a.useExpressionAttributeValues&&(0,Fe.jsx)(W.Form.TextArea,{...u.expressionAttributeValues,placeholder:'{":n": "testName", ":v": 1}',title:"Expression Attribute Values",info:"Don't use DynamoDB JSON values here. Use JSON that can be marshalled to DynamoDB."})]})};var Q=require("@raycast/api"),Nd=b(Lo()),Rd=b(Id());var Pe=require("react/jsx-runtime"),sg=({table:e,mutate:t,retryInitValues:r})=>{let{pop:n,push:o}=(0,Q.useNavigation)(),s=e.KeySchema?.some(p=>p.KeyType==="RANGE"),i=e.keys[`${e.TableName}`],{values:a,handleSubmit:l,itemProps:u}=Hn({onSubmit:async p=>{let m={TableName:e.TableName,ReturnConsumedCapacity:"TOTAL",UpdateExpression:p.updateExpression,Key:(0,Rd.marshall)({[i.hashKey.name]:i.hashKey.type==="N"?Number(p.hashKey):p.hashKey,...s&&{[i.rangeKey.name]:i.rangeKey.type==="N"?Number(p.rangeKey):p.rangeKey}}),...p.useConditionExpression&&{ConditionExpression:p.conditionExpression},...p.useExpressionAttributeNames&&{ExpressionAttributeNames:JSON.parse(p.expressionAttributeNames)},...p.useExpressionAttributeValues&&{ExpressionAttributeValues:(0,Rd.marshall)(JSON.parse(p.expressionAttributeValues))}},f=await(0,Q.showToast)({style:Q.Toast.Style.Animated,title:`\u{1F680} Updating item in table ${e.TableName}`});t(new Nd.DynamoDBClient({}).send(new Nd.UpdateItemCommand(m)),{optimisticUpdate:h=>{if(h)return h.map(g=>g.TableName!==e.TableName?g:{...g,ItemCount:(g.ItemCount??0)+1})},shouldRevalidateAfter:!1}).then(({ConsumedCapacity:h})=>{f.style=Q.Toast.Style.Success,f.title="\u2705 Item updated",f.message=`Consumed capacity: ${h?.CapacityUnits}`}).catch(h=>{(0,Q.captureException)(h),f.style=Q.Toast.Style.Failure,f.title="\u274C Failed to update item",f.message=st(h),f.primaryAction={title:"Retry",shortcut:Q.Keyboard.Shortcut.Common.Refresh,onAction:()=>{o((0,Pe.jsx)(sg,{table:e,mutate:t,retryInitValues:p})),f.hide()}},f.secondaryAction={title:"Copy Error",shortcut:Q.Keyboard.Shortcut.Common.Copy,onAction:()=>{Q.Clipboard.copy(st(h)),f.hide()}}}).finally(n)},validation:{hashKey:p=>{if(!p||p.length<1)return"Hash Key must be provided";if(i.hashKey.type==="N"&&Number.isNaN(Number(p)))return"Hash Key must be a number"},rangeKey:p=>{if(s){if(!p||p.length<1)return"Range Key is required";if(i.rangeKey.type==="N"&&Number.isNaN(Number(p)))return"Range Key must be a number"}},updateExpression:Uo.Required,conditionExpression:p=>{if(a.useConditionExpression&&(!p||p.length<1))return"Condition Expression is required (if checked)"},expressionAttributeNames:p=>{if(a.useExpressionAttributeNames){if(!p||p.length<2)return"Expression Attribute Names are required (if checked)";try{JSON.parse(p)}catch{return"Expression Attribute Names must be valid JSON"}}},expressionAttributeValues:p=>{if(a.useExpressionAttributeValues){if(!p||p.length<2)return"Expression Attribute Values are required (if checked)";try{let m=JSON.parse(p);(0,Rd.marshall)(m,{removeUndefinedValues:!0})}catch{return"Expression Attribute Values must be JSON that can be marshalled to DynamoDB"}}}},initialValues:r||{useConditionExpression:!1,useExpressionAttributeNames:!1,useExpressionAttributeValues:!1}});return(0,Pe.jsxs)(Q.Form,{actions:(0,Pe.jsx)(Q.ActionPanel,{children:(0,Pe.jsx)(Q.Action.SubmitForm,{title:"Update Item",icon:{source:Q.Icon.Trash,tintColor:Q.Color.Red},onSubmit:l})}),navigationTitle:"Update Item",children:[(0,Pe.jsx)(Q.Form.Description,{title:"\u2757",text:"This will replace an already existing item if appropriate condition expression is not used."}),(0,Pe.jsx)(Q.Form.Description,{title:"Table Name",text:`${e.TableName}`}),(0,Pe.jsx)(Q.Form.Separator,{}),(0,Pe.jsx)(Q.Form.TextField,{...u.hashKey,placeholder:"hash key for item...",title:i.hashKey.name}),s&&(0,Pe.jsx)(Q.Form.TextField,{...u.rangeKey,placeholder:"range key for item...",title:i.rangeKey?.name}),(0,Pe.jsx)(Q.Form.TextArea,{...u.updateExpression,placeholder:"SET #n = :n, #v = :v",title:"Update Expression"}),(0,Pe.jsx)(Q.Form.Checkbox,{...u.useConditionExpression,label:"Use Condition Expression"}),a.useConditionExpression&&(0,Pe.jsx)(Q.Form.TextField,{...u.conditionExpression,placeholder:`attribute_exists(${i.hashKey.name})`,title:"Condition Expression"}),(0,Pe.jsx)(Q.Form.Checkbox,{...u.useExpressionAttributeNames,label:"Use Expression Attribute Names"}),a.useExpressionAttributeNames&&(0,Pe.jsx)(Q.Form.TextArea,{...u.expressionAttributeNames,placeholder:'{"#n": "name", "#v": "value"}',title:"Expression Attribute Names"}),(0,Pe.jsx)(Q.Form.Checkbox,{...u.useExpressionAttributeValues,label:"Use Expression Attribute Values"}),a.useExpressionAttributeValues&&(0,Pe.jsx)(Q.Form.TextArea,{...u.expressionAttributeValues,placeholder:'{":n": "testName", ":v": 1}',title:"Expression Attribute Values",info:"Don't use DynamoDB JSON values here. Use JSON that can be marshalled to DynamoDB."})]})};var w=require("@raycast/api"),Od=b(Lo()),Dd=b(Id());var B=require("react/jsx-runtime"),nk=({table:e})=>{let[t,r]=_r("ddb-query-last-projection-expression","",{cacheNamespace:e.TableArn}),{push:n,pop:o}=(0,w.useNavigation)(),{values:s,handleSubmit:i,itemProps:a}=Hn({onSubmit:async l=>{let u=new Od.DynamoDBClient({}),p=e.keys[l.indexName].rangeKey!==void 0,m=e.keys[l.indexName],f={TableName:e.TableName,KeyConditionExpression:[`#${m.hashKey.name} = :${m.hashKey.name}`,...p&&l.rangeKey&&l.rangeKey.length>0?["and",l.rangeKeyOperator==="between"?`#${m.rangeKey.name} between :${m.rangeKey.name} and :${m.rangeKey.name}End`:l.rangeKeyOperator==="beginsWith"?`begins_with(#${m.rangeKey.name}, :${m.rangeKey.name})`:`#${m.rangeKey.name} ${l.rangeKeyOperator} :${m.rangeKey.name}`]:[]].join(" "),ExpressionAttributeNames:{[`#${m.hashKey.name}`]:m.hashKey.name,...p&&l.rangeKey.length>0&&{[`#${m.rangeKey.name}`]:m.rangeKey.name}},ExpressionAttributeValues:(0,Dd.marshall)({[`:${m.hashKey.name}`]:m.hashKey.type==="N"?Number(l.hashKey):l.hashKey,...p&&l.rangeKey.length>0&&{[`:${m.rangeKey.name}`]:m.rangeKey.type==="N"?Number(l.rangeKey):l.rangeKey,...l.rangeKeyOperator==="between"&&{[`:${m.rangeKey.name}End`]:m.rangeKey.type==="N"?Number(l.rangeKeyEnd):l.rangeKeyEnd}}}),...l.useProjectionExpression&&{ProjectionExpression:l.projectionExpression},Limit:Number(l.pageLimit),...l.indexName!==e.TableName&&{IndexName:l.indexName.split(".")[1]},ScanIndexForward:!l.isDescending,ConsistentRead:l.isStronglyConsistent,ReturnConsumedCapacity:"TOTAL"};r(l.projectionExpression||""),n((0,B.jsx)(ok,{table:e,input:f,client:u,previousConsumedCapacity:0,previousItemsCount:0,push:n,pop:o}))},validation:{hashKey:l=>{if(!l||l.length<1)return"Hash Key must be provided";if(e.keys[s.indexName].hashKey.type==="N"&&Number.isNaN(Number(l)))return"Hash Key must be a number"},rangeKey:l=>{if(l&&l.length>0&&e.keys[s.indexName].rangeKey.type==="N"&&Number.isNaN(Number(l)))return"Range Key must be a number"},rangeKeyEnd:l=>{if(l&&l.length>0&&e.keys[s.indexName].rangeKey.type==="N"&&Number.isNaN(Number(l)))return"Range Key must be a number"},indexName:Uo.Required,pageLimit:Uo.Required,projectionExpression:l=>{if(s.useProjectionExpression&&(!l||l.length<1))return"Projection Expression must be provided (if checked)"}},initialValues:{useProjectionExpression:t.length>0,...t.length>0&&{projectionExpression:t},indexName:e.TableName,pageLimit:"20",rangeKeyOperator:"=",isDescending:!1,isStronglyConsistent:!1}});return(0,B.jsxs)(w.Form,{actions:(0,B.jsx)(w.ActionPanel,{children:(0,B.jsx)(w.Action.SubmitForm,{title:"Query",icon:{source:w.Icon.Trash,tintColor:w.Color.Red},onSubmit:i})}),navigationTitle:"Query",children:[(0,B.jsx)(w.Form.Description,{title:"\u2757",text:"Use projection attributes to hide large attributes which might cause rendering delays. Projection attribute is saved for next query."}),(0,B.jsxs)(w.Form.Dropdown,{...a.indexName,title:"Table",info:"Select main table of one of GSI or LSI",children:[(0,B.jsx)(w.Form.Dropdown.Item,{value:`${e.TableName}`,title:`${e.TableName}`,icon:{source:w.Icon.Waveform,tintColor:w.Color.Blue}}),(e.GlobalSecondaryIndexes||[]).map(l=>(0,B.jsx)(w.Form.Dropdown.Item,{value:`gsi.${l.IndexName}`,title:`GSI: ${l.IndexName}`,icon:{source:w.Icon.Waveform,tintColor:w.Color.Orange}},l.IndexName)),(e.LocalSecondaryIndexes||[]).map(l=>(0,B.jsx)(w.Form.Dropdown.Item,{value:`lsi.${l.IndexName}`,title:`LSI: ${l.IndexName}`,icon:{source:w.Icon.Waveform,tintColor:w.Color.Yellow}},l.IndexName))]}),(0,B.jsxs)(w.Form.Dropdown,{...a.pageLimit,title:"Page Limit",info:"Number of result items per page",children:[(0,B.jsx)(w.Form.Dropdown.Item,{value:"10",title:"10"}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"20",title:"20"}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"50",title:"50"}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"100",title:"100"})]}),(0,B.jsx)(w.Form.Separator,{}),(0,B.jsx)(w.Form.TextField,{...a.hashKey,placeholder:"hash key for item...",title:e.keys[s.indexName].hashKey.name}),e.keys[s.indexName].rangeKey&&(0,B.jsxs)(w.Form.Dropdown,{...a.rangeKeyOperator,title:"Sort Key",children:[(0,B.jsx)(w.Form.Dropdown.Item,{value:"=",title:"Equal To",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:">",title:"Greater Than",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"<",title:"Less Than",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:">=",title:"Greater Than or Equal To",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"<=",title:"Less Than or Equal To",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"between",title:"Between",icon:w.Icon.PlusMinusDivideMultiply}),(0,B.jsx)(w.Form.Dropdown.Item,{value:"beginsWith",title:"Begins With",icon:w.Icon.PlusMinusDivideMultiply})]}),e.keys[s.indexName].rangeKey&&(0,B.jsx)(w.Form.TextField,{...a.rangeKey,placeholder:s.rangeKeyOperator==="between"?"sort key start value":s.rangeKeyOperator==="beginsWith"?"sort key prefix":"sort key value",title:`${e.keys[s.indexName].rangeKey.name} ${s.rangeKeyOperator==="between"?"start":s.rangeKeyOperator==="beginsWith"?"prefix":s.rangeKeyOperator}`}),e.keys[s.indexName].rangeKey&&s.rangeKeyOperator==="between"&&(0,B.jsx)(w.Form.TextField,{title:`${e.keys[s.indexName].rangeKey.name} end`,...a.rangeKeyEnd,placeholder:"sort key end value"}),(0,B.jsx)(w.Form.Checkbox,{...a.useProjectionExpression,label:"Use Projection Expression"}),s.useProjectionExpression&&(0,B.jsx)(w.Form.TextArea,{...a.projectionExpression,placeholder:"hashKey, sortKey, name, attr1, attr2, attr3",title:"Projection Expression"}),(0,B.jsx)(w.Form.Checkbox,{...a.isDescending,label:"Descending Order"}),(0,B.jsx)(w.Form.Checkbox,{...a.isStronglyConsistent,label:"Consistent Read"})]})},rk=({pop:e,error:t})=>(0,B.jsxs)(w.ActionPanel,{children:[(0,B.jsx)(w.Action,{title:"Retry",shortcut:w.Keyboard.Shortcut.Common.Refresh,onAction:e}),(0,B.jsx)(w.Action,{title:"Copy Error",shortcut:w.Keyboard.Shortcut.Common.Copy,onAction:()=>w.Clipboard.copy(st(t))})]}),ok=({table:e,input:t,client:r,previousConsumedCapacity:n,previousItemsCount:o,push:s,pop:i})=>{let{isLoading:a,data:l,error:u}=qd(async(E,S)=>{let C=await(0,w.showToast)({style:w.Toast.Style.Animated,title:`Querying table ${e.TableName}\u2026`});try{let I=await E.send(new Od.QueryCommand(S));return(I.Items||[]).length>0?(C.style=w.Toast.Style.Success,C.title=`\u2705 Queried table ${e.TableName}`,C.message=`Consumed capacity: ${I.ConsumedCapacity?.CapacityUnits}`):(C.style=w.Toast.Style.Failure,C.title=`\u2757Queried table ${e.TableName}`,C.message="No items found"),I}catch(I){throw C.style=w.Toast.Style.Failure,C.title=`\u274C Failed to query table ${e.TableName}`,C.message=st(I),I}},[r,t]),p=!!l?.LastEvaluatedKey,m=n+(l?.ConsumedCapacity?.CapacityUnits??0),f=o+(l?.Count??0),h=(l?.Items||[]).map(E=>hy((0,Dd.unmarshall)(E)))??[],g="_Use projection attributes to hide large attributes which might cause rendering delays. Projection attribute is saved for next query._",y=`**Table Name:** ${t.TableName}

**Items (${l?.Count})**

\`\`\`json
${JSON.stringify(h,void 0,2)}
\`\`\``;return!a&&(h||[]).length<1?(0,B.jsx)(w.List,{isLoading:a,navigationTitle:"Query Result",children:(0,B.jsx)(w.List.EmptyView,{title:`No items found in table ${e.TableName}!`,icon:{source:w.Icon.Warning,tintColor:w.Color.Orange},actions:(0,B.jsx)(rk,{pop:i,error:u})})}):!a&&u?(0,B.jsx)(w.List,{isLoading:a,navigationTitle:"Query Result",children:(0,B.jsx)(w.List.EmptyView,{title:u.name,description:u.message,icon:{source:w.Icon.Warning,tintColor:w.Color.Red},actions:(0,B.jsx)(rk,{pop:i,error:u})})}):(0,B.jsx)(w.Detail,{markdown:a?void 0:`> ${g}

${y}`,isLoading:a,navigationTitle:"Query Result",metadata:a?void 0:(0,B.jsxs)(w.Detail.Metadata,{children:[(0,B.jsx)(w.Detail.Metadata.Label,{title:"Table Name",text:t.TableName}),(0,B.jsx)(w.Detail.Metadata.Separator,{}),(0,B.jsx)(w.Detail.Metadata.Label,{title:"Total Consumed Capacity Units",text:String(m),icon:{source:w.Icon.Footprints,tintColor:w.Color.Yellow}}),(0,B.jsx)(w.Detail.Metadata.Label,{title:"Total Items Loaded",text:String(f),icon:{source:w.Icon.List,tintColor:w.Color.Blue}}),(0,B.jsx)(w.Detail.Metadata.Label,{title:"Next Page Available",icon:p?{source:w.Icon.CheckRosette,tintColor:w.Color.Green}:{source:w.Icon.XMarkCircle,tintColor:w.Color.Red}})]}),actions:(0,B.jsxs)(w.ActionPanel,{children:[(0,B.jsx)(w.Action.CopyToClipboard,{title:"Copy JSON",content:y}),p?(0,B.jsx)(w.Action,{title:"Load Next Page",onAction:async()=>s((0,B.jsx)(ok,{table:e,client:r,input:{...t,ExclusiveStartKey:l.LastEvaluatedKey},previousConsumedCapacity:m,previousItemsCount:f,push:s,pop:i})),icon:w.Icon.Forward}):void 0]})})};var Un=b(Lo());var wi=require("@raycast/api"),sk=()=>{let{data:e,error:t,isLoading:r,mutate:n}=jn(async()=>{let o=await(0,wi.showToast)({style:wi.Toast.Style.Animated,title:"Loading tables"});return await ik(o)},[],{execute:my(),failureToastOptions:{title:"\u274CFailed to load tables"}});return{tables:e,error:t,isLoading:!e&&!t||r,mutate:n}},ik=async(e,t,r)=>{let{LastEvaluatedTableName:n,TableNames:o}=await new Un.DynamoDBClient({}).send(new Un.ListTablesCommand({ExclusiveStartTableName:t,Limit:50})),s=await Promise.all((o||[]).map(async a=>{let{Table:l}=await new Un.DynamoDBClient({}).send(new Un.DescribeTableCommand({TableName:a}));return{...l,keys:yQ(l)}})),i=[...r??[],...s];return e.message=`${i.length} tables`,n?await ik(e,n,i):(e.style=wi.Toast.Style.Success,e.title="\u2705 Loaded tables",e.message=`${i.length} tables`,i)},yQ=e=>{let t={},r=e.KeySchema?.find(o=>o.KeyType==="HASH")?.AttributeName||"",n;if(e.KeySchema?.some(o=>o.KeyType==="RANGE")){let o=e.KeySchema?.find(s=>s.KeyType==="RANGE")?.AttributeName||"";n={name:o,type:e.AttributeDefinitions?.find(s=>s.AttributeName===o)?.AttributeType||"S"}}return t[`${e.TableName}`]={hashKey:{name:r,type:e.AttributeDefinitions?.find(o=>o.AttributeName===r)?.AttributeType||"S"},rangeKey:n},(e.GlobalSecondaryIndexes||[]).forEach(o=>{let s=o.KeySchema?.find(a=>a.KeyType==="HASH")?.AttributeName||"",i;if(o.KeySchema?.some(a=>a.KeyType==="RANGE")){let a=o.KeySchema?.find(l=>l.KeyType==="RANGE")?.AttributeName||"";i={name:a,type:e.AttributeDefinitions?.find(l=>l.AttributeName===a)?.AttributeType||"S"}}t[`gsi.${o.IndexName}`]={hashKey:{name:s,type:e.AttributeDefinitions?.find(a=>a.AttributeName===s)?.AttributeType||"S"},rangeKey:i}}),(e.LocalSecondaryIndexes||[]).forEach(o=>{let s=o.KeySchema?.find(a=>a.KeyType==="HASH")?.AttributeName||"",i;if(o.KeySchema?.some(a=>a.KeyType==="RANGE")){let a=o.KeySchema?.find(l=>l.KeyType==="RANGE")?.AttributeName||"";i={name:a,type:e.AttributeDefinitions?.find(l=>l.AttributeName===a)?.AttributeType||"S"}}t[`lsi.${o.IndexName}`]={hashKey:{name:s,type:e.AttributeDefinitions?.find(a=>a.AttributeName===s)?.AttributeType||"S"},rangeKey:i}}),t};var q=require("react/jsx-runtime");function ak(){let[e,t]=_r("show-details",!1,{cacheNamespace:"aws-dynamodb"}),{tables:r,isLoading:n,error:o,mutate:s}=sk(),{data:i,resetRanking:a,visitItem:l}=vg(r,{key:u=>u.TableName,namespace:"aws-dynamodb",sortUnvisited:(u,p)=>u.TableName.localeCompare(p.TableName)});return(0,q.jsxs)(v.List,{isLoading:n,isShowingDetail:!n&&!o&&(r||[]).length>0&&e,filtering:!0,searchBarPlaceholder:"Filter tables by name, id, billing, status, gsi...",searchBarAccessory:(0,q.jsx)(ou,{onProfileSelected:s}),children:[!n&&o&&(0,q.jsx)(v.List.EmptyView,{title:o.name,description:o.message,icon:{source:v.Icon.Warning,tintColor:v.Color.Red}}),!n&&!o&&i.length<1&&(0,q.jsx)(v.List.EmptyView,{title:"No tables found!",icon:{source:v.Icon.Warning,tintColor:v.Color.Orange}}),i.map(u=>(0,q.jsx)(v.List.Item,{title:u.TableName||"",keywords:[u.TableName||"",u.TableId||"",u.BillingModeSummary?.BillingMode||"",u.TableStatus||"",...(u.GlobalSecondaryIndexes||[]).map(p=>`${p.IndexName}`)||[]],accessories:[...e?[]:[{date:u.CreationDateTime,tooltip:"Creation Time",icon:{source:v.Icon.Calendar,tintColor:v.Color.Blue}}],{text:{value:(u.ItemCount??0)+"",color:v.Color.Magenta},icon:{source:v.Icon.Layers,tintColor:v.Color.Magenta},tooltip:"Items"},{icon:u.BillingModeSummary?.BillingMode==="PAY_PER_REQUEST"?{source:v.Icon.Coins,tintColor:v.Color.Orange}:{source:v.Icon.Bolt,tintColor:v.Color.Magenta},tooltip:u.BillingModeSummary?.BillingMode?.replaceAll("_"," ")},...e?[]:[{icon:xi(`${u.TableStatus}`),tooltip:u.TableStatus}]],icon:"aws-icons/dynamodb/table.png",detail:(0,q.jsx)(v.List.Item.Detail,{metadata:(0,q.jsxs)(v.List.Item.Detail.Metadata,{children:[(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Table Name",text:u.TableName||""}),(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Table Id",text:u.TableId||""}),(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Created at",text:u.CreationDateTime?.toISOString(),icon:{source:v.Icon.Calendar,tintColor:v.Color.Blue}}),(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Table Class",text:u.TableClassSummary?.TableClass??"STANDARD"}),(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Items",text:(u.ItemCount??0)+"",icon:{source:v.Icon.Layers,tintColor:v.Color.Magenta}}),(0,q.jsxs)(v.List.Item.Detail.Metadata.TagList,{title:"Status",children:[(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:u.TableStatus||"",color:xi(`${u.TableStatus}`).tintColor,icon:xi(`${u.TableStatus}`)}),(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:u.BillingModeSummary?.BillingMode?.replaceAll("_"," "),color:u.BillingModeSummary?.BillingMode==="PAY_PER_REQUEST"?v.Color.Orange:v.Color.Magenta,icon:u.BillingModeSummary?.BillingMode==="PAY_PER_REQUEST"?v.Icon.Coins:v.Icon.Bolt}),(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:u.DeletionProtectionEnabled?"Deletion Protection Enabled":"Deletion Protection Disabled",icon:u.DeletionProtectionEnabled?{source:v.Icon.CheckRosette,tintColor:v.Color.Green}:{source:v.Icon.Exclamationmark2,tintColor:v.Color.Red}})]}),(0,q.jsx)(v.List.Item.Detail.Metadata.TagList,{title:"Keys",children:(u.KeySchema||[]).map(p=>(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:`${p.AttributeName} (${p.KeyType.toLowerCase()})`,icon:{source:v.Icon.Key,tintColor:v.Color.Yellow}},`${u.TableName}:${p.AttributeName}`))}),u.BillingModeSummary?.BillingMode==="PROVISIONED"&&(0,q.jsxs)(v.List.Item.Detail.Metadata.TagList,{title:"Provisioned Throughput",children:[(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:`RCU: ${u.ProvisionedThroughput.ReadCapacityUnits}`,color:v.Color.Blue,icon:v.Icon.Gauge}),(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:`WCU: ${u.ProvisionedThroughput.WriteCapacityUnits}`,color:v.Color.Blue,icon:v.Icon.Gauge})]}),(u.LocalSecondaryIndexes||[]).length>0&&(0,q.jsx)(v.List.Item.Detail.Metadata.TagList,{title:"LSI(s)",children:(u.LocalSecondaryIndexes||[]).map(p=>(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:p.IndexName,icon:{source:v.Icon.LightBulb,tintColor:v.Color.Yellow}},`${u.TableName}:${p.IndexName}`))}),(u.GlobalSecondaryIndexes||[]).length>0&&(0,q.jsx)(v.List.Item.Detail.Metadata.TagList,{title:"GSI(s)",children:(u.GlobalSecondaryIndexes||[]).map(p=>(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:p.IndexName,icon:xi(`${p.IndexStatus}`)},`${u.TableName}:${p.IndexName}`))}),u.GlobalTableVersion&&(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Global Table Version",text:u.GlobalTableVersion}),(u.Replicas||[]).length>0&&(0,q.jsx)(v.List.Item.Detail.Metadata.TagList,{title:"Replica(s)",children:(u.Replicas||[]).map(p=>(0,q.jsx)(v.List.Item.Detail.Metadata.TagList.Item,{text:p.RegionName,icon:xi(`${p.ReplicaStatus}`)},`${u.TableName}:${p.RegionName}`))}),u.StreamSpecification&&(0,q.jsx)(v.List.Item.Detail.Metadata.Label,{title:"Stream",text:u.StreamSpecification.StreamViewType,icon:u.StreamSpecification.StreamEnabled?{source:v.Icon.CheckCircle,tintColor:v.Color.Green}:{source:v.Icon.XMarkCircle,tintColor:v.Color.Red}})]})}),actions:(0,q.jsxs)(v.ActionPanel,{children:[(0,q.jsx)(Wi.Console,{url:fy(u.TableName||"","AWS::DynamoDB::Table"),onAction:()=>l(u)}),(0,q.jsxs)(v.ActionPanel.Section,{title:"Table Actions",children:[(0,q.jsx)(v.Action.Push,{title:"Update Item",shortcut:{modifiers:["ctrl"],key:"u"},icon:v.Icon.Patch,target:(0,q.jsx)(sg,{table:u,mutate:s}),onPush:()=>l(u)}),(0,q.jsx)(v.Action.Push,{title:"Query",shortcut:{modifiers:["ctrl"],key:"q"},icon:v.Icon.Eye,target:(0,q.jsx)(nk,{table:u}),onPush:()=>l(u)}),(0,q.jsx)(v.Action.Push,{title:"Delete Item",shortcut:v.Keyboard.Shortcut.Common.Remove,icon:{source:v.Icon.Trash,tintColor:v.Color.Red},target:(0,q.jsx)(og,{table:u,mutate:s}),onPush:()=>l(u)}),(0,q.jsx)(v.Action,{icon:u.DeletionProtectionEnabled?{source:v.Icon.LockUnlocked,tintColor:v.Color.Red}:{source:v.Icon.Lock,tintColor:v.Color.Green},title:u.DeletionProtectionEnabled?"Disable Deletion Protection":"Enable Deletion Protection",shortcut:{modifiers:["ctrl"],key:"t"},onAction:async()=>{await l(u),await _Q({...u,mutate:s})}}),(0,q.jsx)(v.Action.CopyToClipboard,{title:"Copy Table Name",content:u.TableName||"",onCopy:()=>l(u)}),(0,q.jsx)(v.Action,{title:`${e?"Hide":"Show"} Details`,onAction:()=>t(!e),icon:e?v.Icon.EyeDisabled:v.Icon.Eye})]}),(0,q.jsx)(v.ActionPanel.Section,{children:(0,q.jsx)(v.Action,{title:"Reset Ranking",icon:v.Icon.ArrowCounterClockwise,onAction:()=>a(u)})})]})},u.TableArn))]})}var xi=e=>({ACTIVE:{source:v.Icon.CheckCircle,tintColor:v.Color.Green},CREATING:{source:v.Icon.Hourglass,tintColor:v.Color.Green},UPDATING:{source:v.Icon.Hourglass,tintColor:v.Color.Blue},ARCHIVING:{source:v.Icon.Hourglass,tintColor:v.Color.Magenta},ARCHIVED:{source:v.Icon.Bookmark,tintColor:v.Color.Magenta},INACCESSIBLE_ENCRYPTION_CREDENTIALS:{source:v.Icon.Warning,tintColor:v.Color.Orange},DELETING:{source:v.Icon.XMarkCircle,tintColor:v.Color.Red}})[e]||{source:v.Icon.Warning,tintColor:v.Color.Orange},_Q=async({TableName:e,DeletionProtectionEnabled:t,mutate:r})=>{await(0,v.confirmAlert)({title:`${t?"Disable":"Enable"} Deletion Protection?`,message:`Are you sure you want to ${t?"disable":"enable"} termination protection?`,icon:{source:v.Icon.Exclamationmark3,tintColor:v.Color.Red},primaryAction:{title:t?"Disable":"Enable",style:t?v.Alert.ActionStyle.Destructive:v.Alert.ActionStyle.Default,onAction:()=>ck({TableName:e,DeletionProtectionEnabled:t,mutate:r})}})},ck=async({TableName:e,DeletionProtectionEnabled:t,mutate:r})=>{let n=await(0,v.showToast)({style:v.Toast.Style.Animated,title:`${t?"Disabling":"Enabling"} Deletion Protection...`});r(new kd.DynamoDBClient({}).send(new kd.UpdateTableCommand({TableName:e,DeletionProtectionEnabled:!t})),{optimisticUpdate:o=>{if(o)return o.map(s=>s.TableName!==e?s:{...s,DeletionProtectionEnabled:!t})},shouldRevalidateAfter:!1}).then(()=>{n.style=v.Toast.Style.Success,n.title=`${t?"Disabled":"Enabled"} Deletion Protection`}).catch(o=>{(0,v.captureException)(o),n.style=v.Toast.Style.Failure,n.title=`Failed to ${t?"disable":"enable"} deletion protection`,n.message=st(o),n.primaryAction={title:"Retry",shortcut:v.Keyboard.Shortcut.Common.Refresh,onAction:()=>ck({TableName:e,DeletionProtectionEnabled:t,mutate:r})},n.secondaryAction={title:"Copy Error",shortcut:v.Keyboard.Shortcut.Common.Copy,onAction:()=>v.Clipboard.copy(st(o))}})};
