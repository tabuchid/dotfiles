"use strict";var NO=Object.create;var Ks=Object.defineProperty;var DO=Object.getOwnPropertyDescriptor;var kO=Object.getOwnPropertyNames;var $O=Object.getPrototypeOf,MO=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),st=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},Mm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kO(t))!MO.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=DO(t,o))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?NO($O(e)):{},Mm(t||!e||!e.__esModule?Ks(r,"default",{value:e,enumerable:!0}):r,e)),V=e=>Mm(Ks({},"__esModule",{value:!0}),e);var _n={};st(_n,{__addDisposableResource:()=>Sh,__assign:()=>Qs,__asyncDelegator:()=>fh,__asyncGenerator:()=>ph,__asyncValues:()=>mh,__await:()=>yn,__awaiter:()=>ih,__classPrivateFieldGet:()=>_h,__classPrivateFieldIn:()=>vh,__classPrivateFieldSet:()=>Eh,__createBinding:()=>ei,__decorate:()=>Zm,__disposeResources:()=>bh,__esDecorate:()=>th,__exportStar:()=>ch,__extends:()=>Xm,__generator:()=>ah,__importDefault:()=>yh,__importStar:()=>gh,__makeTemplateObject:()=>hh,__metadata:()=>sh,__param:()=>eh,__propKey:()=>nh,__read:()=>Yl,__rest:()=>Qm,__rewriteRelativeImportExtension:()=>wh,__runInitializers:()=>rh,__setFunctionName:()=>oh,__spread:()=>lh,__spreadArray:()=>uh,__spreadArrays:()=>dh,__values:()=>Zs,default:()=>oN});function Xm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Qm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Zm(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function eh(e,t){return function(r,n){t(r,n,e)}}function th(e,t,r,n,o,s){function i(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(S){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(S||null))};var E=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(f=i(E.get))&&(u.get=f),(f=i(E.set))&&(u.set=f),(f=i(E.init))&&o.unshift(f)}else(f=i(E))&&(a==="field"?o.unshift(f):u[c]=f)}l&&Object.defineProperty(l,n.name,u),m=!0}function rh(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function nh(e){return typeof e=="symbol"?e:"".concat(e)}function oh(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function sh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ih(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(u){try{l(n.next(u))}catch(f){i(f)}}function c(u){try{l(n.throw(u))}catch(f){i(f)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function ah(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ch(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ei(t,e,r)}function Zs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function lh(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yl(arguments[t]));return e}function dh(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function uh(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function yn(e){return this instanceof yn?(this.v=e,this):new yn(e)}function ph(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(g){return Promise.resolve(g).then(h,f)}}function a(h,g){n[h]&&(o[h]=function(y){return new Promise(function(E,S){s.push([h,y,E,S])>1||c(h,y)})},g&&(o[h]=g(o[h])))}function c(h,g){try{l(n[h](g))}catch(y){m(s[0][3],y)}}function l(h){h.value instanceof yn?Promise.resolve(h.value.v).then(u,f):m(s[0][2],h)}function u(h){c("next",h)}function f(h){c("throw",h)}function m(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function fh(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:yn(e[o](i)),done:!1}:s?s(i):i}:s}}function mh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zs=="function"?Zs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function hh(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function gh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jl(e),n=0;n<r.length;n++)r[n]!=="default"&&ei(t,e,r[n]);return rN(t,e),t}function yh(e){return e&&e.__esModule?e:{default:e}}function _h(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Eh(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function vh(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Sh(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function bh(e){function t(s){e.error=e.hasError?new nN(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function wh(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Kl,Qs,ei,rN,Jl,nN,oN,En=_(()=>{Kl=function(e,t){return Kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Kl(e,t)};Qs=function(){return Qs=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qs.apply(this,arguments)};ei=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});rN=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Jl=function(e){return Jl=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jl(e)};nN=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};oN={__extends:Xm,__assign:Qs,__rest:Qm,__decorate:Zm,__param:eh,__esDecorate:th,__runInitializers:rh,__propKey:nh,__setFunctionName:oh,__metadata:sh,__awaiter:ih,__generator:ah,__createBinding:ei,__exportStar:ch,__values:Zs,__read:Yl,__spread:lh,__spreadArrays:dh,__spreadArray:uh,__await:yn,__asyncGenerator:ph,__asyncDelegator:fh,__asyncValues:mh,__makeTemplateObject:hh,__importStar:gh,__importDefault:yh,__classPrivateFieldGet:_h,__classPrivateFieldSet:Eh,__classPrivateFieldIn:vh,__addDisposableResource:Sh,__disposeResources:bh,__rewriteRelativeImportExtension:wh}});var po=b(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.getHomeDir=void 0;var sN=require("os"),iN=require("path"),aN=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${iN.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,sN.homedir)())};ti.getHomeDir=aN});var Ch=b(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getProfileName=mt.DEFAULT_PROFILE=mt.ENV_PROFILE=void 0;mt.ENV_PROFILE="AWS_PROFILE";mt.DEFAULT_PROFILE="default";var cN=e=>e.profile||process.env[mt.ENV_PROFILE]||mt.DEFAULT_PROFILE;mt.getProfileName=cN});var Xl=b(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.getSSOTokenFilepath=void 0;var lN=require("crypto"),dN=require("path"),uN=po(),pN=e=>{let r=(0,lN.createHash)("sha1").update(e).digest("hex");return(0,dN.join)((0,uN.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ri.getSSOTokenFilepath=pN});var Ph=b(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.getSSOTokenFromFile=void 0;var fN=require("fs"),mN=Xl(),{readFile:hN}=fN.promises,gN=async e=>{let t=(0,mN.getSSOTokenFilepath)(e),r=await hN(t,"utf8");return JSON.parse(r)};ni.getSSOTokenFromFile=gN});var Ql=b(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getConfigFilepath=Mr.ENV_CONFIG_PATH=void 0;var yN=require("path"),_N=po();Mr.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var EN=()=>process.env[Mr.ENV_CONFIG_PATH]||(0,yN.join)((0,_N.getHomeDir)(),".aws","config");Mr.getConfigFilepath=EN});var xh=b(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getCredentialsFilepath=Lr.ENV_CREDENTIALS_PATH=void 0;var vN=require("path"),SN=po();Lr.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var bN=()=>process.env[Lr.ENV_CREDENTIALS_PATH]||(0,vN.join)((0,SN.getHomeDir)(),".aws","credentials");Lr.getCredentialsFilepath=bN});var Th=b(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.getProfileData=void 0;var Rh=/^profile\s(["'])?([^\1]+)\1$/,wN=e=>Object.entries(e).filter(([t])=>Rh.test(t)).reduce((t,[r,n])=>({...t,[Rh.exec(r)[2]]:n}),{...e.default&&{default:e.default}});oi.getProfileData=wN});var Zl=b(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.parseIni=void 0;var CN=["__proto__","profile __proto__"],PN=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),CN.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[l,u]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][l]=u}}return t};si.parseIni=PN});var td=b(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.slurpFile=void 0;var xN=require("fs"),{readFile:RN}=xN.promises,ed={},TN=(e,t)=>((!ed[e]||t?.ignoreCache)&&(ed[e]=RN(e,"utf8")),ed[e]);ii.slurpFile=TN});var rd=b(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.loadSharedConfigFiles=void 0;var AN=Ql(),IN=xh(),ON=Th(),Ah=Zl(),Ih=td(),Oh=()=>({}),NN=async(e={})=>{let{filepath:t=(0,IN.getCredentialsFilepath)(),configFilepath:r=(0,AN.getConfigFilepath)()}=e,n=await Promise.all([(0,Ih.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(Ah.parseIni).then(ON.getProfileData).catch(Oh),(0,Ih.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(Ah.parseIni).catch(Oh)]);return{configFile:n[0],credentialsFile:n[1]}};ai.loadSharedConfigFiles=NN});var Dh=b(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.getSsoSessionData=void 0;var Nh=/^sso-session\s(["'])?([^\1]+)\1$/,DN=e=>Object.entries(e).filter(([t])=>Nh.test(t)).reduce((t,[r,n])=>({...t,[Nh.exec(r)[2]]:n}),{});ci.getSsoSessionData=DN});var kh=b(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.loadSsoSessionData=void 0;var kN=Ql(),$N=Dh(),MN=Zl(),LN=td(),FN=()=>({}),UN=async(e={})=>{var t;return(0,LN.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,kN.getConfigFilepath)()).then(MN.parseIni).then($N.getSsoSessionData).catch(FN)};li.loadSsoSessionData=UN});var $h=b(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.mergeConfigFiles=void 0;var jN=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};di.mergeConfigFiles=jN});var Mh=b(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.parseKnownFiles=void 0;var zN=rd(),HN=$h(),BN=async e=>{let t=await(0,zN.loadSharedConfigFiles)(e);return(0,HN.mergeConfigFiles)(t.configFile,t.credentialsFile)};ui.parseKnownFiles=BN});var Fh=b(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0})});var Uh=b(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});var nr=(En(),V(_n));nr.__exportStar(po(),ht);nr.__exportStar(Ch(),ht);nr.__exportStar(Xl(),ht);nr.__exportStar(Ph(),ht);nr.__exportStar(rd(),ht);nr.__exportStar(kh(),ht);nr.__exportStar(Mh(),ht);nr.__exportStar(Fh(),ht)});var jh=b(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});var qN=(En(),V(_n));qN.__exportStar(Uh(),nd)});var gt=b((RG,Yh)=>{var gi=Object.defineProperty,YN=Object.getOwnPropertyDescriptor,XN=Object.getOwnPropertyNames,QN=Object.prototype.hasOwnProperty,yi=(e,t)=>gi(e,"name",{value:t,configurable:!0}),ZN=(e,t)=>{for(var r in t)gi(e,r,{get:t[r],enumerable:!0})},e1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XN(t))!QN.call(e,o)&&o!==r&&gi(e,o,{get:()=>t[o],enumerable:!(n=YN(t,o))||n.enumerable});return e},t1=e=>e1(gi({},"__esModule",{value:!0}),e),Hh={};ZN(Hh,{AlgorithmId:()=>Gh,EndpointURLScheme:()=>Vh,FieldPosition:()=>Wh,HttpApiKeyAuthLocation:()=>qh,HttpAuthLocation:()=>Bh,IniSectionType:()=>Kh,RequestHandlerProtocol:()=>Jh,SMITHY_CONTEXT_KEY:()=>i1,getDefaultClientConfiguration:()=>o1,resolveDefaultRuntimeConfig:()=>s1});Yh.exports=t1(Hh);var Bh=(e=>(e.HEADER="header",e.QUERY="query",e))(Bh||{}),qh=(e=>(e.HEADER="header",e.QUERY="query",e))(qh||{}),Vh=(e=>(e.HTTP="http",e.HTTPS="https",e))(Vh||{}),Gh=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Gh||{}),r1=yi(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),n1=yi(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),o1=yi(e=>r1(e),"getDefaultClientConfiguration"),s1=yi(e=>n1(e),"resolveDefaultRuntimeConfig"),Wh=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Wh||{}),i1="__smithy_context",Kh=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Kh||{}),Jh=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Jh||{})});var te=b((TG,tg)=>{var _i=Object.defineProperty,a1=Object.getOwnPropertyDescriptor,c1=Object.getOwnPropertyNames,l1=Object.prototype.hasOwnProperty,sr=(e,t)=>_i(e,"name",{value:t,configurable:!0}),d1=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},u1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c1(t))!l1.call(e,o)&&o!==r&&_i(e,o,{get:()=>t[o],enumerable:!(n=a1(t,o))||n.enumerable});return e},p1=e=>u1(_i({},"__esModule",{value:!0}),e),Xh={};d1(Xh,{Field:()=>h1,Fields:()=>g1,HttpRequest:()=>y1,HttpResponse:()=>_1,IHttpRequest:()=>Qh.HttpRequest,getHttpHandlerExtensionConfiguration:()=>f1,isValidHostname:()=>eg,resolveHttpHandlerRuntimeConfig:()=>m1});tg.exports=p1(Xh);var f1=sr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),m1=sr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Qh=gt(),h1=class{static{sr(this,"Field")}constructor({name:e,kind:t=Qh.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},g1=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{sr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},y1=class ad{static{sr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new ad({...t,headers:{...t.headers}});return r.query&&(r.query=Zh(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return ad.clone(this)}};function Zh(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}sr(Zh,"cloneQuery");var _1=class{static{sr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function eg(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}sr(eg,"isValidHostname")});var fo=b((NG,ig)=>{"use strict";var vi=Object.defineProperty,E1=Object.getOwnPropertyDescriptor,v1=Object.getOwnPropertyNames,S1=Object.prototype.hasOwnProperty,Ei=(e,t)=>vi(e,"name",{value:t,configurable:!0}),b1=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},w1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of v1(t))!S1.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=E1(t,o))||n.enumerable});return e},C1=e=>w1(vi({},"__esModule",{value:!0}),e),rg={};b1(rg,{getHostHeaderPlugin:()=>x1,hostHeaderMiddleware:()=>og,hostHeaderMiddlewareOptions:()=>sg,resolveHostHeaderConfig:()=>ng});ig.exports=C1(rg);var P1=te();function ng(e){return e}Ei(ng,"resolveHostHeaderConfig");var og=Ei(e=>t=>async r=>{if(!P1.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),sg={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},x1=Ei(e=>({applyToStack:Ei(t=>{t.add(og(e),sg)},"applyToStack")}),"getHostHeaderPlugin")});var mo=b((DG,dg)=>{"use strict";var Si=Object.defineProperty,R1=Object.getOwnPropertyDescriptor,T1=Object.getOwnPropertyNames,A1=Object.prototype.hasOwnProperty,cd=(e,t)=>Si(e,"name",{value:t,configurable:!0}),I1=(e,t)=>{for(var r in t)Si(e,r,{get:t[r],enumerable:!0})},O1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T1(t))!A1.call(e,o)&&o!==r&&Si(e,o,{get:()=>t[o],enumerable:!(n=R1(t,o))||n.enumerable});return e},N1=e=>O1(Si({},"__esModule",{value:!0}),e),ag={};I1(ag,{getLoggerPlugin:()=>D1,loggerMiddleware:()=>cg,loggerMiddlewareOptions:()=>lg});dg.exports=N1(ag);var cg=cd(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:m,...h}=n.output;return i?.info?.({clientName:o,commandName:s,input:u(r.input),output:f(h),metadata:m}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),lg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},D1=cd(e=>({applyToStack:cd(t=>{t.add(cg(),lg)},"applyToStack")}),"getLoggerPlugin")});var ho=b((kG,mg)=>{"use strict";var wi=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,$1=Object.getOwnPropertyNames,M1=Object.prototype.hasOwnProperty,bi=(e,t)=>wi(e,"name",{value:t,configurable:!0}),L1=(e,t)=>{for(var r in t)wi(e,r,{get:t[r],enumerable:!0})},F1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $1(t))!M1.call(e,o)&&o!==r&&wi(e,o,{get:()=>t[o],enumerable:!(n=k1(t,o))||n.enumerable});return e},U1=e=>F1(wi({},"__esModule",{value:!0}),e),ug={};L1(ug,{addRecursionDetectionMiddlewareOptions:()=>fg,getRecursionDetectionPlugin:()=>B1,recursionDetectionMiddleware:()=>pg});mg.exports=U1(ug);var j1=te(),ld="X-Amzn-Trace-Id",z1="AWS_LAMBDA_FUNCTION_NAME",H1="_X_AMZN_TRACE_ID",pg=bi(e=>t=>async r=>{let{request:n}=r;if(!j1.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===ld.toLowerCase())??ld;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[z1],i=process.env[H1],a=bi(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[ld]=i),t({...r,request:n})},"recursionDetectionMiddleware"),fg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},B1=bi(e=>({applyToStack:bi(t=>{t.add(pg(e),fg)},"applyToStack")}),"getRecursionDetectionPlugin")});var dd,q1,hg=_(()=>{dd=v(gt()),q1=e=>e[dd.SMITHY_CONTEXT_KEY]||(e[dd.SMITHY_CONTEXT_KEY]={})});var it=b((MG,Eg)=>{var Ci=Object.defineProperty,V1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyNames,W1=Object.prototype.hasOwnProperty,yg=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),K1=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},J1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G1(t))!W1.call(e,o)&&o!==r&&Ci(e,o,{get:()=>t[o],enumerable:!(n=V1(t,o))||n.enumerable});return e},Y1=e=>J1(Ci({},"__esModule",{value:!0}),e),_g={};K1(_g,{getSmithyContext:()=>X1,normalizeProvider:()=>Q1});Eg.exports=Y1(_g);var gg=gt(),X1=yg(e=>e[gg.SMITHY_CONTEXT_KEY]||(e[gg.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Q1=yg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var vg,Sg=_(()=>{vg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function Z1(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var FG,bg,go,Pi=_(()=>{FG=v(gt()),bg=v(it());Sg();go=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=vg(s,i),c=Z1(e.httpAuthSchemes),l=(0,bg.getSmithyContext)(n),u=[];for(let f of a){let m=c.get(f.schemeId);if(!m){u.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let h=m.identityProvider(await t.identityProviderConfigProvider(e));if(!h){u.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},g),f.signingProperties=Object.assign(f.signingProperties||{},y),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await h(f.identityProperties),signer:m.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(o)}});var wg,yo,Cg=_(()=>{Pi();wg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},yo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(go(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),wg)}})});var ir=b((qG,Og)=>{var xi=Object.defineProperty,eD=Object.getOwnPropertyDescriptor,tD=Object.getOwnPropertyNames,rD=Object.prototype.hasOwnProperty,Ri=(e,t)=>xi(e,"name",{value:t,configurable:!0}),nD=(e,t)=>{for(var r in t)xi(e,r,{get:t[r],enumerable:!0})},oD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tD(t))!rD.call(e,o)&&o!==r&&xi(e,o,{get:()=>t[o],enumerable:!(n=eD(t,o))||n.enumerable});return e},sD=e=>oD(xi({},"__esModule",{value:!0}),e),Pg={};nD(Pg,{deserializerMiddleware:()=>xg,deserializerMiddlewareOption:()=>Tg,getSerdePlugin:()=>Ig,serializerMiddleware:()=>Rg,serializerMiddlewareOption:()=>Ag});Og.exports=sD(Pg);var iD=te(),xg=Ri((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(iD.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:ud(/^x-[\w-]+-request-?id$/,l),extendedRequestId:ud(/^x-[\w-]+-id-2$/,l),cfId:ud(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),ud=Ri((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),Rg=Ri((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),Tg={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ag={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ig(e,t,r){return{applyToStack:n=>{n.add(xg(e,r),Tg),n.add(Rg(e,t),Ag)}}}Ri(Ig,"getSerdePlugin")});var Ng,Dg,aD,kg=_(()=>{Ng=v(ir());Pi();Dg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ng.serializerMiddlewareOption.name},aD=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(go(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Dg)}})});var $g=_(()=>{Pi();Cg();kg()});var Mg,XG,Lg,cD,lD,pd,fd=_(()=>{Mg=v(te()),XG=v(gt()),Lg=v(it()),cD=e=>t=>{throw t},lD=(e,t)=>{},pd=e=>(t,r)=>async n=>{if(!Mg.HttpRequest.isInstance(n.request))return t(n);let s=(0,Lg.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||cD)(i));return(c.successHandler||lD)(l.response,i),l}});var Fg,_o,Ug=_(()=>{fd();Fg={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},_o=e=>({applyToStack:t=>{t.addRelativeTo(pd(e),Fg)}})});var jg=_(()=>{fd();Ug()});var ar,zg=_(()=>{ar=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Hg(e,t,r,n,o){return async function*(i,a,...c){let l=a,u=i.startingToken??l[r],f=!0,m;for(;f;){if(l[r]=u,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)m=await dD(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let h=u;u=uD(m,n),f=!!(u&&(!i.stopOnSameToken||u!==h))}return void 0}}var dD,uD,Bg=_(()=>{dD=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};uD=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var md=b((aW,Vg)=>{var Ti=Object.defineProperty,pD=Object.getOwnPropertyDescriptor,fD=Object.getOwnPropertyNames,mD=Object.prototype.hasOwnProperty,hD=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),gD=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},yD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fD(t))!mD.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=pD(t,o))||n.enumerable});return e},_D=e=>yD(Ti({},"__esModule",{value:!0}),e),qg={};gD(qg,{isArrayBuffer:()=>ED});Vg.exports=_D(qg);var ED=hD(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var vn=b((cW,Kg)=>{var Ai=Object.defineProperty,vD=Object.getOwnPropertyDescriptor,SD=Object.getOwnPropertyNames,bD=Object.prototype.hasOwnProperty,Gg=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),wD=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},CD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SD(t))!bD.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=vD(t,o))||n.enumerable});return e},PD=e=>CD(Ai({},"__esModule",{value:!0}),e),Wg={};wD(Wg,{fromArrayBuffer:()=>RD,fromString:()=>TD});Kg.exports=PD(Wg);var xD=md(),hd=require("buffer"),RD=Gg((e,t=0,r=e.byteLength-t)=>{if(!(0,xD.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return hd.Buffer.from(e,t,r)},"fromArrayBuffer"),TD=Gg((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?hd.Buffer.from(e,t):hd.Buffer.from(e)},"fromString")});var Jg=b(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.fromBase64=void 0;var AD=vn(),ID=/^[A-Za-z0-9+/]*={0,2}$/,OD=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!ID.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,AD.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ii.fromBase64=OD});var ge=b((dW,Zg)=>{var Oi=Object.defineProperty,ND=Object.getOwnPropertyDescriptor,DD=Object.getOwnPropertyNames,kD=Object.prototype.hasOwnProperty,gd=(e,t)=>Oi(e,"name",{value:t,configurable:!0}),$D=(e,t)=>{for(var r in t)Oi(e,r,{get:t[r],enumerable:!0})},MD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DD(t))!kD.call(e,o)&&o!==r&&Oi(e,o,{get:()=>t[o],enumerable:!(n=ND(t,o))||n.enumerable});return e},LD=e=>MD(Oi({},"__esModule",{value:!0}),e),Yg={};$D(Yg,{fromUtf8:()=>Qg,toUint8Array:()=>FD,toUtf8:()=>UD});Zg.exports=LD(Yg);var Xg=vn(),Qg=gd(e=>{let t=(0,Xg.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),FD=gd(e=>typeof e=="string"?Qg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),UD=gd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Xg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var ey=b(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.toBase64=void 0;var jD=vn(),zD=ge(),HD=e=>{let t;if(typeof e=="string"?t=(0,zD.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,jD.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ni.toBase64=HD});var Te=b((pW,Di)=>{var ty=Object.defineProperty,BD=Object.getOwnPropertyDescriptor,qD=Object.getOwnPropertyNames,VD=Object.prototype.hasOwnProperty,yd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qD(t))!VD.call(e,o)&&o!==r&&ty(e,o,{get:()=>t[o],enumerable:!(n=BD(t,o))||n.enumerable});return e},ry=(e,t,r)=>(yd(e,t,"default"),r&&yd(r,t,"default")),GD=e=>yd(ty({},"__esModule",{value:!0}),e),_d={};Di.exports=GD(_d);ry(_d,Jg(),Di.exports);ry(_d,ey(),Di.exports)});var vd=b(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ChecksumStream=void 0;var WD=Te(),KD=require("stream"),Ed=class extends KD.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??WD.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};ki.ChecksumStream=Ed});var cr=b(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.isBlob=Sn.isReadableStream=void 0;var JD=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Sn.isReadableStream=JD;var YD=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Sn.isBlob=YD});var ny=b($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.ChecksumStream=void 0;var XD=typeof ReadableStream=="function"?ReadableStream:function(){},Sd=class extends XD{};$i.ChecksumStream=Sd});var oy=b(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.createChecksumStream=void 0;var QD=Te(),ZD=cr(),ek=ny(),tk=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,ZD.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??QD.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(u,f){t.update(u),f.enqueue(u)},async flush(u){let f=await t.digest(),m=a(f);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);u.error(h)}else u.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,ek.ChecksumStream.prototype),l};Mi.createChecksumStream=tk});var sy=b(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.createChecksumStream=sk;var rk=cr(),nk=vd(),ok=oy();function sk(e){return typeof ReadableStream=="function"&&(0,rk.isReadableStream)(e.source)?(0,ok.createChecksumStream)(e):new nk.ChecksumStream(e)}});var Cd=b(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.ByteArrayCollector=void 0;var wd=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Li.ByteArrayCollector=wd});var ly=b($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.createBufferedReadable=void 0;$t.createBufferedReadableStream=iy;$t.merge=ay;$t.flush=Fi;$t.sizeOf=bn;$t.modeOf=cy;var ik=Cd();function iy(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new ik.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:u,done:f}=await n.read(),m=u;if(f){if(a!==-1){let h=Fi(i,a);bn(h)>0&&l.enqueue(h)}l.close()}else{let h=cy(m,!1);if(a!==h&&(a>=0&&l.enqueue(Fi(i,a)),a=h),a===-1){l.enqueue(m);return}let g=bn(m);s+=g;let y=bn(i[a]);if(g>=t&&y===0)l.enqueue(m);else{let E=ay(i,a,m);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),E>=t?l.enqueue(Fi(i,a)):await c(l)}}};return new ReadableStream({pull:c})}$t.createBufferedReadable=iy;function ay(e,t,r){switch(t){case 0:return e[0]+=r,bn(e[0]);case 1:case 2:return e[t].push(r),bn(e[t])}}function Fi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function bn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function cy(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var uy=b(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.createBufferedReadable=lk;var ak=require("node:stream"),dy=Cd(),Mt=ly(),ck=cr();function lk(e,t,r){if((0,ck.isReadableStream)(e))return(0,Mt.createBufferedReadableStream)(e,t,r);let n=new ak.Readable({read(){}}),o=!1,s=0,i=["",new dy.ByteArrayCollector(c=>new Uint8Array(c)),new dy.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Mt.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Mt.flush)(i,a)),a=l),a===-1){n.push(c);return}let u=(0,Mt.sizeOf)(c);s+=u;let f=(0,Mt.sizeOf)(i[a]);if(u>=t&&f===0)n.push(c);else{let m=(0,Mt.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,Mt.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Mt.flush)(i,a);(0,Mt.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var py=b(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.getAwsChunkedEncodingStream=void 0;var dk=require("stream"),uk=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new dk.Readable({read:()=>{}});return e.on("data",u=>{let f=n(u)||0;l.push(`${f.toString(16)}\r
`),l.push(u),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let u=r(await c);l.push(`${s}:${u}\r
`),l.push(`\r
`)}l.push(null)}),l};Ui.getAwsChunkedEncodingStream=uk});var fy=b(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.headStream=pk;async function pk(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:u}=await s.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var my=b(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.headStream=void 0;var fk=require("stream"),mk=fy(),hk=cr(),gk=(e,t)=>(0,hk.isReadableStream)(e)?(0,mk.headStream)(e,t):new Promise((r,n)=>{let o=new Rd;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});ji.headStream=gk;var Rd=class extends fk.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var Ad=b((CW,yy)=>{var zi=Object.defineProperty,yk=Object.getOwnPropertyDescriptor,_k=Object.getOwnPropertyNames,Ek=Object.prototype.hasOwnProperty,Td=(e,t)=>zi(e,"name",{value:t,configurable:!0}),vk=(e,t)=>{for(var r in t)zi(e,r,{get:t[r],enumerable:!0})},Sk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _k(t))!Ek.call(e,o)&&o!==r&&zi(e,o,{get:()=>t[o],enumerable:!(n=yk(t,o))||n.enumerable});return e},bk=e=>Sk(zi({},"__esModule",{value:!0}),e),hy={};vk(hy,{escapeUri:()=>gy,escapeUriPath:()=>Ck});yy.exports=bk(hy);var gy=Td(e=>encodeURIComponent(e).replace(/[!'()*]/g,wk),"escapeUri"),wk=Td(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Ck=Td(e=>e.split("/").map(gy).join("/"),"escapeUriPath")});var Od=b((PW,vy)=>{var Hi=Object.defineProperty,Pk=Object.getOwnPropertyDescriptor,xk=Object.getOwnPropertyNames,Rk=Object.prototype.hasOwnProperty,Tk=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),Ak=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},Ik=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xk(t))!Rk.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=Pk(t,o))||n.enumerable});return e},Ok=e=>Ik(Hi({},"__esModule",{value:!0}),e),_y={};Ak(_y,{buildQueryString:()=>Ey});vy.exports=Ok(_y);var Id=Ad();function Ey(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Id.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Id.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Id.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Tk(Ey,"buildQueryString")});var Fr=b((xW,$y)=>{var Nk=Object.create,Eo=Object.defineProperty,Dk=Object.getOwnPropertyDescriptor,kk=Object.getOwnPropertyNames,$k=Object.getPrototypeOf,Mk=Object.prototype.hasOwnProperty,Q=(e,t)=>Eo(e,"name",{value:t,configurable:!0}),Lk=(e,t)=>{for(var r in t)Eo(e,r,{get:t[r],enumerable:!0})},Py=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kk(t))!Mk.call(e,o)&&o!==r&&Eo(e,o,{get:()=>t[o],enumerable:!(n=Dk(t,o))||n.enumerable});return e},Fk=(e,t,r)=>(r=e!=null?Nk($k(e)):{},Py(t||!e||!e.__esModule?Eo(r,"default",{value:e,enumerable:!0}):r,e)),Uk=e=>Py(Eo({},"__esModule",{value:!0}),e),xy={};Lk(xy,{DEFAULT_REQUEST_TIMEOUT:()=>Ny,NodeHttp2Handler:()=>Jk,NodeHttpHandler:()=>Vk,streamCollector:()=>Xk});$y.exports=Uk(xy);var Ry=te(),Ty=Od(),Nd=require("http"),Dd=require("https"),jk=["ECONNRESET","EPIPE","ETIMEDOUT"],Ay=Q(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),$e={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Sy=1e3,zk=Q((e,t,r=0)=>{if(!r)return-1;let n=Q(o=>{let s=$e.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=Q(a=>{a?.connecting?a.on("connect",()=>{$e.clearTimeout(s)}):$e.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):$e.setTimeout(n.bind(null,Sy),Sy)},"setConnectionTimeout"),Hk=3e3,Bk=Q((e,{keepAlive:t,keepAliveMsecs:r},n=Hk)=>{if(t!==!0)return-1;let o=Q(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):$e.setTimeout(o,n)},"setSocketKeepAlive"),by=3e3,qk=Q((e,t,r=Ny)=>{let n=Q(o=>{let s=r-o,i=Q(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):$e.setTimeout(n.bind(null,r===0?0:by),by)},"setSocketTimeout"),Iy=require("stream"),wy=6e3;async function $d(e,t,r=wy){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number($e.setTimeout(()=>a(!0),Math.max(wy,r)))}),new Promise(a=>{e.on("continue",()=>{$e.clearTimeout(s),a(!0)}),e.on("response",()=>{$e.clearTimeout(s),a(!1)}),e.on("error",()=>{$e.clearTimeout(s),a(!1)})})])),i&&Oy(e,t.body)}Q($d,"writeRequestBody");function Oy(e,t){if(t instanceof Iy.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Q(Oy,"writeBody");var Ny=0,Vk=class kd{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{Q(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new kd(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,u=s[c]?.length??0;if(l>=i&&u>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Nd.Agent||typeof i?.destroy=="function"?i:new Nd.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Dd.Agent||typeof a?.destroy=="function"?a:new Dd.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=Q(async A=>{await i,a.forEach($e.clearTimeout),o(A)},"resolve"),l=Q(async A=>{await i,a.forEach($e.clearTimeout),s(A)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let A=new Error("Request aborted");A.name="AbortError",l(A);return}let u=t.protocol==="https:",f=u?this.config.httpsAgent:this.config.httpAgent;a.push($e.setTimeout(()=>{this.socketWarningTimestamp=kd.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,Ty.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let A=t.username??"",z=t.password??"";h=`${A}:${z}`}let g=t.path;m&&(g+=`?${m}`),t.fragment&&(g+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let E={headers:t.headers,host:y,method:t.method,path:g,port:t.port,agent:f,auth:h},w=(u?Dd.request:Nd.request)(E,A=>{let z=new Ry.HttpResponse({statusCode:A.statusCode||-1,reason:A.statusMessage,headers:Ay(A.headers),body:A});c({response:z})});if(w.on("error",A=>{jk.includes(A.code)?l(Object.assign(A,{name:"TimeoutError"})):l(A)}),r){let A=Q(()=>{w.destroy();let z=new Error("Request aborted");z.name="AbortError",l(z)},"onAbort");if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",A,{once:!0}),w.once("close",()=>z.removeEventListener("abort",A))}else r.onabort=A}let I=n??this.config.requestTimeout;a.push(zk(w,l,this.config.connectionTimeout)),a.push(qk(w,l,I));let x=E.agent;typeof x=="object"&&"keepAlive"in x&&a.push(Bk(w,{keepAlive:x.keepAlive,keepAliveMsecs:x.keepAliveMsecs})),i=$d(w,t,I).catch(A=>(a.forEach($e.clearTimeout),s(A)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Cy=require("http2"),Gk=Fk(require("http2")),Wk=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{Q(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Kk=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Q(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=Gk.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=Q(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new Wk;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Jk=class Dy{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Kk({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{Q(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new Dy(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,u,f=Q(async ee=>{await u,a(ee)},"resolve"),m=Q(async ee=>{await u,c(ee)},"reject");if(r?.aborted){l=!0;let ee=new Error("Request aborted");ee.name="AbortError",m(ee);return}let{hostname:h,method:g,port:y,protocol:E,query:S}=t,w="";if(t.username!=null||t.password!=null){let ee=t.username??"",se=t.password??"";w=`${ee}:${se}@`}let I=`${E}//${w}${h}${y?`:${y}`:""}`,x={destination:new URL(I)},A=this.connectionManager.lease(x,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),z=Q(ee=>{s&&this.destroySession(A),l=!0,m(ee)},"rejectWithDestroy"),we=(0,Ty.buildQueryString)(S||{}),Z=t.path;we&&(Z+=`?${we}`),t.fragment&&(Z+=`#${t.fragment}`);let ue=A.request({...t.headers,[Cy.constants.HTTP2_HEADER_PATH]:Z,[Cy.constants.HTTP2_HEADER_METHOD]:g});if(A.ref(),ue.on("response",ee=>{let se=new Ry.HttpResponse({statusCode:ee[":status"]||-1,headers:Ay(ee),body:ue});l=!0,f({response:se}),s&&(A.close(),this.connectionManager.deleteSession(I,A))}),i&&ue.setTimeout(i,()=>{ue.close();let ee=new Error(`Stream timed out because of no activity for ${i} ms`);ee.name="TimeoutError",z(ee)}),r){let ee=Q(()=>{ue.close();let se=new Error("Request aborted");se.name="AbortError",z(se)},"onAbort");if(typeof r.addEventListener=="function"){let se=r;se.addEventListener("abort",ee,{once:!0}),ue.once("close",()=>se.removeEventListener("abort",ee))}else r.onabort=ee}ue.on("frameError",(ee,se,he)=>{z(new Error(`Frame type id ${ee} in stream id ${he} has failed with code ${se}.`))}),ue.on("error",z),ue.on("aborted",()=>{z(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ue.rstCode}.`))}),ue.on("close",()=>{A.unref(),s&&A.destroy(),l||z(new Error("Unexpected error: http2 request did not get a response"))}),u=$d(ue,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Yk=class extends Iy.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Q(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},Xk=Q(e=>Qk(e)?ky(e):new Promise((t,r)=>{let n=new Yk;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),Qk=Q(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function ky(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Q(ky,"collectReadableStream")});var qy=b((IW,By)=>{var qi=Object.defineProperty,Zk=Object.getOwnPropertyDescriptor,e$=Object.getOwnPropertyNames,t$=Object.prototype.hasOwnProperty,yt=(e,t)=>qi(e,"name",{value:t,configurable:!0}),r$=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},n$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e$(t))!t$.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=Zk(t,o))||n.enumerable});return e},o$=e=>n$(qi({},"__esModule",{value:!0}),e),Ly={};r$(Ly,{FetchHttpHandler:()=>i$,keepAliveSupport:()=>Bi,streamCollector:()=>c$});By.exports=o$(Ly);var My=te(),s$=Od();function Md(e,t){return new Request(e,t)}yt(Md,"createRequest");function Fy(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}yt(Fy,"requestTimeout");var Bi={supported:void 0},i$=class Uy{static{yt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Uy(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Bi.supported===void 0&&(Bi.supported=typeof Request<"u"&&"keepalive"in Md("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,s$.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",I=t.password??"";l=`${w}:${I}@`}let{port:u,method:f}=t,m=`${t.protocol}//${l}${t.hostname}${u?`:${u}`:""}${a}`,h=f==="GET"||f==="HEAD"?void 0:t.body,g={body:h,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),Bi.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=yt(()=>{},"removeSignalEventListener"),E=Md(m,g),S=[fetch(E).then(w=>{let I=w.headers,x={};for(let z of I.entries())x[z[0]]=z[1];return w.body!=null?{response:new My.HttpResponse({headers:x,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(z=>({response:new My.HttpResponse({headers:x,reason:w.statusText,statusCode:w.status,body:z})}))}),Fy(o)];return r&&S.push(new Promise((w,I)=>{let x=yt(()=>{let A=new Error("Request aborted");A.name="AbortError",I(A)},"onAbort");if(typeof r.addEventListener=="function"){let A=r;A.addEventListener("abort",x,{once:!0}),y=yt(()=>A.removeEventListener("abort",x),"removeSignalEventListener")}else r.onabort=x})),Promise.race(S).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},a$=Te(),c$=yt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):jy(e):zy(e),"streamCollector");async function jy(e){let t=await Hy(e),r=(0,a$.fromBase64)(t);return new Uint8Array(r)}yt(jy,"collectBlob");async function zy(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}yt(zy,"collectStream");function Hy(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}yt(Hy,"readToBase64")});var Fd=b((OW,Yy)=>{var Vi=Object.defineProperty,l$=Object.getOwnPropertyDescriptor,d$=Object.getOwnPropertyNames,u$=Object.prototype.hasOwnProperty,Vy=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),p$=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},f$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d$(t))!u$.call(e,o)&&o!==r&&Vi(e,o,{get:()=>t[o],enumerable:!(n=l$(t,o))||n.enumerable});return e},m$=e=>f$(Vi({},"__esModule",{value:!0}),e),Gy={};p$(Gy,{fromHex:()=>Ky,toHex:()=>Jy});Yy.exports=m$(Gy);var Wy={},Ld={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Wy[e]=t,Ld[t]=e}function Ky(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Ld)t[r/2]=Ld[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Vy(Ky,"fromHex");function Jy(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Wy[e[r]];return t}Vy(Jy,"toHex")});var e_=b(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sdkStreamMixin=void 0;var h$=qy(),g$=Te(),y$=Fd(),_$=ge(),Xy=cr(),Qy="The stream has already been transformed.",E$=e=>{var t,r;if(!Zy(e)&&!(0,Xy.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Qy);return n=!0,await(0,h$.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,g$.toBase64)(a);if(i==="hex")return(0,y$.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,_$.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Qy);if(n=!0,Zy(e))return s(e);if((0,Xy.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Gi.sdkStreamMixin=E$;var Zy=e=>typeof Blob=="function"&&e instanceof Blob});var r_=b(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.sdkStreamMixin=void 0;var v$=Fr(),S$=vn(),Ud=require("stream"),b$=e_(),t_="The stream has already been transformed.",w$=e=>{var t,r;if(!(e instanceof Ud.Readable))try{return(0,b$.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(t_);return n=!0,await(0,v$.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,S$.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(t_);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Ud.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Ud.Readable.toWeb(e)}})};Wi.sdkStreamMixin=w$});var n_=b(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.splitStream=C$;async function C$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var i_=b(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.splitStream=x$;var o_=require("stream"),P$=n_(),s_=cr();async function x$(e){if((0,s_.isReadableStream)(e)||(0,s_.isBlob)(e))return(0,P$.splitStream)(e);let t=new o_.PassThrough,r=new o_.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ji=b((MW,Et)=>{var Ki=Object.defineProperty,R$=Object.getOwnPropertyDescriptor,T$=Object.getOwnPropertyNames,A$=Object.prototype.hasOwnProperty,qd=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),I$=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},Hd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T$(t))!A$.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=R$(t,o))||n.enumerable});return e},lr=(e,t,r)=>(Hd(e,t,"default"),r&&Hd(r,t,"default")),O$=e=>Hd(Ki({},"__esModule",{value:!0}),e),_t={};I$(_t,{Uint8ArrayBlobAdapter:()=>Bd});Et.exports=O$(_t);var a_=Te(),c_=ge();function l_(e,t="utf-8"){return t==="base64"?(0,a_.toBase64)(e):(0,c_.toUtf8)(e)}qd(l_,"transformToString");function d_(e,t){return t==="base64"?Bd.mutate((0,a_.fromBase64)(e)):Bd.mutate((0,c_.fromUtf8)(e))}qd(d_,"transformFromString");var Bd=class u_ extends Uint8Array{static{qd(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return d_(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,u_.prototype),t}transformToString(t="utf-8"){return l_(this,t)}};lr(_t,vd(),Et.exports);lr(_t,sy(),Et.exports);lr(_t,uy(),Et.exports);lr(_t,py(),Et.exports);lr(_t,my(),Et.exports);lr(_t,r_(),Et.exports);lr(_t,i_(),Et.exports);lr(_t,cr(),Et.exports)});var Yi,at,Xi=_(()=>{Yi=v(Ji()),at=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Yi.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Yi.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Yi.Uint8ArrayBlobAdapter.mutate(await r)}});function vt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Qi=_(()=>{});var Lt,Vd=_(()=>{Lt=e=>typeof e=="function"?e():e});var p_=_(()=>{});var Ae,f_=_(()=>{Ae=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Ae.registries=new Map});var St,wn=_(()=>{St=class{constructor(t,r){this.name=t,this.traits=r}}});var vo,Gd=_(()=>{wn();vo=class e extends St{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};vo.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var So,Wd=_(()=>{wn();So=class e extends St{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};So.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var m_=_(()=>{});var Ur,Zi=_(()=>{wn();Ur=class e extends St{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ur.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var Kd,h_=_(()=>{Zi();Kd=class e extends Ur{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Kd.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var R,Jd=_(()=>{R={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var bo,Yd=_(()=>{wn();bo=class e extends St{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};bo.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var N,g_=_(()=>{Vd();Gd();Wd();Jd();Yd();Zi();N=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Lt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Lt(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof bo?Lt(this.schema.schemaRef):Lt(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=R.LIST_MODIFIER&&t<R.MAP_MODIFIER:t instanceof vo}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=R.MAP_MODIFIER&&t<=255:t instanceof So}isDocumentSchema(){return this.getSchema()===R.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Ur}isBlobSchema(){return this.getSchema()===R.BLOB||this.getSchema()===R.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=R.TIMESTAMP_DEFAULT&&t<=R.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===R.STRING}isBooleanSchema(){return this.getSchema()===R.BOOLEAN}isNumericSchema(){return this.getSchema()===R.NUMERIC}isBigIntegerSchema(){return this.getSchema()===R.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===R.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===R.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(R).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case R.MAP_MODIFIER:return`${o}Map`;case R.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};N.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var pe=_(()=>{Vd();p_();Gd();Wd();m_();h_();g_();wn();Yd();Zi();Jd();f_()});var N$,y_=_(()=>{N$=(e,t,r=n=>n)=>e});var D$,k$,wo,$$,ea,Co,M$,Xd,Qd,Zd,eu,L$,F$,__,U$,j$,ra,z$,tu,H$,Cn,ru,B$,q$,V$,E_,v_,G$,W$,jr,nu,ta,Po,ou=_(()=>{D$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},k$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Po.warn(ta(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Po.warn(ta(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},wo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Po.warn(ta(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},$$=Math.ceil(34028234663852886e22),ea=e=>{let t=wo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>$$)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Co=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},M$=Co,Xd=e=>eu(e,32),Qd=e=>eu(e,16),Zd=e=>eu(e,8),eu=(e,t)=>{let r=Co(e);if(r!==void 0&&L$(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},L$=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},F$=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},__=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},U$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Po.warn(ta(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},j$=e=>{if(e==null)return;let t=__(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ra=e=>wo(typeof e=="string"?Cn(e):e),z$=ra,tu=e=>ea(typeof e=="string"?Cn(e):e),H$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Cn=e=>{let t=e.match(H$);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},ru=e=>typeof e=="string"?E_(e):wo(e),B$=ru,q$=ru,V$=e=>typeof e=="string"?E_(e):ea(e),E_=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},v_=e=>Co(typeof e=="string"?Cn(e):e),G$=v_,W$=e=>Xd(typeof e=="string"?Cn(e):e),jr=e=>Qd(typeof e=="string"?Cn(e):e),nu=e=>Zd(typeof e=="string"?Cn(e):e),ta=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Po={warn:console.warn}});function Ro(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${K$[n]}, ${c} ${iu[r]} ${t} ${l}:${u}:${f} GMT`}var K$,iu,J$,Y$,X$,To,Q$,Z$,e2,Ao,Io,xo,t2,r2,n2,su,o2,s2,i2,bt,a2,c2,Pn,S_=_(()=>{ou();K$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],iu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];J$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Y$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=J$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,u=jr(Pn(n)),f=bt(o,"month",1,12),m=bt(s,"day",1,31);return xo(u,f,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},X$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),To=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=X$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,u]=t,f=jr(Pn(n)),m=bt(o,"month",1,12),h=bt(s,"day",1,31),g=xo(f,m,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&g.setTime(g.getTime()-c2(u)),g},Q$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Z$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),e2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Ao=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Q$.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return xo(jr(Pn(s)),su(o),bt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=Z$.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return n2(xo(t2(s),su(o),bt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=e2.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return xo(jr(Pn(l)),su(n),bt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Io=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ra(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},xo=(e,t,r,n)=>{let o=t-1;return s2(e,o,r),new Date(Date.UTC(e,o,r,bt(n.hours,"hour",0,23),bt(n.minutes,"minute",0,59),bt(n.seconds,"seconds",0,60),a2(n.fractionalMilliseconds)))},t2=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+jr(Pn(e));return r<t?r+100:r},r2=50*365*24*60*60*1e3,n2=e=>e.getTime()-new Date().getTime()>r2?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,su=e=>{let t=iu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},o2=[31,28,31,30,31,30,31,31,30,31,30,31],s2=(e,t,r)=>{let n=o2[t];if(t===1&&i2(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${iu[t]} in ${e}: ${r}`)},i2=e=>e%4===0&&(e%100!==0||e%400===0),bt=(e,t,r,n)=>{let o=nu(Pn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},a2=e=>e==null?0:tu("0."+e)*1e3,c2=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Pn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function Oo(){return na>oa.length-16&&(b_.default.randomFillSync(oa),na=0),oa.slice(na,na+=16)}var b_,oa,na,au=_(()=>{b_=v(require("crypto")),oa=new Uint8Array(256),na=oa.length});var w_,C_=_(()=>{w_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function l2(e){return typeof e=="string"&&w_.test(e)}var dr,No=_(()=>{C_();dr=l2});function zr(e,t=0){return ye[e[t+0]]+ye[e[t+1]]+ye[e[t+2]]+ye[e[t+3]]+"-"+ye[e[t+4]]+ye[e[t+5]]+"-"+ye[e[t+6]]+ye[e[t+7]]+"-"+ye[e[t+8]]+ye[e[t+9]]+"-"+ye[e[t+10]]+ye[e[t+11]]+ye[e[t+12]]+ye[e[t+13]]+ye[e[t+14]]+ye[e[t+15]]}function d2(e,t=0){let r=zr(e,t);if(!dr(r))throw TypeError("Stringified UUID is invalid");return r}var ye,P_,Do=_(()=>{No();ye=[];for(let e=0;e<256;++e)ye.push((e+256).toString(16).slice(1));P_=d2});function u2(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||x_,i=e.clockseq!==void 0?e.clockseq:cu;if(s==null||i==null){let m=e.random||(e.rng||Oo)();s==null&&(s=x_=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),i==null&&(i=cu=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:du+1,l=a-lu+(c-du)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>lu)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lu=a,du=c,cu=i,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let m=0;m<6;++m)o[n+m]=s[m];return t||zr(o)}var x_,cu,lu,du,R_,T_=_(()=>{au();Do();lu=0,du=0;R_=u2});function p2(e){if(!dr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var sa,uu=_(()=>{No();sa=p2});function f2(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function ko(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=f2(o)),typeof s=="string"&&(s=sa(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let u=0;u<16;++u)i[a+u]=l[u];return i}return zr(l)}try{n.name=e}catch{}return n.DNS=m2,n.URL=h2,n}var m2,h2,pu=_(()=>{Do();uu();m2="6ba7b810-9dad-11d1-80b4-00c04fd430c8",h2="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function g2(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),A_.default.createHash("md5").update(e).digest()}var A_,I_,O_=_(()=>{A_=v(require("crypto"));I_=g2});var y2,N_,D_=_(()=>{pu();O_();y2=ko("v3",48,I_),N_=y2});var k_,fu,$_=_(()=>{k_=v(require("crypto")),fu={randomUUID:k_.default.randomUUID}});function _2(e,t,r){if(fu.randomUUID&&!t&&!e)return fu.randomUUID();e=e||{};let n=e.random||(e.rng||Oo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return zr(n)}var wt,M_=_(()=>{$_();au();Do();wt=_2});function E2(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),L_.default.createHash("sha1").update(e).digest()}var L_,F_,U_=_(()=>{L_=v(require("crypto"));F_=E2});var v2,j_,z_=_(()=>{pu();U_();v2=ko("v5",80,F_),j_=v2});var H_,B_=_(()=>{H_="00000000-0000-0000-0000-000000000000"});function S2(e){if(!dr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var q_,V_=_(()=>{No();q_=S2});var G_={};st(G_,{NIL:()=>H_,parse:()=>sa,stringify:()=>P_,v1:()=>R_,v3:()=>N_,v4:()=>wt,v5:()=>j_,validate:()=>dr,version:()=>q_});var mu=_(()=>{T_();D_();M_();z_();B_();V_();No();Do();uu()});var W_=_(()=>{mu()});var Ie,K_=_(()=>{Ie=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ie.from=e=>e&&typeof e=="object"&&(e instanceof Ie||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ie(String(e)):Ie(JSON.stringify(e));Ie.fromObject=Ie.from});function hu(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var J_=_(()=>{});function gu(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var Y_=_(()=>{});var $o,X_=_(()=>{$o=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function b2(e){return new _e(String(e),"bigDecimal")}var _e,Q_=_(()=>{_e=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var Z_={};st(Z_,{LazyJsonString:()=>Ie,NumericValue:()=>_e,copyDocumentWithTransform:()=>N$,dateToUtcString:()=>Ro,expectBoolean:()=>k$,expectByte:()=>Zd,expectFloat32:()=>ea,expectInt:()=>M$,expectInt32:()=>Xd,expectLong:()=>Co,expectNonNull:()=>F$,expectNumber:()=>wo,expectObject:()=>__,expectShort:()=>Qd,expectString:()=>U$,expectUnion:()=>j$,generateIdempotencyToken:()=>wt,handleFloat:()=>B$,limitedParseDouble:()=>ru,limitedParseFloat:()=>q$,limitedParseFloat32:()=>V$,logger:()=>Po,nv:()=>b2,parseBoolean:()=>D$,parseEpochTimestamp:()=>Io,parseRfc3339DateTime:()=>Y$,parseRfc3339DateTimeWithOffset:()=>To,parseRfc7231DateTime:()=>Ao,quoteHeader:()=>hu,splitEvery:()=>gu,splitHeader:()=>$o,strictParseByte:()=>nu,strictParseDouble:()=>ra,strictParseFloat:()=>z$,strictParseFloat32:()=>tu,strictParseInt:()=>G$,strictParseInt32:()=>W$,strictParseLong:()=>v_,strictParseShort:()=>jr});var ct=_(()=>{y_();S_();W_();K_();ou();J_();Y_();X_();Q_()});var ia,xn,yu=_(()=>{pe();ia=v(te()),xn=class{constructor(t){this.options=t}getRequestType(){return ia.HttpRequest}getResponseType(){return ia.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=N.of(r),s=N.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){return[]}}});var eE,tE,Hr,rE=_(()=>{pe();ct();eE=v(te()),tE=v(Ji());Xi();Qi();yu();Hr=class extends xn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=N.of(t?.input),u=l.getSchema(),f=!1,m,h=new eE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,o);let g=N.translateTraits(t.traits);if(g.http){h.method=g.http[0];let[y,E]=g.http[1].split("?");h.path=="/"?h.path=y:h.path+=y;let S=new URLSearchParams(E??"");Object.assign(i,Object.fromEntries(S))}}for(let[g,y]of l.structIterator()){let E=y.getMergedTraits()??{},S=o[g];if(S!=null)if(E.httpPayload){if(y.isStreaming()){if(y.isStructSchema())throw new Error("serialization of event streams is not yet implemented");m=S}else s.write(y,S),m=s.flush();delete o[g]}else if(E.httpLabel){s.write(y,S);let w=s.flush();h.path.includes(`{${g}+}`)?h.path=h.path.replace(`{${g}+}`,w.split("/").map(vt).join("/")):h.path.includes(`{${g}}`)&&(h.path=h.path.replace(`{${g}}`,vt(w))),delete o[g]}else if(E.httpHeader)s.write(y,S),a[E.httpHeader.toLowerCase()]=String(s.flush()),delete o[g];else if(typeof E.httpPrefixHeaders=="string"){for(let[w,I]of Object.entries(S)){let x=E.httpPrefixHeaders+w;s.write([y.getValueSchema(),{httpHeader:x}],I),a[x.toLowerCase()]=s.flush()}delete o[g]}else E.httpQuery||E.httpQueryParams?(this.serializeQuery(y,S,i),delete o[g]):f=!0}return f&&o&&(s.write(u,o),m=s.flush()),h.headers=a,h.query=i,h.body=m,h}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(N.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let l=await at(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await at(n.body,r);if(l.byteLength>0){let u=await o.read(s,l);for(let f of a)i[f]=u[f]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=N.of(t),l=[];for(let[u,f]of c.structIterator()){let m=f.getMemberTraits();if(m.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let y=this.serdeContext;if(!y.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let E=f.getMemberSchemas();i[u]=y.eventStreamMarshaller.deserialize(n.body,async S=>{let w=Object.keys(S).find(I=>I!=="__type")??"";if(w in E){let I=E[w];return{[w]:await a.read(I,S[w].body)}}else return{$unknown:S}})}else i[u]=(0,tE.sdkStreamMixin)(n.body);else if(n.body){let g=await at(n.body,r);g.byteLength>0&&(i[u]=await a.read(f,g))}}else if(m.httpHeader){let h=String(m.httpHeader).toLowerCase(),g=n.headers[h];if(g!=null)if(f.isListSchema()){let y=f.getValueSchema(),E;y.isTimestampSchema()&&y.getSchema()===R.TIMESTAMP_DEFAULT?E=gu(g,",",2):E=$o(g);let S=[];for(let w of E)S.push(await a.read([y,{httpHeader:h}],w.trim()));i[u]=S}else i[u]=await a.read(f,g)}else if(m.httpPrefixHeaders!==void 0){i[u]={};for(let[h,g]of Object.entries(n.headers))h.startsWith(m.httpPrefixHeaders)&&(i[u][h.slice(m.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:h}],g))}else m.httpResponseCode?i[u]=n.statusCode:l.push(u)}return l}}});var nE,Br,oE=_(()=>{pe();nE=v(te());Xi();yu();Br=class extends xn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=N.of(t?.input).getSchema(),u,f=new nE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let m={...r};return r&&(o.write(l,m),u=o.flush()),f.headers=i,f.query=s,f.body=u,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let l=await at(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await at(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var _u,Eu=_(()=>{Qi();_u=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>vt(a)).join("/"):vt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Mo(e,t){return new aa(e,t)}var sE,aa,iE=_(()=>{sE=v(te());Eu();aa=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new sE.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=_u(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function qr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===R.TIMESTAMP_DATE_TIME||e.getSchema()===R.TIMESTAMP_HTTP_DATE||e.getSchema()===R.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?R.TIMESTAMP_HTTP_DATE:s||r?R.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var ca=_(()=>{pe()});var vu,aE,Vr,Su=_(()=>{pe();ct();vu=v(Te()),aE=v(ge());ca();Vr=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=N.of(t);if(n.isListSchema())return $o(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??vu.fromBase64)(r);if(n.isTimestampSchema())switch(qr(n,this.settings)){case R.TIMESTAMP_DATE_TIME:return To(r);case R.TIMESTAMP_HTTP_DATE:return Ao(r);case R.TIMESTAMP_EPOCH_SECONDS:return Io(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new _e(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??aE.toUtf8)((this.serdeContext?.base64Decoder??vu.fromBase64)(t))}}});var la,Gr,cE=_(()=>{pe();la=v(ge());Su();Gr=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Vr(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=N.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??la.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??la.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var bu,Lo,wu=_(()=>{pe();ct();bu=v(Te());ca();Lo=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=N.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(qr(n,this.settings)){case R.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case R.TIMESTAMP_HTTP_DATE:this.stringBuffer=Ro(r);break;case R.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??bu.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:hu(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??bu.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Wr,lE=_(()=>{pe();wu();Wr=class{constructor(t,r,n=new Lo(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=N.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var dE={};st(dE,{FromStringShapeDeserializer:()=>Vr,HttpBindingProtocol:()=>Hr,HttpInterceptingShapeDeserializer:()=>Gr,HttpInterceptingShapeSerializer:()=>Wr,RequestBuilder:()=>aa,RpcProtocol:()=>Br,ToStringShapeSerializer:()=>Lo,collectBody:()=>at,determineTimestampFormat:()=>qr,extendedEncodeURIComponent:()=>vt,requestBuilder:()=>Mo,resolvedPath:()=>_u});var Ft=_(()=>{Xi();Qi();rE();oE();iE();Eu();Su();cE();lE();wu();ca()});var uE=_(()=>{Ft()});function w2(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var pE=_(()=>{});var Kr,fE=_(()=>{Kr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var mE,Cu,Pu,hE=_(()=>{mE=v(te()),Cu=v(gt()),Pu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=mE.HttpRequest.clone(t);if(n.in===Cu.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Cu.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var gE,xu,yE=_(()=>{gE=v(te()),xu=class{async sign(t,r,n){let o=gE.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Ut,_E=_(()=>{Ut=class{async sign(t,r,n){return t}}});var EE=_(()=>{hE();yE();_E()});var vE,C2,Ru,da,Tu,SE=_(()=>{vE=e=>t=>da(t)&&t.expiration.getTime()-Date.now()<e,C2=3e5,Ru=vE(3e5),da=e=>e.expiration!==void 0,Tu=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var bE=_(()=>{fE();EE();SE()});var Rn={};st(Rn,{DefaultIdentityProviderConfig:()=>Kr,EXPIRATION_MS:()=>C2,HttpApiKeyAuthSigner:()=>Pu,HttpBearerAuthSigner:()=>xu,NoAuthSigner:()=>Ut,createIsIdentityExpiredFunction:()=>vE,createPaginator:()=>Hg,doesIdentityRequireRefresh:()=>da,getHttpAuthSchemeEndpointRuleSetPlugin:()=>yo,getHttpAuthSchemePlugin:()=>aD,getHttpSigningPlugin:()=>_o,getSmithyContext:()=>q1,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>wg,httpAuthSchemeMiddleware:()=>go,httpAuthSchemeMiddlewareOptions:()=>Dg,httpSigningMiddleware:()=>pd,httpSigningMiddlewareOptions:()=>Fg,isIdentityExpired:()=>Ru,memoizeIdentityProvider:()=>Tu,normalizeProvider:()=>ar,requestBuilder:()=>Mo,setFeature:()=>w2});var Me=_(()=>{hg();$g();jg();zg();Bg();uE();pE();bE()});var Tn=b((UY,OE)=>{var ua=Object.defineProperty,P2=Object.getOwnPropertyDescriptor,x2=Object.getOwnPropertyNames,R2=Object.prototype.hasOwnProperty,Y=(e,t)=>ua(e,"name",{value:t,configurable:!0}),T2=(e,t)=>{for(var r in t)ua(e,r,{get:t[r],enumerable:!0})},A2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x2(t))!R2.call(e,o)&&o!==r&&ua(e,o,{get:()=>t[o],enumerable:!(n=P2(t,o))||n.enumerable});return e},I2=e=>A2(ua({},"__esModule",{value:!0}),e),wE={};T2(wE,{EndpointCache:()=>O2,EndpointError:()=>Le,customEndpointFunctions:()=>Iu,isIpAddress:()=>CE,isValidHostLabel:()=>Nu,resolveEndpoint:()=>Y2});OE.exports=I2(wE);var O2=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Y(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},N2=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),CE=Y(e=>N2.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),D2=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Nu=Y((e,t=!1)=>{if(!t)return D2.test(e);let r=e.split(".");for(let n of r)if(!Nu(n))return!1;return!0},"isValidHostLabel"),Iu={},Fo="endpoints";function jt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${jt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(jt).join(", ")})`:JSON.stringify(e,null,2)}Y(jt,"toDebugString");var Le=class extends Error{static{Y(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},k2=Y((e,t)=>e===t,"booleanEquals"),$2=Y(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Le(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Le(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),PE=Y((e,t)=>$2(t).reduce((r,n)=>{if(typeof r!="object")throw new Le(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),M2=Y(e=>e!=null,"isSet"),L2=Y(e=>!e,"not"),Ou=gt(),Au={[Ou.EndpointURLScheme.HTTP]:80,[Ou.EndpointURLScheme.HTTPS]:443},F2=Y(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:h,protocol:g="",path:y="",query:E={}}=e,S=new URL(`${g}//${m}${h?`:${h}`:""}${y}`);return S.search=Object.entries(E).map(([w,I])=>`${w}=${I}`).join("&"),S}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Ou.EndpointURLScheme).includes(c))return null;let l=CE(o),u=r.includes(`${n}:${Au[c]}`)||typeof e=="string"&&e.includes(`${n}:${Au[c]}`),f=`${n}${u?`:${Au[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),U2=Y((e,t)=>e===t,"stringEquals"),j2=Y((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),z2=Y(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),H2={booleanEquals:k2,getAttr:PE,isSet:M2,isValidHostLabel:Nu,not:L2,parseURL:F2,stringEquals:U2,substring:j2,uriEncode:z2},xE=Y((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(PE(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),B2=Y(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),pa=Y((e,t,r)=>{if(typeof e=="string")return xE(e,r);if(e.fn)return RE(e,r);if(e.ref)return B2(e,r);throw new Le(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),RE=Y(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:pa(s,"arg",r)),o=e.split(".");return o[0]in Iu&&o[1]!=null?Iu[o[0]][o[1]](...n):H2[e](...n)},"callFunction"),q2=Y(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Le(`'${e}' is already defined in Reference Record.`);let n=RE(t,r);return r.logger?.debug?.(`${Fo} evaluateCondition: ${jt(t)} = ${jt(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Du=Y((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=q2(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${Fo} assign: ${s.name} := ${jt(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),V2=Y((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=pa(s,"Header value entry",t);if(typeof i!="string")throw new Le(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),TE=Y((e,t)=>{if(Array.isArray(e))return e.map(r=>TE(r,t));switch(typeof e){case"string":return xE(e,t);case"object":if(e===null)throw new Le(`Unexpected endpoint property: ${e}`);return AE(e,t);case"boolean":return e;default:throw new Le(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),AE=Y((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:TE(o,t)}),{}),"getEndpointProperties"),G2=Y((e,t)=>{let r=pa(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Le(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),W2=Y((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Du(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${Fo} Resolving endpoint from template: ${jt(n)}`),{...l!=null&&{headers:V2(l,i)},...c!=null&&{properties:AE(c,i)},url:G2(a,i)}},"evaluateEndpointRule"),K2=Y((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Du(r,t);if(o)throw new Le(pa(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),J2=Y((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Du(r,t);if(o)return IE(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),IE=Y((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=W2(r,t);if(n)return n}else if(r.type==="error")K2(r,t);else if(r.type==="tree"){let n=J2(r,t);if(n)return n}else throw new Le(`Unknown endpoint rule: ${r}`);throw new Le("Rules evaluation failed")},"evaluateRules"),Y2=Y((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${Fo} Initial EndpointParams: ${jt(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(i.length>0)for(let[l,u]of i)r[l]=r[l]??u;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Le(`Missing required parameter: '${l}'`);let c=IE(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Fo} Resolved endpoint: ${jt(c)}`),c},"resolveEndpoint")});var $E=b((HY,kE)=>{var fa=Object.defineProperty,X2=Object.getOwnPropertyDescriptor,Q2=Object.getOwnPropertyNames,Z2=Object.prototype.hasOwnProperty,eM=(e,t)=>fa(e,"name",{value:t,configurable:!0}),tM=(e,t)=>{for(var r in t)fa(e,r,{get:t[r],enumerable:!0})},rM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q2(t))!Z2.call(e,o)&&o!==r&&fa(e,o,{get:()=>t[o],enumerable:!(n=X2(t,o))||n.enumerable});return e},nM=e=>rM(fa({},"__esModule",{value:!0}),e),NE={};tM(NE,{parseQueryString:()=>DE});kE.exports=nM(NE);function DE(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}eM(DE,"parseQueryString")});var ur=b((BY,FE)=>{var ma=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyNames,iM=Object.prototype.hasOwnProperty,aM=(e,t)=>ma(e,"name",{value:t,configurable:!0}),cM=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},lM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sM(t))!iM.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=oM(t,o))||n.enumerable});return e},dM=e=>lM(ma({},"__esModule",{value:!0}),e),ME={};cM(ME,{parseUrl:()=>LE});FE.exports=dM(ME);var uM=$E(),LE=aM(e=>{if(typeof e=="string")return LE(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,uM.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var An=b((qY,JE)=>{"use strict";var ha=Object.defineProperty,pM=Object.getOwnPropertyDescriptor,fM=Object.getOwnPropertyNames,mM=Object.prototype.hasOwnProperty,pr=(e,t)=>ha(e,"name",{value:t,configurable:!0}),hM=(e,t)=>{for(var r in t)ha(e,r,{get:t[r],enumerable:!0})},gM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fM(t))!mM.call(e,o)&&o!==r&&ha(e,o,{get:()=>t[o],enumerable:!(n=pM(t,o))||n.enumerable});return e},yM=e=>gM(ha({},"__esModule",{value:!0}),e),jE={};hM(jE,{ConditionObject:()=>re.ConditionObject,DeprecatedObject:()=>re.DeprecatedObject,EndpointError:()=>re.EndpointError,EndpointObject:()=>re.EndpointObject,EndpointObjectHeaders:()=>re.EndpointObjectHeaders,EndpointObjectProperties:()=>re.EndpointObjectProperties,EndpointParams:()=>re.EndpointParams,EndpointResolverOptions:()=>re.EndpointResolverOptions,EndpointRuleObject:()=>re.EndpointRuleObject,ErrorRuleObject:()=>re.ErrorRuleObject,EvaluateOptions:()=>re.EvaluateOptions,Expression:()=>re.Expression,FunctionArgv:()=>re.FunctionArgv,FunctionObject:()=>re.FunctionObject,FunctionReturn:()=>re.FunctionReturn,ParameterObject:()=>re.ParameterObject,ReferenceObject:()=>re.ReferenceObject,ReferenceRecord:()=>re.ReferenceRecord,RuleSetObject:()=>re.RuleSetObject,RuleSetRules:()=>re.RuleSetRules,TreeRuleObject:()=>re.TreeRuleObject,awsEndpointFunctions:()=>WE,getUserAgentPrefix:()=>SM,isIpAddress:()=>re.isIpAddress,partition:()=>VE,resolveDefaultAwsRegionalEndpointsConfig:()=>wM,resolveEndpoint:()=>re.resolveEndpoint,setPartitionInfo:()=>GE,toEndpointV1:()=>KE,useDefaultPartitionInfo:()=>vM});JE.exports=yM(jE);var re=Tn(),zE=pr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!zE(r))return!1;return!0}return!(!(0,re.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,re.isIpAddress)(e))},"isVirtualHostableS3Bucket"),UE=":",_M="/",EM=pr(e=>{let t=e.split(UE);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(UE)==="")return null;let c=a.map(l=>l.split(_M)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),HE={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},BE=HE,qE="",VE=pr(e=>{let{partitions:t}=BE;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),GE=pr((e,t="")=>{BE=e,qE=t},"setPartitionInfo"),vM=pr(()=>{GE(HE,"")},"useDefaultPartitionInfo"),SM=pr(()=>qE,"getUserAgentPrefix"),WE={isVirtualHostableS3Bucket:zE,parseArn:EM,partition:VE};re.customEndpointFunctions.aws=WE;var bM=ur(),wM=pr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>KE(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),KE=pr(e=>(0,bM.parseUrl)(e.url),"toEndpointV1")});var ga,In,YE=_(()=>{ga={warningEmitted:!1},In=e=>{e&&!ga.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ga.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function fr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var XE=_(()=>{});function QE(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var ZE=_(()=>{});function ev(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var tv=_(()=>{});var mr={};st(mr,{emitWarningIfUnsupportedVersion:()=>In,setCredentialFeature:()=>fr,setFeature:()=>QE,setTokenFeature:()=>ev,state:()=>ga});var lt=_(()=>{YE();XE();ZE();tv()});var rv,ku,ov=_(()=>{rv=v(te()),ku=e=>rv.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var On,$u=_(()=>{On=e=>new Date(Date.now()+e)});var sv,iv=_(()=>{$u();sv=(e,t)=>Math.abs(On(t).getTime()-e)>=3e5});var Mu,av=_(()=>{iv();Mu=(e,t)=>{let r=Date.parse(e);return sv(r,t)?r-Date.now():t}});var Lu=_(()=>{ov();$u();av()});var cv,Uo,Nn,Fe,Fu,Uu=_(()=>{cv=v(te());Lu();Uo=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Nn=async e=>{let t=Uo("context",e.context),r=Uo("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Uo("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Fe=class{async sign(t,r,n){if(!cv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Nn(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,m]=l.authSchemes;f?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await i.sign(t,{signingDate:On(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??ku(r.$response);if(n){let o=Uo("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Mu(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=ku(t);if(n){let o=Uo("config",r.config);o.systemClockOffset=Mu(n,o.systemClockOffset)}}},Fu=Fe});var lv,jo,dv=_(()=>{lv=v(te());Lu();Uu();jo=class extends Fe{async sign(t,r,n){if(!lv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Nn(n),u=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:On(o.systemClockOffset),signingRegion:u,signingService:c})}}});var ju,uv=_(()=>{ju=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var ya,zu=_(()=>{ya=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var pv,fv,Dn,mv=_(()=>{uv();zu();pv="AWS_AUTH_SCHEME_PREFERENCE",fv="auth_scheme_preference",Dn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&ya(t.signingName)in e)return["httpBearerAuth"];if(pv in e)return ju(e[pv])},configFileSelector:e=>{if(fv in e)return ju(e[fv])},default:[]}});var Oe=b((EX,Ev)=>{var _a=Object.defineProperty,CM=Object.getOwnPropertyDescriptor,PM=Object.getOwnPropertyNames,xM=Object.prototype.hasOwnProperty,Jr=(e,t)=>_a(e,"name",{value:t,configurable:!0}),RM=(e,t)=>{for(var r in t)_a(e,r,{get:t[r],enumerable:!0})},TM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PM(t))!xM.call(e,o)&&o!==r&&_a(e,o,{get:()=>t[o],enumerable:!(n=CM(t,o))||n.enumerable});return e},AM=e=>TM(_a({},"__esModule",{value:!0}),e),hv={};RM(hv,{CredentialsProviderError:()=>IM,ProviderError:()=>Ea,TokenProviderError:()=>OM,chain:()=>NM,fromStatic:()=>DM,memoize:()=>kM});Ev.exports=AM(hv);var Ea=class gv extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,gv.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Jr(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},IM=class yv extends Ea{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,yv.prototype)}static{Jr(this,"CredentialsProviderError")}},OM=class _v extends Ea{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,_v.prototype)}static{Jr(this,"TokenProviderError")}},NM=Jr((...e)=>async()=>{if(e.length===0)throw new Ea("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),DM=Jr(e=>()=>Promise.resolve(e),"fromStatic"),kM=Jr((e,t,r)=>{let n,o,s,i=!1,a=Jr(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Hu,vv,Sv,bv=_(()=>{Me();Hu=v(Oe()),vv=e=>(e.sigv4aSigningRegionSet=ar(e.sigv4aSigningRegionSet),e),Sv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Hu.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Hu.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Xv=b((bX,Yv)=>{var xa=Object.defineProperty,$M=Object.getOwnPropertyDescriptor,MM=Object.getOwnPropertyNames,LM=Object.prototype.hasOwnProperty,Ee=(e,t)=>xa(e,"name",{value:t,configurable:!0}),FM=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},UM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MM(t))!LM.call(e,o)&&o!==r&&xa(e,o,{get:()=>t[o],enumerable:!(n=$M(t,o))||n.enumerable});return e},jM=e=>UM(xa({},"__esModule",{value:!0}),e),Rv={};FM(Rv,{ALGORITHM_IDENTIFIER:()=>va,ALGORITHM_IDENTIFIER_V4A:()=>qM,ALGORITHM_QUERY_PARAM:()=>Tv,ALWAYS_UNSIGNABLE_HEADERS:()=>Mv,AMZ_DATE_HEADER:()=>Yu,AMZ_DATE_QUERY_PARAM:()=>Gu,AUTH_HEADER:()=>Ju,CREDENTIAL_QUERY_PARAM:()=>Av,DATE_HEADER:()=>Nv,EVENT_ALGORITHM_IDENTIFIER:()=>Uv,EXPIRES_QUERY_PARAM:()=>Ov,GENERATED_HEADERS:()=>Dv,HOST_HEADER:()=>HM,KEY_TYPE_IDENTIFIER:()=>Xu,MAX_CACHE_SIZE:()=>zv,MAX_PRESIGNED_TTL:()=>Hv,PROXY_HEADER_PATTERN:()=>Lv,REGION_SET_PARAM:()=>zM,SEC_HEADER_PATTERN:()=>Fv,SHA256_HEADER:()=>Pa,SIGNATURE_HEADER:()=>kv,SIGNATURE_QUERY_PARAM:()=>Wu,SIGNED_HEADERS_QUERY_PARAM:()=>Iv,SignatureV4:()=>tL,SignatureV4Base:()=>Jv,TOKEN_HEADER:()=>$v,TOKEN_QUERY_PARAM:()=>Ku,UNSIGNABLE_PATTERNS:()=>BM,UNSIGNED_PAYLOAD:()=>jv,clearCredentialCache:()=>GM,createScope:()=>ba,getCanonicalHeaders:()=>Bu,getCanonicalQuery:()=>Kv,getPayloadHash:()=>wa,getSigningKey:()=>Bv,hasHeader:()=>Vv,moveHeadersToQuery:()=>Wv,prepareRequest:()=>Vu,signatureV4aContainer:()=>rL});Yv.exports=jM(Rv);var wv=ge(),Tv="X-Amz-Algorithm",Av="X-Amz-Credential",Gu="X-Amz-Date",Iv="X-Amz-SignedHeaders",Ov="X-Amz-Expires",Wu="X-Amz-Signature",Ku="X-Amz-Security-Token",zM="X-Amz-Region-Set",Ju="authorization",Yu=Gu.toLowerCase(),Nv="date",Dv=[Ju,Yu,Nv],kv=Wu.toLowerCase(),Pa="x-amz-content-sha256",$v=Ku.toLowerCase(),HM="host",Mv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Lv=/^proxy-/,Fv=/^sec-/,BM=[/^proxy-/i,/^sec-/i],va="AWS4-HMAC-SHA256",qM="AWS4-ECDSA-P256-SHA256",Uv="AWS4-HMAC-SHA256-PAYLOAD",jv="UNSIGNED-PAYLOAD",zv=50,Xu="aws4_request",Hv=3600*24*7,hr=Fd(),VM=ge(),kn={},Sa=[],ba=Ee((e,t,r)=>`${e}/${t}/${r}/${Xu}`,"createScope"),Bv=Ee(async(e,t,r,n,o)=>{let s=await Cv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,hr.toHex)(s)}:${t.sessionToken}`;if(i in kn)return kn[i];for(Sa.push(i);Sa.length>zv;)delete kn[Sa.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Xu])a=await Cv(e,a,c);return kn[i]=a},"getSigningKey"),GM=Ee(()=>{Sa.length=0,Object.keys(kn).forEach(e=>{delete kn[e]})},"clearCredentialCache"),Cv=Ee((e,t,r)=>{let n=new e(t);return n.update((0,VM.toUint8Array)(r)),n.digest()},"hmac"),Bu=Ee(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Mv||t?.has(s)||Lv.test(s)||Fv.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),WM=md(),KM=ge(),wa=Ee(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Pa)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,WM.isArrayBuffer)(t)){let n=new r;return n.update((0,KM.toUint8Array)(t)),(0,hr.toHex)(await n.digest())}return jv},"getPayloadHash"),Pv=ge(),JM=class{static{Ee(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,Pv.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,Pv.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(XM.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!YM.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,hr.fromHex)(e.value.replace(/\-/g,"")),1),u}}},YM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,XM=class qv{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ee(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&qu(r),new qv(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&qu(t),parseInt((0,hr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function qu(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ee(qu,"negate");var Vv=Ee((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Gv=te(),Wv=Ee((e,t={})=>{let{headers:r,query:n={}}=Gv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Vu=Ee(e=>{e=Gv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Dv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),xv=it(),QM=ge(),Ca=Ad(),Kv=Ee(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===kv)continue;let o=(0,Ca.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,Ca.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,Ca.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),ZM=Ee(e=>eL(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),eL=Ee(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Jv=class{static{Ee(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,xv.normalizeProvider)(r),this.credentialProvider=(0,xv.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Kv(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,QM.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,hr.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Ca.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=ZM(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},tL=class extends Jv{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new JM}static{Ee(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let f=c??await this.regionProvider(),{longDate:m,shortDate:h}=this.formatDate(r);if(n>Hv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=ba(h,f,l??this.service),y=Wv(Vu(e),{unhoistableHeaders:s,hoistableHeaders:a});u.sessionToken&&(y.query[Ku]=u.sessionToken),y.query[Tv]=va,y.query[Av]=`${u.accessKeyId}/${g}`,y.query[Gu]=m,y.query[Ov]=n.toString(10);let E=Bu(y,o,i);return y.query[Iv]=this.getCanonicalHeaderList(E),y.query[Wu]=await this.getSignature(m,g,this.getSigningKey(u,f,h,l),this.createCanonicalRequest(y,E,await wa(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=ba(a,i,s??this.service),u=await wa({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let m=(0,hr.toHex)(await f.digest()),h=[Uv,c,l,n,m,u].join(`
`);return this.signString(h,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,wv.toUint8Array)(e)),(0,hr.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=Vu(e),{longDate:l,shortDate:u}=this.formatDate(t),f=ba(u,a,s??this.service);c.headers[Yu]=l,i.sessionToken&&(c.headers[$v]=i.sessionToken);let m=await wa(c,this.sha256);!Vv(Pa,c.headers)&&this.applyChecksum&&(c.headers[Pa]=m);let h=Bu(c,n,r),g=await this.getSignature(l,f,this.getSigningKey(i,a,u,s),this.createCanonicalRequest(c,h,m));return c.headers[Ju]=`${va} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${g}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,va),s=new this.sha256(await r);return s.update((0,wv.toUint8Array)(o)),(0,hr.toHex)(await s.digest())}getSigningKey(e,t,r,n){return Bv(this.sha256,e,r,t,n||this.service)}},rL={SignatureV4a:null}});function nL(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Tu(t,Ru,da):r?n=ar(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function oL(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Qu,Yr,Qv,Zv=_(()=>{lt();Me();Qu=v(Xv()),Yr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let u=nL(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=oL(e,u);r&&!f.attributed?(n=async m=>f(m).then(h=>fr(h,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=ar(e.signer):e.regionInfoProvider?a=()=>ar(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:f,signingService:m}=l;e.signingRegion=e.signingRegion||f||u,e.signingName=e.signingName||m||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Qu.SignatureV4;return new g(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ar(e.region)(),properties:{}},l);let u=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||f||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||Qu.SignatureV4;return new h(m)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Qv=Yr});var eS=_(()=>{Uu();dv();mv();bv();Zv()});var tS={};st(tS,{AWSSDKSigV4Signer:()=>Fu,AwsSdkSigV4ASigner:()=>jo,AwsSdkSigV4Signer:()=>Fe,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Dn,NODE_SIGV4A_CONFIG_OPTIONS:()=>Sv,getBearerTokenEnvKey:()=>ya,resolveAWSSDKSigV4Config:()=>Qv,resolveAwsSdkSigV4AConfig:()=>vv,resolveAwsSdkSigV4Config:()=>Yr,validateSigningProperties:()=>Nn});var Zu=_(()=>{eS();zu()});var sL,iL,aL,rS=_(()=>{sL=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},iL=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},aL=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var zo=b((FX,sS)=>{var Ra=Object.defineProperty,cL=Object.getOwnPropertyDescriptor,lL=Object.getOwnPropertyNames,dL=Object.prototype.hasOwnProperty,uL=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),pL=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},fL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lL(t))!dL.call(e,o)&&o!==r&&Ra(e,o,{get:()=>t[o],enumerable:!(n=cL(t,o))||n.enumerable});return e},mL=e=>fL(Ra({},"__esModule",{value:!0}),e),oS={};pL(oS,{calculateBodyLength:()=>hL});sS.exports=mL(oS);var nS=typeof TextEncoder=="function"?new TextEncoder:null,hL=uL(e=>{if(typeof e=="string"){if(nS)return nS.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ce,gr=_(()=>{Ce=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function iS(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new _e(n,"bigDecimal"):BigInt(n)}return t}var aS=_(()=>{ct()});var pS=b((HX,uS)=>{var Ta=Object.defineProperty,gL=Object.getOwnPropertyDescriptor,yL=Object.getOwnPropertyNames,_L=Object.prototype.hasOwnProperty,Ge=(e,t)=>Ta(e,"name",{value:t,configurable:!0}),EL=(e,t)=>{for(var r in t)Ta(e,r,{get:t[r],enumerable:!0})},vL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yL(t))!_L.call(e,o)&&o!==r&&Ta(e,o,{get:()=>t[o],enumerable:!(n=gL(t,o))||n.enumerable});return e},SL=e=>vL(Ta({},"__esModule",{value:!0}),e),dS={};EL(dS,{constructStack:()=>ep});uS.exports=SL(dS);var Xr=Ge((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),yr=Ge((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),ep=Ge(()=>{let e=[],t=[],r=!1,n=new Set,o=Ge(f=>f.sort((m,h)=>cS[h.step]-cS[m.step]||lS[h.priority||"normal"]-lS[m.priority||"normal"]),"sort"),s=Ge(f=>{let m=!1,h=Ge(g=>{let y=Xr(g.name,g.aliases);if(y.includes(f)){m=!0;for(let E of y)n.delete(E);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},"removeByName"),i=Ge(f=>{let m=!1,h=Ge(g=>{if(g.middleware===f){m=!0;for(let y of Xr(g.name,g.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},"removeByReference"),a=Ge(f=>(e.forEach(m=>{f.add(m.middleware,{...m})}),t.forEach(m=>{f.addRelativeTo(m.middleware,{...m})}),f.identifyOnResolve?.(u.identifyOnResolve()),f),"cloneTo"),c=Ge(f=>{let m=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m},"expandRelativeMiddlewareList"),l=Ge((f=!1)=>{let m=[],h=[],g={};return e.forEach(E=>{let S={...E,before:[],after:[]};for(let w of Xr(S.name,S.aliases))g[w]=S;m.push(S)}),t.forEach(E=>{let S={...E,before:[],after:[]};for(let w of Xr(S.name,S.aliases))g[w]=S;h.push(S)}),h.forEach(E=>{if(E.toMiddleware){let S=g[E.toMiddleware];if(S===void 0){if(f)return;throw new Error(`${E.toMiddleware} is not found when adding ${yr(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&S.after.push(E),E.relation==="before"&&S.before.push(E)}}),o(m).map(c).reduce((E,S)=>(E.push(...S),E),[])},"getMiddlewareList"),u={add:(f,m={})=>{let{name:h,override:g,aliases:y}=m,E={step:"initialize",priority:"normal",middleware:f,...m},S=Xr(h,y);if(S.length>0){if(S.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${yr(h,y)}'`);for(let w of S){let I=e.findIndex(A=>A.name===w||A.aliases?.some(z=>z===w));if(I===-1)continue;let x=e[I];if(x.step!==E.step||E.priority!==x.priority)throw new Error(`"${yr(x.name,x.aliases)}" middleware with ${x.priority} priority in ${x.step} step cannot be overridden by "${yr(h,y)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(I,1)}}for(let w of S)n.add(w)}e.push(E)},addRelativeTo:(f,m)=>{let{name:h,override:g,aliases:y}=m,E={middleware:f,...m},S=Xr(h,y);if(S.length>0){if(S.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${yr(h,y)}'`);for(let w of S){let I=t.findIndex(A=>A.name===w||A.aliases?.some(z=>z===w));if(I===-1)continue;let x=t[I];if(x.toMiddleware!==E.toMiddleware||x.relation!==E.relation)throw new Error(`"${yr(x.name,x.aliases)}" middleware ${x.relation} "${x.toMiddleware}" middleware cannot be overridden by "${yr(h,y)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(I,1)}}for(let w of S)n.add(w)}t.push(E)},clone:()=>a(ep()),use:f=>{f.applyToStack(u)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let m=!1,h=Ge(g=>{let{tags:y,name:E,aliases:S}=g;if(y&&y.includes(f)){let w=Xr(E,S);for(let I of w)n.delete(I);return m=!0,!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),m},concat:f=>{let m=a(ep());return m.use(f),m.identifyOnResolve(r||m.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>l(!0).map(f=>{let m=f.step??f.relation+" "+f.toMiddleware;return yr(f.name,f.aliases)+" - "+m}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,m)=>{for(let h of l().map(g=>g.middleware).reverse())f=h(f,m);return r&&console.log(u.identify()),f}};return u},"constructStack"),cS={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},lS={high:3,normal:2,low:1}});var B=b((BX,ap)=>{var Aa=Object.defineProperty,bL=Object.getOwnPropertyDescriptor,wL=Object.getOwnPropertyNames,CL=Object.prototype.hasOwnProperty,W=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),PL=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},rp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wL(t))!CL.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=bL(t,o))||n.enumerable});return e},xL=(e,t,r)=>(rp(e,t,"default"),r&&rp(r,t,"default")),RL=e=>rp(Aa({},"__esModule",{value:!0}),e),sp={};PL(sp,{Client:()=>TL,Command:()=>hS,NoOpLogger:()=>VL,SENSITIVE_STRING:()=>IL,ServiceException:()=>NL,_json:()=>op,collectBody:()=>tp.collectBody,convertMap:()=>GL,createAggregatedClient:()=>OL,decorateServiceException:()=>gS,emitWarningIfUnsupportedVersion:()=>ML,extendedEncodeURIComponent:()=>tp.extendedEncodeURIComponent,getArrayIfSingleItem:()=>BL,getDefaultClientConfiguration:()=>zL,getDefaultExtensionConfiguration:()=>_S,getValueFromTextNode:()=>ES,isSerializableHeaderValue:()=>qL,loadConfigsForDefaultMode:()=>$L,map:()=>ip,resolveDefaultRuntimeConfig:()=>HL,resolvedPath:()=>tp.resolvedPath,serializeDateTime:()=>QL,serializeFloat:()=>XL,take:()=>WL,throwDefaultError:()=>yS,withBaseException:()=>DL});ap.exports=RL(sp);var mS=pS(),TL=class{constructor(e){this.config=e,this.middlewareStack=(0,mS.constructStack)()}static{W(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},tp=(Ft(),V(dE)),np=gt(),hS=class{constructor(){this.middlewareStack=(0,mS.constructStack)()}static{W(this,"Command")}static classBuilder(){return new AL}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:u}){for(let y of n.bind(this)(u,e,t,r))this.middlewareStack.use(y);let f=e.concat(this.middlewareStack),{logger:m}=t,h={logger:m,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[np.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return f.resolve(y=>g.handle(y.request,r||{}),h)}},AL=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{W(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends hS{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{W(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},IL="***SensitiveInformation***",OL=W((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=W(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),NL=class Ho extends Error{static{W(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return Ho.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===Ho?Ho.isInstance(t):Ho.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},gS=W((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),yS=W(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=kL(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw gS(i,t)},"throwDefaultError"),DL=W(e=>({output:t,parsedBody:r,errorCode:n})=>{yS({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),kL=W(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),$L=W(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),fS=!1,ML=W(e=>{e&&!fS&&parseInt(e.substring(1,e.indexOf(".")))<16&&(fS=!0)},"emitWarningIfUnsupportedVersion"),LL=W(e=>{let t=[];for(let r in np.AlgorithmId){let n=np.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),FL=W(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),UL=W(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),jL=W(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),_S=W(e=>Object.assign(LL(e),UL(e)),"getDefaultExtensionConfiguration"),zL=_S,HL=W(e=>Object.assign(FL(e),jL(e)),"resolveDefaultRuntimeConfig"),BL=W(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),ES=W(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ES(e[r]));return e},"getValueFromTextNode"),qL=W(e=>e!=null,"isSerializableHeaderValue"),VL=class{static{W(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function ip(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,KL(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}vS(n,null,s,i)}return n}W(ip,"map");var GL=W(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),WL=W((e,t)=>{let r={};for(let n in t)vS(r,e,t,n);return r},"take"),KL=W((e,t,r)=>ip(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),vS=W((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=JL,c=YL,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),JL=W(e=>e!=null,"nonNullish"),YL=W(e=>e,"pass"),XL=W(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),QL=W(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),op=W(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(op);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=op(e[r]));return t}return e},"_json");xL(sp,(ct(),V(Z_)),ap.exports)});var SS,Ia,cp=_(()=>{SS=v(B()),Ia=(e,t)=>(0,SS.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var $n,lp,Qr,Bo=_(()=>{cp();$n=(e,t)=>Ia(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),lp=async(e,t)=>{let r=await $n(e,t);return r.message=r.message??r.Message,r},Qr=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var bS,qo,dp=_(()=>{pe();ct();bS=v(Te());gr();aS();Bo();qo=class extends Ce{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,iS):await $n(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=N.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(i,u));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._read(c,r[l]);u!=null&&(i[a]=u)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,bS.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ie.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===R.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case R.TIMESTAMP_DATE_TIME:return To(r);case R.TIMESTAMP_HTTP_DATE:return Ao(r);case R.TIMESTAMP_EPOCH_SECONDS:return Io(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof _e?r:new _e(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var wS,Oa,CS=_(()=>{ct();wS="\u039D",Oa=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof _e){let n=`${wS+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${wS+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Vo,up=_(()=>{pe();ct();gr();CS();Vo=class extends Ce{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=N.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Oa;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=N.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(i,u));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._write(c,r[a],s);u!==void 0&&(i[l]=u)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===R.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case R.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case R.TIMESTAMP_HTTP_DATE:return Ro(r);case R.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return wt();let i=s.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Ie.from(r)}return r}}}});var Zr,Na=_(()=>{gr();dp();up();Zr=class extends Ce{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Vo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new qo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var PS,en,Da=_(()=>{Ft();pe();PS=v(zo());Na();Bo();en=class extends Br{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Zr({timestampFormat:{useTrait:!0,default:R.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${N.of(t).getName()}`}),(Lt(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,PS.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Qr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Ae.for(a),u;try{u=l.getSchema(i)}catch{let E=Ae.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(c),o)}throw new Error(c)}let f=N.of(u),m=o.message??o.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,o);let g={};for(let[y,E]of f.structIterator()){let S=E.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(E,o[S])}throw Object.assign(h,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:m,...g}),h}}});var pp,xS=_(()=>{Da();pp=class extends en{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var fp,RS=_(()=>{Da();fp=class extends en{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var TS,mp,AS=_(()=>{Ft();pe();TS=v(zo());Na();Bo();mp=class extends Hr{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Zr(r),this.serializer=new Wr(this.codec.createSerializer(),r),this.deserializer=new Gr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=N.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:u,httpQueryParams:f,httpHeader:m,httpLabel:h,httpPrefixHeaders:g}=l.getMergedTraits();return!u&&!f&&!m&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,TS.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Qr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Ae.for(a),u;try{u=l.getSchema(i)}catch{let E=Ae.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(c),o)}throw new Error(c)}let f=N.of(u),m=o.message??o.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,o);let g={};for(let[y,E]of f.structIterator()){let S=E.getMergedTraits().jsonName??y;g[y]=this.codec.createDeserializer().readObject(E,o[S])}throw Object.assign(h,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:m,...g}),h}getDefaultContentType(){return"application/json"}}});var IS,ZL,OS=_(()=>{IS=v(B()),ZL=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,IS.expectUnion)(e)}});function ka(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function DS(e){return typeof e<"u"}var NS,eF,tF,rF,Go,$a=_(()=>{"use strict";NS=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",eF=NS+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",tF="["+NS+"]["+eF+"]*",rF=new RegExp("^"+tF+"$");Go=function(e){let t=rF.exec(e);return!(t===null||typeof t>"u")}});function FS(e,t){t=Object.assign({},nF,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=$S(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=MS(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!uF(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ie("InvalidTag",f,Ne(e,s))}let l=iF(e,s);if(l===!1)return ie("InvalidAttr","Attributes for '"+c+"' have open quote.",Ne(e,s));let u=l.value;if(s=l.index,u[u.length-1]==="/"){let f=s-u.length;u=u.substring(0,u.length-1);let m=LS(u,t);if(m===!0)n=!0;else return ie(m.err.code,m.err.msg,Ne(e,f+m.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return ie("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ne(e,i));if(r.length===0)return ie("InvalidTag","Closing tag '"+c+"' has not been opened.",Ne(e,i));{let f=r.pop();if(c!==f.tagName){let m=Ne(e,f.tagStartPos);return ie("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",Ne(e,i))}r.length==0&&(o=!0)}}else return ie("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ne(e,s));else{let f=LS(u,t);if(f!==!0)return ie(f.err.code,f.err.msg,Ne(e,s-u.length+f.err.line));if(o===!0)return ie("InvalidXml","Multiple possible root nodes found.",Ne(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=MS(e,s);continue}else if(e[s+1]==="?"){if(s=$S(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=lF(e,s);if(f==-1)return ie("InvalidChar","char '&' is not expected.",Ne(e,s));s=f}else if(o===!0&&!kS(e[s]))return ie("InvalidXml","Extra text at the end",Ne(e,s));e[s]==="<"&&s--}}else{if(kS(e[s]))continue;return ie("InvalidChar","char '"+e[s]+"' is not expected.",Ne(e,s))}if(n){if(r.length==1)return ie("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ne(e,r[0].tagStartPos));if(r.length>0)return ie("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ie("InvalidXml","Start tag expected.",1);return!0}function kS(e){return e===" "||e==="	"||e===`
`||e==="\r"}function $S(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ie("InvalidXml","XML declaration allowed only at the start of the document.",Ne(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function MS(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function iF(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===oF||e[t]===sF)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function LS(e,t){let r=ka(e,aF),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Wo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Wo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ie("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Wo(r[o]));let s=r[o][2];if(!dF(s))return ie("InvalidAttr","Attribute '"+s+"' is an invalid name.",Wo(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ie("InvalidAttr","Attribute '"+s+"' is repeated.",Wo(r[o]))}return!0}function cF(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function lF(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,cF(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ie(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function dF(e){return Go(e)}function uF(e){return Go(e)}function Ne(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Wo(e){return e.startIndex+e[1].length}var nF,oF,sF,aF,US=_(()=>{"use strict";$a();nF={allowBooleanAttributes:!1,unpairedTags:[]};oF='"',sF="'";aF=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var pF,jS,zS=_(()=>{pF={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},jS=function(e){return Object.assign({},pF,e)}});var Ma,He,La=_(()=>{"use strict";typeof Symbol!="function"?Ma="@@xmlMetadata":Ma=Symbol("XML Node Metadata");He=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][Ma]={startIndex:r})}static getMetaDataSymbol(){return Ma}}});function hp(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&tn(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=fF(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&tn(e,"!ELEMENT",t)){t+=8;let{index:a}=hF(e,t+1);t=a}else if(o&&tn(e,"!ATTLIST",t))t+=8;else if(o&&tn(e,"!NOTATION",t)){t+=9;let{index:a}=mF(e,t+1);t=a}else if(tn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function fF(e,t){t=_r(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(gp(r),t=_r(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Fa(e,t,"entity"),t--,[r,n,t]}function mF(e,t){t=_r(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;gp(r),t=_r(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=_r(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Fa(e,t,"publicIdentifier"),t=_r(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Fa(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Fa(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Fa(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function hF(e,t){t=_r(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!gp(r))throw new Error(`Invalid element name: "${r}"`);t=_r(e,t);let n="";if(e[t]==="E"&&tn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&tn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function tn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function gp(e){if(Go(e))return e;throw new Error(`Invalid entity name ${e}`)}var _r,HS=_(()=>{$a();_r=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function yp(e,t={}){if(t=Object.assign({},_F,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&gF.test(r))return bF(r,16);if(r.search(/.+[eE].+/)!==-1)return vF(e,r,t);{let n=yF.exec(r);if(n){let o=n[1]||"",s=n[2],i=SF(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let u=s?i:r;return s?u===l||o+u===l?c:e:u===l||u===o+l?c:e}}else return e}}function vF(e,t,r){if(!r.eNotation)return e;let n=t.match(EF);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function SF(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function bF(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var gF,yF,_F,EF,BS=_(()=>{gF=/^[-+]?0x[a-fA-F0-9]+$/,yF=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,_F={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};EF=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function _p(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var qS=_(()=>{});function wF(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function CF(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?vp(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?vp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function PF(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function RF(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=ka(e,xF),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,t);u==null?s[l]=c:typeof u!=typeof c||u!==c?s[l]=u:s[l]=vp(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function AF(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function OF(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function NF(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function DF(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function rn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Ep(e,t,r,n=">"){let o=DF(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let u=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:u}}function kF(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=rn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=rn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=rn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=rn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Ep(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function vp(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:yp(e,r)}else return DS(e)?e:""}var Ko,xF,TF,IF,VS=_(()=>{"use strict";$a();La();HS();BS();qS();Ko=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=wF,this.parseXml=TF,this.parseTextData=CF,this.resolveNameSpace=PF,this.buildAttributesMap=RF,this.isItStopNode=NF,this.replaceEntitiesValue=IF,this.readStopNodeData=kF,this.saveTextToParentTag=OF,this.addChild=AF,this.ignoreAttributesFn=_p(this.options.ignoreAttributes)}};xF=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");TF=function(e){e=e.replace(/\r\n?/g,`
`);let t=new He("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=rn(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Ep(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new He(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=rn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=hp(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=rn(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=Ep(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,f=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let g=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let S=this.readStopNodeData(e,l,m+1);if(!S)throw new Error(`Unexpected end of ${l}`);s=S.i,y=S.tagContent}let E=new He(c);c!==u&&f&&(E[":@"]=this.buildAttributesMap(u,o,c)),y&&(y=this.parseTextData(y,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),E.add(this.options.textNodeName,y),this.addChild(r,E,o,g)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new He(c);c!==u&&f&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o,g),o=o.substr(0,o.lastIndexOf("."))}else{let y=new He(c);this.tagsNodeStack.push(r),c!==u&&f&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o,g),r=y}n="",s=m}}else n+=e[s];return t.child};IF=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function bp(e,t){return GS(e,t)}function GS(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=$F(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=GS(i[a],t,c),u=LF(l,t);i[Sp]!==void 0&&(l[Sp]=i[Sp]),i[":@"]?MF(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,u)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function $F(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function MF(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function LF(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Sp,WS=_(()=>{"use strict";La();Sp=He.getMetaDataSymbol()});var Er,KS=_(()=>{zS();VS();WS();US();La();Er=class{constructor(t){this.externalEntities={},this.options=jS(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=FS(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Ko(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:bp(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return He.getMetaDataSymbol()}}});var wp=_(()=>{"use strict";KS()});var JS,YS,nn,Ua=_(()=>{Ft();pe();JS=v(B()),YS=v(ge());wp();gr();nn=class extends Ce{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Vr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=N.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(s)[0];return s[u].isBlobSchema()?l[u]=r:l[u]=this.read(s[u],r),l}let a=(this.serdeContext?.utf8Encoder??YS.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=N.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[u],m=Array.isArray(f)?f:[f];for(let h of m)(h!=null||s)&&l.push(this.readSchema(c,h));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;i?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",m=l.getMergedTraits().xmlName??"value";for(let h of u){let g=h[f],y=h[m];(y!=null||s)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let u=l.getMergedTraits(),f=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Er({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,JS.getValueFromTextNode)(i)}return{}}}});var XS,QS,ja,ZS=_(()=>{Ft();pe();ct();XS=v(B()),QS=v(Te());gr();ja=class extends Ce{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=N.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??QS.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(wt()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof _e?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),qr(o,this.settings)){case R.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case R.TIMESTAMP_HTTP_DATE:this.writeValue((0,XS.dateToUtcString)(r));break;case R.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),u=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,u),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),m=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,h=this.getKey("value",i.getMergedTraits().xmlName),g=a?`${n}${c}.${h}`:`${n}entry.${c}.${h}`;this.write(s,l,m),this.write(i,u,g),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${vt(t)}=`}writeValue(t){this.buffer+=vt(t)}}});var eb,Jo,Cp=_(()=>{Ft();pe();eb=v(zo());Ua();ZS();Jo=class extends Br{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ja(r),this.deserializer=new nn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Lt(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,eb.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let u=await at(n.body,r);u.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let u in n.headers){let f=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await at(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),u=Ae.for(a),f;try{f=u.find(E=>N.of(E).getMergedTraits().awsQueryError?.[0]===c),f||(f=u.getSchema(i))}catch{let S=Ae.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let w=S.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let m=N.of(f),h=this.loadQueryErrorMessage(o),g=new f.ctor(h),y={};for(let[E,S]of m.structIterator()){let w=S.getMergedTraits().xmlName??E,I=l[w]??o[w];y[E]=this.deserializer.readSchema(S,I)}throw Object.assign(g,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:h,...y}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Pp,tb=_(()=>{Cp();Pp=class extends Jo{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var rb,Yo,xp,Rp,Tp=_(()=>{rb=v(B());wp();cp();Yo=(e,t)=>Ia(e,t).then(r=>{if(r.length){let n=new Er({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,rb.getValueFromTextNode)(a)}return{}}),xp=async(e,t)=>{let r=await Yo(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Rp=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var cb=b((SZ,ab)=>{"use strict";var Ha=Object.defineProperty,FF=Object.getOwnPropertyDescriptor,UF=Object.getOwnPropertyNames,jF=Object.prototype.hasOwnProperty,Ba=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),zF=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},HF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UF(t))!jF.call(e,o)&&o!==r&&Ha(e,o,{get:()=>t[o],enumerable:!(n=FF(t,o))||n.enumerable});return e},BF=e=>HF(Ha({},"__esModule",{value:!0}),e),nb={};zF(nb,{XmlNode:()=>qF,XmlText:()=>ib});ab.exports=BF(nb);function ob(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Ba(ob,"escapeAttribute");function sb(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Ba(sb,"escapeElement");var ib=class{constructor(e){this.value=e}static{Ba(this,"XmlText")}toString(){return sb(""+this.value)}},qF=class za{constructor(t,r=[]){this.name=t,this.children=r}static{Ba(this,"XmlNode")}attributes={};static of(t,r,n){let o=new za(t);return r!==void 0&&o.addChildNode(new ib(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=za.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new za(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${ob(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var We,Ap,qa,Xo,Ip=_(()=>{We=v(cb());pe();ct();Ap=v(B()),qa=v(Te());gr();Xo=class extends Ce{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=N.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??qa.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=We.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,u]of t.structIterator()){let f=r[l];if(f!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){i.addAttribute(u.getMergedTraits().xmlName??l,this.writeSimple(u,f));continue}if(u.isListSchema())this.writeList(u,f,i,c);else if(u.isMapSchema())this.writeMap(u,f,i,c);else if(u.isStructSchema())i.addChildNode(this.writeStruct(u,f,c));else{let m=We.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,f,m,c),i.addChildNode(m)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[u,f]=this.getXmlnsAttribute(t,o),m=(h,g)=>{if(i.isListSchema())this.writeList(i,Array.isArray(g)?g:[g],h,f);else if(i.isMapSchema())this.writeMap(i,g,h,f);else if(i.isStructSchema()){let y=this.writeStruct(i,g,f);h.addChildNode(y.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=We.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,g,y,f),h.addChildNode(y)}};if(l)for(let h of r)(c||h!=null)&&m(n,h);else{let h=We.XmlNode.of(s.xmlName??t.getMemberName());f&&h.addAttribute(u,f);for(let g of r)(c||g!=null)&&m(h,g);n.addChildNode(h)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",u=t.getValueSchema(),f=u.getMergedTraits(),m=f.xmlName??"value",h=!!f.sparse,g=!!i.xmlFlattened,[y,E]=this.getXmlnsAttribute(t,o),S=(w,I,x)=>{let A=We.XmlNode.of(l,I),[z,we]=this.getXmlnsAttribute(a,E);we&&A.addAttribute(z,we),w.addChildNode(A);let Z=We.XmlNode.of(m);u.isListSchema()?this.writeList(u,x,Z,E):u.isMapSchema()?this.writeMap(u,x,Z,E,!0):u.isStructSchema()?Z=this.writeStruct(u,x,E):this.writeSimpleInto(u,x,Z,E),w.addChildNode(Z)};if(g){for(let[w,I]of Object.entries(r))if(h||I!=null){let x=We.XmlNode.of(i.xmlName??t.getMemberName());S(x,w,I),n.addChildNode(x)}}else{let w;s||(w=We.XmlNode.of(i.xmlName??t.getMemberName()),E&&w.addAttribute(y,E),n.addChildNode(w));for(let[I,x]of Object.entries(r))if(h||x!=null){let A=We.XmlNode.of("entry");S(A,I,x),(s?n:w).addChildNode(A)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=N.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??qa.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===R.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case R.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case R.TIMESTAMP_HTTP_DATE:o=(0,Ap.dateToUtcString)(r);break;case R.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Ap.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof _e?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=wt():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=N.of(t),a=new We.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Qo,Op=_(()=>{gr();Ua();Ip();Qo=class extends Ce{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Xo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new nn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var lb,Np,db=_(()=>{Ft();pe();lb=v(zo());Tp();Op();Np=class extends Hr{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Qo(r),this.serializer=new Wr(this.codec.createSerializer(),r),this.deserializer=new Gr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=N.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:u,httpQueryParams:f,httpHeader:m,httpLabel:h,httpPrefixHeaders:g}=l.getMergedTraits();return!u&&!f&&!m&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,lb.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Rp(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Ae.for(a),u;try{u=l.getSchema(i)}catch{let E=Ae.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let S=E.ctor;throw Object.assign(new S(c),o)}throw new Error(c)}let f=N.of(u),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=new u.ctor(m);await this.deserializeHttpMessage(u,r,n,o);let g={};for(let[y,E]of f.structIterator()){let S=E.getMergedTraits().xmlName??y,w=o.Error?.[S]??o[S];g[y]=this.codec.createDeserializer().readSchema(E,w)}throw Object.assign(h,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:m,...g}),h}getDefaultContentType(){return"application/xml"}}});var ub=_(()=>{rS();xS();RS();Da();AS();Na();dp();up();OS();Bo();tb();Cp();db();Op();Ua();Ip();Tp()});var Ct={};st(Ct,{AWSSDKSigV4Signer:()=>Fu,AwsEc2QueryProtocol:()=>Pp,AwsJson1_0Protocol:()=>pp,AwsJson1_1Protocol:()=>fp,AwsJsonRpcProtocol:()=>en,AwsQueryProtocol:()=>Jo,AwsRestJsonProtocol:()=>mp,AwsRestXmlProtocol:()=>Np,AwsSdkSigV4ASigner:()=>jo,AwsSdkSigV4Signer:()=>Fe,JsonCodec:()=>Zr,JsonShapeDeserializer:()=>qo,JsonShapeSerializer:()=>Vo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Dn,NODE_SIGV4A_CONFIG_OPTIONS:()=>Sv,XmlCodec:()=>Qo,XmlShapeDeserializer:()=>nn,XmlShapeSerializer:()=>Xo,_toBool:()=>iL,_toNum:()=>aL,_toStr:()=>sL,awsExpectUnion:()=>ZL,emitWarningIfUnsupportedVersion:()=>In,getBearerTokenEnvKey:()=>ya,loadRestJsonErrorCode:()=>Qr,loadRestXmlErrorCode:()=>Rp,parseJsonBody:()=>$n,parseJsonErrorBody:()=>lp,parseXmlBody:()=>Yo,parseXmlErrorBody:()=>xp,resolveAWSSDKSigV4Config:()=>Qv,resolveAwsSdkSigV4AConfig:()=>vv,resolveAwsSdkSigV4Config:()=>Yr,setCredentialFeature:()=>fr,setFeature:()=>QE,setTokenFeature:()=>ev,state:()=>ga,validateSigningProperties:()=>Nn});var fe=_(()=>{lt();Zu();ub()});var Mn=b((nee,wb)=>{"use strict";var Ga=Object.defineProperty,VF=Object.getOwnPropertyDescriptor,GF=Object.getOwnPropertyNames,WF=Object.prototype.hasOwnProperty,zt=(e,t)=>Ga(e,"name",{value:t,configurable:!0}),KF=(e,t)=>{for(var r in t)Ga(e,r,{get:t[r],enumerable:!0})},JF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GF(t))!WF.call(e,o)&&o!==r&&Ga(e,o,{get:()=>t[o],enumerable:!(n=VF(t,o))||n.enumerable});return e},YF=e=>JF(Ga({},"__esModule",{value:!0}),e),hb={};KF(hb,{DEFAULT_UA_APP_ID:()=>gb,getUserAgentMiddlewareOptions:()=>bb,getUserAgentPlugin:()=>oU,resolveUserAgentConfig:()=>_b,userAgentMiddleware:()=>Sb});wb.exports=YF(hb);var XF=(Me(),V(Rn)),gb=void 0;function yb(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}zt(yb,"isValidUserAgentAppId");function _b(e){let t=(0,XF.normalizeProvider)(e.userAgentAppId??gb),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:zt(async()=>{let n=await t();if(!yb(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}zt(_b,"resolveUserAgentConfig");var QF=An(),ZF=te(),Pt=(fe(),V(Ct)),eU=/\d{12}\.ddb/;async function Eb(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Pt.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,Pt.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Pt.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Pt.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(eU)&&(0,Pt.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Pt.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Pt.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Pt.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,Pt.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,Pt.setFeature)(e,i,a)}}zt(Eb,"checkFeatures");var pb="user-agent",Dp="x-amz-user-agent",fb=" ",kp="/",tU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,rU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,mb="-",nU=1024;function vb(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=nU){t.length?t+=","+n:t+=n;continue}break}return t}zt(vb,"encodeFeatures");var Sb=zt(e=>(t,r)=>async n=>{let{request:o}=n;if(!ZF.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Va)||[],a=(await e.defaultUserAgentProvider()).map(Va);await Eb(r,e,n);let c=r;a.push(`m/${vb(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Va)||[],u=await e.userAgentAppId();u&&a.push(Va([`app/${u}`]));let f=(0,QF.getUserAgentPrefix)(),m=(f?[f]:[]).concat([...a,...i,...l]).join(fb),h=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(fb);return e.runtime!=="browser"?(h&&(s[Dp]=s[Dp]?`${s[pb]} ${h}`:h),s[pb]=m):s[Dp]=m,t({...n,request:o})},"userAgentMiddleware"),Va=zt(e=>{let t=e[0].split(kp).map(i=>i.replace(tU,mb)).join(kp),r=e[1]?.replace(rU,mb),n=t.indexOf(kp),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),bb={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},oU=zt(e=>({applyToStack:zt(t=>{t.add(Sb(e),bb)},"applyToStack")}),"getUserAgentPlugin")});var Tb=b((oee,Rb)=>{var Wa=Object.defineProperty,sU=Object.getOwnPropertyDescriptor,iU=Object.getOwnPropertyNames,aU=Object.prototype.hasOwnProperty,Cb=(e,t)=>Wa(e,"name",{value:t,configurable:!0}),cU=(e,t)=>{for(var r in t)Wa(e,r,{get:t[r],enumerable:!0})},lU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iU(t))!aU.call(e,o)&&o!==r&&Wa(e,o,{get:()=>t[o],enumerable:!(n=sU(t,o))||n.enumerable});return e},dU=e=>lU(Wa({},"__esModule",{value:!0}),e),Pb={};cU(Pb,{SelectorType:()=>xb,booleanSelector:()=>uU,numberSelector:()=>pU});Rb.exports=dU(Pb);var uU=Cb((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),pU=Cb((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),xb=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(xb||{})});var xt=b((see,Ub)=>{var Ja=Object.defineProperty,fU=Object.getOwnPropertyDescriptor,mU=Object.getOwnPropertyNames,hU=Object.prototype.hasOwnProperty,dt=(e,t)=>Ja(e,"name",{value:t,configurable:!0}),gU=(e,t)=>{for(var r in t)Ja(e,r,{get:t[r],enumerable:!0})},yU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mU(t))!hU.call(e,o)&&o!==r&&Ja(e,o,{get:()=>t[o],enumerable:!(n=fU(t,o))||n.enumerable});return e},_U=e=>yU(Ja({},"__esModule",{value:!0}),e),Ob={};gU(Ob,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Db,CONFIG_USE_FIPS_ENDPOINT:()=>$b,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>EU,DEFAULT_USE_FIPS_ENDPOINT:()=>SU,ENV_USE_DUALSTACK_ENDPOINT:()=>Nb,ENV_USE_FIPS_ENDPOINT:()=>kb,NODE_REGION_CONFIG_FILE_OPTIONS:()=>RU,NODE_REGION_CONFIG_OPTIONS:()=>xU,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>vU,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>bU,REGION_ENV_NAME:()=>Mb,REGION_INI_NAME:()=>Lb,getRegionInfo:()=>NU,resolveCustomEndpointsConfig:()=>wU,resolveEndpointsConfig:()=>PU,resolveRegionConfig:()=>TU});Ub.exports=_U(Ob);var vr=Tb(),Nb="AWS_USE_DUALSTACK_ENDPOINT",Db="use_dualstack_endpoint",EU=!1,vU={environmentVariableSelector:e=>(0,vr.booleanSelector)(e,Nb,vr.SelectorType.ENV),configFileSelector:e=>(0,vr.booleanSelector)(e,Db,vr.SelectorType.CONFIG),default:!1},kb="AWS_USE_FIPS_ENDPOINT",$b="use_fips_endpoint",SU=!1,bU={environmentVariableSelector:e=>(0,vr.booleanSelector)(e,kb,vr.SelectorType.ENV),configFileSelector:e=>(0,vr.booleanSelector)(e,$b,vr.SelectorType.CONFIG),default:!1},Ka=it(),wU=dt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ka.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ka.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),CU=dt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),PU=dt(e=>{let t=(0,Ka.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ka.normalizeProvider)(typeof r=="string"?o(r):r):()=>CU({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Mb="AWS_REGION",Lb="region",xU={environmentVariableSelector:e=>e[Mb],configFileSelector:e=>e[Lb],default:()=>{throw new Error("Region is missing")}},RU={preferredFile:"credentials"},Fb=dt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Ab=dt(e=>Fb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),TU=dt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Ab(t);let n=await t();return Ab(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Fb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),Ib=dt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),AU=dt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),IU=dt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),OU=dt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),NU=dt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=IU(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=Ib(o[a]?.variants,c),u=Ib(s[i]?.variants,c),f=AU(a,{regionHostname:l,partitionHostname:u});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=OU(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...m&&{signingRegion:m},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Zo=b((iee,qb)=>{var Ya=Object.defineProperty,DU=Object.getOwnPropertyDescriptor,kU=Object.getOwnPropertyNames,$U=Object.prototype.hasOwnProperty,zb=(e,t)=>Ya(e,"name",{value:t,configurable:!0}),MU=(e,t)=>{for(var r in t)Ya(e,r,{get:t[r],enumerable:!0})},LU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kU(t))!$U.call(e,o)&&o!==r&&Ya(e,o,{get:()=>t[o],enumerable:!(n=DU(t,o))||n.enumerable});return e},FU=e=>LU(Ya({},"__esModule",{value:!0}),e),Hb={};MU(Hb,{contentLengthMiddleware:()=>$p,contentLengthMiddlewareOptions:()=>Bb,getContentLengthPlugin:()=>jU});qb.exports=FU(Hb);var UU=te(),jb="content-length";function $p(e){return t=>async r=>{let n=r.request;if(UU.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(jb)===-1)try{let i=e(o);n.headers={...n.headers,[jb]:String(i)}}catch{}}return t({...r,request:n})}}zb($p,"contentLengthMiddleware");var Bb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},jU=zb(e=>({applyToStack:t=>{t.add($p(e.bodyLengthChecker),Bb)}}),"getContentLengthPlugin")});var Ln=b(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.getHomeDir=void 0;var zU=require("os"),HU=require("path"),Mp={},BU=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",qU=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${HU.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=BU();return Mp[o]||(Mp[o]=(0,zU.homedir)()),Mp[o]};Xa.getHomeDir=qU});var Lp=b(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.getSSOTokenFilepath=void 0;var VU=require("crypto"),GU=require("path"),WU=Ln(),KU=e=>{let r=(0,VU.createHash)("sha1").update(e).digest("hex");return(0,GU.join)((0,WU.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Qa.getSSOTokenFilepath=KU});var Vb=b(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.getSSOTokenFromFile=void 0;var JU=require("fs"),YU=Lp(),{readFile:XU}=JU.promises,QU=async e=>{let t=(0,YU.getSSOTokenFilepath)(e),r=await XU(t,"utf8");return JSON.parse(r)};Za.getSSOTokenFromFile=QU});var Up=b(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.slurpFile=void 0;var ZU=require("fs"),{readFile:ej}=ZU.promises,Fp={},tj=(e,t)=>((!Fp[e]||t?.ignoreCache)&&(Fp[e]=ej(e,"utf8")),Fp[e]);ec.slurpFile=tj});var Sr=b((uee,ts)=>{var nc=Object.defineProperty,rj=Object.getOwnPropertyDescriptor,nj=Object.getOwnPropertyNames,oj=Object.prototype.hasOwnProperty,Ke=(e,t)=>nc(e,"name",{value:t,configurable:!0}),sj=(e,t)=>{for(var r in t)nc(e,r,{get:t[r],enumerable:!0})},jp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nj(t))!oj.call(e,o)&&o!==r&&nc(e,o,{get:()=>t[o],enumerable:!(n=rj(t,o))||n.enumerable});return e},Hp=(e,t,r)=>(jp(e,t,"default"),r&&jp(r,t,"default")),ij=e=>jp(nc({},"__esModule",{value:!0}),e),es={};sj(es,{CONFIG_PREFIX_SEPARATOR:()=>on,DEFAULT_PROFILE:()=>Jb,ENV_PROFILE:()=>Kb,getProfileName:()=>aj,loadSharedConfigFiles:()=>Xb,loadSsoSessionData:()=>vj,parseKnownFiles:()=>bj});ts.exports=ij(es);Hp(es,Ln(),ts.exports);var Kb="AWS_PROFILE",Jb="default",aj=Ke(e=>e.profile||process.env[Kb]||Jb,"getProfileName");Hp(es,Lp(),ts.exports);Hp(es,Vb(),ts.exports);var tc=gt(),cj=Ke(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(on);return r===-1?!1:Object.values(tc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(on),s=r.substring(0,o)===tc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),rc=require("path"),lj=Ln(),dj="AWS_CONFIG_FILE",Yb=Ke(()=>process.env[dj]||(0,rc.join)((0,lj.getHomeDir)(),".aws","config"),"getConfigFilepath"),uj=Ln(),pj="AWS_SHARED_CREDENTIALS_FILE",fj=Ke(()=>process.env[pj]||(0,rc.join)((0,uj.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),mj=Ln(),hj=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,gj=["__proto__","profile __proto__"],zp=Ke(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=hj.exec(a);if(c){let[,l,,u]=c;Object.values(tc.IniSectionType).includes(l)&&(r=[l,u].join(on))}else r=a;if(gj.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(on):c;t[r][u]=l}}}}return t},"parseIni"),Gb=Up(),Wb=Ke(()=>({}),"swallowError"),on=".",Xb=Ke(async(e={})=>{let{filepath:t=fj(),configFilepath:r=Yb()}=e,n=(0,mj.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,rc.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,rc.join)(n,r.slice(2)));let a=await Promise.all([(0,Gb.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(zp).then(cj).catch(Wb),(0,Gb.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(zp).catch(Wb)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),yj=Ke(e=>Object.entries(e).filter(([t])=>t.startsWith(tc.IniSectionType.SSO_SESSION+on)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(on)+1)]:n}),{}),"getSsoSessionData"),_j=Up(),Ej=Ke(()=>({}),"swallowError"),vj=Ke(async(e={})=>(0,_j.slurpFile)(e.configFilepath??Yb()).then(zp).then(yj).catch(Ej),"loadSsoSessionData"),Sj=Ke((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),bj=Ke(async e=>{let t=await Xb(e);return Sj(t.configFile,t.credentialsFile)},"parseKnownFiles")});var br=b((pee,e0)=>{var oc=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,Cj=Object.getOwnPropertyNames,Pj=Object.prototype.hasOwnProperty,Fn=(e,t)=>oc(e,"name",{value:t,configurable:!0}),xj=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},Rj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cj(t))!Pj.call(e,o)&&o!==r&&oc(e,o,{get:()=>t[o],enumerable:!(n=wj(t,o))||n.enumerable});return e},Tj=e=>Rj(oc({},"__esModule",{value:!0}),e),Zb={};xj(Zb,{loadConfig:()=>Dj});e0.exports=Tj(Zb);var rs=Oe();function Bp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Fn(Bp,"getSelectorName");var Aj=Fn((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new rs.CredentialsProviderError(r.message||`Not found in ENV: ${Bp(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Qb=Sr(),Ij=Fn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Qb.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,Qb.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let u=e(c,t==="config"?o:s);if(u===void 0)throw new Error;return u}catch(l){throw new rs.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Bp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Oj=Fn(e=>typeof e=="function","isFunction"),Nj=Fn(e=>Oj(e)?async()=>await e():(0,rs.fromStatic)(e),"fromStatic"),Dj=Fn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,rs.memoize)((0,rs.chain)(Aj(e,i),Ij(t,n),Nj(r)))},"loadConfig")});var o0=b(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.getEndpointUrlConfig=void 0;var t0=Sr(),r0="AWS_ENDPOINT_URL",n0="endpoint_url",kj=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[r0,...r].join("_")];if(n)return n;let o=t[r0];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(t0.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),n0].join(t0.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[n0];if(n)return n},default:void 0});sc.getEndpointUrlConfig=kj});var qp=b(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.getEndpointFromConfig=void 0;var $j=br(),Mj=o0(),Lj=async e=>(0,$j.loadConfig)((0,Mj.getEndpointUrlConfig)(e??""))();ic.getEndpointFromConfig=Lj});var wr=b((hee,u0)=>{var cc=Object.defineProperty,Fj=Object.getOwnPropertyDescriptor,Uj=Object.getOwnPropertyNames,jj=Object.prototype.hasOwnProperty,Je=(e,t)=>cc(e,"name",{value:t,configurable:!0}),zj=(e,t)=>{for(var r in t)cc(e,r,{get:t[r],enumerable:!0})},Hj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uj(t))!jj.call(e,o)&&o!==r&&cc(e,o,{get:()=>t[o],enumerable:!(n=Fj(t,o))||n.enumerable});return e},Bj=e=>Hj(cc({},"__esModule",{value:!0}),e),i0={};zj(i0,{endpointMiddleware:()=>l0,endpointMiddlewareOptions:()=>d0,getEndpointFromInstructions:()=>a0,getEndpointPlugin:()=>e3,resolveEndpointConfig:()=>r3,resolveEndpointRequiredConfig:()=>n3,resolveParams:()=>c0,toEndpointV1:()=>Vp});u0.exports=Bj(i0);var qj=Je(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Jj(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Kj(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),Vj=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Gj=/(\d+\.){3}\d+/,Wj=/\.\./,Kj=Je(e=>Vj.test(e)&&!Gj.test(e)&&!Wj.test(e),"isDnsCompatibleBucketName"),Jj=Je(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),Yj=Je((e,t,r)=>{let n=Je(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),Xj=qp(),s0=ur(),Vp=Je(e=>typeof e=="object"?"url"in e?(0,s0.parseUrl)(e.url):e:(0,s0.parseUrl)(e),"toEndpointV1"),a0=Je(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,Xj.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Vp(i)),r.isCustomEndpoint=!0)}let o=await c0(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),c0=Je(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await Yj(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await qj(n),n},"resolveParams"),Qj=(Me(),V(Rn)),ac=it(),l0=Je(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Qj.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await a0(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,ac.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),Zj=ir(),d0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Zj.serializerMiddlewareOption.name},e3=Je((e,t)=>({applyToStack:r=>{r.addRelativeTo(l0({config:e,instructions:t}),d0)}}),"getEndpointPlugin"),t3=qp(),r3=Je(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Vp(await(0,ac.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,ac.normalizeProvider)(n??!1),useFipsEndpoint:(0,ac.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,t3.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),n3=Je(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Wp=b((gee,h0)=>{var lc=Object.defineProperty,o3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,i3=Object.prototype.hasOwnProperty,sn=(e,t)=>lc(e,"name",{value:t,configurable:!0}),a3=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},c3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s3(t))!i3.call(e,o)&&o!==r&&lc(e,o,{get:()=>t[o],enumerable:!(n=o3(t,o))||n.enumerable});return e},l3=e=>c3(lc({},"__esModule",{value:!0}),e),p0={};a3(p0,{isBrowserNetworkError:()=>m0,isClockSkewCorrectedError:()=>f0,isClockSkewError:()=>y3,isRetryableByTrait:()=>g3,isServerError:()=>E3,isThrottlingError:()=>_3,isTransientError:()=>Gp});h0.exports=l3(p0);var d3=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],u3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],p3=["TimeoutError","RequestTimeout","RequestTimeoutException"],f3=[500,502,503,504],m3=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],h3=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],g3=sn(e=>e.$retryable!==void 0,"isRetryableByTrait"),y3=sn(e=>d3.includes(e.name),"isClockSkewError"),f0=sn(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),m0=sn(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),_3=sn(e=>e.$metadata?.httpStatusCode===429||u3.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Gp=sn((e,t=0)=>f0(e)||p3.includes(e.name)||m3.includes(e?.code||"")||h3.includes(e?.code||"")||f3.includes(e.$metadata?.httpStatusCode||0)||m0(e)||e.cause!==void 0&&t<=10&&Gp(e.cause,t+1),"isTransientError"),E3=sn(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Gp(e)}return!1},"isServerError")});var Un=b((yee,P0)=>{var dc=Object.defineProperty,v3=Object.getOwnPropertyDescriptor,S3=Object.getOwnPropertyNames,b3=Object.prototype.hasOwnProperty,ut=(e,t)=>dc(e,"name",{value:t,configurable:!0}),w3=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},C3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of S3(t))!b3.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=v3(t,o))||n.enumerable});return e},P3=e=>C3(dc({},"__esModule",{value:!0}),e),y0={};w3(y0,{AdaptiveRetryStrategy:()=>O3,ConfiguredRetryStrategy:()=>N3,DEFAULT_MAX_ATTEMPTS:()=>Kp,DEFAULT_RETRY_DELAY_BASE:()=>ns,DEFAULT_RETRY_MODE:()=>x3,DefaultRateLimiter:()=>E0,INITIAL_RETRY_TOKENS:()=>Jp,INVOCATION_ID_HEADER:()=>T3,MAXIMUM_RETRY_DELAY:()=>Yp,NO_RETRY_INCREMENT:()=>C0,REQUEST_HEADER:()=>A3,RETRY_COST:()=>b0,RETRY_MODES:()=>_0,StandardRetryStrategy:()=>Xp,THROTTLING_RETRY_DELAY_BASE:()=>S0,TIMEOUT_RETRY_COST:()=>w0});P0.exports=P3(y0);var _0=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(_0||{}),Kp=3,x3="standard",R3=Wp(),E0=class v0{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{ut(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>v0.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,R3.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ns=100,Yp=20*1e3,S0=500,Jp=500,b0=5,w0=10,C0=1,T3="amz-sdk-invocation-id",A3="amz-sdk-request",I3=ut(()=>{let e=ns;return{computeNextBackoffDelay:ut(n=>Math.floor(Math.min(Yp,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:ut(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),g0=ut(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:ut(()=>t,"getRetryCount"),getRetryDelay:ut(()=>Math.min(Yp,e),"getRetryDelay"),getRetryCost:ut(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Xp=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Jp,this.retryBackoffStrategy=I3(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{ut(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return g0({retryDelay:ns,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?S0:ns);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,g0({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Jp,this.capacity+(e.getRetryCost()??C0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Kp}`),Kp}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?w0:b0}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},O3=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new E0,this.standardRetryStrategy=new Xp(e)}static{ut(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},N3=class extends Xp{static{ut(this,"ConfiguredRetryStrategy")}constructor(e,t=ns){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var x0=b(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.isStreamingPayload=void 0;var D3=require("stream"),k3=e=>e?.body instanceof D3.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;uc.isStreamingPayload=k3});var Ht=b((bee,z0)=>{var pc=Object.defineProperty,$3=Object.getOwnPropertyDescriptor,M3=Object.getOwnPropertyNames,L3=Object.prototype.hasOwnProperty,ce=(e,t)=>pc(e,"name",{value:t,configurable:!0}),F3=(e,t)=>{for(var r in t)pc(e,r,{get:t[r],enumerable:!0})},U3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M3(t))!L3.call(e,o)&&o!==r&&pc(e,o,{get:()=>t[o],enumerable:!(n=$3(t,o))||n.enumerable});return e},j3=e=>U3(pc({},"__esModule",{value:!0}),e),T0={};F3(T0,{AdaptiveRetryStrategy:()=>B3,CONFIG_MAX_ATTEMPTS:()=>Zp,CONFIG_RETRY_MODE:()=>$0,ENV_MAX_ATTEMPTS:()=>Qp,ENV_RETRY_MODE:()=>k0,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>q3,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>G3,StandardRetryStrategy:()=>D0,defaultDelayDecider:()=>I0,defaultRetryDecider:()=>O0,getOmitRetryHeadersPlugin:()=>W3,getRetryAfterHint:()=>j0,getRetryPlugin:()=>Z3,omitRetryHeadersMiddleware:()=>M0,omitRetryHeadersMiddlewareOptions:()=>L0,resolveRetryConfig:()=>V3,retryMiddleware:()=>F0,retryMiddlewareOptions:()=>U0});z0.exports=j3(T0);var jn=te(),A0=(mu(),V(G_)),oe=Un(),z3=ce((e,t)=>{let r=e,n=t?.noRetryIncrement??oe.NO_RETRY_INCREMENT,o=t?.retryCost??oe.RETRY_COST,s=t?.timeoutRetryCost??oe.TIMEOUT_RETRY_COST,i=e,a=ce(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ce(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ce(f=>{if(!c(f))throw new Error("No retry token available");let m=a(f);return i-=m,m},"retrieveRetryTokens"),releaseRetryTokens:ce(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),I0=ce((e,t)=>Math.floor(Math.min(oe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Cr=Wp(),O0=ce(e=>e?(0,Cr.isRetryableByTrait)(e)||(0,Cr.isClockSkewError)(e)||(0,Cr.isThrottlingError)(e)||(0,Cr.isTransientError)(e):!1,"defaultRetryDecider"),N0=ce(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),D0=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=oe.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??O0,this.delayDecider=t?.delayDecider??I0,this.retryQuota=t?.retryQuota??z3(oe.INITIAL_RETRY_TOKENS)}static{ce(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=oe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(jn.HttpRequest.isInstance(a)&&(a.headers[oe.INVOCATION_ID_HEADER]=(0,A0.v4)());;)try{jn.HttpRequest.isInstance(a)&&(a.headers[oe.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=N0(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let u=this.delayDecider((0,Cr.isThrottlingError)(l)?oe.THROTTLING_RETRY_DELAY_BASE:oe.DEFAULT_RETRY_DELAY_BASE,o),f=H3(l.$response),m=Math.max(f||0,u);s+=m,await new Promise(h=>setTimeout(h,m));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},H3=ce(e=>{if(!jn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),B3=class extends D0{static{ce(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new oe.DefaultRateLimiter,this.mode=oe.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},R0=it(),Qp="AWS_MAX_ATTEMPTS",Zp="max_attempts",q3={environmentVariableSelector:e=>{let t=e[Qp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Qp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Zp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Zp} mast be a number, got "${t}"`);return r},default:oe.DEFAULT_MAX_ATTEMPTS},V3=ce(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,R0.normalizeProvider)(n??oe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,R0.normalizeProvider)(r)()===oe.RETRY_MODES.ADAPTIVE?new oe.AdaptiveRetryStrategy(o):new oe.StandardRetryStrategy(o))})},"resolveRetryConfig"),k0="AWS_RETRY_MODE",$0="retry_mode",G3={environmentVariableSelector:e=>e[k0],configFileSelector:e=>e[$0],default:oe.DEFAULT_RETRY_MODE},M0=ce(()=>e=>async t=>{let{request:r}=t;return jn.HttpRequest.isInstance(r)&&(delete r.headers[oe.INVOCATION_ID_HEADER],delete r.headers[oe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),L0={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},W3=ce(e=>({applyToStack:t=>{t.addRelativeTo(M0(),L0)}}),"getOmitRetryHeadersPlugin"),K3=B(),J3=x0(),F0=ce(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Y3(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,f=jn.HttpRequest.isInstance(u);for(f&&(u.headers[oe.INVOCATION_ID_HEADER]=(0,A0.v4)());;)try{f&&(u.headers[oe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:m,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=l,{response:m,output:h}}catch(m){let h=X3(m);if(a=N0(m),f&&(0,J3.isStreamingPayload)(u))throw(r.logger instanceof K3.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let g=i.getRetryDelay();l+=g,await new Promise(y=>setTimeout(y,g))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Y3=ce(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),X3=ce(e=>{let t={error:e,errorType:Q3(e)},r=j0(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Q3=ce(e=>(0,Cr.isThrottlingError)(e)?"THROTTLING":(0,Cr.isTransientError)(e)?"TRANSIENT":(0,Cr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),U0={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Z3=ce(e=>({applyToStack:t=>{t.add(F0(e),U0)}}),"getRetryPlugin"),j0=ce(e=>{if(!jn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var tf=b(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.resolveHttpAuthSchemeConfig=Pr.defaultECRHttpAuthSchemeProvider=Pr.defaultECRHttpAuthSchemeParametersProvider=void 0;var e4=(fe(),V(Ct)),ef=it(),t4=async(e,t,r)=>({operation:(0,ef.getSmithyContext)(t).operation,region:await(0,ef.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Pr.defaultECRHttpAuthSchemeParametersProvider=t4;function r4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ecr",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var n4=e=>{let t=[];switch(e.operation){default:t.push(r4(e))}return t};Pr.defaultECRHttpAuthSchemeProvider=n4;var o4=e=>{let t=(0,e4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,ef.normalizeProvider)(e.authSchemePreference??[])})};Pr.resolveHttpAuthSchemeConfig=o4});var H0=b((xee,s4)=>{s4.exports={name:"@aws-sdk/client-ecr",description:"AWS SDK for JavaScript Ecr Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-ecr","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ecr"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ecr",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ecr"}}});var rf=b((Ree,Y0)=>{"use strict";var fc=Object.defineProperty,i4=Object.getOwnPropertyDescriptor,a4=Object.getOwnPropertyNames,c4=Object.prototype.hasOwnProperty,l4=(e,t)=>fc(e,"name",{value:t,configurable:!0}),d4=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},u4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a4(t))!c4.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=i4(t,o))||n.enumerable});return e},p4=e=>u4(fc({},"__esModule",{value:!0}),e),B0={};d4(B0,{ENV_ACCOUNT_ID:()=>J0,ENV_CREDENTIAL_SCOPE:()=>K0,ENV_EXPIRATION:()=>W0,ENV_KEY:()=>q0,ENV_SECRET:()=>V0,ENV_SESSION:()=>G0,fromEnv:()=>h4});Y0.exports=p4(B0);var f4=(lt(),V(mr)),m4=Oe(),q0="AWS_ACCESS_KEY_ID",V0="AWS_SECRET_ACCESS_KEY",G0="AWS_SESSION_TOKEN",W0="AWS_CREDENTIAL_EXPIRATION",K0="AWS_CREDENTIAL_SCOPE",J0="AWS_ACCOUNT_ID",h4=l4(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[q0],r=process.env[V0],n=process.env[G0],o=process.env[W0],s=process.env[K0],i=process.env[J0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,f4.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new m4.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var os=b((Tee,dw)=>{var gc=Object.defineProperty,g4=Object.getOwnPropertyDescriptor,y4=Object.getOwnPropertyNames,_4=Object.prototype.hasOwnProperty,le=(e,t)=>gc(e,"name",{value:t,configurable:!0}),E4=(e,t)=>{for(var r in t)gc(e,r,{get:t[r],enumerable:!0})},v4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y4(t))!_4.call(e,o)&&o!==r&&gc(e,o,{get:()=>t[o],enumerable:!(n=g4(t,o))||n.enumerable});return e},S4=e=>v4(gc({},"__esModule",{value:!0}),e),ew={};E4(ew,{DEFAULT_MAX_RETRIES:()=>ow,DEFAULT_TIMEOUT:()=>nw,ENV_CMDS_AUTH_TOKEN:()=>sf,ENV_CMDS_FULL_URI:()=>mc,ENV_CMDS_RELATIVE_URI:()=>hc,Endpoint:()=>iw,fromContainerMetadata:()=>P4,fromInstanceMetadata:()=>G4,getInstanceMetadataEndpoint:()=>cw,httpRequest:()=>zn,providerConfigFromInit:()=>af});dw.exports=S4(ew);var b4=require("url"),Rt=Oe(),w4=require("buffer"),C4=require("http");function zn(e){return new Promise((t,r)=>{let n=(0,C4.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Rt.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Rt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Rt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(w4.Buffer.concat(i)),n.destroy()})}),n.end()})}le(zn,"httpRequest");var tw=le(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),rw=le(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),nw=1e3,ow=0,af=le(({maxRetries:e=ow,timeout:t=nw})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),of=le((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),mc="AWS_CONTAINER_CREDENTIALS_FULL_URI",hc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",sf="AWS_CONTAINER_AUTHORIZATION_TOKEN",P4=le((e={})=>{let{timeout:t,maxRetries:r}=af(e);return()=>of(async()=>{let n=await I4({logger:e.logger}),o=JSON.parse(await x4(t,n));if(!tw(o))throw new Rt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return rw(o)},r)},"fromContainerMetadata"),x4=le(async(e,t)=>(process.env[sf]&&(t.headers={...t.headers,Authorization:process.env[sf]}),(await zn({...t,timeout:e})).toString()),"requestFromEcsImds"),R4="169.254.170.2",T4={localhost:!0,"127.0.0.1":!0},A4={"http:":!0,"https:":!0},I4=le(async({logger:e})=>{if(process.env[hc])return{hostname:R4,path:process.env[hc]};if(process.env[mc]){let t=(0,b4.parse)(process.env[mc]);if(!t.hostname||!(t.hostname in T4))throw new Rt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in A4))throw new Rt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Rt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${hc} or ${mc} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),O4=class sw extends Rt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,sw.prototype)}static{le(this,"InstanceMetadataV1FallbackError")}},cf=br(),N4=ur(),iw=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(iw||{}),D4="AWS_EC2_METADATA_SERVICE_ENDPOINT",k4="ec2_metadata_service_endpoint",$4={environmentVariableSelector:e=>e[D4],configFileSelector:e=>e[k4],default:void 0},aw=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(aw||{}),M4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",L4="ec2_metadata_service_endpoint_mode",F4={environmentVariableSelector:e=>e[M4],configFileSelector:e=>e[L4],default:"IPv4"},cw=le(async()=>(0,N4.parseUrl)(await U4()||await j4()),"getInstanceMetadataEndpoint"),U4=le(async()=>(0,cf.loadConfig)($4)(),"getFromEndpointConfig"),j4=le(async()=>{let e=await(0,cf.loadConfig)(F4)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(aw)}`)}},"getFromEndpointModeConfig"),z4=300,H4=300,B4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",X0=le((e,t)=>{let r=z4+Math.floor(Math.random()*H4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+B4);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),q4=le((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=X0(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=X0(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),lw="/latest/meta-data/iam/security-credentials/",V4="/latest/api/token",nf="AWS_EC2_METADATA_V1_DISABLED",Q0="ec2_metadata_v1_disabled",Z0="x-aws-ec2-metadata-token",G4=le((e={})=>q4(W4(e),{logger:e.logger}),"fromInstanceMetadata"),W4=le((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=af(e),i=le(async(a,c)=>{if(t||c.headers?.[Z0]==null){let f=!1,m=!1,h=await(0,cf.loadConfig)({environmentVariableSelector:g=>{let y=g[nf];if(m=!!y&&y!=="false",y===void 0)throw new Rt.CredentialsProviderError(`${nf} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:g=>{let y=g[Q0];return f=!!y&&y!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&g.push(`config file profile (${Q0})`),m&&g.push(`process environment variable (${nf})`),new O4(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let u=(await of(async()=>{let f;try{f=await J4(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return f},a)).trim();return of(async()=>{let f;try{f=await Y4(u,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return f},a)},"getCredentials");return async()=>{let a=await cw();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await K4({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Z0]:c},timeout:o})}}},"getInstanceMetadataProvider"),K4=le(async e=>zn({...e,path:V4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),J4=le(async e=>(await zn({...e,path:lw})).toString(),"getProfile"),Y4=le(async(e,t,r)=>{let n=JSON.parse((await zn({...t,path:lw+e})).toString());if(!tw(n))throw new Rt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return rw(n)},"getCredentialsFromProfile")});var uw=b(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.checkUrl=void 0;var X4=Oe(),Q4="169.254.170.2",Z4="169.254.170.23",e5="[fd00:ec2::23]",t5=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Q4||e.hostname===Z4||e.hostname===e5)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new X4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};yc.checkUrl=t5});var pw=b(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.createGetRequest=s5;_c.getCredentials=i5;var lf=Oe(),r5=te(),n5=B(),o5=Ji();function s5(e){return new r5.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function i5(e,t){let n=await(0,o5.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new lf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,n5.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new lf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new lf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var fw=b(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.retryWrapper=void 0;var a5=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Ec.retryWrapper=a5});var gw=b(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.fromHttp=void 0;var c5=(En(),V(_n)),l5=(lt(),V(mr)),d5=Fr(),mw=Oe(),u5=c5.__importDefault(require("fs/promises")),p5=uw(),hw=pw(),f5=fw(),m5="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",h5="http://169.254.170.2",g5="AWS_CONTAINER_CREDENTIALS_FULL_URI",y5="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",_5="AWS_CONTAINER_AUTHORIZATION_TOKEN",E5=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[m5],n=e.awsContainerCredentialsFullUri??process.env[g5],o=e.awsContainerAuthorizationToken??process.env[_5],s=e.awsContainerAuthorizationTokenFile??process.env[y5],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${h5}${r}`;else throw new mw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,p5.checkUrl)(a,e.logger);let c=new d5.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,f5.retryWrapper)(async()=>{let l=(0,hw.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await u5.default.readFile(s)).toString());try{let u=await c.handle(l);return(0,hw.getCredentials)(u.response).then(f=>(0,l5.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(u){throw new mw.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};vc.fromHttp=E5});var df=b(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.fromHttp=void 0;var v5=gw();Object.defineProperty(Sc,"fromHttp",{enumerable:!0,get:function(){return v5.fromHttp}})});var pf=b(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.resolveHttpAuthSchemeConfig=xr.defaultSSOHttpAuthSchemeProvider=xr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var S5=(fe(),V(Ct)),uf=it(),b5=async(e,t,r)=>({operation:(0,uf.getSmithyContext)(t).operation,region:await(0,uf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});xr.defaultSSOHttpAuthSchemeParametersProvider=b5;function w5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function bc(e){return{schemeId:"smithy.api#noAuth"}}var C5=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(bc(e));break}case"ListAccountRoles":{t.push(bc(e));break}case"ListAccounts":{t.push(bc(e));break}case"Logout":{t.push(bc(e));break}default:t.push(w5(e))}return t};xr.defaultSSOHttpAuthSchemeProvider=C5;var P5=e=>{let t=(0,S5.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,uf.normalizeProvider)(e.authSchemePreference??[])})};xr.resolveHttpAuthSchemeConfig=P5});var yw=b(($ee,x5)=>{x5.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var ss=b((Mee,Cw)=>{"use strict";var Cc=Object.defineProperty,R5=Object.getOwnPropertyDescriptor,T5=Object.getOwnPropertyNames,A5=Object.prototype.hasOwnProperty,wc=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),I5=(e,t)=>{for(var r in t)Cc(e,r,{get:t[r],enumerable:!0})},O5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T5(t))!A5.call(e,o)&&o!==r&&Cc(e,o,{get:()=>t[o],enumerable:!(n=R5(t,o))||n.enumerable});return e},N5=e=>O5(Cc({},"__esModule",{value:!0}),e),Ew={};I5(Ew,{NODE_APP_ID_CONFIG_OPTIONS:()=>L5,UA_APP_ID_ENV_NAME:()=>bw,UA_APP_ID_INI_NAME:()=>ww,createDefaultUserAgentProvider:()=>Sw,crtAvailability:()=>vw,defaultUserAgent:()=>k5});Cw.exports=N5(Ew);var _w=require("os"),ff=require("process"),vw={isCrtAvailable:!1},D5=wc(()=>vw.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Sw=wc(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,_w.platform)()}`,(0,_w.release)()],["lang/js"],["md/nodejs",`${ff.versions.node}`]],o=D5();o&&n.push(o),e&&n.push([`api/${e}`,t]),ff.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${ff.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),k5=Sw,$5=Mn(),bw="AWS_SDK_UA_APP_ID",ww="sdk_ua_app_id",M5="sdk-ua-app-id",L5={environmentVariableSelector:wc(e=>e[bw],"environmentVariableSelector"),configFileSelector:wc(e=>e[ww]??e[M5],"configFileSelector"),default:$5.DEFAULT_UA_APP_ID}});var is=b((Lee,Tw)=>{var Pc=Object.defineProperty,F5=Object.getOwnPropertyDescriptor,U5=Object.getOwnPropertyNames,j5=Object.prototype.hasOwnProperty,xw=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),z5=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},H5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U5(t))!j5.call(e,o)&&o!==r&&Pc(e,o,{get:()=>t[o],enumerable:!(n=F5(t,o))||n.enumerable});return e},B5=e=>H5(Pc({},"__esModule",{value:!0}),e),Rw={};z5(Rw,{Hash:()=>G5});Tw.exports=B5(Rw);var mf=vn(),q5=ge(),V5=require("buffer"),Pw=require("crypto"),G5=class{static{xw(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,q5.toUint8Array)(hf(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Pw.createHmac)(this.algorithmIdentifier,hf(this.secret)):(0,Pw.createHash)(this.algorithmIdentifier)}};function hf(e,t){return V5.Buffer.isBuffer(e)?e:typeof e=="string"?(0,mf.fromString)(e,t):ArrayBuffer.isView(e)?(0,mf.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,mf.fromArrayBuffer)(e)}xw(hf,"castSourceData")});var as=b((Uee,Ow)=>{var xc=Object.defineProperty,W5=Object.getOwnPropertyDescriptor,K5=Object.getOwnPropertyNames,J5=Object.prototype.hasOwnProperty,Y5=(e,t)=>xc(e,"name",{value:t,configurable:!0}),X5=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},Q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K5(t))!J5.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=W5(t,o))||n.enumerable});return e},Z5=e=>Q5(xc({},"__esModule",{value:!0}),e),Iw={};X5(Iw,{calculateBodyLength:()=>ez});Ow.exports=Z5(Iw);var Aw=require("fs"),ez=Y5(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Aw.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Aw.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Gw=b(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.ruleSet=void 0;var Hw="required",Xe="fn",Qe="argv",qn="ref",Nw=!0,Dw="isSet",cs="booleanEquals",Hn="error",Bn="endpoint",Bt="tree",gf="PartitionResult",yf="getAttr",kw={[Hw]:!1,type:"String"},$w={[Hw]:!0,default:!1,type:"Boolean"},Mw={[qn]:"Endpoint"},Bw={[Xe]:cs,[Qe]:[{[qn]:"UseFIPS"},!0]},qw={[Xe]:cs,[Qe]:[{[qn]:"UseDualStack"},!0]},Ye={},Lw={[Xe]:yf,[Qe]:[{[qn]:gf},"supportsFIPS"]},Vw={[qn]:gf},Fw={[Xe]:cs,[Qe]:[!0,{[Xe]:yf,[Qe]:[Vw,"supportsDualStack"]}]},Uw=[Bw],jw=[qw],zw=[{[qn]:"Region"}],tz={version:"1.0",parameters:{Region:kw,UseDualStack:$w,UseFIPS:$w,Endpoint:kw},rules:[{conditions:[{[Xe]:Dw,[Qe]:[Mw]}],rules:[{conditions:Uw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Hn},{conditions:jw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Hn},{endpoint:{url:Mw,properties:Ye,headers:Ye},type:Bn}],type:Bt},{conditions:[{[Xe]:Dw,[Qe]:zw}],rules:[{conditions:[{[Xe]:"aws.partition",[Qe]:zw,assign:gf}],rules:[{conditions:[Bw,qw],rules:[{conditions:[{[Xe]:cs,[Qe]:[Nw,Lw]},Fw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Bn}],type:Bt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Hn}],type:Bt},{conditions:Uw,rules:[{conditions:[{[Xe]:cs,[Qe]:[Lw,Nw]}],rules:[{conditions:[{[Xe]:"stringEquals",[Qe]:[{[Xe]:yf,[Qe]:[Vw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ye,headers:Ye},type:Bn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Bn}],type:Bt},{error:"FIPS is enabled but this partition does not support FIPS",type:Hn}],type:Bt},{conditions:jw,rules:[{conditions:[Fw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Bn}],type:Bt},{error:"DualStack is enabled but this partition does not support DualStack",type:Hn}],type:Bt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Bn}],type:Bt}],type:Bt},{error:"Invalid Configuration: Missing Region",type:Hn}]};Rc.ruleSet=tz});var Ww=b(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.defaultEndpointResolver=void 0;var rz=An(),_f=Tn(),nz=Gw(),oz=new _f.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),sz=(e,t={})=>oz.get(e,()=>(0,_f.resolveEndpoint)(nz.ruleSet,{endpointParams:e,logger:t.logger}));Tc.defaultEndpointResolver=sz;_f.customEndpointFunctions.aws=rz.awsEndpointFunctions});var Yw=b(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.getRuntimeConfig=void 0;var iz=(fe(),V(Ct)),az=(Me(),V(Rn)),cz=B(),lz=ur(),Kw=Te(),Jw=ge(),dz=pf(),uz=Ww(),pz=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Kw.fromBase64,base64Encoder:e?.base64Encoder??Kw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uz.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dz.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iz.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new az.NoAuthSigner}],logger:e?.logger??new cz.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??lz.parseUrl,utf8Decoder:e?.utf8Decoder??Jw.fromUtf8,utf8Encoder:e?.utf8Encoder??Jw.toUtf8});Ac.getRuntimeConfig=pz});var ds=b((Bee,rC)=>{var fz=Object.create,ls=Object.defineProperty,mz=Object.getOwnPropertyDescriptor,hz=Object.getOwnPropertyNames,gz=Object.getPrototypeOf,yz=Object.prototype.hasOwnProperty,Ef=(e,t)=>ls(e,"name",{value:t,configurable:!0}),_z=(e,t)=>{for(var r in t)ls(e,r,{get:t[r],enumerable:!0})},eC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hz(t))!yz.call(e,o)&&o!==r&&ls(e,o,{get:()=>t[o],enumerable:!(n=mz(t,o))||n.enumerable});return e},Ez=(e,t,r)=>(r=e!=null?fz(gz(e)):{},eC(t||!e||!e.__esModule?ls(r,"default",{value:e,enumerable:!0}):r,e)),vz=e=>eC(ls({},"__esModule",{value:!0}),e),tC={};_z(tC,{resolveDefaultsModeConfig:()=>Iz});rC.exports=vz(tC);var Sz=xt(),Xw=br(),bz=Oe(),wz="AWS_EXECUTION_ENV",Qw="AWS_REGION",Zw="AWS_DEFAULT_REGION",Cz="AWS_EC2_METADATA_DISABLED",Pz=["in-region","cross-region","mobile","standard","legacy"],xz="/latest/meta-data/placement/region",Rz="AWS_DEFAULTS_MODE",Tz="defaults_mode",Az={environmentVariableSelector:e=>e[Rz],configFileSelector:e=>e[Tz],default:"legacy"},Iz=Ef(({region:e=(0,Xw.loadConfig)(Sz.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Xw.loadConfig)(Az)}={})=>(0,bz.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Oz(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Pz.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Oz=Ef(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Nz();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Nz=Ef(async()=>{if(process.env[wz]&&(process.env[Qw]||process.env[Zw]))return process.env[Qw]??process.env[Zw];if(!process.env[Cz])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Ez(os())),r=await e();return(await t({...r,path:xz})).toString()}catch{}},"inferPhysicalRegion")});var aC=b(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.getRuntimeConfig=void 0;var Dz=(En(),V(_n)),kz=Dz.__importDefault(yw()),nC=(fe(),V(Ct)),oC=ss(),Ic=xt(),$z=is(),sC=Ht(),an=br(),iC=Fr(),Mz=as(),Lz=Un(),Fz=Yw(),Uz=B(),jz=ds(),zz=B(),Hz=e=>{(0,zz.emitWarningIfUnsupportedVersion)(process.version);let t=(0,jz.resolveDefaultsModeConfig)(e),r=()=>t().then(Uz.loadConfigsForDefaultMode),n=(0,Fz.getRuntimeConfig)(e);(0,nC.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(nC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??Mz.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,oC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:kz.default.version}),maxAttempts:e?.maxAttempts??(0,an.loadConfig)(sC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(Ic.NODE_REGION_CONFIG_OPTIONS,{...Ic.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:iC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,an.loadConfig)({...sC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Lz.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??$z.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??iC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(Ic.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(Ic.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(oC.NODE_APP_ID_CONFIG_OPTIONS,o)}};Oc.getRuntimeConfig=Hz});var us=b((Vee,fC)=>{"use strict";var Nc=Object.defineProperty,Bz=Object.getOwnPropertyDescriptor,qz=Object.getOwnPropertyNames,Vz=Object.prototype.hasOwnProperty,Tt=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),Gz=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},Wz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qz(t))!Vz.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=Bz(t,o))||n.enumerable});return e},Kz=e=>Wz(Nc({},"__esModule",{value:!0}),e),lC={};Gz(lC,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Qz,NODE_REGION_CONFIG_OPTIONS:()=>Xz,REGION_ENV_NAME:()=>dC,REGION_INI_NAME:()=>uC,getAwsRegionExtensionConfiguration:()=>Jz,resolveAwsRegionExtensionConfiguration:()=>Yz,resolveRegionConfig:()=>Zz});fC.exports=Kz(lC);var Jz=Tt(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Yz=Tt(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),dC="AWS_REGION",uC="region",Xz={environmentVariableSelector:Tt(e=>e[dC],"environmentVariableSelector"),configFileSelector:Tt(e=>e[uC],"configFileSelector"),default:Tt(()=>{throw new Error("Region is missing")},"default")},Qz={preferredFile:"credentials"},pC=Tt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),cC=Tt(e=>pC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Zz=Tt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Tt(async()=>{if(typeof t=="string")return cC(t);let n=await t();return cC(n)},"region"),useFipsEndpoint:Tt(async()=>{let n=typeof t=="string"?t:await t();return pC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var GC=b((Gee,VC)=>{"use strict";var Dc=Object.defineProperty,eH=Object.getOwnPropertyDescriptor,tH=Object.getOwnPropertyNames,rH=Object.prototype.hasOwnProperty,q=(e,t)=>Dc(e,"name",{value:t,configurable:!0}),nH=(e,t)=>{for(var r in t)Dc(e,r,{get:t[r],enumerable:!0})},oH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tH(t))!rH.call(e,o)&&o!==r&&Dc(e,o,{get:()=>t[o],enumerable:!(n=eH(t,o))||n.enumerable});return e},sH=e=>oH(Dc({},"__esModule",{value:!0}),e),vC={};nH(vC,{GetRoleCredentialsCommand:()=>HC,GetRoleCredentialsRequestFilterSensitiveLog:()=>IC,GetRoleCredentialsResponseFilterSensitiveLog:()=>NC,InvalidRequestException:()=>bC,ListAccountRolesCommand:()=>vf,ListAccountRolesRequestFilterSensitiveLog:()=>DC,ListAccountsCommand:()=>Sf,ListAccountsRequestFilterSensitiveLog:()=>kC,LogoutCommand:()=>BC,LogoutRequestFilterSensitiveLog:()=>$C,ResourceNotFoundException:()=>CC,RoleCredentialsFilterSensitiveLog:()=>OC,SSO:()=>qC,SSOClient:()=>$c,SSOServiceException:()=>Vn,TooManyRequestsException:()=>xC,UnauthorizedException:()=>TC,__Client:()=>T.Client,paginateListAccountRoles:()=>OH,paginateListAccounts:()=>NH});VC.exports=sH(vC);var mC=fo(),iH=mo(),aH=ho(),hC=Mn(),cH=xt(),qt=(Me(),V(Rn)),lH=Zo(),fs=wr(),gC=Ht(),yC=pf(),dH=q(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),kc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},uH=aC(),_C=us(),EC=te(),T=B(),pH=q(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),fH=q(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),mH=q((e,t)=>{let r=Object.assign((0,_C.getAwsRegionExtensionConfiguration)(e),(0,T.getDefaultExtensionConfiguration)(e),(0,EC.getHttpHandlerExtensionConfiguration)(e),pH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,_C.resolveAwsRegionExtensionConfiguration)(r),(0,T.resolveDefaultRuntimeConfig)(r),(0,EC.resolveHttpHandlerRuntimeConfig)(r),fH(r))},"resolveRuntimeExtensions"),$c=class extends T.Client{static{q(this,"SSOClient")}config;constructor(...[e]){let t=(0,uH.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=dH(t),n=(0,hC.resolveUserAgentConfig)(r),o=(0,gC.resolveRetryConfig)(n),s=(0,cH.resolveRegionConfig)(o),i=(0,mC.resolveHostHeaderConfig)(s),a=(0,fs.resolveEndpointConfig)(i),c=(0,yC.resolveHttpAuthSchemeConfig)(a),l=mH(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,hC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,gC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,lH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iH.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aH.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,qt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:yC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:q(async u=>new qt.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,qt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Mc=ir(),Vn=class SC extends T.ServiceException{static{q(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,SC.prototype)}},bC=class wC extends Vn{static{q(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,wC.prototype)}},CC=class PC extends Vn{static{q(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,PC.prototype)}},xC=class RC extends Vn{static{q(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,RC.prototype)}},TC=class AC extends Vn{static{q(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,AC.prototype)}},IC=q(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),OC=q(e=>({...e,...e.secretAccessKey&&{secretAccessKey:T.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:T.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),NC=q(e=>({...e,...e.roleCredentials&&{roleCredentials:OC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),DC=q(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),kC=q(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),$C=q(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),ps=(fe(),V(Ct)),hH=q(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[Uc]:e[Fc]});r.bp("/federation/credentials");let o=(0,T.map)({[AH]:[,(0,T.expectNonNull)(e[TH],"roleName")],[LC]:[,(0,T.expectNonNull)(e[MC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),gH=q(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[Uc]:e[Fc]});r.bp("/assignment/roles");let o=(0,T.map)({[zC]:[,e[jC]],[UC]:[()=>e.maxResults!==void 0,()=>e[FC].toString()],[LC]:[,(0,T.expectNonNull)(e[MC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),yH=q(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[Uc]:e[Fc]});r.bp("/assignment/accounts");let o=(0,T.map)({[zC]:[,e[jC]],[UC]:[()=>e.maxResults!==void 0,()=>e[FC].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),_H=q(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[Uc]:e[Fc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),EH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ps.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{roleCredentials:T._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),vH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ps.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{nextToken:T.expectString,roleList:T._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),SH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ps.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{accountList:T._json,nextToken:T.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),bH=q(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lc(e,t);let r=(0,T.map)({$metadata:Rr(e)});return await(0,T.collectBody)(e.body,t),r},"de_LogoutCommand"),Lc=q(async(e,t)=>{let r={...e,body:await(0,ps.parseJsonErrorBody)(e.body,t)},n=(0,ps.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await CH(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await PH(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await xH(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await RH(r,t);default:let o=r.body;return wH({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),wH=(0,T.withBaseException)(Vn),CH=q(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new bC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),PH=q(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new CC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),xH=q(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new xC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),RH=q(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new TC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),Rr=q(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),MC="accountId",Fc="accessToken",LC="account_id",FC="maxResults",UC="max_result",jC="nextToken",zC="next_token",TH="roleName",AH="role_name",Uc="x-amz-sso_bearer_token",HC=class extends T.Command.classBuilder().ep(kc).m(function(e,t,r,n){return[(0,Mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(IC,NC).ser(hH).de(EH).build(){static{q(this,"GetRoleCredentialsCommand")}},vf=class extends T.Command.classBuilder().ep(kc).m(function(e,t,r,n){return[(0,Mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(DC,void 0).ser(gH).de(vH).build(){static{q(this,"ListAccountRolesCommand")}},Sf=class extends T.Command.classBuilder().ep(kc).m(function(e,t,r,n){return[(0,Mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(kC,void 0).ser(yH).de(SH).build(){static{q(this,"ListAccountsCommand")}},BC=class extends T.Command.classBuilder().ep(kc).m(function(e,t,r,n){return[(0,Mc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f($C,void 0).ser(_H).de(bH).build(){static{q(this,"LogoutCommand")}},IH={GetRoleCredentialsCommand:HC,ListAccountRolesCommand:vf,ListAccountsCommand:Sf,LogoutCommand:BC},qC=class extends $c{static{q(this,"SSO")}};(0,T.createAggregatedClient)(IH,qC);var OH=(0,qt.createPaginator)($c,vf,"nextToken","nextToken","maxResults"),NH=(0,qt.createPaginator)($c,Sf,"nextToken","nextToken","maxResults")});function DH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kH(e){return{schemeId:"smithy.api#noAuth"}}var ms,WC,KC,JC,bf=_(()=>{fe();ms=v(it()),WC=async(e,t,r)=>({operation:(0,ms.getSmithyContext)(t).operation,region:await(0,ms.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});KC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(kH(e));break}default:t.push(DH(e))}return t},JC=e=>{let t=Yr(e);return Object.assign(t,{authSchemePreference:(0,ms.normalizeProvider)(e.authSchemePreference??[])})}});var YC,XC,wf=_(()=>{YC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),XC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var jc,Cf=_(()=>{jc={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var aP,et,QC,hs,Gn,Wn,Vt,Pf,xf,ZC,eP,tP,cP,lP,Ze,rP,dP,nP,oP,sP,iP,MH,uP,pP=_(()=>{aP="required",et="argv",QC="isSet",hs="booleanEquals",Gn="error",Wn="endpoint",Vt="tree",Pf="PartitionResult",xf="getAttr",ZC={[aP]:!1,type:"String"},eP={[aP]:!0,default:!1,type:"Boolean"},tP={ref:"Endpoint"},cP={fn:hs,[et]:[{ref:"UseFIPS"},!0]},lP={fn:hs,[et]:[{ref:"UseDualStack"},!0]},Ze={},rP={fn:xf,[et]:[{ref:Pf},"supportsFIPS"]},dP={ref:Pf},nP={fn:hs,[et]:[!0,{fn:xf,[et]:[dP,"supportsDualStack"]}]},oP=[cP],sP=[lP],iP=[{ref:"Region"}],MH={version:"1.0",parameters:{Region:ZC,UseDualStack:eP,UseFIPS:eP,Endpoint:ZC},rules:[{conditions:[{fn:QC,[et]:[tP]}],rules:[{conditions:oP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Gn},{conditions:sP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Gn},{endpoint:{url:tP,properties:Ze,headers:Ze},type:Wn}],type:Vt},{conditions:[{fn:QC,[et]:iP}],rules:[{conditions:[{fn:"aws.partition",[et]:iP,assign:Pf}],rules:[{conditions:[cP,lP],rules:[{conditions:[{fn:hs,[et]:[!0,rP]},nP],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Wn}],type:Vt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Gn}],type:Vt},{conditions:oP,rules:[{conditions:[{fn:hs,[et]:[rP,!0]}],rules:[{conditions:[{fn:"stringEquals",[et]:[{fn:xf,[et]:[dP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ze,headers:Ze},type:Wn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Wn}],type:Vt},{error:"FIPS is enabled but this partition does not support FIPS",type:Gn}],type:Vt},{conditions:sP,rules:[{conditions:[nP],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Wn}],type:Vt},{error:"DualStack is enabled but this partition does not support DualStack",type:Gn}],type:Vt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Wn}],type:Vt}],type:Vt},{error:"Invalid Configuration: Missing Region",type:Gn}]},uP=MH});var fP,Kn,LH,mP,hP=_(()=>{fP=v(An()),Kn=v(Tn());pP();LH=new Kn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mP=(e,t={})=>LH.get(e,()=>(0,Kn.resolveEndpoint)(uP,{endpointParams:e,logger:t.logger}));Kn.customEndpointFunctions.aws=fP.awsEndpointFunctions});var gP,yP,zc,Hc,_P,EP=_(()=>{fe();Me();gP=v(B()),yP=v(ur()),zc=v(Te()),Hc=v(ge());bf();hP();_P=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??zc.fromBase64,base64Encoder:e?.base64Encoder??zc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??mP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??KC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],logger:e?.logger??new gP.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??yP.parseUrl,utf8Decoder:e?.utf8Decoder??Hc.fromUtf8,utf8Encoder:e?.utf8Encoder??Hc.toUtf8})});var Bc,Ar,vP,qc,Tr,Vc,SP,bP,wP,CP,PP,xP,RP=_(()=>{Cf();fe();Bc=v(ss()),Ar=v(xt()),vP=v(is()),qc=v(Ht()),Tr=v(br()),Vc=v(Fr()),SP=v(as()),bP=v(Un());EP();wP=v(B()),CP=v(ds()),PP=v(B()),xP=e=>{(0,PP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,CP.resolveDefaultsModeConfig)(e),r=()=>t().then(wP.loadConfigsForDefaultMode),n=_P(e);In(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Tr.loadConfig)(Dn,o),bodyLengthChecker:e?.bodyLengthChecker??SP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Bc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jc.version}),maxAttempts:e?.maxAttempts??(0,Tr.loadConfig)(qc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Tr.loadConfig)(Ar.NODE_REGION_CONFIG_OPTIONS,{...Ar.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Vc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Tr.loadConfig)({...qc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??vP.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Vc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Tr.loadConfig)(Ar.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Tr.loadConfig)(Ar.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Tr.loadConfig)(Bc.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var TP,AP,IP=_(()=>{TP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},AP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Gc,Wc,Kc,OP,NP=_(()=>{Gc=v(us()),Wc=v(te()),Kc=v(B());IP();OP=(e,t)=>{let r=Object.assign((0,Gc.getAwsRegionExtensionConfiguration)(e),(0,Kc.getDefaultExtensionConfiguration)(e),(0,Wc.getHttpHandlerExtensionConfiguration)(e),TP(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Gc.resolveAwsRegionExtensionConfiguration)(r),(0,Kc.resolveDefaultRuntimeConfig)(r),(0,Wc.resolveHttpHandlerRuntimeConfig)(r),AP(r))}});var Jc,DP,kP,Yc,$P,MP,LP,Xc,Rf,gs,Tf=_(()=>{Jc=v(fo()),DP=v(mo()),kP=v(ho()),Yc=v(Mn()),$P=v(xt());Me();MP=v(Zo()),LP=v(wr()),Xc=v(Ht()),Rf=v(B());bf();wf();RP();NP();gs=class extends Rf.Client{config;constructor(...[t]){let r=xP(t||{});super(r),this.initConfig=r;let n=YC(r),o=(0,Yc.resolveUserAgentConfig)(n),s=(0,Xc.resolveRetryConfig)(o),i=(0,$P.resolveRegionConfig)(s),a=(0,Jc.resolveHostHeaderConfig)(i),c=(0,LP.resolveEndpointConfig)(a),l=JC(c),u=OP(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,Yc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Xc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,MP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Jc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,DP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,kP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(yo(this.config,{httpAuthSchemeParametersProvider:WC,identityProviderConfigProvider:async f=>new Kr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(_o(this.config))}destroy(){super.destroy()}}});var FP,me,Qc=_(()=>{FP=v(B()),me=class e extends FP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var cn,ys,_s,Af,If,Es,vs,Ss,bs,ws,Cs,Ps,xs,Rs,Zc=_(()=>{cn=v(B());Qc();ys=class e extends me{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_s=class e extends me{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Af=e=>({...e,...e.clientSecret&&{clientSecret:cn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:cn.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:cn.SENSITIVE_STRING}}),If=e=>({...e,...e.accessToken&&{accessToken:cn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:cn.SENSITIVE_STRING},...e.idToken&&{idToken:cn.SENSITIVE_STRING}}),Es=class e extends me{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vs=class e extends me{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ss=class e extends me{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bs=class e extends me{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ws=class e extends me{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Cs=class e extends me{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ps=class e extends me{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xs=class e extends me{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Rs=class e extends me{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var P,UP,jP,FH,UH,jH,zH,HH,BH,qH,VH,GH,WH,KH,JH,YH,tt,zP=_(()=>{fe();Me();P=v(B());Zc();Qc();UP=async(e,t)=>{let r=Mo(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,P.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,P._json)(s)})),r.m("POST").h(n).b(o),r.build()},jP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return FH(e,t);let r=(0,P.map)({$metadata:tt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await $n(e.body,t)),"body"),o=(0,P.take)(n,{accessToken:P.expectString,expiresIn:P.expectInt32,idToken:P.expectString,refreshToken:P.expectString,tokenType:P.expectString});return Object.assign(r,o),r},FH=async(e,t)=>{let r={...e,body:await lp(e.body,t)},n=Qr(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await jH(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await zH(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await HH(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await BH(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await qH(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await VH(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await GH(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await WH(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await KH(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await JH(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await YH(r,t);default:let o=r.body;return UH({output:e,parsedBody:o,errorCode:n})}},UH=(0,P.withBaseException)(me),jH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ys({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},zH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new _s({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},HH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Es({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},BH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new vs({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},qH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Ss({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},VH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new bs({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},GH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new ws({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},WH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Cs({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},KH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Ps({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},JH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new xs({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},YH=async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,o);let s=new Rs({$metadata:tt(e),...r});return(0,P.decorateServiceException)(s,e.body)},tt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var HP,BP,Of,Ts,Nf=_(()=>{HP=v(wr()),BP=v(ir()),Of=v(B());wf();Zc();zP();Ts=class extends Of.Command.classBuilder().ep(XC).m(function(t,r,n,o){return[(0,BP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,HP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Af,If).ser(UP).de(jP).build(){}});var qP,XH,el,VP=_(()=>{qP=v(B());Nf();Tf();XH={CreateTokenCommand:Ts},el=class extends gs{};(0,qP.createAggregatedClient)(XH,el)});var GP=_(()=>{Nf()});var WP=_(()=>{Zc()});var Df={};st(Df,{$Command:()=>Of.Command,AccessDeniedException:()=>ys,AuthorizationPendingException:()=>_s,CreateTokenCommand:()=>Ts,CreateTokenRequestFilterSensitiveLog:()=>Af,CreateTokenResponseFilterSensitiveLog:()=>If,ExpiredTokenException:()=>Es,InternalServerException:()=>vs,InvalidClientException:()=>Ss,InvalidGrantException:()=>bs,InvalidRequestException:()=>ws,InvalidScopeException:()=>Cs,SSOOIDC:()=>el,SSOOIDCClient:()=>gs,SSOOIDCServiceException:()=>me,SlowDownException:()=>Ps,UnauthorizedClientException:()=>xs,UnsupportedGrantTypeException:()=>Rs,__Client:()=>Rf.Client});var kf=_(()=>{Tf();VP();GP();WP();Qc()});var tx=b((Kte,ex)=>{"use strict";var QH=Object.create,Is=Object.defineProperty,ZH=Object.getOwnPropertyDescriptor,e8=Object.getOwnPropertyNames,t8=Object.getPrototypeOf,r8=Object.prototype.hasOwnProperty,Gt=(e,t)=>Is(e,"name",{value:t,configurable:!0}),n8=(e,t)=>{for(var r in t)Is(e,r,{get:t[r],enumerable:!0})},YP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e8(t))!r8.call(e,o)&&o!==r&&Is(e,o,{get:()=>t[o],enumerable:!(n=ZH(t,o))||n.enumerable});return e},XP=(e,t,r)=>(r=e!=null?QH(t8(e)):{},YP(t||!e||!e.__esModule?Is(r,"default",{value:e,enumerable:!0}):r,e)),o8=e=>YP(Is({},"__esModule",{value:!0}),e),QP={};n8(QP,{fromEnvSigningName:()=>a8,fromSso:()=>ZP,fromStatic:()=>m8,nodeProvider:()=>h8});ex.exports=o8(QP);var s8=(lt(),V(mr)),i8=(Zu(),V(tS)),Be=Oe(),a8=Gt(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Be.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,i8.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Be.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,s8.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),c8=300*1e3,$f="To refresh this SSO session run 'aws sso login' with the corresponding profile.",l8=Gt(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>XP((kf(),V(Df))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),d8=Gt(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>XP((kf(),V(Df))));return(await l8(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),KP=Gt(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Be.TokenProviderError(`Token is expired. ${$f}`,!1)},"validateTokenExpiry"),ln=Gt((e,t,r=!1)=>{if(typeof t>"u")throw new Be.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${$f}`,!1)},"validateTokenKey"),As=Sr(),u8=require("fs"),{writeFile:p8}=u8.promises,f8=Gt((e,t)=>{let r=(0,As.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return p8(r,n)},"writeSSOTokenToFile"),JP=new Date(0),ZP=Gt((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,As.parseKnownFiles)(r),o=(0,As.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new Be.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Be.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,As.loadSsoSessionData)(r))[i];if(!c)throw new Be.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new Be.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);let l=c.sso_start_url,u=c.sso_region,f;try{f=await(0,As.getSSOTokenFromFile)(i)}catch{throw new Be.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${$f}`,!1)}ln("accessToken",f.accessToken),ln("expiresAt",f.expiresAt);let{accessToken:m,expiresAt:h}=f,g={token:m,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>c8)return g;if(Date.now()-JP.getTime()<30*1e3)return KP(g),g;ln("clientId",f.clientId,!0),ln("clientSecret",f.clientSecret,!0),ln("refreshToken",f.refreshToken,!0);try{JP.setTime(Date.now());let y=await d8(f,u,r);ln("accessToken",y.accessToken),ln("expiresIn",y.expiresIn);let E=new Date(Date.now()+y.expiresIn*1e3);try{await f8(i,{...f,accessToken:y.accessToken,expiresAt:E.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:E}}catch{return KP(g),g}},"fromSso"),m8=Gt(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Be.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),h8=Gt((e={})=>(0,Be.memoize)((0,Be.chain)(ZP(e),async()=>{throw new Be.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Lf=b((Jte,dx)=>{"use strict";var rl=Object.defineProperty,g8=Object.getOwnPropertyDescriptor,ox=Object.getOwnPropertyNames,y8=Object.prototype.hasOwnProperty,nl=(e,t)=>rl(e,"name",{value:t,configurable:!0}),_8=(e,t)=>function(){return e&&(t=(0,e[ox(e)[0]])(e=0)),t},sx=(e,t)=>{for(var r in t)rl(e,r,{get:t[r],enumerable:!0})},E8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ox(t))!y8.call(e,o)&&o!==r&&rl(e,o,{get:()=>t[o],enumerable:!(n=g8(t,o))||n.enumerable});return e},v8=e=>E8(rl({},"__esModule",{value:!0}),e),ix={};sx(ix,{GetRoleCredentialsCommand:()=>Mf.GetRoleCredentialsCommand,SSOClient:()=>Mf.SSOClient});var Mf,S8=_8({"src/loadSso.ts"(){"use strict";Mf=GC()}}),ax={};sx(ax,{fromSSO:()=>w8,isSsoProfile:()=>cx,validateSsoProfile:()=>lx});dx.exports=v8(ax);var cx=nl(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),rx=(lt(),V(mr)),b8=tx(),pt=Oe(),tl=Sr(),Os=!1,nx=nl(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let u,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Z=await(0,b8.fromSso)({profile:c})();u={accessToken:Z.token,expiresAt:new Date(Z.expiration).toISOString()}}catch(Z){throw new pt.CredentialsProviderError(Z.message,{tryNextLink:Os,logger:l})}else try{u=await(0,tl.getSSOTokenFromFile)(e)}catch{throw new pt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Os,logger:l})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new pt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Os,logger:l});let{accessToken:m}=u,{SSOClient:h,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(S8(),ix)),y=s||new h(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),E;try{E=await y.send(new g({accountId:r,roleName:o,accessToken:m}))}catch(Z){throw new pt.CredentialsProviderError(Z,{tryNextLink:Os,logger:l})}let{roleCredentials:{accessKeyId:S,secretAccessKey:w,sessionToken:I,expiration:x,credentialScope:A,accountId:z}={}}=E;if(!S||!w||!I||!x)throw new pt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Os,logger:l});let we={accessKeyId:S,secretAccessKey:w,sessionToken:I,expiration:new Date(x),...A&&{credentialScope:A},...z&&{accountId:z}};return t?(0,rx.setCredentialFeature)(we,"CREDENTIALS_SSO","s"):(0,rx.setCredentialFeature)(we,"CREDENTIALS_SSO_LEGACY","u"),we},"resolveSSOCredentials"),lx=nl((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new pt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),w8=nl((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,tl.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let u=(await(0,tl.parseKnownFiles)(e))[c];if(!u)throw new pt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!cx(u))throw new pt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let S=(await(0,tl.loadSsoSessionData)(e))[u.sso_session],w=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==S.sso_region)throw new pt.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==S.sso_start_url)throw new pt.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});u.sso_region=S.sso_region,u.sso_start_url=S.sso_start_url}let{sso_start_url:f,sso_account_id:m,sso_region:h,sso_role_name:g,sso_session:y}=lx(u,e.logger);return nx({ssoStartUrl:f,ssoSession:y,ssoAccountId:m,ssoRegion:h,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new pt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return nx({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function C8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function P8(e){return{schemeId:"smithy.api#noAuth"}}var Ns,ux,px,x8,fx,Ff=_(()=>{fe();Ns=v(it());Ds();ux=async(e,t,r)=>({operation:(0,Ns.getSmithyContext)(t).operation,region:await(0,Ns.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});px=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(P8(e));break}default:t.push(C8(e))}return t},x8=e=>Object.assign(e,{stsClientCtor:At}),fx=e=>{let t=x8(e),r=Yr(t);return Object.assign(r,{authSchemePreference:(0,Ns.normalizeProvider)(e.authSchemePreference??[])})}});var mx,ol,sl=_(()=>{mx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ol={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Px,j,K,Ir,ve,xx,Rx,ne,hx,It,Jn,jf,gx,Uf,Tx,yx,Se,_x,Ax,Ix,Pe,qe,Ex,Ox,Nx,vx,Dx,Sx,bx,wx,Cx,R8,kx,$x=_(()=>{Px="required",j="type",K="argv",Ir="booleanEquals",ve="stringEquals",xx="sigv4",Rx="us-east-1",ne="endpoint",hx="https://sts.{Region}.{PartitionResult#dnsSuffix}",It="tree",Jn="error",jf="getAttr",gx={[Px]:!1,[j]:"String"},Uf={[Px]:!0,default:!1,[j]:"Boolean"},Tx={ref:"Endpoint"},yx={fn:"isSet",[K]:[{ref:"Region"}]},Se={ref:"Region"},_x={fn:"aws.partition",[K]:[Se],assign:"PartitionResult"},Ax={ref:"UseFIPS"},Ix={ref:"UseDualStack"},Pe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:xx,signingName:"sts",signingRegion:Rx}]},headers:{}},qe={},Ex={conditions:[{fn:ve,[K]:[Se,"aws-global"]}],[ne]:Pe,[j]:ne},Ox={fn:Ir,[K]:[Ax,!0]},Nx={fn:Ir,[K]:[Ix,!0]},vx={fn:jf,[K]:[{ref:"PartitionResult"},"supportsFIPS"]},Dx={ref:"PartitionResult"},Sx={fn:Ir,[K]:[!0,{fn:jf,[K]:[Dx,"supportsDualStack"]}]},bx=[{fn:"isSet",[K]:[Tx]}],wx=[Ox],Cx=[Nx],R8={version:"1.0",parameters:{Region:gx,UseDualStack:Uf,UseFIPS:Uf,Endpoint:gx,UseGlobalEndpoint:Uf},rules:[{conditions:[{fn:Ir,[K]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[K]:bx},yx,_x,{fn:Ir,[K]:[Ax,!1]},{fn:Ir,[K]:[Ix,!1]}],rules:[{conditions:[{fn:ve,[K]:[Se,"ap-northeast-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"ap-south-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"ap-southeast-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"ap-southeast-2"]}],endpoint:Pe,[j]:ne},Ex,{conditions:[{fn:ve,[K]:[Se,"ca-central-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"eu-central-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"eu-north-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"eu-west-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"eu-west-2"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"eu-west-3"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"sa-east-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,Rx]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"us-east-2"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"us-west-1"]}],endpoint:Pe,[j]:ne},{conditions:[{fn:ve,[K]:[Se,"us-west-2"]}],endpoint:Pe,[j]:ne},{endpoint:{url:hx,properties:{authSchemes:[{name:xx,signingName:"sts",signingRegion:"{Region}"}]},headers:qe},[j]:ne}],[j]:It},{conditions:bx,rules:[{conditions:wx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[j]:Jn},{conditions:Cx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[j]:Jn},{endpoint:{url:Tx,properties:qe,headers:qe},[j]:ne}],[j]:It},{conditions:[yx],rules:[{conditions:[_x],rules:[{conditions:[Ox,Nx],rules:[{conditions:[{fn:Ir,[K]:[!0,vx]},Sx],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},[j]:ne}],[j]:It},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[j]:Jn}],[j]:It},{conditions:wx,rules:[{conditions:[{fn:Ir,[K]:[vx,!0]}],rules:[{conditions:[{fn:ve,[K]:[{fn:jf,[K]:[Dx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:qe,headers:qe},[j]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qe,headers:qe},[j]:ne}],[j]:It},{error:"FIPS is enabled but this partition does not support FIPS",[j]:Jn}],[j]:It},{conditions:Cx,rules:[{conditions:[Sx],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},[j]:ne}],[j]:It},{error:"DualStack is enabled but this partition does not support DualStack",[j]:Jn}],[j]:It},Ex,{endpoint:{url:hx,properties:qe,headers:qe},[j]:ne}],[j]:It}],[j]:It},{error:"Invalid Configuration: Missing Region",[j]:Jn}]},kx=R8});var Mx,Yn,T8,Lx,Fx=_(()=>{Mx=v(An()),Yn=v(Tn());$x();T8=new Yn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Lx=(e,t={})=>T8.get(e,()=>(0,Yn.resolveEndpoint)(kx,{endpointParams:e,logger:t.logger}));Yn.customEndpointFunctions.aws=Mx.awsEndpointFunctions});var Ux,jx,il,al,zx,Hx=_(()=>{fe();Me();Ux=v(B()),jx=v(ur()),il=v(Te()),al=v(ge());Ff();Fx();zx=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??il.fromBase64,base64Encoder:e?.base64Encoder??il.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Lx,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??px,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],logger:e?.logger??new Ux.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??jx.parseUrl,utf8Decoder:e?.utf8Decoder??al.fromUtf8,utf8Encoder:e?.utf8Encoder??al.toUtf8})});var cl,Nr,Bx,ll,Or,dl,qx,Vx,Gx,Wx,Kx,Jx,Yx=_(()=>{Cf();fe();cl=v(ss()),Nr=v(xt());Me();Bx=v(is()),ll=v(Ht()),Or=v(br()),dl=v(Fr()),qx=v(as()),Vx=v(Un());Hx();Gx=v(B()),Wx=v(ds()),Kx=v(B()),Jx=e=>{(0,Kx.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Wx.resolveDefaultsModeConfig)(e),r=()=>t().then(Gx.loadConfigsForDefaultMode),n=zx(e);In(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Or.loadConfig)(Dn,o),bodyLengthChecker:e?.bodyLengthChecker??qx.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],maxAttempts:e?.maxAttempts??(0,Or.loadConfig)(ll.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Or.loadConfig)(Nr.NODE_REGION_CONFIG_OPTIONS,{...Nr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:dl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Or.loadConfig)({...ll.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Vx.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Bx.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Or.loadConfig)(Nr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Or.loadConfig)(Nr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Or.loadConfig)(cl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var Xx,Qx,Zx=_(()=>{Xx=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Qx=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ul,pl,fl,eR,tR=_(()=>{ul=v(us()),pl=v(te()),fl=v(B());Zx();eR=(e,t)=>{let r=Object.assign((0,ul.getAwsRegionExtensionConfiguration)(e),(0,fl.getDefaultExtensionConfiguration)(e),(0,pl.getHttpHandlerExtensionConfiguration)(e),Xx(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ul.resolveAwsRegionExtensionConfiguration)(r),(0,fl.resolveDefaultRuntimeConfig)(r),(0,pl.resolveHttpHandlerRuntimeConfig)(r),Qx(r))}});var ml,rR,nR,hl,oR,sR,iR,gl,zf,At,Ds=_(()=>{ml=v(fo()),rR=v(mo()),nR=v(ho()),hl=v(Mn()),oR=v(xt());Me();sR=v(Zo()),iR=v(wr()),gl=v(Ht()),zf=v(B());Ff();sl();Yx();tR();At=class extends zf.Client{config;constructor(...[t]){let r=Jx(t||{});super(r),this.initConfig=r;let n=mx(r),o=(0,hl.resolveUserAgentConfig)(n),s=(0,gl.resolveRetryConfig)(o),i=(0,oR.resolveRegionConfig)(s),a=(0,ml.resolveHostHeaderConfig)(i),c=(0,iR.resolveEndpointConfig)(a),l=fx(c),u=eR(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,hl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,gl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,sR.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ml.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,rR.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,nR.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(yo(this.config,{httpAuthSchemeParametersProvider:ux,identityProviderConfigProvider:async f=>new Kr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(_o(this.config))}destroy(){super.destroy()}}});var aR,Ue,yl=_(()=>{aR=v(B()),Ue=class e extends aR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Hf,Bf,qf,ks,$s,Ms,Ls,Fs,Us,Vf,Gf,js,zs=_(()=>{Hf=v(B());yl();Bf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Hf.SENSITIVE_STRING}}),qf=e=>({...e,...e.Credentials&&{Credentials:Bf(e.Credentials)}}),ks=class e extends Ue{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$s=class e extends Ue{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ms=class e extends Ue{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ls=class e extends Ue{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fs=class e extends Ue{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Us=class e extends Ue{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Hf.SENSITIVE_STRING}}),Gf=e=>({...e,...e.Credentials&&{Credentials:Bf(e.Credentials)}}),js=class e extends Ue{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var cR,H,lR,dR,uR,pR,fR,A8,I8,O8,N8,D8,k8,$8,M8,L8,mR,F8,U8,j8,z8,H8,B8,hR,q8,V8,gR,G8,W8,K8,J8,Y8,X8,Q8,Kt,Z8,yR,_R,ER,vR,Wf,e6,Kf,Xn,t6,Jf,Yf,Qn,Xf,Zn,Qf,Zf,em,eo,to,tm,rm,nm,ro,om,no,oo,sm,im,Wt,am,cm,lm,dm,um,SR,pm,fm,mm,ae,bR,r6,hm=_(()=>{fe();cR=v(te()),H=v(B());zs();yl();lR=async(e,t)=>{let r=_R,n;return n=bR({...M8(e,t),[vR]:e6,[SR]:ER}),yR(t,r,"/",void 0,n)},dR=async(e,t)=>{let r=_R,n;return n=bR({...L8(e,t),[vR]:t6,[SR]:ER}),yR(t,r,"/",void 0,n)},uR=async(e,t)=>{if(e.statusCode>=300)return fR(e,t);let r=await Yo(e.body,t),n={};return n=q8(r.AssumeRoleResult,t),{$metadata:Kt(e),...n}},pR=async(e,t)=>{if(e.statusCode>=300)return fR(e,t);let r=await Yo(e.body,t),n={};return n=V8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Kt(e),...n}},fR=async(e,t)=>{let r={...e,body:await xp(e.body,t)},n=r6(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await A8(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await D8(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await k8(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await $8(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await I8(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await O8(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await N8(r,t);default:let o=r.body;return Z8({output:e,parsedBody:o.Error,errorCode:n})}},A8=async(e,t)=>{let r=e.body,n=G8(r.Error,t),o=new ks({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},I8=async(e,t)=>{let r=e.body,n=W8(r.Error,t),o=new js({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},O8=async(e,t)=>{let r=e.body,n=K8(r.Error,t),o=new Fs({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},N8=async(e,t)=>{let r=e.body,n=J8(r.Error,t),o=new Us({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},D8=async(e,t)=>{let r=e.body,n=Y8(r.Error,t),o=new $s({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},k8=async(e,t)=>{let r=e.body,n=X8(r.Error,t),o=new Ms({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},$8=async(e,t)=>{let r=e.body,n=Q8(r.Error,t),o=new Ls({$metadata:Kt(e),...n});return(0,H.decorateServiceException)(o,r)},M8=(e,t)=>{let r={};if(e[no]!=null&&(r[no]=e[no]),e[oo]!=null&&(r[oo]=e[oo]),e[to]!=null){let n=mR(e[to],t);e[to]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[eo]!=null&&(r[eo]=e[eo]),e[Zn]!=null&&(r[Zn]=e[Zn]),e[lm]!=null){let n=B8(e[lm],t);e[lm]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[um]!=null){let n=H8(e[um],t);e[um]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Zf]!=null&&(r[Zf]=e[Zf]),e[am]!=null&&(r[am]=e[am]),e[dm]!=null&&(r[dm]=e[dm]),e[Wt]!=null&&(r[Wt]=e[Wt]),e[rm]!=null){let n=j8(e[rm],t);e[rm]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},L8=(e,t)=>{let r={};if(e[no]!=null&&(r[no]=e[no]),e[oo]!=null&&(r[oo]=e[oo]),e[fm]!=null&&(r[fm]=e[fm]),e[nm]!=null&&(r[nm]=e[nm]),e[to]!=null){let n=mR(e[to],t);e[to]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[eo]!=null&&(r[eo]=e[eo]),e[Zn]!=null&&(r[Zn]=e[Zn]),r},mR=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=F8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},F8=(e,t)=>{let r={};return e[mm]!=null&&(r[mm]=e[mm]),r},U8=(e,t)=>{let r={};return e[tm]!=null&&(r[tm]=e[tm]),e[Xf]!=null&&(r[Xf]=e[Xf]),r},j8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=U8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},z8=(e,t)=>{let r={};return e[em]!=null&&(r[em]=e[em]),e[pm]!=null&&(r[pm]=e[pm]),r},H8=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},B8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=z8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},hR=(e,t)=>{let r={};return e[Kf]!=null&&(r[Kf]=(0,H.expectString)(e[Kf])),e[Jf]!=null&&(r[Jf]=(0,H.expectString)(e[Jf])),r},q8=(e,t)=>{let r={};return e[Qn]!=null&&(r[Qn]=gR(e[Qn],t)),e[Xn]!=null&&(r[Xn]=hR(e[Xn],t)),e[ro]!=null&&(r[ro]=(0,H.strictParseInt32)(e[ro])),e[Wt]!=null&&(r[Wt]=(0,H.expectString)(e[Wt])),r},V8=(e,t)=>{let r={};return e[Qn]!=null&&(r[Qn]=gR(e[Qn],t)),e[im]!=null&&(r[im]=(0,H.expectString)(e[im])),e[Xn]!=null&&(r[Xn]=hR(e[Xn],t)),e[ro]!=null&&(r[ro]=(0,H.strictParseInt32)(e[ro])),e[om]!=null&&(r[om]=(0,H.expectString)(e[om])),e[Yf]!=null&&(r[Yf]=(0,H.expectString)(e[Yf])),e[Wt]!=null&&(r[Wt]=(0,H.expectString)(e[Wt])),r},gR=(e,t)=>{let r={};return e[Wf]!=null&&(r[Wf]=(0,H.expectString)(e[Wf])),e[sm]!=null&&(r[sm]=(0,H.expectString)(e[sm])),e[cm]!=null&&(r[cm]=(0,H.expectString)(e[cm])),e[Qf]!=null&&(r[Qf]=(0,H.expectNonNull)((0,H.parseRfc3339DateTimeWithOffset)(e[Qf]))),r},G8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},W8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},K8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},J8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},Y8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},X8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},Q8=(e,t)=>{let r={};return e[ae]!=null&&(r[ae]=(0,H.expectString)(e[ae])),r},Kt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Z8=(0,H.withBaseException)(Ue),yR=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new cR.HttpRequest(l)},_R={"content-type":"application/x-www-form-urlencoded"},ER="2011-06-15",vR="Action",Wf="AccessKeyId",e6="AssumeRole",Kf="AssumedRoleId",Xn="AssumedRoleUser",t6="AssumeRoleWithWebIdentity",Jf="Arn",Yf="Audience",Qn="Credentials",Xf="ContextAssertion",Zn="DurationSeconds",Qf="Expiration",Zf="ExternalId",em="Key",eo="Policy",to="PolicyArns",tm="ProviderArn",rm="ProvidedContexts",nm="ProviderId",ro="PackedPolicySize",om="Provider",no="RoleArn",oo="RoleSessionName",sm="SecretAccessKey",im="SubjectFromWebIdentityToken",Wt="SourceIdentity",am="SerialNumber",cm="SessionToken",lm="Tags",dm="TokenCode",um="TransitiveTagKeys",SR="Version",pm="Value",fm="WebIdentityToken",mm="arn",ae="message",bR=e=>Object.entries(e).map(([t,r])=>(0,H.extendedEncodeURIComponent)(t)+"="+(0,H.extendedEncodeURIComponent)(r)).join("&"),r6=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var wR,CR,PR,dn,_l=_(()=>{wR=v(wr()),CR=v(ir()),PR=v(B());sl();zs();hm();dn=class extends PR.Command.classBuilder().ep(ol).m(function(t,r,n,o){return[(0,CR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,wR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,qf).ser(lR).de(uR).build(){}});var xR,RR,TR,un,El=_(()=>{xR=v(wr()),RR=v(ir()),TR=v(B());sl();zs();hm();un=class extends TR.Command.classBuilder().ep(ol).m(function(t,r,n,o){return[(0,RR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,xR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Vf,Gf).ser(dR).de(pR).build(){}});var AR,n6,vl,IR=_(()=>{AR=v(B());_l();El();Ds();n6={AssumeRoleCommand:dn,AssumeRoleWithWebIdentityCommand:un},vl=class extends At{};(0,AR.createAggregatedClient)(n6,vl)});var OR=_(()=>{_l();El()});var NR=_(()=>{zs()});var DR,kR,$R,MR,LR,FR,UR=_(()=>{lt();_l();El();DR="us-east-1",kR=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},$R=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${DR} (STS default)`),n??o??DR},MR=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:u=e?.parentClientConfig?.logger,region:f,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,g=await $R(f,e?.parentClientConfig?.region,h),y=!FR(m);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?m:void 0,logger:u})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new dn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=kR(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return fr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},LR=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:u=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,m=await $R(l,e?.parentClientConfig?.region,f),h=!FR(u);r=new t({profile:e?.parentClientConfig?.profile,region:m,requestHandler:h?u:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new un(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=kR(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&fr(a,"RESOLVED_ACCOUNT_ID","T"),fr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},FR=e=>e?.metadata?.handlerProtocol==="h2"});var jR,zR,HR,o6,BR=_(()=>{UR();Ds();jR=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,zR=(e={},t)=>MR(e,jR(At,t)),HR=(e={},t)=>LR(e,jR(At,t)),o6=e=>t=>e({roleAssumer:zR(t),roleAssumerWithWebIdentity:HR(t),...t})});var gm={};st(gm,{AssumeRoleCommand:()=>dn,AssumeRoleResponseFilterSensitiveLog:()=>qf,AssumeRoleWithWebIdentityCommand:()=>un,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Vf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Gf,CredentialsFilterSensitiveLog:()=>Bf,ExpiredTokenException:()=>ks,IDPCommunicationErrorException:()=>js,IDPRejectedClaimException:()=>Fs,InvalidIdentityTokenException:()=>Us,MalformedPolicyDocumentException:()=>$s,PackedPolicyTooLargeException:()=>Ms,RegionDisabledException:()=>Ls,STS:()=>vl,STSClient:()=>At,STSServiceException:()=>Ue,__Client:()=>zf.Client,decorateDefaultCredentialProvider:()=>o6,getDefaultRoleAssumer:()=>zR,getDefaultRoleAssumerWithWebIdentity:()=>HR});var ym=_(()=>{Ds();IR();OR();NR();BR();yl()});var vm=b((ine,GR)=>{"use strict";var Sl=Object.defineProperty,s6=Object.getOwnPropertyDescriptor,i6=Object.getOwnPropertyNames,a6=Object.prototype.hasOwnProperty,Em=(e,t)=>Sl(e,"name",{value:t,configurable:!0}),c6=(e,t)=>{for(var r in t)Sl(e,r,{get:t[r],enumerable:!0})},l6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i6(t))!a6.call(e,o)&&o!==r&&Sl(e,o,{get:()=>t[o],enumerable:!(n=s6(t,o))||n.enumerable});return e},d6=e=>l6(Sl({},"__esModule",{value:!0}),e),VR={};c6(VR,{fromProcess:()=>g6});GR.exports=d6(VR);var qR=Sr(),_m=Oe(),u6=require("child_process"),p6=require("util"),f6=(lt(),V(mr)),m6=Em((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,f6.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),h6=Em(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,p6.promisify)(u6.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return m6(e,a,t)}catch(i){throw new _m.CredentialsProviderError(i.message,{logger:r})}}else throw new _m.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new _m.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),g6=Em((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,qR.parseKnownFiles)(e);return h6((0,qR.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var Sm=b(Ot=>{"use strict";var y6=Ot&&Ot.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),_6=Ot&&Ot.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),E6=Ot&&Ot.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&y6(r,t,n[o]);return _6(r,t),r}})();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.fromWebToken=void 0;var v6=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>E6((ym(),V(gm))));l=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Ot.fromWebToken=v6});var KR=b(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.fromTokenFile=void 0;var S6=(lt(),V(mr)),b6=Oe(),w6=require("fs"),C6=Sm(),WR="AWS_WEB_IDENTITY_TOKEN_FILE",P6="AWS_ROLE_ARN",x6="AWS_ROLE_SESSION_NAME",R6=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[WR],r=e?.roleArn??process.env[P6],n=e?.roleSessionName??process.env[x6];if(!t||!r)throw new b6.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,C6.fromWebToken)({...e,webIdentityToken:(0,w6.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[WR]&&(0,S6.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};bl.fromTokenFile=R6});var Cm=b((lne,wl)=>{"use strict";var JR=Object.defineProperty,T6=Object.getOwnPropertyDescriptor,A6=Object.getOwnPropertyNames,I6=Object.prototype.hasOwnProperty,bm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of A6(t))!I6.call(e,o)&&o!==r&&JR(e,o,{get:()=>t[o],enumerable:!(n=T6(t,o))||n.enumerable});return e},YR=(e,t,r)=>(bm(e,t,"default"),r&&bm(r,t,"default")),O6=e=>bm(JR({},"__esModule",{value:!0}),e),wm={};wl.exports=O6(wm);YR(wm,KR(),wl.exports);YR(wm,Sm(),wl.exports)});var oT=b((dne,nT)=>{"use strict";var N6=Object.create,Bs=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,k6=Object.getOwnPropertyNames,$6=Object.getPrototypeOf,M6=Object.prototype.hasOwnProperty,de=(e,t)=>Bs(e,"name",{value:t,configurable:!0}),L6=(e,t)=>{for(var r in t)Bs(e,r,{get:t[r],enumerable:!0})},eT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k6(t))!M6.call(e,o)&&o!==r&&Bs(e,o,{get:()=>t[o],enumerable:!(n=D6(t,o))||n.enumerable});return e},Dr=(e,t,r)=>(r=e!=null?N6($6(e)):{},eT(t||!e||!e.__esModule?Bs(r,"default",{value:e,enumerable:!0}):r,e)),F6=e=>eT(Bs({},"__esModule",{value:!0}),e),tT={};L6(tT,{fromIni:()=>Y6});nT.exports=F6(tT);var xm=Sr(),kr=(lt(),V(mr)),Hs=Oe(),U6=de((e,t,r)=>{let n={EcsContainer:de(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>Dr(df())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Dr(os()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Hs.chain)(s(o??{}),i(o))().then(Pm)},"EcsContainer"),Ec2InstanceMetadata:de(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Dr(os()));return async()=>s(o)().then(Pm)},"Ec2InstanceMetadata"),Environment:de(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Dr(rf()));return async()=>s(o)().then(Pm)},"Environment")};if(e in n)return n[e];throw new Hs.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Pm=de(e=>(0,kr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),j6=de((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(z6(e,{profile:t,logger:r})||H6(e,{profile:t,logger:r})),"isAssumeRoleProfile"),z6=de((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),H6=de((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),B6=de(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Dr((ym(),V(gm))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new Hs.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,xm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?rT(s,t,r,{...n,[s]:!0},XR(t[s]??{})):(await U6(o.credential_source,e,r.logger)(r))();if(XR(o))return a.then(c=>(0,kr.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new Hs.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let u=await a;return r.roleAssumer(u,c).then(f=>(0,kr.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),XR=de(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),q6=de(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),V6=de(async(e,t)=>Promise.resolve().then(()=>Dr(vm())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,kr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),G6=de(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Dr(Lf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,kr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,kr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),W6=de(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),QR=de(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),ZR=de(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,kr.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),K6=de(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),J6=de(async(e,t)=>Promise.resolve().then(()=>Dr(Cm())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,kr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),rT=de(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&QR(s))return ZR(s,r);if(o||j6(s,{profile:e,logger:r.logger}))return B6(e,t,r,n);if(QR(s))return ZR(s,r);if(K6(s))return J6(s,r);if(q6(s))return V6(r,e);if(W6(s))return await G6(e,s,r);throw new Hs.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),Y6=de((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,xm.parseKnownFiles)(r);return rT((0,xm.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var pT=b((une,uT)=>{"use strict";var X6=Object.create,qs=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,Z6=Object.getOwnPropertyNames,eB=Object.getPrototypeOf,tB=Object.prototype.hasOwnProperty,Cl=(e,t)=>qs(e,"name",{value:t,configurable:!0}),rB=(e,t)=>{for(var r in t)qs(e,r,{get:t[r],enumerable:!0})},aT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z6(t))!tB.call(e,o)&&o!==r&&qs(e,o,{get:()=>t[o],enumerable:!(n=Q6(t,o))||n.enumerable});return e},so=(e,t,r)=>(r=e!=null?X6(eB(e)):{},aT(t||!e||!e.__esModule?qs(r,"default",{value:e,enumerable:!0}):r,e)),nB=e=>aT(qs({},"__esModule",{value:!0}),e),cT={};rB(cT,{credentialsTreatedAsExpired:()=>dT,credentialsWillNeedRefresh:()=>lT,defaultProvider:()=>iB});uT.exports=nB(cT);var Rm=rf(),oB=Sr(),pn=Oe(),sT="AWS_EC2_METADATA_DISABLED",sB=Cl(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>so(os()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>so(df()));return(0,pn.chain)(s(e),n(e))}return process.env[sT]&&process.env[sT]!=="false"?async()=>{throw new pn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),iT=!1,iB=Cl((e={})=>(0,pn.memoize)((0,pn.chain)(async()=>{if(e.profile??process.env[oB.ENV_PROFILE])throw process.env[Rm.ENV_KEY]&&process.env[Rm.ENV_SECRET]&&(iT||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),iT=!0)),new pn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Rm.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new pn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>so(Lf()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>so(oT()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>so(vm()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>so(Cm()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await sB(e))()),async()=>{throw new pn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),dT,lT),"defaultProvider"),lT=Cl(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),dT=Cl(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var DT=b(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.ruleSet=void 0;var TT="required",xe="fn",Re="argv",fn="ref",Yt="url",Xt="properties",Qt="headers",fT=!0,mT="isSet",Ws="booleanEquals",io="error",rt="endpoint",Jt="tree",Pl="PartitionResult",Vs="stringEquals",AT="aws",IT="aws-us-gov",hT={[TT]:!1,type:"String"},gT={[TT]:!0,default:!1,type:"Boolean"},yT={[fn]:"Endpoint"},OT={[xe]:Ws,[Re]:[{[fn]:"UseFIPS"},!0]},NT={[xe]:Ws,[Re]:[{[fn]:"UseDualStack"},!0]},nt={},_T={[xe]:"getAttr",[Re]:[{[fn]:Pl},"supportsFIPS"]},ET={[xe]:Ws,[Re]:[!0,{[xe]:"getAttr",[Re]:[{[fn]:Pl},"supportsDualStack"]}]},Gs={[xe]:"getAttr",[Re]:[{[fn]:Pl},"name"]},vT={[Yt]:"https://ecr-fips.{Region}.api.aws",[Xt]:{},[Qt]:{}},ST={[Yt]:"https://ecr-fips.{Region}.amazonaws.com",[Xt]:{},[Qt]:{}},bT={[Yt]:"https://ecr.{Region}.api.aws",[Xt]:{},[Qt]:{}},wT=[OT],CT=[NT],PT=[{[fn]:"Region"}],xT=[{[xe]:Vs,[Re]:[AT,Gs]}],RT=[{[xe]:Vs,[Re]:[IT,Gs]}],aB={version:"1.0",parameters:{Region:hT,UseDualStack:gT,UseFIPS:gT,Endpoint:hT},rules:[{conditions:[{[xe]:mT,[Re]:[yT]}],rules:[{conditions:wT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:io},{conditions:CT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:io},{endpoint:{[Yt]:yT,[Xt]:nt,[Qt]:nt},type:rt}],type:Jt},{conditions:[{[xe]:mT,[Re]:PT}],rules:[{conditions:[{[xe]:"aws.partition",[Re]:PT,assign:Pl}],rules:[{conditions:[OT,NT],rules:[{conditions:[{[xe]:Ws,[Re]:[fT,_T]},ET],rules:[{conditions:xT,endpoint:vT,type:rt},{conditions:RT,endpoint:vT,type:rt},{endpoint:{[Yt]:"https://api.ecr-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xt]:nt,[Qt]:nt},type:rt}],type:Jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:io}],type:Jt},{conditions:wT,rules:[{conditions:[{[xe]:Ws,[Re]:[_T,fT]}],rules:[{conditions:[{[xe]:Vs,[Re]:[Gs,AT]}],endpoint:ST,type:rt},{conditions:[{[xe]:Vs,[Re]:[Gs,IT]}],endpoint:ST,type:rt},{endpoint:{[Yt]:"https://api.ecr-fips.{Region}.{PartitionResult#dnsSuffix}",[Xt]:nt,[Qt]:nt},type:rt}],type:Jt},{error:"FIPS is enabled but this partition does not support FIPS",type:io}],type:Jt},{conditions:CT,rules:[{conditions:[ET],rules:[{conditions:xT,endpoint:bT,type:rt},{conditions:[{[xe]:Vs,[Re]:["aws-cn",Gs]}],endpoint:{[Yt]:"https://ecr.{Region}.api.amazonwebservices.com.cn",[Xt]:nt,[Qt]:nt},type:rt},{conditions:RT,endpoint:bT,type:rt},{endpoint:{[Yt]:"https://api.ecr.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xt]:nt,[Qt]:nt},type:rt}],type:Jt},{error:"DualStack is enabled but this partition does not support DualStack",type:io}],type:Jt},{endpoint:{[Yt]:"https://api.ecr.{Region}.{PartitionResult#dnsSuffix}",[Xt]:nt,[Qt]:nt},type:rt}],type:Jt}],type:Jt},{error:"Invalid Configuration: Missing Region",type:io}]};xl.ruleSet=aB});var kT=b(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.defaultEndpointResolver=void 0;var cB=An(),Tm=Tn(),lB=DT(),dB=new Tm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),uB=(e,t={})=>dB.get(e,()=>(0,Tm.resolveEndpoint)(lB.ruleSet,{endpointParams:e,logger:t.logger}));Rl.defaultEndpointResolver=uB;Tm.customEndpointFunctions.aws=cB.awsEndpointFunctions});var LT=b(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getRuntimeConfig=void 0;var pB=(fe(),V(Ct)),fB=B(),mB=ur(),$T=Te(),MT=ge(),hB=tf(),gB=kT(),yB=e=>({apiVersion:"2015-09-21",base64Decoder:e?.base64Decoder??$T.fromBase64,base64Encoder:e?.base64Encoder??$T.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??gB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hB.defaultECRHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new pB.AwsSdkSigV4Signer}],logger:e?.logger??new fB.NoOpLogger,serviceId:e?.serviceId??"ECR",urlParser:e?.urlParser??mB.parseUrl,utf8Decoder:e?.utf8Decoder??MT.fromUtf8,utf8Encoder:e?.utf8Encoder??MT.toUtf8});Tl.getRuntimeConfig=yB});var HT=b(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getRuntimeConfig=void 0;var _B=(En(),V(_n)),EB=_B.__importDefault(H0()),FT=(fe(),V(Ct)),vB=pT(),UT=ss(),Al=xt(),SB=is(),jT=Ht(),mn=br(),zT=Fr(),bB=as(),wB=Un(),CB=LT(),PB=B(),xB=ds(),RB=B(),TB=e=>{(0,RB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,xB.resolveDefaultsModeConfig)(e),r=()=>t().then(PB.loadConfigsForDefaultMode),n=(0,CB.getRuntimeConfig)(e);(0,FT.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,mn.loadConfig)(FT.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??bB.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??vB.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,UT.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:EB.default.version}),maxAttempts:e?.maxAttempts??(0,mn.loadConfig)(jT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,mn.loadConfig)(Al.NODE_REGION_CONFIG_OPTIONS,{...Al.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:zT.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,mn.loadConfig)({...jT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wB.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??SB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??zT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,mn.loadConfig)(Al.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,mn.loadConfig)(Al.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,mn.loadConfig)(UT.NODE_APP_ID_CONFIG_OPTIONS,o)}};Il.getRuntimeConfig=TB});var JT=b((gne,KT)=>{var Ol=Object.defineProperty,AB=Object.getOwnPropertyDescriptor,IB=Object.getOwnPropertyNames,OB=Object.prototype.hasOwnProperty,Nt=(e,t)=>Ol(e,"name",{value:t,configurable:!0}),NB=(e,t)=>{for(var r in t)Ol(e,r,{get:t[r],enumerable:!0})},DB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IB(t))!OB.call(e,o)&&o!==r&&Ol(e,o,{get:()=>t[o],enumerable:!(n=AB(t,o))||n.enumerable});return e},kB=e=>DB(Ol({},"__esModule",{value:!0}),e),VT={};NB(VT,{WaiterState:()=>WT,checkExceptions:()=>MB,createWaiter:()=>zB,waiterServiceDefaults:()=>GT});KT.exports=kB(VT);var $B=Nt(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),GT={minDelay:2,maxDelay:120},WT=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(WT||{}),MB=Nt(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),LB=Nt((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return FB(e,o)},"exponentialBackoffWithJitter"),FB=Nt((e,t)=>e+Math.random()*(t-e),"randomInRange"),UB=Nt(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:l,reason:u}=await a(o,i);if(u){let g=BT(u);c[g]|=0,c[g]+=1}if(l!=="RETRY")return{state:l,reason:u,observedResponses:c};let f=1,m=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let S="AbortController signal aborted.";return c[S]|=0,c[S]+=1,{state:"ABORTED",observedResponses:c}}let g=LB(e,t,h,f);if(Date.now()+g*1e3>m)return{state:"TIMEOUT",observedResponses:c};await $B(g);let{state:y,reason:E}=await a(o,i);if(E){let S=BT(E);c[S]|=0,c[S]+=1}if(y!=="RETRY")return{state:y,reason:E,observedResponses:c};f+=1}},"runPolling"),BT=Nt(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),jB=Nt(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),qT=Nt(e=>{let t,r=new Promise(n=>{t=Nt(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),zB=Nt(async(e,t,r)=>{let n={...GT,...e};jB(n);let o=[UB(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=qT(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=qT(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var SO=b((yne,vO)=>{"use strict";var Nl=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,BB=Object.getOwnPropertyNames,qB=Object.prototype.hasOwnProperty,p=(e,t)=>Nl(e,"name",{value:t,configurable:!0}),VB=(e,t)=>{for(var r in t)Nl(e,r,{get:t[r],enumerable:!0})},GB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BB(t))!qB.call(e,o)&&o!==r&&Nl(e,o,{get:()=>t[o],enumerable:!(n=HB(t,o))||n.enumerable});return e},WB=e=>GB(Nl({},"__esModule",{value:!0}),e),tA={};VB(tA,{BatchCheckLayerAvailabilityCommand:()=>AI,BatchDeleteImageCommand:()=>II,BatchGetImageCommand:()=>OI,BatchGetRepositoryScanningConfigurationCommand:()=>NI,CompleteLayerUploadCommand:()=>DI,CreatePullThroughCacheRuleCommand:()=>kI,CreateRepositoryCommand:()=>$I,CreateRepositoryCreationTemplateCommand:()=>MI,DeleteLifecyclePolicyCommand:()=>LI,DeletePullThroughCacheRuleCommand:()=>FI,DeleteRegistryPolicyCommand:()=>UI,DeleteRepositoryCommand:()=>jI,DeleteRepositoryCreationTemplateCommand:()=>zI,DeleteRepositoryPolicyCommand:()=>HI,DescribeImageReplicationStatusCommand:()=>BI,DescribeImageScanFindingsCommand:()=>kl,DescribeImagesCommand:()=>Om,DescribePullThroughCacheRulesCommand:()=>Nm,DescribeRegistryCommand:()=>qI,DescribeRepositoriesCommand:()=>Dm,DescribeRepositoryCreationTemplatesCommand:()=>km,ECR:()=>yO,ECRClient:()=>Zt,ECRServiceException:()=>U,EmptyUploadException:()=>hA,EncryptionType:()=>d9,FindingSeverity:()=>g9,GetAccountSettingCommand:()=>VI,GetAuthorizationTokenCommand:()=>GI,GetDownloadUrlForLayerCommand:()=>WI,GetLifecyclePolicyCommand:()=>KI,GetLifecyclePolicyPreviewCommand:()=>$l,GetRegistryPolicyCommand:()=>JI,GetRegistryScanningConfigurationCommand:()=>YI,GetRepositoryPolicyCommand:()=>XI,ImageActionType:()=>E9,ImageAlreadyExistsException:()=>hI,ImageDigestDoesNotMatchException:()=>yI,ImageFailureCode:()=>s9,ImageNotFoundException:()=>nI,ImageTagAlreadyExistsException:()=>EI,ImageTagMutability:()=>u9,ImageTagMutabilityExclusionFilterType:()=>p9,InitiateLayerUploadCommand:()=>QI,InvalidLayerException:()=>yA,InvalidLayerPartException:()=>RI,InvalidParameterException:()=>nA,InvalidTagParameterException:()=>LA,KmsException:()=>EA,LayerAlreadyExistsException:()=>SA,LayerAvailability:()=>o9,LayerFailureCode:()=>n9,LayerInaccessibleException:()=>aI,LayerPartTooSmallException:()=>wA,LayersNotFoundException:()=>lI,LifecyclePolicyNotFoundException:()=>VA,LifecyclePolicyPreviewInProgressException:()=>PI,LifecyclePolicyPreviewNotFoundException:()=>fI,LifecyclePolicyPreviewStatus:()=>v9,LimitExceededException:()=>lA,ListImagesCommand:()=>$m,ListTagsForResourceCommand:()=>ZI,PullThroughCacheRuleAlreadyExistsException:()=>RA,PullThroughCacheRuleNotFoundException:()=>WA,PutAccountSettingCommand:()=>eO,PutImageCommand:()=>tO,PutImageScanningConfigurationCommand:()=>rO,PutImageTagMutabilityCommand:()=>nO,PutLifecyclePolicyCommand:()=>oO,PutRegistryPolicyCommand:()=>sO,PutRegistryScanningConfigurationCommand:()=>iO,PutReplicationConfigurationCommand:()=>aO,RCTAppliedFor:()=>f9,ReferencedImagesNotFoundException:()=>SI,RegistryPolicyNotFoundException:()=>JA,ReplicationStatus:()=>m9,RepositoryAlreadyExistsException:()=>UA,RepositoryFilterType:()=>_9,RepositoryNotEmptyException:()=>XA,RepositoryNotFoundException:()=>sA,RepositoryPolicyNotFoundException:()=>tI,ScanFrequency:()=>c9,ScanNotFoundException:()=>sI,ScanStatus:()=>y9,ScanType:()=>S9,ScanningConfigurationFailureCode:()=>i9,ScanningRepositoryFilterType:()=>a9,SecretNotFoundException:()=>AA,ServerException:()=>aA,SetRepositoryPolicyCommand:()=>cO,StartImageScanCommand:()=>lO,StartLifecyclePolicyPreviewCommand:()=>dO,TagResourceCommand:()=>uO,TagStatus:()=>h9,TemplateAlreadyExistsException:()=>BA,TemplateNotFoundException:()=>ZA,TooManyTagsException:()=>zA,UnableToAccessSecretException:()=>OA,UnableToDecryptSecretValueException:()=>DA,UnableToGetUpstreamImageException:()=>uA,UnableToGetUpstreamLayerException:()=>uI,UnsupportedImageTypeException:()=>wI,UnsupportedUpstreamRegistryException:()=>$A,UntagResourceCommand:()=>pO,UpdatePullThroughCacheRuleCommand:()=>fO,UpdateRepositoryCreationTemplateCommand:()=>mO,UploadLayerPartCommand:()=>hO,UploadNotFoundException:()=>PA,UpstreamRegistry:()=>l9,ValidatePullThroughCacheRuleCommand:()=>gO,ValidationException:()=>fA,__Client:()=>d.Client,paginateDescribeImageScanFindings:()=>z7,paginateDescribeImages:()=>H7,paginateDescribePullThroughCacheRules:()=>B7,paginateDescribeRepositories:()=>q7,paginateDescribeRepositoryCreationTemplates:()=>V7,paginateGetLifecyclePolicyPreview:()=>G7,paginateListImages:()=>W7,waitForImageScanComplete:()=>K7,waitForLifecyclePolicyPreviewComplete:()=>Y7,waitUntilImageScanComplete:()=>J7,waitUntilLifecyclePolicyPreviewComplete:()=>X7});vO.exports=WB(tA);var YT=fo(),KB=mo(),JB=ho(),XT=Mn(),YB=xt(),Dt=(Me(),V(Rn)),XB=Zo(),D=wr(),QT=Ht(),ZT=tf(),QB=p(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ecr"}),"resolveClientEndpointParameters"),$={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ZB=HT(),eA=us(),Am=te(),d=B(),e9=p(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),t9=p(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),r9=p((e,t)=>{let r=Object.assign((0,eA.getAwsRegionExtensionConfiguration)(e),(0,d.getDefaultExtensionConfiguration)(e),(0,Am.getHttpHandlerExtensionConfiguration)(e),e9(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,eA.resolveAwsRegionExtensionConfiguration)(r),(0,d.resolveDefaultRuntimeConfig)(r),(0,Am.resolveHttpHandlerRuntimeConfig)(r),t9(r))},"resolveRuntimeExtensions"),Zt=class extends d.Client{static{p(this,"ECRClient")}config;constructor(...[e]){let t=(0,ZB.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=QB(t),n=(0,XT.resolveUserAgentConfig)(r),o=(0,QT.resolveRetryConfig)(n),s=(0,YB.resolveRegionConfig)(o),i=(0,YT.resolveHostHeaderConfig)(s),a=(0,D.resolveEndpointConfig)(i),c=(0,ZT.resolveHttpAuthSchemeConfig)(a),l=r9(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,XT.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,QT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,XB.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,YT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,KB.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,JB.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Dt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:ZT.defaultECRHttpAuthSchemeParametersProvider,identityProviderConfigProvider:p(async u=>new Dt.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Dt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},M=ir(),O=(fe(),V(Ct)),U=class rA extends d.ServiceException{static{p(this,"ECRServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,rA.prototype)}},n9={InvalidLayerDigest:"InvalidLayerDigest",MissingLayerDigest:"MissingLayerDigest"},o9={AVAILABLE:"AVAILABLE",UNAVAILABLE:"UNAVAILABLE"},nA=class oA extends U{static{p(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,oA.prototype)}},sA=class iA extends U{static{p(this,"RepositoryNotFoundException")}name="RepositoryNotFoundException";$fault="client";constructor(t){super({name:"RepositoryNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,iA.prototype)}},aA=class cA extends U{static{p(this,"ServerException")}name="ServerException";$fault="server";constructor(t){super({name:"ServerException",$fault:"server",...t}),Object.setPrototypeOf(this,cA.prototype)}},s9={ImageNotFound:"ImageNotFound",ImageReferencedByManifestList:"ImageReferencedByManifestList",ImageTagDoesNotMatchDigest:"ImageTagDoesNotMatchDigest",InvalidImageDigest:"InvalidImageDigest",InvalidImageTag:"InvalidImageTag",KmsError:"KmsError",MissingDigestAndTag:"MissingDigestAndTag",UpstreamAccessDenied:"UpstreamAccessDenied",UpstreamTooManyRequests:"UpstreamTooManyRequests",UpstreamUnavailable:"UpstreamUnavailable"},lA=class dA extends U{static{p(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,dA.prototype)}},uA=class pA extends U{static{p(this,"UnableToGetUpstreamImageException")}name="UnableToGetUpstreamImageException";$fault="client";constructor(t){super({name:"UnableToGetUpstreamImageException",$fault:"client",...t}),Object.setPrototypeOf(this,pA.prototype)}},i9={REPOSITORY_NOT_FOUND:"REPOSITORY_NOT_FOUND"},a9={WILDCARD:"WILDCARD"},c9={CONTINUOUS_SCAN:"CONTINUOUS_SCAN",MANUAL:"MANUAL",SCAN_ON_PUSH:"SCAN_ON_PUSH"},fA=class mA extends U{static{p(this,"ValidationException")}name="ValidationException";$fault="client";constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,mA.prototype)}},hA=class gA extends U{static{p(this,"EmptyUploadException")}name="EmptyUploadException";$fault="client";constructor(t){super({name:"EmptyUploadException",$fault:"client",...t}),Object.setPrototypeOf(this,gA.prototype)}},yA=class _A extends U{static{p(this,"InvalidLayerException")}name="InvalidLayerException";$fault="client";constructor(t){super({name:"InvalidLayerException",$fault:"client",...t}),Object.setPrototypeOf(this,_A.prototype)}},EA=class vA extends U{static{p(this,"KmsException")}name="KmsException";$fault="client";kmsError;constructor(t){super({name:"KmsException",$fault:"client",...t}),Object.setPrototypeOf(this,vA.prototype),this.kmsError=t.kmsError}},SA=class bA extends U{static{p(this,"LayerAlreadyExistsException")}name="LayerAlreadyExistsException";$fault="client";constructor(t){super({name:"LayerAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,bA.prototype)}},wA=class CA extends U{static{p(this,"LayerPartTooSmallException")}name="LayerPartTooSmallException";$fault="client";constructor(t){super({name:"LayerPartTooSmallException",$fault:"client",...t}),Object.setPrototypeOf(this,CA.prototype)}},PA=class xA extends U{static{p(this,"UploadNotFoundException")}name="UploadNotFoundException";$fault="client";constructor(t){super({name:"UploadNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,xA.prototype)}},l9={AzureContainerRegistry:"azure-container-registry",DockerHub:"docker-hub",Ecr:"ecr",EcrPublic:"ecr-public",GitHubContainerRegistry:"github-container-registry",GitLabContainerRegistry:"gitlab-container-registry",K8s:"k8s",Quay:"quay"},RA=class TA extends U{static{p(this,"PullThroughCacheRuleAlreadyExistsException")}name="PullThroughCacheRuleAlreadyExistsException";$fault="client";constructor(t){super({name:"PullThroughCacheRuleAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,TA.prototype)}},AA=class IA extends U{static{p(this,"SecretNotFoundException")}name="SecretNotFoundException";$fault="client";constructor(t){super({name:"SecretNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,IA.prototype)}},OA=class NA extends U{static{p(this,"UnableToAccessSecretException")}name="UnableToAccessSecretException";$fault="client";constructor(t){super({name:"UnableToAccessSecretException",$fault:"client",...t}),Object.setPrototypeOf(this,NA.prototype)}},DA=class kA extends U{static{p(this,"UnableToDecryptSecretValueException")}name="UnableToDecryptSecretValueException";$fault="client";constructor(t){super({name:"UnableToDecryptSecretValueException",$fault:"client",...t}),Object.setPrototypeOf(this,kA.prototype)}},$A=class MA extends U{static{p(this,"UnsupportedUpstreamRegistryException")}name="UnsupportedUpstreamRegistryException";$fault="client";constructor(t){super({name:"UnsupportedUpstreamRegistryException",$fault:"client",...t}),Object.setPrototypeOf(this,MA.prototype)}},d9={AES256:"AES256",KMS:"KMS",KMS_DSSE:"KMS_DSSE"},u9={IMMUTABLE:"IMMUTABLE",IMMUTABLE_WITH_EXCLUSION:"IMMUTABLE_WITH_EXCLUSION",MUTABLE:"MUTABLE",MUTABLE_WITH_EXCLUSION:"MUTABLE_WITH_EXCLUSION"},p9={WILDCARD:"WILDCARD"},LA=class FA extends U{static{p(this,"InvalidTagParameterException")}name="InvalidTagParameterException";$fault="client";constructor(t){super({name:"InvalidTagParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,FA.prototype)}},UA=class jA extends U{static{p(this,"RepositoryAlreadyExistsException")}name="RepositoryAlreadyExistsException";$fault="client";constructor(t){super({name:"RepositoryAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,jA.prototype)}},zA=class HA extends U{static{p(this,"TooManyTagsException")}name="TooManyTagsException";$fault="client";constructor(t){super({name:"TooManyTagsException",$fault:"client",...t}),Object.setPrototypeOf(this,HA.prototype)}},f9={PULL_THROUGH_CACHE:"PULL_THROUGH_CACHE",REPLICATION:"REPLICATION"},BA=class qA extends U{static{p(this,"TemplateAlreadyExistsException")}name="TemplateAlreadyExistsException";$fault="client";constructor(t){super({name:"TemplateAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,qA.prototype)}},VA=class GA extends U{static{p(this,"LifecyclePolicyNotFoundException")}name="LifecyclePolicyNotFoundException";$fault="client";constructor(t){super({name:"LifecyclePolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,GA.prototype)}},WA=class KA extends U{static{p(this,"PullThroughCacheRuleNotFoundException")}name="PullThroughCacheRuleNotFoundException";$fault="client";constructor(t){super({name:"PullThroughCacheRuleNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,KA.prototype)}},JA=class YA extends U{static{p(this,"RegistryPolicyNotFoundException")}name="RegistryPolicyNotFoundException";$fault="client";constructor(t){super({name:"RegistryPolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,YA.prototype)}},XA=class QA extends U{static{p(this,"RepositoryNotEmptyException")}name="RepositoryNotEmptyException";$fault="client";constructor(t){super({name:"RepositoryNotEmptyException",$fault:"client",...t}),Object.setPrototypeOf(this,QA.prototype)}},ZA=class eI extends U{static{p(this,"TemplateNotFoundException")}name="TemplateNotFoundException";$fault="client";constructor(t){super({name:"TemplateNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,eI.prototype)}},tI=class rI extends U{static{p(this,"RepositoryPolicyNotFoundException")}name="RepositoryPolicyNotFoundException";$fault="client";constructor(t){super({name:"RepositoryPolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,rI.prototype)}},m9={COMPLETE:"COMPLETE",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},nI=class oI extends U{static{p(this,"ImageNotFoundException")}name="ImageNotFoundException";$fault="client";constructor(t){super({name:"ImageNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,oI.prototype)}},h9={ANY:"ANY",TAGGED:"TAGGED",UNTAGGED:"UNTAGGED"},g9={CRITICAL:"CRITICAL",HIGH:"HIGH",INFORMATIONAL:"INFORMATIONAL",LOW:"LOW",MEDIUM:"MEDIUM",UNDEFINED:"UNDEFINED"},y9={ACTIVE:"ACTIVE",COMPLETE:"COMPLETE",FAILED:"FAILED",FINDINGS_UNAVAILABLE:"FINDINGS_UNAVAILABLE",IN_PROGRESS:"IN_PROGRESS",LIMIT_EXCEEDED:"LIMIT_EXCEEDED",PENDING:"PENDING",SCAN_ELIGIBILITY_EXPIRED:"SCAN_ELIGIBILITY_EXPIRED",UNSUPPORTED_IMAGE:"UNSUPPORTED_IMAGE"},sI=class iI extends U{static{p(this,"ScanNotFoundException")}name="ScanNotFoundException";$fault="client";constructor(t){super({name:"ScanNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,iI.prototype)}},_9={PREFIX_MATCH:"PREFIX_MATCH"},aI=class cI extends U{static{p(this,"LayerInaccessibleException")}name="LayerInaccessibleException";$fault="client";constructor(t){super({name:"LayerInaccessibleException",$fault:"client",...t}),Object.setPrototypeOf(this,cI.prototype)}},lI=class dI extends U{static{p(this,"LayersNotFoundException")}name="LayersNotFoundException";$fault="client";constructor(t){super({name:"LayersNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,dI.prototype)}},uI=class pI extends U{static{p(this,"UnableToGetUpstreamLayerException")}name="UnableToGetUpstreamLayerException";$fault="client";constructor(t){super({name:"UnableToGetUpstreamLayerException",$fault:"client",...t}),Object.setPrototypeOf(this,pI.prototype)}},E9={EXPIRE:"EXPIRE"},v9={COMPLETE:"COMPLETE",EXPIRED:"EXPIRED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},fI=class mI extends U{static{p(this,"LifecyclePolicyPreviewNotFoundException")}name="LifecyclePolicyPreviewNotFoundException";$fault="client";constructor(t){super({name:"LifecyclePolicyPreviewNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,mI.prototype)}},S9={BASIC:"BASIC",ENHANCED:"ENHANCED"},hI=class gI extends U{static{p(this,"ImageAlreadyExistsException")}name="ImageAlreadyExistsException";$fault="client";constructor(t){super({name:"ImageAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,gI.prototype)}},yI=class _I extends U{static{p(this,"ImageDigestDoesNotMatchException")}name="ImageDigestDoesNotMatchException";$fault="client";constructor(t){super({name:"ImageDigestDoesNotMatchException",$fault:"client",...t}),Object.setPrototypeOf(this,_I.prototype)}},EI=class vI extends U{static{p(this,"ImageTagAlreadyExistsException")}name="ImageTagAlreadyExistsException";$fault="client";constructor(t){super({name:"ImageTagAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,vI.prototype)}},SI=class bI extends U{static{p(this,"ReferencedImagesNotFoundException")}name="ReferencedImagesNotFoundException";$fault="client";constructor(t){super({name:"ReferencedImagesNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,bI.prototype)}},wI=class CI extends U{static{p(this,"UnsupportedImageTypeException")}name="UnsupportedImageTypeException";$fault="client";constructor(t){super({name:"UnsupportedImageTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,CI.prototype)}},PI=class xI extends U{static{p(this,"LifecyclePolicyPreviewInProgressException")}name="LifecyclePolicyPreviewInProgressException";$fault="client";constructor(t){super({name:"LifecyclePolicyPreviewInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,xI.prototype)}},RI=class TI extends U{static{p(this,"InvalidLayerPartException")}name="InvalidLayerPartException";$fault="client";registryId;repositoryName;uploadId;lastValidByteReceived;constructor(t){super({name:"InvalidLayerPartException",$fault:"client",...t}),Object.setPrototypeOf(this,TI.prototype),this.registryId=t.registryId,this.repositoryName=t.repositoryName,this.uploadId=t.uploadId,this.lastValidByteReceived=t.lastValidByteReceived}},b9=p(async(e,t)=>{let r=k("BatchCheckLayerAvailability"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_BatchCheckLayerAvailabilityCommand"),w9=p(async(e,t)=>{let r=k("BatchDeleteImage"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_BatchDeleteImageCommand"),C9=p(async(e,t)=>{let r=k("BatchGetImage"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_BatchGetImageCommand"),P9=p(async(e,t)=>{let r=k("BatchGetRepositoryScanningConfiguration"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_BatchGetRepositoryScanningConfigurationCommand"),x9=p(async(e,t)=>{let r=k("CompleteLayerUpload"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CompleteLayerUploadCommand"),R9=p(async(e,t)=>{let r=k("CreatePullThroughCacheRule"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreatePullThroughCacheRuleCommand"),T9=p(async(e,t)=>{let r=k("CreateRepository"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateRepositoryCommand"),A9=p(async(e,t)=>{let r=k("CreateRepositoryCreationTemplate"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateRepositoryCreationTemplateCommand"),I9=p(async(e,t)=>{let r=k("DeleteLifecyclePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteLifecyclePolicyCommand"),O9=p(async(e,t)=>{let r=k("DeletePullThroughCacheRule"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeletePullThroughCacheRuleCommand"),N9=p(async(e,t)=>{let r=k("DeleteRegistryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteRegistryPolicyCommand"),D9=p(async(e,t)=>{let r=k("DeleteRepository"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteRepositoryCommand"),k9=p(async(e,t)=>{let r=k("DeleteRepositoryCreationTemplate"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteRepositoryCreationTemplateCommand"),$9=p(async(e,t)=>{let r=k("DeleteRepositoryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteRepositoryPolicyCommand"),M9=p(async(e,t)=>{let r=k("DescribeImageReplicationStatus"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeImageReplicationStatusCommand"),L9=p(async(e,t)=>{let r=k("DescribeImages"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeImagesCommand"),F9=p(async(e,t)=>{let r=k("DescribeImageScanFindings"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeImageScanFindingsCommand"),U9=p(async(e,t)=>{let r=k("DescribePullThroughCacheRules"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribePullThroughCacheRulesCommand"),j9=p(async(e,t)=>{let r=k("DescribeRegistry"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeRegistryCommand"),z9=p(async(e,t)=>{let r=k("DescribeRepositories"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeRepositoriesCommand"),H9=p(async(e,t)=>{let r=k("DescribeRepositoryCreationTemplates"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeRepositoryCreationTemplatesCommand"),B9=p(async(e,t)=>{let r=k("GetAccountSetting"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetAccountSettingCommand"),q9=p(async(e,t)=>{let r=k("GetAuthorizationToken"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetAuthorizationTokenCommand"),V9=p(async(e,t)=>{let r=k("GetDownloadUrlForLayer"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetDownloadUrlForLayerCommand"),G9=p(async(e,t)=>{let r=k("GetLifecyclePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetLifecyclePolicyCommand"),W9=p(async(e,t)=>{let r=k("GetLifecyclePolicyPreview"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetLifecyclePolicyPreviewCommand"),K9=p(async(e,t)=>{let r=k("GetRegistryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetRegistryPolicyCommand"),J9=p(async(e,t)=>{let r=k("GetRegistryScanningConfiguration"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetRegistryScanningConfigurationCommand"),Y9=p(async(e,t)=>{let r=k("GetRepositoryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetRepositoryPolicyCommand"),X9=p(async(e,t)=>{let r=k("InitiateLayerUpload"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_InitiateLayerUploadCommand"),Q9=p(async(e,t)=>{let r=k("ListImages"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListImagesCommand"),Z9=p(async(e,t)=>{let r=k("ListTagsForResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),eq=p(async(e,t)=>{let r=k("PutAccountSetting"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutAccountSettingCommand"),tq=p(async(e,t)=>{let r=k("PutImage"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutImageCommand"),rq=p(async(e,t)=>{let r=k("PutImageScanningConfiguration"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutImageScanningConfigurationCommand"),nq=p(async(e,t)=>{let r=k("PutImageTagMutability"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutImageTagMutabilityCommand"),oq=p(async(e,t)=>{let r=k("PutLifecyclePolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutLifecyclePolicyCommand"),sq=p(async(e,t)=>{let r=k("PutRegistryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutRegistryPolicyCommand"),iq=p(async(e,t)=>{let r=k("PutRegistryScanningConfiguration"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutRegistryScanningConfigurationCommand"),aq=p(async(e,t)=>{let r=k("PutReplicationConfiguration"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutReplicationConfigurationCommand"),cq=p(async(e,t)=>{let r=k("SetRepositoryPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_SetRepositoryPolicyCommand"),lq=p(async(e,t)=>{let r=k("StartImageScan"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_StartImageScanCommand"),dq=p(async(e,t)=>{let r=k("StartLifecyclePolicyPreview"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_StartLifecyclePolicyPreviewCommand"),uq=p(async(e,t)=>{let r=k("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_TagResourceCommand"),pq=p(async(e,t)=>{let r=k("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UntagResourceCommand"),fq=p(async(e,t)=>{let r=k("UpdatePullThroughCacheRule"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdatePullThroughCacheRuleCommand"),mq=p(async(e,t)=>{let r=k("UpdateRepositoryCreationTemplate"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateRepositoryCreationTemplateCommand"),hq=p(async(e,t)=>{let r=k("UploadLayerPart"),n;return n=JSON.stringify(QV(e,t)),F(t,r,"/",void 0,n)},"se_UploadLayerPartCommand"),gq=p(async(e,t)=>{let r=k("ValidatePullThroughCacheRule"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ValidatePullThroughCacheRuleCommand"),yq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_BatchCheckLayerAvailabilityCommand"),_q=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_BatchDeleteImageCommand"),Eq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_BatchGetImageCommand"),vq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_BatchGetRepositoryScanningConfigurationCommand"),Sq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_CompleteLayerUploadCommand"),bq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=r7(r,t),{$metadata:C(e),...n}},"de_CreatePullThroughCacheRuleCommand"),wq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=o7(r,t),{$metadata:C(e),...n}},"de_CreateRepositoryCommand"),Cq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=n7(r,t),{$metadata:C(e),...n}},"de_CreateRepositoryCreationTemplateCommand"),Pq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=c7(r,t),{$metadata:C(e),...n}},"de_DeleteLifecyclePolicyCommand"),xq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=l7(r,t),{$metadata:C(e),...n}},"de_DeletePullThroughCacheRuleCommand"),Rq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteRegistryPolicyCommand"),Tq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=u7(r,t),{$metadata:C(e),...n}},"de_DeleteRepositoryCommand"),Aq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=d7(r,t),{$metadata:C(e),...n}},"de_DeleteRepositoryCreationTemplateCommand"),Iq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DeleteRepositoryPolicyCommand"),Oq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DescribeImageReplicationStatusCommand"),Nq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=f7(r,t),{$metadata:C(e),...n}},"de_DescribeImagesCommand"),Dq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=p7(r,t),{$metadata:C(e),...n}},"de_DescribeImageScanFindingsCommand"),kq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=m7(r,t),{$metadata:C(e),...n}},"de_DescribePullThroughCacheRulesCommand"),$q=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_DescribeRegistryCommand"),Mq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=h7(r,t),{$metadata:C(e),...n}},"de_DescribeRepositoriesCommand"),Lq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=g7(r,t),{$metadata:C(e),...n}},"de_DescribeRepositoryCreationTemplatesCommand"),Fq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetAccountSettingCommand"),Uq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=E7(r,t),{$metadata:C(e),...n}},"de_GetAuthorizationTokenCommand"),jq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetDownloadUrlForLayerCommand"),zq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=S7(r,t),{$metadata:C(e),...n}},"de_GetLifecyclePolicyCommand"),Hq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=v7(r,t),{$metadata:C(e),...n}},"de_GetLifecyclePolicyPreviewCommand"),Bq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetRegistryPolicyCommand"),qq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetRegistryScanningConfigurationCommand"),Vq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_GetRepositoryPolicyCommand"),Gq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_InitiateLayerUploadCommand"),Wq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_ListImagesCommand"),Kq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_ListTagsForResourceCommand"),Jq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutAccountSettingCommand"),Yq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutImageCommand"),Xq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutImageScanningConfigurationCommand"),Qq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutImageTagMutabilityCommand"),Zq=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutLifecyclePolicyCommand"),eV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutRegistryPolicyCommand"),tV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutRegistryScanningConfigurationCommand"),rV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_PutReplicationConfigurationCommand"),nV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_SetRepositoryPolicyCommand"),oV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_StartImageScanCommand"),sV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_StartLifecyclePolicyPreviewCommand"),iV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_TagResourceCommand"),aV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_UntagResourceCommand"),cV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=L7(r,t),{$metadata:C(e),...n}},"de_UpdatePullThroughCacheRuleCommand"),lV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=F7(r,t),{$metadata:C(e),...n}},"de_UpdateRepositoryCreationTemplateCommand"),dV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_UploadLayerPartCommand"),uV=p(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,O.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:C(e),...n}},"de_ValidatePullThroughCacheRuleCommand"),L=p(async(e,t)=>{let r={...e,body:await(0,O.parseJsonErrorBody)(e.body,t)},n=(0,O.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidParameterException":case"com.amazonaws.ecr#InvalidParameterException":throw await EV(r,t);case"RepositoryNotFoundException":case"com.amazonaws.ecr#RepositoryNotFoundException":throw await MV(r,t);case"ServerException":case"com.amazonaws.ecr#ServerException":throw await jV(r,t);case"LimitExceededException":case"com.amazonaws.ecr#LimitExceededException":throw await AV(r,t);case"UnableToGetUpstreamImageException":case"com.amazonaws.ecr#UnableToGetUpstreamImageException":throw await GV(r,t);case"ValidationException":case"com.amazonaws.ecr#ValidationException":throw await XV(r,t);case"EmptyUploadException":case"com.amazonaws.ecr#EmptyUploadException":throw await pV(r,t);case"InvalidLayerException":case"com.amazonaws.ecr#InvalidLayerException":throw await yV(r,t);case"KmsException":case"com.amazonaws.ecr#KmsException":throw await SV(r,t);case"LayerAlreadyExistsException":case"com.amazonaws.ecr#LayerAlreadyExistsException":throw await bV(r,t);case"LayerPartTooSmallException":case"com.amazonaws.ecr#LayerPartTooSmallException":throw await CV(r,t);case"UploadNotFoundException":case"com.amazonaws.ecr#UploadNotFoundException":throw await YV(r,t);case"PullThroughCacheRuleAlreadyExistsException":case"com.amazonaws.ecr#PullThroughCacheRuleAlreadyExistsException":throw await IV(r,t);case"SecretNotFoundException":case"com.amazonaws.ecr#SecretNotFoundException":throw await UV(r,t);case"UnableToAccessSecretException":case"com.amazonaws.ecr#UnableToAccessSecretException":throw await qV(r,t);case"UnableToDecryptSecretValueException":case"com.amazonaws.ecr#UnableToDecryptSecretValueException":throw await VV(r,t);case"UnsupportedUpstreamRegistryException":case"com.amazonaws.ecr#UnsupportedUpstreamRegistryException":throw await JV(r,t);case"InvalidTagParameterException":case"com.amazonaws.ecr#InvalidTagParameterException":throw await vV(r,t);case"RepositoryAlreadyExistsException":case"com.amazonaws.ecr#RepositoryAlreadyExistsException":throw await kV(r,t);case"TooManyTagsException":case"com.amazonaws.ecr#TooManyTagsException":throw await BV(r,t);case"TemplateAlreadyExistsException":case"com.amazonaws.ecr#TemplateAlreadyExistsException":throw await zV(r,t);case"LifecyclePolicyNotFoundException":case"com.amazonaws.ecr#LifecyclePolicyNotFoundException":throw await xV(r,t);case"PullThroughCacheRuleNotFoundException":case"com.amazonaws.ecr#PullThroughCacheRuleNotFoundException":throw await OV(r,t);case"RegistryPolicyNotFoundException":case"com.amazonaws.ecr#RegistryPolicyNotFoundException":throw await DV(r,t);case"RepositoryNotEmptyException":case"com.amazonaws.ecr#RepositoryNotEmptyException":throw await $V(r,t);case"TemplateNotFoundException":case"com.amazonaws.ecr#TemplateNotFoundException":throw await HV(r,t);case"RepositoryPolicyNotFoundException":case"com.amazonaws.ecr#RepositoryPolicyNotFoundException":throw await LV(r,t);case"ImageNotFoundException":case"com.amazonaws.ecr#ImageNotFoundException":throw await hV(r,t);case"ScanNotFoundException":case"com.amazonaws.ecr#ScanNotFoundException":throw await FV(r,t);case"LayerInaccessibleException":case"com.amazonaws.ecr#LayerInaccessibleException":throw await wV(r,t);case"LayersNotFoundException":case"com.amazonaws.ecr#LayersNotFoundException":throw await PV(r,t);case"UnableToGetUpstreamLayerException":case"com.amazonaws.ecr#UnableToGetUpstreamLayerException":throw await WV(r,t);case"LifecyclePolicyPreviewNotFoundException":case"com.amazonaws.ecr#LifecyclePolicyPreviewNotFoundException":throw await TV(r,t);case"ImageAlreadyExistsException":case"com.amazonaws.ecr#ImageAlreadyExistsException":throw await fV(r,t);case"ImageDigestDoesNotMatchException":case"com.amazonaws.ecr#ImageDigestDoesNotMatchException":throw await mV(r,t);case"ImageTagAlreadyExistsException":case"com.amazonaws.ecr#ImageTagAlreadyExistsException":throw await gV(r,t);case"ReferencedImagesNotFoundException":case"com.amazonaws.ecr#ReferencedImagesNotFoundException":throw await NV(r,t);case"UnsupportedImageTypeException":case"com.amazonaws.ecr#UnsupportedImageTypeException":throw await KV(r,t);case"LifecyclePolicyPreviewInProgressException":case"com.amazonaws.ecr#LifecyclePolicyPreviewInProgressException":throw await RV(r,t);case"InvalidLayerPartException":case"com.amazonaws.ecr#InvalidLayerPartException":throw await _V(r,t);default:let o=r.body;return U7({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),pV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new hA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_EmptyUploadExceptionRes"),fV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new hI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImageAlreadyExistsExceptionRes"),mV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new yI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImageDigestDoesNotMatchExceptionRes"),hV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new nI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImageNotFoundExceptionRes"),gV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new EI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImageTagAlreadyExistsExceptionRes"),yV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new yA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidLayerExceptionRes"),_V=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidLayerPartExceptionRes"),EV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new nA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidParameterExceptionRes"),vV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new LA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidTagParameterExceptionRes"),SV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new EA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KmsExceptionRes"),bV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LayerAlreadyExistsExceptionRes"),wV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new aI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LayerInaccessibleExceptionRes"),CV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new wA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LayerPartTooSmallExceptionRes"),PV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new lI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LayersNotFoundExceptionRes"),xV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LifecyclePolicyNotFoundExceptionRes"),RV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LifecyclePolicyPreviewInProgressExceptionRes"),TV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LifecyclePolicyPreviewNotFoundExceptionRes"),AV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new lA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),IV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PullThroughCacheRuleAlreadyExistsExceptionRes"),OV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new WA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PullThroughCacheRuleNotFoundExceptionRes"),NV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReferencedImagesNotFoundExceptionRes"),DV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RegistryPolicyNotFoundExceptionRes"),kV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new UA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RepositoryAlreadyExistsExceptionRes"),$V=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new XA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RepositoryNotEmptyExceptionRes"),MV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new sA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RepositoryNotFoundExceptionRes"),LV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new tI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RepositoryPolicyNotFoundExceptionRes"),FV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new sI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ScanNotFoundExceptionRes"),UV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new AA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_SecretNotFoundExceptionRes"),jV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new aA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ServerExceptionRes"),zV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new BA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TemplateAlreadyExistsExceptionRes"),HV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TemplateNotFoundExceptionRes"),BV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new zA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TooManyTagsExceptionRes"),qV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new OA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnableToAccessSecretExceptionRes"),VV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new DA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnableToDecryptSecretValueExceptionRes"),GV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnableToGetUpstreamImageExceptionRes"),WV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnableToGetUpstreamLayerExceptionRes"),KV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new wI({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnsupportedImageTypeExceptionRes"),JV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $A({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnsupportedUpstreamRegistryExceptionRes"),YV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UploadNotFoundExceptionRes"),XV=p(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fA({$metadata:C(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ValidationExceptionRes"),QV=p((e,t)=>(0,d.take)(e,{layerPartBlob:t.base64Encoder,partFirstByte:[],partLastByte:[],registryId:[],repositoryName:[],uploadId:[]}),"se_UploadLayerPartRequest"),ZV=p((e,t)=>(0,d.take)(e,{authorizationToken:d.expectString,expiresAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"expiresAt"),proxyEndpoint:d.expectString}),"de_AuthorizationData"),e7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZV(n,t)),"de_AuthorizationDataList"),t7=p((e,t)=>(0,d.take)(e,{architecture:d.expectString,author:d.expectString,imageHash:d.expectString,imageTags:d._json,inUseCount:d.expectLong,lastInUseAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastInUseAt"),platform:d.expectString,pushedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"pushedAt"),registry:d.expectString,repositoryName:d.expectString}),"de_AwsEcrContainerImageDetails"),r7=p((e,t)=>(0,d.take)(e,{createdAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createdAt"),credentialArn:d.expectString,customRoleArn:d.expectString,ecrRepositoryPrefix:d.expectString,registryId:d.expectString,upstreamRegistry:d.expectString,upstreamRegistryUrl:d.expectString,upstreamRepositoryPrefix:d.expectString}),"de_CreatePullThroughCacheRuleResponse"),n7=p((e,t)=>(0,d.take)(e,{registryId:d.expectString,repositoryCreationTemplate:p(r=>Dl(r,t),"repositoryCreationTemplate")}),"de_CreateRepositoryCreationTemplateResponse"),o7=p((e,t)=>(0,d.take)(e,{repository:p(r=>Im(r,t),"repository")}),"de_CreateRepositoryResponse"),s7=p((e,t)=>(0,d.take)(e,{baseScore:d.limitedParseDouble,scoringVector:d.expectString,source:d.expectString,version:d.expectString}),"de_CvssScore"),i7=p((e,t)=>(0,d.take)(e,{adjustments:d._json,score:d.limitedParseDouble,scoreSource:d.expectString,scoringVector:d.expectString,version:d.expectString}),"de_CvssScoreDetails"),a7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>s7(n,t)),"de_CvssScoreList"),c7=p((e,t)=>(0,d.take)(e,{lastEvaluatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastEvaluatedAt"),lifecyclePolicyText:d.expectString,registryId:d.expectString,repositoryName:d.expectString}),"de_DeleteLifecyclePolicyResponse"),l7=p((e,t)=>(0,d.take)(e,{createdAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createdAt"),credentialArn:d.expectString,customRoleArn:d.expectString,ecrRepositoryPrefix:d.expectString,registryId:d.expectString,upstreamRegistryUrl:d.expectString,upstreamRepositoryPrefix:d.expectString}),"de_DeletePullThroughCacheRuleResponse"),d7=p((e,t)=>(0,d.take)(e,{registryId:d.expectString,repositoryCreationTemplate:p(r=>Dl(r,t),"repositoryCreationTemplate")}),"de_DeleteRepositoryCreationTemplateResponse"),u7=p((e,t)=>(0,d.take)(e,{repository:p(r=>Im(r,t),"repository")}),"de_DeleteRepositoryResponse"),p7=p((e,t)=>(0,d.take)(e,{imageId:d._json,imageScanFindings:p(r=>C7(r,t),"imageScanFindings"),imageScanStatus:d._json,nextToken:d.expectString,registryId:d.expectString,repositoryName:d.expectString}),"de_DescribeImageScanFindingsResponse"),f7=p((e,t)=>(0,d.take)(e,{imageDetails:p(r=>w7(r,t),"imageDetails"),nextToken:d.expectString}),"de_DescribeImagesResponse"),m7=p((e,t)=>(0,d.take)(e,{nextToken:d.expectString,pullThroughCacheRules:p(r=>I7(r,t),"pullThroughCacheRules")}),"de_DescribePullThroughCacheRulesResponse"),h7=p((e,t)=>(0,d.take)(e,{nextToken:d.expectString,repositories:p(r=>N7(r,t),"repositories")}),"de_DescribeRepositoriesResponse"),g7=p((e,t)=>(0,d.take)(e,{nextToken:d.expectString,registryId:d.expectString,repositoryCreationTemplates:p(r=>O7(r,t),"repositoryCreationTemplates")}),"de_DescribeRepositoryCreationTemplatesResponse"),y7=p((e,t)=>(0,d.take)(e,{awsAccountId:d.expectString,description:d.expectString,exploitAvailable:d.expectString,findingArn:d.expectString,firstObservedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"firstObservedAt"),fixAvailable:d.expectString,lastObservedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastObservedAt"),packageVulnerabilityDetails:p(r=>T7(r,t),"packageVulnerabilityDetails"),remediation:d._json,resources:p(r=>$7(r,t),"resources"),score:d.limitedParseDouble,scoreDetails:p(r=>M7(r,t),"scoreDetails"),severity:d.expectString,status:d.expectString,title:d.expectString,type:d.expectString,updatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updatedAt")}),"de_EnhancedImageScanFinding"),_7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>y7(n,t)),"de_EnhancedImageScanFindingList"),E7=p((e,t)=>(0,d.take)(e,{authorizationData:p(r=>e7(r,t),"authorizationData")}),"de_GetAuthorizationTokenResponse"),v7=p((e,t)=>(0,d.take)(e,{lifecyclePolicyText:d.expectString,nextToken:d.expectString,previewResults:p(r=>R7(r,t),"previewResults"),registryId:d.expectString,repositoryName:d.expectString,status:d.expectString,summary:d._json}),"de_GetLifecyclePolicyPreviewResponse"),S7=p((e,t)=>(0,d.take)(e,{lastEvaluatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastEvaluatedAt"),lifecyclePolicyText:d.expectString,registryId:d.expectString,repositoryName:d.expectString}),"de_GetLifecyclePolicyResponse"),b7=p((e,t)=>(0,d.take)(e,{artifactMediaType:d.expectString,imageDigest:d.expectString,imageManifestMediaType:d.expectString,imagePushedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"imagePushedAt"),imageScanFindingsSummary:p(r=>P7(r,t),"imageScanFindingsSummary"),imageScanStatus:d._json,imageSizeInBytes:d.expectLong,imageTags:d._json,lastRecordedPullTime:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastRecordedPullTime"),registryId:d.expectString,repositoryName:d.expectString}),"de_ImageDetail"),w7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>b7(n,t)),"de_ImageDetailList"),C7=p((e,t)=>(0,d.take)(e,{enhancedFindings:p(r=>_7(r,t),"enhancedFindings"),findingSeverityCounts:d._json,findings:d._json,imageScanCompletedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"imageScanCompletedAt"),vulnerabilitySourceUpdatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"vulnerabilitySourceUpdatedAt")}),"de_ImageScanFindings"),P7=p((e,t)=>(0,d.take)(e,{findingSeverityCounts:d._json,imageScanCompletedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"imageScanCompletedAt"),vulnerabilitySourceUpdatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"vulnerabilitySourceUpdatedAt")}),"de_ImageScanFindingsSummary"),x7=p((e,t)=>(0,d.take)(e,{action:d._json,appliedRulePriority:d.expectInt32,imageDigest:d.expectString,imagePushedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"imagePushedAt"),imageTags:d._json}),"de_LifecyclePolicyPreviewResult"),R7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>x7(n,t)),"de_LifecyclePolicyPreviewResultList"),T7=p((e,t)=>(0,d.take)(e,{cvss:p(r=>a7(r,t),"cvss"),referenceUrls:d._json,relatedVulnerabilities:d._json,source:d.expectString,sourceUrl:d.expectString,vendorCreatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"vendorCreatedAt"),vendorSeverity:d.expectString,vendorUpdatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"vendorUpdatedAt"),vulnerabilityId:d.expectString,vulnerablePackages:d._json}),"de_PackageVulnerabilityDetails"),A7=p((e,t)=>(0,d.take)(e,{createdAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createdAt"),credentialArn:d.expectString,customRoleArn:d.expectString,ecrRepositoryPrefix:d.expectString,registryId:d.expectString,updatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updatedAt"),upstreamRegistry:d.expectString,upstreamRegistryUrl:d.expectString,upstreamRepositoryPrefix:d.expectString}),"de_PullThroughCacheRule"),I7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>A7(n,t)),"de_PullThroughCacheRuleList"),Im=p((e,t)=>(0,d.take)(e,{createdAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createdAt"),encryptionConfiguration:d._json,imageScanningConfiguration:d._json,imageTagMutability:d.expectString,imageTagMutabilityExclusionFilters:d._json,registryId:d.expectString,repositoryArn:d.expectString,repositoryName:d.expectString,repositoryUri:d.expectString}),"de_Repository"),Dl=p((e,t)=>(0,d.take)(e,{appliedFor:d._json,createdAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createdAt"),customRoleArn:d.expectString,description:d.expectString,encryptionConfiguration:d._json,imageTagMutability:d.expectString,imageTagMutabilityExclusionFilters:d._json,lifecyclePolicy:d.expectString,prefix:d.expectString,repositoryPolicy:d.expectString,resourceTags:d._json,updatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updatedAt")}),"de_RepositoryCreationTemplate"),O7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Dl(n,t)),"de_RepositoryCreationTemplateList"),N7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Im(n,t)),"de_RepositoryList"),D7=p((e,t)=>(0,d.take)(e,{details:p(r=>k7(r,t),"details"),id:d.expectString,tags:d._json,type:d.expectString}),"de_Resource"),k7=p((e,t)=>(0,d.take)(e,{awsEcrContainerImage:p(r=>t7(r,t),"awsEcrContainerImage")}),"de_ResourceDetails"),$7=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>D7(n,t)),"de_ResourceList"),M7=p((e,t)=>(0,d.take)(e,{cvss:p(r=>i7(r,t),"cvss")}),"de_ScoreDetails"),L7=p((e,t)=>(0,d.take)(e,{credentialArn:d.expectString,customRoleArn:d.expectString,ecrRepositoryPrefix:d.expectString,registryId:d.expectString,updatedAt:p(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updatedAt"),upstreamRepositoryPrefix:d.expectString}),"de_UpdatePullThroughCacheRuleResponse"),F7=p((e,t)=>(0,d.take)(e,{registryId:d.expectString,repositoryCreationTemplate:p(r=>Dl(r,t),"repositoryCreationTemplate")}),"de_UpdateRepositoryCreationTemplateResponse"),C=p(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),U7=(0,d.withBaseException)(U),F=p(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Am.HttpRequest(l)},"buildHttpRpcRequest");function k(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AmazonEC2ContainerRegistry_V20150921.${e}`}}p(k,"sharedHeaders");var AI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","BatchCheckLayerAvailability",{}).n("ECRClient","BatchCheckLayerAvailabilityCommand").f(void 0,void 0).ser(b9).de(yq).build(){static{p(this,"BatchCheckLayerAvailabilityCommand")}},II=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","BatchDeleteImage",{}).n("ECRClient","BatchDeleteImageCommand").f(void 0,void 0).ser(w9).de(_q).build(){static{p(this,"BatchDeleteImageCommand")}},OI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","BatchGetImage",{}).n("ECRClient","BatchGetImageCommand").f(void 0,void 0).ser(C9).de(Eq).build(){static{p(this,"BatchGetImageCommand")}},NI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","BatchGetRepositoryScanningConfiguration",{}).n("ECRClient","BatchGetRepositoryScanningConfigurationCommand").f(void 0,void 0).ser(P9).de(vq).build(){static{p(this,"BatchGetRepositoryScanningConfigurationCommand")}},DI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","CompleteLayerUpload",{}).n("ECRClient","CompleteLayerUploadCommand").f(void 0,void 0).ser(x9).de(Sq).build(){static{p(this,"CompleteLayerUploadCommand")}},kI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","CreatePullThroughCacheRule",{}).n("ECRClient","CreatePullThroughCacheRuleCommand").f(void 0,void 0).ser(R9).de(bq).build(){static{p(this,"CreatePullThroughCacheRuleCommand")}},$I=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","CreateRepository",{}).n("ECRClient","CreateRepositoryCommand").f(void 0,void 0).ser(T9).de(wq).build(){static{p(this,"CreateRepositoryCommand")}},MI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","CreateRepositoryCreationTemplate",{}).n("ECRClient","CreateRepositoryCreationTemplateCommand").f(void 0,void 0).ser(A9).de(Cq).build(){static{p(this,"CreateRepositoryCreationTemplateCommand")}},LI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeleteLifecyclePolicy",{}).n("ECRClient","DeleteLifecyclePolicyCommand").f(void 0,void 0).ser(I9).de(Pq).build(){static{p(this,"DeleteLifecyclePolicyCommand")}},FI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeletePullThroughCacheRule",{}).n("ECRClient","DeletePullThroughCacheRuleCommand").f(void 0,void 0).ser(O9).de(xq).build(){static{p(this,"DeletePullThroughCacheRuleCommand")}},UI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeleteRegistryPolicy",{}).n("ECRClient","DeleteRegistryPolicyCommand").f(void 0,void 0).ser(N9).de(Rq).build(){static{p(this,"DeleteRegistryPolicyCommand")}},jI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeleteRepository",{}).n("ECRClient","DeleteRepositoryCommand").f(void 0,void 0).ser(D9).de(Tq).build(){static{p(this,"DeleteRepositoryCommand")}},zI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeleteRepositoryCreationTemplate",{}).n("ECRClient","DeleteRepositoryCreationTemplateCommand").f(void 0,void 0).ser(k9).de(Aq).build(){static{p(this,"DeleteRepositoryCreationTemplateCommand")}},HI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DeleteRepositoryPolicy",{}).n("ECRClient","DeleteRepositoryPolicyCommand").f(void 0,void 0).ser($9).de(Iq).build(){static{p(this,"DeleteRepositoryPolicyCommand")}},BI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeImageReplicationStatus",{}).n("ECRClient","DescribeImageReplicationStatusCommand").f(void 0,void 0).ser(M9).de(Oq).build(){static{p(this,"DescribeImageReplicationStatusCommand")}},kl=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeImageScanFindings",{}).n("ECRClient","DescribeImageScanFindingsCommand").f(void 0,void 0).ser(F9).de(Dq).build(){static{p(this,"DescribeImageScanFindingsCommand")}},Om=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeImages",{}).n("ECRClient","DescribeImagesCommand").f(void 0,void 0).ser(L9).de(Nq).build(){static{p(this,"DescribeImagesCommand")}},Nm=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribePullThroughCacheRules",{}).n("ECRClient","DescribePullThroughCacheRulesCommand").f(void 0,void 0).ser(U9).de(kq).build(){static{p(this,"DescribePullThroughCacheRulesCommand")}},qI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeRegistry",{}).n("ECRClient","DescribeRegistryCommand").f(void 0,void 0).ser(j9).de($q).build(){static{p(this,"DescribeRegistryCommand")}},Dm=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeRepositories",{}).n("ECRClient","DescribeRepositoriesCommand").f(void 0,void 0).ser(z9).de(Mq).build(){static{p(this,"DescribeRepositoriesCommand")}},km=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","DescribeRepositoryCreationTemplates",{}).n("ECRClient","DescribeRepositoryCreationTemplatesCommand").f(void 0,void 0).ser(H9).de(Lq).build(){static{p(this,"DescribeRepositoryCreationTemplatesCommand")}},VI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetAccountSetting",{}).n("ECRClient","GetAccountSettingCommand").f(void 0,void 0).ser(B9).de(Fq).build(){static{p(this,"GetAccountSettingCommand")}},GI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetAuthorizationToken",{}).n("ECRClient","GetAuthorizationTokenCommand").f(void 0,void 0).ser(q9).de(Uq).build(){static{p(this,"GetAuthorizationTokenCommand")}},WI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetDownloadUrlForLayer",{}).n("ECRClient","GetDownloadUrlForLayerCommand").f(void 0,void 0).ser(V9).de(jq).build(){static{p(this,"GetDownloadUrlForLayerCommand")}},KI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetLifecyclePolicy",{}).n("ECRClient","GetLifecyclePolicyCommand").f(void 0,void 0).ser(G9).de(zq).build(){static{p(this,"GetLifecyclePolicyCommand")}},$l=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetLifecyclePolicyPreview",{}).n("ECRClient","GetLifecyclePolicyPreviewCommand").f(void 0,void 0).ser(W9).de(Hq).build(){static{p(this,"GetLifecyclePolicyPreviewCommand")}},JI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetRegistryPolicy",{}).n("ECRClient","GetRegistryPolicyCommand").f(void 0,void 0).ser(K9).de(Bq).build(){static{p(this,"GetRegistryPolicyCommand")}},YI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetRegistryScanningConfiguration",{}).n("ECRClient","GetRegistryScanningConfigurationCommand").f(void 0,void 0).ser(J9).de(qq).build(){static{p(this,"GetRegistryScanningConfigurationCommand")}},XI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","GetRepositoryPolicy",{}).n("ECRClient","GetRepositoryPolicyCommand").f(void 0,void 0).ser(Y9).de(Vq).build(){static{p(this,"GetRepositoryPolicyCommand")}},QI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","InitiateLayerUpload",{}).n("ECRClient","InitiateLayerUploadCommand").f(void 0,void 0).ser(X9).de(Gq).build(){static{p(this,"InitiateLayerUploadCommand")}},$m=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","ListImages",{}).n("ECRClient","ListImagesCommand").f(void 0,void 0).ser(Q9).de(Wq).build(){static{p(this,"ListImagesCommand")}},ZI=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","ListTagsForResource",{}).n("ECRClient","ListTagsForResourceCommand").f(void 0,void 0).ser(Z9).de(Kq).build(){static{p(this,"ListTagsForResourceCommand")}},eO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutAccountSetting",{}).n("ECRClient","PutAccountSettingCommand").f(void 0,void 0).ser(eq).de(Jq).build(){static{p(this,"PutAccountSettingCommand")}},tO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutImage",{}).n("ECRClient","PutImageCommand").f(void 0,void 0).ser(tq).de(Yq).build(){static{p(this,"PutImageCommand")}},rO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutImageScanningConfiguration",{}).n("ECRClient","PutImageScanningConfigurationCommand").f(void 0,void 0).ser(rq).de(Xq).build(){static{p(this,"PutImageScanningConfigurationCommand")}},nO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutImageTagMutability",{}).n("ECRClient","PutImageTagMutabilityCommand").f(void 0,void 0).ser(nq).de(Qq).build(){static{p(this,"PutImageTagMutabilityCommand")}},oO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutLifecyclePolicy",{}).n("ECRClient","PutLifecyclePolicyCommand").f(void 0,void 0).ser(oq).de(Zq).build(){static{p(this,"PutLifecyclePolicyCommand")}},sO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutRegistryPolicy",{}).n("ECRClient","PutRegistryPolicyCommand").f(void 0,void 0).ser(sq).de(eV).build(){static{p(this,"PutRegistryPolicyCommand")}},iO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutRegistryScanningConfiguration",{}).n("ECRClient","PutRegistryScanningConfigurationCommand").f(void 0,void 0).ser(iq).de(tV).build(){static{p(this,"PutRegistryScanningConfigurationCommand")}},aO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","PutReplicationConfiguration",{}).n("ECRClient","PutReplicationConfigurationCommand").f(void 0,void 0).ser(aq).de(rV).build(){static{p(this,"PutReplicationConfigurationCommand")}},cO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","SetRepositoryPolicy",{}).n("ECRClient","SetRepositoryPolicyCommand").f(void 0,void 0).ser(cq).de(nV).build(){static{p(this,"SetRepositoryPolicyCommand")}},lO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","StartImageScan",{}).n("ECRClient","StartImageScanCommand").f(void 0,void 0).ser(lq).de(oV).build(){static{p(this,"StartImageScanCommand")}},dO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","StartLifecyclePolicyPreview",{}).n("ECRClient","StartLifecyclePolicyPreviewCommand").f(void 0,void 0).ser(dq).de(sV).build(){static{p(this,"StartLifecyclePolicyPreviewCommand")}},uO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","TagResource",{}).n("ECRClient","TagResourceCommand").f(void 0,void 0).ser(uq).de(iV).build(){static{p(this,"TagResourceCommand")}},pO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","UntagResource",{}).n("ECRClient","UntagResourceCommand").f(void 0,void 0).ser(pq).de(aV).build(){static{p(this,"UntagResourceCommand")}},fO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","UpdatePullThroughCacheRule",{}).n("ECRClient","UpdatePullThroughCacheRuleCommand").f(void 0,void 0).ser(fq).de(cV).build(){static{p(this,"UpdatePullThroughCacheRuleCommand")}},mO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","UpdateRepositoryCreationTemplate",{}).n("ECRClient","UpdateRepositoryCreationTemplateCommand").f(void 0,void 0).ser(mq).de(lV).build(){static{p(this,"UpdateRepositoryCreationTemplateCommand")}},hO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","UploadLayerPart",{}).n("ECRClient","UploadLayerPartCommand").f(void 0,void 0).ser(hq).de(dV).build(){static{p(this,"UploadLayerPartCommand")}},gO=class extends d.Command.classBuilder().ep($).m(function(e,t,r,n){return[(0,M.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonEC2ContainerRegistry_V20150921","ValidatePullThroughCacheRule",{}).n("ECRClient","ValidatePullThroughCacheRuleCommand").f(void 0,void 0).ser(gq).de(uV).build(){static{p(this,"ValidatePullThroughCacheRuleCommand")}},j7={BatchCheckLayerAvailabilityCommand:AI,BatchDeleteImageCommand:II,BatchGetImageCommand:OI,BatchGetRepositoryScanningConfigurationCommand:NI,CompleteLayerUploadCommand:DI,CreatePullThroughCacheRuleCommand:kI,CreateRepositoryCommand:$I,CreateRepositoryCreationTemplateCommand:MI,DeleteLifecyclePolicyCommand:LI,DeletePullThroughCacheRuleCommand:FI,DeleteRegistryPolicyCommand:UI,DeleteRepositoryCommand:jI,DeleteRepositoryCreationTemplateCommand:zI,DeleteRepositoryPolicyCommand:HI,DescribeImageReplicationStatusCommand:BI,DescribeImagesCommand:Om,DescribeImageScanFindingsCommand:kl,DescribePullThroughCacheRulesCommand:Nm,DescribeRegistryCommand:qI,DescribeRepositoriesCommand:Dm,DescribeRepositoryCreationTemplatesCommand:km,GetAccountSettingCommand:VI,GetAuthorizationTokenCommand:GI,GetDownloadUrlForLayerCommand:WI,GetLifecyclePolicyCommand:KI,GetLifecyclePolicyPreviewCommand:$l,GetRegistryPolicyCommand:JI,GetRegistryScanningConfigurationCommand:YI,GetRepositoryPolicyCommand:XI,InitiateLayerUploadCommand:QI,ListImagesCommand:$m,ListTagsForResourceCommand:ZI,PutAccountSettingCommand:eO,PutImageCommand:tO,PutImageScanningConfigurationCommand:rO,PutImageTagMutabilityCommand:nO,PutLifecyclePolicyCommand:oO,PutRegistryPolicyCommand:sO,PutRegistryScanningConfigurationCommand:iO,PutReplicationConfigurationCommand:aO,SetRepositoryPolicyCommand:cO,StartImageScanCommand:lO,StartLifecyclePolicyPreviewCommand:dO,TagResourceCommand:uO,UntagResourceCommand:pO,UpdatePullThroughCacheRuleCommand:fO,UpdateRepositoryCreationTemplateCommand:mO,UploadLayerPartCommand:hO,ValidatePullThroughCacheRuleCommand:gO},yO=class extends Zt{static{p(this,"ECR")}};(0,d.createAggregatedClient)(j7,yO);var z7=(0,Dt.createPaginator)(Zt,kl,"nextToken","nextToken","maxResults"),H7=(0,Dt.createPaginator)(Zt,Om,"nextToken","nextToken","maxResults"),B7=(0,Dt.createPaginator)(Zt,Nm,"nextToken","nextToken","maxResults"),q7=(0,Dt.createPaginator)(Zt,Dm,"nextToken","nextToken","maxResults"),V7=(0,Dt.createPaginator)(Zt,km,"nextToken","nextToken","maxResults"),G7=(0,Dt.createPaginator)(Zt,$l,"nextToken","nextToken","maxResults"),W7=(0,Dt.createPaginator)(Zt,$m,"nextToken","nextToken","maxResults"),ot=JT(),_O=p(async(e,t)=>{let r;try{let n=await e.send(new kl(t));r=n;try{if(p(()=>n.imageScanStatus.status,"returnComparator")()==="COMPLETE")return{state:ot.WaiterState.SUCCESS,reason:r}}catch{}try{if(p(()=>n.imageScanStatus.status,"returnComparator")()==="FAILED")return{state:ot.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ot.WaiterState.RETRY,reason:r}},"checkState"),K7=p(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ot.createWaiter)({...r,...e},t,_O)},"waitForImageScanComplete"),J7=p(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ot.createWaiter)({...r,...e},t,_O);return(0,ot.checkExceptions)(n)},"waitUntilImageScanComplete"),EO=p(async(e,t)=>{let r;try{let n=await e.send(new $l(t));r=n;try{if(p(()=>n.status,"returnComparator")()==="COMPLETE")return{state:ot.WaiterState.SUCCESS,reason:r}}catch{}try{if(p(()=>n.status,"returnComparator")()==="FAILED")return{state:ot.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ot.WaiterState.RETRY,reason:r}},"checkState"),Y7=p(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ot.createWaiter)({...r,...e},t,EO)},"waitForLifecyclePolicyPreviewComplete"),X7=p(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ot.createWaiter)({...r,...e},t,EO);return(0,ot.checkExceptions)(n)},"waitUntilLifecyclePolicyPreviewComplete")});var eG={};st(eG,{default:()=>OO});module.exports=V(eG);var uo=require("@raycast/api");var G=v(require("react")),X=require("@raycast/api");var Lm=Object.prototype.hasOwnProperty;function Js(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Js(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Lm.call(e,r)&&++n&&!Lm.call(t,r)||!(r in t)||!Js(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var $r=v(require("node:fs")),Xs=v(require("node:path")),Vm=v(require("node:crypto")),Gm=v(require("node:child_process")),Wm=require("node:buffer"),gn=v(require("node:stream")),Km=require("node:util");var Jm=require("react/jsx-runtime");var Ul=globalThis;function LO(e){let t=(0,G.useRef)(e),r=(0,G.useRef)(0);return Js(e,t.current)||(t.current=e,r.current+=1),(0,G.useMemo)(()=>t.current,[r.current])}function ze(e){let t=(0,G.useRef)(e);return t.current=e,t}function FO(e,t){let r=e instanceof Error?e.message:String(e);return(0,X.showToast)({style:X.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??Fm(e),secondaryAction:t?.primaryAction?Fm(e):void 0})}var Fm=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,$r.readFileSync)((0,Xs.join)(X.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let o=X.environment.isDevelopment||t,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:o?"Copy Logs":"Report Error",onAction(i){i.hide(),o?X.Clipboard.copy(s):(0,X.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function UO(e,t,r){let n=(0,G.useRef)(0),[o,s]=(0,G.useState)({isLoading:!0}),i=ze(e),a=ze(r?.abortable),c=ze(t||[]),l=ze(r?.onError),u=ze(r?.onData),f=ze(r?.onWillExecute),m=ze(r?.failureToastOptions),h=ze(o.data),g=(0,G.useRef)(null),y=(0,G.useRef)({page:0}),E=(0,G.useRef)(!1),S=(0,G.useRef)(!0),w=(0,G.useRef)(50),I=(0,G.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),x=(0,G.useCallback)((...se)=>{let he=I();f.current?.(se),s(J=>({...J,isLoading:!0}));let tr=jO(i.current)(...se);function rr(J){return J.name=="AbortError"||he===n.current&&(l.current?l.current(J):X.environment.launchType!==X.LaunchType.Background&&FO(J,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(kt){kt.hide(),g.current?.(...c.current||[])}},...m.current}),s({error:J,isLoading:!1})),J}return typeof tr=="function"?(E.current=!0,tr(y.current).then(({data:J,hasMore:kt,cursor:Ll})=>(he===n.current&&(y.current&&(y.current.cursor=Ll,y.current.lastItem=J?.[J.length-1]),u.current&&u.current(J,y.current),kt&&(w.current=J.length),S.current=kt,s(Fl=>y.current.page===0?{data:J,isLoading:!1}:{data:(Fl.data||[])?.concat(J),isLoading:!1})),J),J=>(S.current=!1,rr(J)))):(E.current=!1,tr.then(J=>(he===n.current&&(u.current&&u.current(J),s({data:J,isLoading:!1})),J),rr))},[u,l,c,i,s,g,f,y,m,I]);g.current=x;let A=(0,G.useCallback)(()=>{y.current={page:0};let se=c.current||[];return x(...se)},[x,c]),z=(0,G.useCallback)(async(se,he)=>{let tr;try{if(he?.optimisticUpdate){I(),typeof he?.rollbackOnError!="function"&&he?.rollbackOnError!==!1&&(tr=structuredClone(h.current?.value));let rr=he.optimisticUpdate;s(J=>({...J,data:rr(J.data)}))}return await se}catch(rr){if(typeof he?.rollbackOnError=="function"){let J=he.rollbackOnError;s(kt=>({...kt,data:J(kt.data)}))}else he?.optimisticUpdate&&he?.rollbackOnError!==!1&&s(J=>({...J,data:tr}));throw rr}finally{he?.shouldRevalidateAfter!==!1&&(X.environment.launchType===X.LaunchType.Background||X.environment.commandMode==="menu-bar"?await A():A())}},[A,h,s,I]),we=(0,G.useCallback)(()=>{y.current.page+=1;let se=c.current||[];x(...se)},[y,c,x]);(0,G.useEffect)(()=>{y.current={page:0},r?.execute!==!1?x(...t||[]):I()},[LO([t,r?.execute,x]),a,y]),(0,G.useEffect)(()=>()=>{I()},[I]);let Z=r?.execute!==!1?o.isLoading:!1,ue={...o,isLoading:Z},ee=E.current?{pageSize:w.current,hasMore:S.current,onLoadMore:we}:void 0;return{...ue,revalidate:A,mutate:z,pagination:ee}}function jO(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Um(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function zO(e){return e instanceof URLSearchParams?e.toString():e}function Ym(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=zO(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let o=/\[object (.*)\]/i,s=Object.prototype.toString.call(n),i=o.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),Um(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let l=this;return c.forEach(function(u){l.dispatch(u),r(":"),l.dispatch(n[u]),r(",")})}},_array:function(n,o){o=typeof o<"u"?o:!1;let s=this;if(r("array:"+n.length+":"),!o||n.length<=1){n.forEach(function(c){s.dispatch(c)});return}let i=[],a=n.map(function(c){let l=HO(),u=t.slice();return Ym(l,u).dispatch(c),i=i.concat(u.slice(t.length)),l.read().toString()});t=t.concat(i),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Um(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let o=Array.from(n);this._array(o,!0)},_set:function(n){r("set:");let o=Array.from(n);this._array(o,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function HO(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function BO(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function qO(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function jm(e){let t=Vm.default.createHash("sha1");return Ym(t).dispatch(e),t.digest("hex")}var VO=Symbol("cache without namespace"),zm=new Map;function Gl(e,t,r){let n=r?.cacheNamespace||VO,o=zm.get(n)||zm.set(n,new X.Cache({namespace:r?.cacheNamespace})).get(n);if(!o)throw new Error("Missing cache");let s=ze(e),i=ze(t),a=(0,G.useSyncExternalStore)(o.subscribe,()=>{try{return o.get(s.current)}catch(f){console.error("Could not get Cache data:",f);return}}),c=(0,G.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,qO)}catch(f){return console.warn("The cached data is corrupted",f),i.current}}else return i.current},[a,i]),l=ze(c),u=(0,G.useCallback)(f=>{let m=typeof f=="function"?f(l.current):f;if(typeof m>"u")o.set(s.current,"undefined");else{let h=JSON.stringify(m,BO);o.set(s.current,h)}return m},[o,s,l]);return[c,u]}var hn=Symbol();function ft(e,t,r){let{initialData:n,keepPreviousData:o,internal_cacheKeySuffix:s,...i}=r||{},a=(0,G.useRef)(null),[c,l]=Gl(jm(t||[])+s,hn,{cacheNamespace:jm(e)}),u=(0,G.useRef)(c!==hn?c:n),f=(0,G.useRef)(void 0),{mutate:m,revalidate:h,...g}=UO(e,t||[],{...i,onData(I,x){f.current=x,i.onData&&i.onData(I,x),!(x&&x.page>0)&&(a.current="promise",u.current=I,l(I))}}),y,E=g.pagination;f.current&&f.current.page>0&&g.data?y=g.data:a.current==="promise"?y=u.current:o&&c!==hn?(y=c,E&&(E.hasMore=!0,E.pageSize=c.length)):o&&c===hn?y=u.current:c!==hn?(y=c,E&&(E.hasMore=!0,E.pageSize=c.length)):y=n;let S=ze(y),w=(0,G.useCallback)(async(I,x)=>{let A;try{if(x?.optimisticUpdate){typeof x?.rollbackOnError!="function"&&x?.rollbackOnError!==!1&&(A=structuredClone(S.current));let z=x.optimisticUpdate(S.current);a.current="cache",u.current=z,l(z)}return await m(I,{shouldRevalidateAfter:x?.shouldRevalidateAfter})}catch(z){if(typeof x?.rollbackOnError=="function"){let we=x.rollbackOnError(S.current);a.current="cache",u.current=we,l(we)}else x?.optimisticUpdate&&x?.rollbackOnError!==!1&&(a.current="cache",u.current=A,l(A));throw z}},[l,m,S,u,a]);return(0,G.useEffect)(()=>{c!==hn&&(a.current="cache",u.current=c)},[c]),{data:y,isLoading:g.isLoading,error:g.error,mutate:f.current&&f.current.page>0?m:w,pagination:E,revalidate:h}}var Ys=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",jl=Symbol.for("signal-exit emitter"),Hl=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ul[jl])return Ul[jl];Object.defineProperty(Ul,jl,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let s of this.listeners[t])o=s(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},Bl=class{onExit(){return()=>{}}load(){}unload(){}},ql=class{#a;#t;#e;#s;#i;#o;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Hl,this.#o={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#o={};for(let r of this.#r)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#t,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#s=t.emit}onExit(t,r){if(!Ys(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#l(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(t){return Ys(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(t,...r){let n=this.#s;if(t==="exit"&&Ys(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},zl=null,GO=(e,t)=>(zl||(zl=Ys(process)?new ql(process):new Bl),zl.onExit(e,t));function WO(e,{timeout:t}={}){let r=new Promise((a,c)=>{e.on("exit",(l,u)=>{a({exitCode:l,signal:u,timedOut:!1})}),e.on("error",l=>{c(l)}),e.stdin&&e.stdin.on("error",l=>{c(l)})}),n=GO(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let o,s=new Promise((a,c)=>{o=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(o)});return Promise.race([s,i]).finally(()=>n())}var Vl=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function KO(e){let{encoding:t}=e,r=t==="buffer",n=new gn.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let o=0,s=[];return n.on("data",i=>{s.push(i),o+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(s,o):s.join(""),n.getBufferedLength=()=>o,n}async function Hm(e,t){let r=KO(t);return await new Promise((n,o)=>{let s=i=>{i&&r.getBufferedLength()<=Wm.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),o(i)};(async()=>{try{await(0,Km.promisify)(gn.default.pipeline)(e,r),n()}catch(i){s(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&s(new Vl)})}),r.getBufferedValue()}async function Bm(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function JO({stdout:e,stderr:t},{encoding:r},n){let o=Hm(e,{encoding:r}),s=Hm(t,{encoding:r});try{return await Promise.all([n,o,s])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Bm(e,o),Bm(t,s)])}}function YO(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function qm(e,t){return e.stripFinalNewline?YO(t):t}function XO({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function QO({stdout:e,stderr:t,error:r,signal:n,exitCode:o,command:s,timedOut:i,options:a,parentError:c}){let u=`Command ${XO({timedOut:i,timeout:a?.timeout,signal:n,exitCode:o})}: ${s}`,f=r?`${u}
${r.message}`:u,m=[f,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=m,r.shortMessage=f,r.command=s,r.exitCode=o,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function ZO({stdout:e,stderr:t,error:r,exitCode:n,signal:o,timedOut:s,command:i,options:a,parentError:c}){if(r||n!==0||o!==null)throw QO({error:r,exitCode:n,signal:o,stdout:e,stderr:t,command:i,timedOut:s,options:a,parentError:c});return e}var eN=/ +/g;function tN(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(eN)){let o=r[r.length-1];o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r}function Wl(e,t,r){let{parseOutput:n,input:o,onData:s,onWillExecute:i,initialData:a,execute:c,keepPreviousData:l,onError:u,failureToastOptions:f,...m}=Array.isArray(t)?r||{}:t||{},h={initialData:a,execute:c,keepPreviousData:l,onError:u,onData:s,onWillExecute:i,failureToastOptions:f},g=(0,G.useRef)(null),y=ze(n||ZO),E=(0,G.useCallback)(async(S,w,I,x)=>{let[A,...z]=tN(S,w),we=[A,...z].join(" "),Z={stripFinalNewline:!0,...I,timeout:I?.timeout||1e4,signal:g.current?.signal,encoding:I?.encoding===null?"buffer":I?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...I?.env}},ue=Gm.default.spawn(A,z,Z),ee=WO(ue,Z);x&&ue.stdin.end(x);let[{error:se,exitCode:he,signal:tr,timedOut:rr},J,kt]=await JO(ue,Z,ee),Ll=qm(Z,J),Fl=qm(Z,kt);return y.current({stdout:Ll,stderr:Fl,error:se,exitCode:he,signal:tr,timedOut:rr,command:we,options:Z,parentError:new Error})},[y]);return ft(E,[e,Array.isArray(t)?t:[],m,o],{...h,abortable:g})}var or=require("@raycast/api"),pi=require("react"),fi=v(jh());var od=require("react/jsx-runtime");function sd({onProfileSelected:e}){let t=(0,or.getPreferenceValues)(),[r,n]=Gl("aws_profile"),o=WN();(0,pi.useEffect)(()=>{let a=r&&!o.some(c=>c.name===r);(!r||a)&&n(o[0]?.name)},[o]);let{isUsingAwsVault:s,vaultSessions:i}=GN({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:o,onProfileSelected:e});return(0,pi.useEffect)(()=>{if(r&&!s?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=o.find(c=>c.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}i?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,s]),!o||o.length<2?null:(0,od.jsx)(or.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:o.map(a=>(0,od.jsx)(or.List.Dropdown.Item,{value:a.name,title:a.name,icon:s?i?.some(c=>c===a.name)?or.Icon.LockUnlocked:or.Icon.LockDisabled:void 0},a.name))})}var VN=e=>{let{data:t}=Wl("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(KN).map(o=>o.split(" ")[0]),n=e.filter(o=>o.source_profile&&r?.includes(o.source_profile)).map(o=>o.name);return r&&[...r,...n]},GN=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let o=VN(r),s=!!o,i=s&&o?.includes(t||"")?t:void 0,{revalidate:a}=Wl("aws-vault",["exec",i,"--json"],{execute:!!i,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:c=>{if(c){let{AccessKeyId:l,SecretAccessKey:u,SessionToken:f}=JSON.parse(c);process.env.AWS_VAULT=i,process.env.AWS_ACCESS_KEY_ID=l,process.env.AWS_SECRET_ACCESS_KEY=u,process.env.AWS_SESSION_TOKEN=f,n?.()}}});return(0,pi.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[i]),{isUsingAwsVault:s,vaultSessions:o}},WN=()=>{let{data:e={configFile:{},credentialsFile:{}}}=ft(fi.loadSharedConfigFiles),{data:t={}}=ft(fi.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([s,i])=>{let a=r[s]?.include_profile,c=r[s]?.region||a&&r[a]?.region,l=r[s]?.sso_start_url||r[s]?.sso_session&&t[r[s].sso_session]?.sso_start_url,u=r[s]?.sso_account_id||a&&r[a]?.sso_account_id,f=r[s]?.sso_role_name||a&&r[a]?.sso_role_name;return{...i,region:c,name:s,sso_start_url:l,sso_account_id:u,sso_role_name:f}})},KN=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var mi="https://console.aws.amazon.com";function hi(e,t){return`Filter ${e} by ${t||"name"}`}function id(){let e=!!process.env.AWS_PROFILE,t=!!process.env.AWS_VAULT;return e||t}var JN=e=>Object.keys(e).filter(t=>isNaN(Number(t))),zh=(e,t)=>JN(e).filter(r=>e[r]!==t);var ao=v(SO());var bO=new ao.ECRClient({});async function wO(){return id()?await CO()||[]:[]}async function Ml(e,t){return id()?await PO(e,t)||[]:[]}async function CO(e,t){let{repositories:r,nextToken:n}=await bO.send(new ao.DescribeRepositoriesCommand({nextToken:e})),o=[...t||[],...r||[]];return n?CO(n,o):o}async function PO(e,t,r,n){let{imageIds:o,nextToken:s}=await bO.send(new ao.ListImagesCommand({registryId:e,repositoryName:t,nextToken:r})),i=[...n||[],...o||[]];return s?PO(e,t,s,i):i}function xO(e,t){return`${mi}/ecr/repositories/private/${e}/${t}?region=${process.env.AWS_REGION}`}function RO(e,t){return`${mi}/ecr/repositories/private/${e.registryId}/${e.repositoryName}/_/image/${t}/details??region=${process.env.AWS_REGION}`}var ke=require("@raycast/api");var be=require("@raycast/api");var je=require("@raycast/api");var er=require("react/jsx-runtime"),co=class{static Console=({url:t,onAction:r})=>(0,er.jsxs)(je.ActionPanel.Section,{title:"Console",children:[(0,er.jsx)(je.Action.OpenInBrowser,{title:"Open in Browser",url:TO(t),onOpen:()=>r?.()},"openConsoleLink"),(0,er.jsx)(je.Action.CopyToClipboard,{title:"Copy Link",content:TO(t),shortcut:je.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,er.jsx)(je.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let o=zh(n,r);return(0,er.jsx)(je.ActionPanel.Section,{children:(0,er.jsx)(je.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:je.Icon.Box,children:o.map(s=>(0,er.jsx)(je.Action,{title:`Show ${s.toString()}`,onAction:()=>t(n[s]),icon:je.Icon.Box},s.toString()))})})}};function TO(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var De=require("react/jsx-runtime");function Q7({repository:e}){let{data:t,isLoading:r}=ft(Ml,[e.registryId??"",e.repositoryName??""],{keepPreviousData:!0});return(0,De.jsx)(be.List,{isLoading:r,searchBarPlaceholder:hi("images"),isShowingDetail:!0,children:t?t.map(n=>(0,De.jsx)(be.List.Item,{title:n.imageTag||"",icon:r?be.Icon.CircleProgress:"aws-icons/ecr.png",detail:(0,De.jsx)(be.List.Item.Detail,{metadata:(0,De.jsxs)(be.List.Item.Detail.Metadata,{children:[(0,De.jsx)(be.List.Item.Detail.Metadata.Label,{title:"Tag",text:"Digest"},"Tag"),(0,De.jsx)(be.List.Item.Detail.Metadata.Label,{title:n.imageTag||"",text:n.imageDigest||""},n.imageDigest)]})}),actions:(0,De.jsxs)(be.ActionPanel,{children:[(0,De.jsx)(co.Console,{url:RO(e,n.imageDigest||"")}),(0,De.jsxs)(be.ActionPanel.Section,{title:"Copy",children:[(0,De.jsx)(be.Action.CopyToClipboard,{title:"Copy Image Tag",content:n.imageTag||"",shortcut:{modifiers:["ctrl"],key:"c"}}),(0,De.jsx)(be.Action.CopyToClipboard,{title:"Copy Full Image URI",content:`${e.repositoryUri}:${n.imageTag}`,shortcut:{modifiers:["cmd","ctrl"],key:"c"}}),(0,De.jsx)(be.Action.CopyToClipboard,{title:"Copy Repository URI",content:e.repositoryUri||"",shortcut:{modifiers:["opt"],key:"c"}})]})]})},n.imageDigest)):(0,De.jsx)(be.List.EmptyView,{title:"No Images Found"})})}var AO=Q7;var Ve=require("react/jsx-runtime");function Z7({repository:e}){let{data:t,isLoading:r}=ft(Ml,[e.registryId??"",e.repositoryName??""],{keepPreviousData:!0});return(0,Ve.jsx)(ke.List.Item,{title:e.repositoryName||"",icon:r?ke.Icon.CircleProgress:"aws-icons/ecr.png",detail:(0,Ve.jsx)(ke.List.Item.Detail,{metadata:(0,Ve.jsxs)(ke.List.Item.Detail.Metadata,{children:[(0,Ve.jsx)(ke.List.Item.Detail.Metadata.Label,{title:"Tag",text:"Digest"},"Tag"),t?.map(n=>(0,Ve.jsx)(ke.List.Item.Detail.Metadata.Label,{title:n.imageTag||"",text:n.imageDigest||""},n.imageDigest))]})}),actions:(0,Ve.jsxs)(ke.ActionPanel,{children:[(0,Ve.jsx)(ke.Action.Push,{title:"View Images",icon:ke.Icon.Eye,target:(0,Ve.jsx)(AO,{repository:e})}),(0,Ve.jsx)(co.Console,{url:xO(e.registryId||"",e.repositoryName||"")}),(0,Ve.jsx)(ke.ActionPanel.Section,{title:"Copy",children:(0,Ve.jsx)(ke.Action.CopyToClipboard,{title:"Copy Repository URI",content:e.repositoryUri||"",shortcut:{modifiers:["opt"],key:"c"}})})]})},e.repositoryArn)}var IO=Z7;var lo=require("react/jsx-runtime");function OO(){let{data:e,error:t,isLoading:r,revalidate:n}=ft(wO,[],{keepPreviousData:!0});return(0,lo.jsx)(uo.List,{isLoading:r,searchBarPlaceholder:hi("repositories"),searchBarAccessory:(0,lo.jsx)(sd,{onProfileSelected:n}),children:t?(0,lo.jsx)(uo.List.EmptyView,{title:t.name,description:t.message,icon:uo.Icon.Warning}):e&&e.length>0?e.map(o=>(0,lo.jsx)(IO,{repository:o},o.repositoryArn)):(0,lo.jsx)(uo.List.EmptyView,{title:"No repositories found"})})}
