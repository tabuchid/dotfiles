"use strict";var Ct=Object.create;var q=Object.defineProperty;var It=Object.getOwnPropertyDescriptor;var Ut=Object.getOwnPropertyNames;var Ft=Object.getPrototypeOf,jt=Object.prototype.hasOwnProperty;var Dt=(e,r)=>()=>(e&&(r=e(e=0)),r);var k=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),xe=(e,r)=>{for(var n in r)q(e,n,{get:r[n],enumerable:!0})},ve=(e,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ut(r))!jt.call(e,a)&&a!==n&&q(e,a,{get:()=>r[a],enumerable:!(t=It(r,a))||t.enumerable});return e};var W=(e,r,n)=>(n=e!=null?Ct(Ft(e)):{},ve(r||!e||!e.__esModule?q(n,"default",{value:e,enumerable:!0}):n,e)),le=e=>ve(q({},"__esModule",{value:!0}),e);var he={};xe(he,{__addDisposableResource:()=>Ke,__assign:()=>G,__asyncDelegator:()=>Ne,__asyncGenerator:()=>Me,__asyncValues:()=>Ve,__await:()=>N,__awaiter:()=>Ie,__classPrivateFieldGet:()=>He,__classPrivateFieldIn:()=>Ge,__classPrivateFieldSet:()=>qe,__createBinding:()=>J,__decorate:()=>Ee,__disposeResources:()=>Je,__esDecorate:()=>Oe,__exportStar:()=>Fe,__extends:()=>_e,__generator:()=>Ue,__importDefault:()=>Be,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>Ce,__param:()=>Pe,__propKey:()=>Te,__read:()=>de,__rest:()=>Se,__rewriteRelativeImportExtension:()=>Ze,__runInitializers:()=>Ae,__setFunctionName:()=>Re,__spread:()=>je,__spreadArray:()=>Le,__spreadArrays:()=>De,__values:()=>K,default:()=>Nt});function _e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ue(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function Se(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n}function Ee(e,r,n,t){var a=arguments.length,s=a<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,n):t,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,r,n,t);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(r,n,s):i(r,n))||s);return a>3&&s&&Object.defineProperty(r,n,s),s}function Pe(e,r){return function(n,t){r(n,t,e)}}function Oe(e,r,n,t,a,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var c=t.kind,l=c==="getter"?"get":c==="setter"?"set":"value",o=!r&&e?t.static?e:e.prototype:null,u=r||(o?Object.getOwnPropertyDescriptor(o,t.name):{}),f,x=!1,p=n.length-1;p>=0;p--){var b={};for(var d in t)b[d]=d==="access"?{}:t[d];for(var d in t.access)b.access[d]=t.access[d];b.addInitializer=function(v){if(x)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var $=(0,n[p])(c==="accessor"?{get:u.get,set:u.set}:u[l],b);if(c==="accessor"){if($===void 0)continue;if($===null||typeof $!="object")throw new TypeError("Object expected");(f=i($.get))&&(u.get=f),(f=i($.set))&&(u.set=f),(f=i($.init))&&a.unshift(f)}else(f=i($))&&(c==="field"?a.unshift(f):u[l]=f)}o&&Object.defineProperty(o,t.name,u),x=!0}function Ae(e,r,n){for(var t=arguments.length>2,a=0;a<r.length;a++)n=t?r[a].call(e,n):r[a].call(e);return t?n:void 0}function Te(e){return typeof e=="symbol"?e:"".concat(e)}function Re(e,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Ce(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function Ie(e,r,n,t){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function c(u){try{o(t.next(u))}catch(f){i(f)}}function l(u){try{o(t.throw(u))}catch(f){i(f)}}function o(u){u.done?s(u.value):a(u.value).then(c,l)}o((t=t.apply(e,r||[])).next())})}function Ue(e,r){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(o){return function(u){return l([o,u])}}function l(o){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(n=0)),n;)try{if(t=1,a&&(s=o[0]&2?a.return:o[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,o[1])).done)return s;switch(a=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=r.call(e,n)}catch(u){o=[6,u],a=0}finally{t=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Fe(e,r){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&J(r,e,n)}function K(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var t=n.call(e),a,s=[],i;try{for(;(r===void 0||r-- >0)&&!(a=t.next()).done;)s.push(a.value)}catch(c){i={error:c}}finally{try{a&&!a.done&&(n=t.return)&&n.call(t)}finally{if(i)throw i.error}}return s}function je(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(de(arguments[r]));return e}function De(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var t=Array(e),a=0,r=0;r<n;r++)for(var s=arguments[r],i=0,c=s.length;i<c;i++,a++)t[a]=s[i];return t}function Le(e,r,n){if(n||arguments.length===2)for(var t=0,a=r.length,s;t<a;t++)(s||!(t in r))&&(s||(s=Array.prototype.slice.call(r,0,t)),s[t]=r[t]);return e.concat(s||Array.prototype.slice.call(r))}function N(e){return this instanceof N?(this.v=e,this):new N(e)}function Me(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n.apply(e,r||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(p){return function(b){return Promise.resolve(b).then(p,f)}}function c(p,b){t[p]&&(a[p]=function(d){return new Promise(function($,v){s.push([p,d,$,v])>1||l(p,d)})},b&&(a[p]=b(a[p])))}function l(p,b){try{o(t[p](b))}catch(d){x(s[0][3],d)}}function o(p){p.value instanceof N?Promise.resolve(p.value.v).then(u,f):x(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function x(p,b){p(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Ne(e){var r,n;return r={},t("next"),t("throw",function(a){throw a}),t("return"),r[Symbol.iterator]=function(){return this},r;function t(a,s){r[a]=e[a]?function(i){return(n=!n)?{value:N(e[a](i)),done:!1}:s?s(i):i}:s}}function Ve(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof K=="function"?K(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(s){n[s]=e[s]&&function(i){return new Promise(function(c,l){i=e[s](i),a(c,l,i.done,i.value)})}}function a(s,i,c,l){Promise.resolve(l).then(function(o){s({value:o,done:c})},i)}}function We(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function ze(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=fe(e),t=0;t<n.length;t++)n[t]!=="default"&&J(r,e,n[t]);return Lt(r,e),r}function Be(e){return e&&e.__esModule?e:{default:e}}function He(e,r,n,t){if(n==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!t:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?t:n==="a"?t.call(e):t?t.value:r.get(e)}function qe(e,r,n,t,a){if(t==="m")throw new TypeError("Private method is not writable");if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t==="a"?a.call(e,n):a?a.value=n:r.set(e,n),n}function Ge(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function Ke(e,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var t,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");t=r[Symbol.asyncDispose]}if(t===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");t=r[Symbol.dispose],n&&(a=t)}if(typeof t!="function")throw new TypeError("Object not disposable.");a&&(t=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:r,dispose:t,async:n})}else n&&e.stack.push({async:!0});return r}function Je(e){function r(s){e.error=e.hasError?new Mt(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,t=0;function a(){for(;n=e.stack.pop();)try{if(!n.async&&t===1)return t=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return t|=2,Promise.resolve(s).then(a,function(i){return r(i),a()})}else t|=1}catch(i){r(i)}if(t===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function Ze(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,t,a,s,i){return t?r?".jsx":".js":a&&(!s||!i)?n:a+s+"."+i.toLowerCase()+"js"}):e}var ue,G,J,Lt,fe,Mt,Nt,pe=Dt(()=>{ue=function(e,r){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])},ue(e,r)};G=function(){return G=Object.assign||function(r){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},G.apply(this,arguments)};J=Object.create?(function(e,r,n,t){t===void 0&&(t=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,t,a)}):(function(e,r,n,t){t===void 0&&(t=n),e[t]=r[n]});Lt=Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r},fe=function(e){return fe=Object.getOwnPropertyNames||function(r){var n=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[n.length]=t);return n},fe(e)};Mt=typeof SuppressedError=="function"?SuppressedError:function(e,r,n){var t=new Error(n);return t.name="SuppressedError",t.error=e,t.suppressed=r,t};Nt={__extends:_e,__assign:G,__rest:Se,__decorate:Ee,__param:Pe,__esDecorate:Oe,__runInitializers:Ae,__propKey:Te,__setFunctionName:Re,__metadata:Ce,__awaiter:Ie,__generator:Ue,__createBinding:J,__exportStar:Fe,__values:K,__read:de,__spread:je,__spreadArrays:De,__spreadArray:Le,__await:N,__asyncGenerator:Me,__asyncDelegator:Ne,__asyncValues:Ve,__makeTemplateObject:We,__importStar:ze,__importDefault:Be,__classPrivateFieldGet:He,__classPrivateFieldSet:qe,__classPrivateFieldIn:Ge,__addDisposableResource:Ke,__disposeResources:Je,__rewriteRelativeImportExtension:Ze}});var z=k(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.getHomeDir=void 0;var Vt=require("os"),Wt=require("path"),zt=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:n,HOMEDRIVE:t=`C:${Wt.sep}`}=process.env;return e||r||(n?`${t}${n}`:(0,Vt.homedir)())};Z.getHomeDir=zt});var Ye=k(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.getProfileName=P.DEFAULT_PROFILE=P.ENV_PROFILE=void 0;P.ENV_PROFILE="AWS_PROFILE";P.DEFAULT_PROFILE="default";var Bt=e=>e.profile||process.env[P.ENV_PROFILE]||P.DEFAULT_PROFILE;P.getProfileName=Bt});var me=k(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.getSSOTokenFilepath=void 0;var Ht=require("crypto"),qt=require("path"),Gt=z(),Kt=e=>{let n=(0,Ht.createHash)("sha1").update(e).digest("hex");return(0,qt.join)((0,Gt.getHomeDir)(),".aws","sso","cache",`${n}.json`)};Y.getSSOTokenFilepath=Kt});var Xe=k(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.getSSOTokenFromFile=void 0;var Jt=require("fs"),Zt=me(),{readFile:Yt}=Jt.promises,Xt=async e=>{let r=(0,Zt.getSSOTokenFilepath)(e),n=await Yt(r,"utf8");return JSON.parse(n)};X.getSSOTokenFromFile=Xt});var ge=k(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.getConfigFilepath=I.ENV_CONFIG_PATH=void 0;var Qt=require("path"),er=z();I.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var tr=()=>process.env[I.ENV_CONFIG_PATH]||(0,Qt.join)((0,er.getHomeDir)(),".aws","config");I.getConfigFilepath=tr});var Qe=k(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.getCredentialsFilepath=U.ENV_CREDENTIALS_PATH=void 0;var rr=require("path"),nr=z();U.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var ar=()=>process.env[U.ENV_CREDENTIALS_PATH]||(0,rr.join)((0,nr.getHomeDir)(),".aws","credentials");U.getCredentialsFilepath=ar});var tt=k(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.getProfileData=void 0;var et=/^profile\s(["'])?([^\1]+)\1$/,sr=e=>Object.entries(e).filter(([r])=>et.test(r)).reduce((r,[n,t])=>({...r,[et.exec(n)[2]]:t}),{...e.default&&{default:e.default}});Q.getProfileData=sr});var be=k(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.parseIni=void 0;var ir=["__proto__","profile __proto__"],or=e=>{let r={},n;for(let t of e.split(/\r?\n/))if(t=t.split(/(^|\s)[;#]/)[0].trim(),t[0]==="["&&t[t.length-1]==="]"){if(n=t.substring(1,t.length-1),ir.includes(n))throw new Error(`Found invalid profile name "${n}"`)}else if(n){let s=t.indexOf("="),i=0,c=t.length-1;if(s!==-1&&s!==i&&s!==c){let[o,u]=[t.substring(0,s).trim(),t.substring(s+1).trim()];r[n]=r[n]||{},r[n][o]=u}}return r};ee.parseIni=or});var $e=k(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.slurpFile=void 0;var cr=require("fs"),{readFile:lr}=cr.promises,ye={},ur=(e,r)=>((!ye[e]||r?.ignoreCache)&&(ye[e]=lr(e,"utf8")),ye[e]);te.slurpFile=ur});var we=k(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.loadSharedConfigFiles=void 0;var fr=ge(),dr=Qe(),hr=tt(),rt=be(),nt=$e(),at=()=>({}),pr=async(e={})=>{let{filepath:r=(0,dr.getCredentialsFilepath)(),configFilepath:n=(0,fr.getConfigFilepath)()}=e,t=await Promise.all([(0,nt.slurpFile)(n,{ignoreCache:e.ignoreCache}).then(rt.parseIni).then(hr.getProfileData).catch(at),(0,nt.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(rt.parseIni).catch(at)]);return{configFile:t[0],credentialsFile:t[1]}};re.loadSharedConfigFiles=pr});var it=k(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.getSsoSessionData=void 0;var st=/^sso-session\s(["'])?([^\1]+)\1$/,mr=e=>Object.entries(e).filter(([r])=>st.test(r)).reduce((r,[n,t])=>({...r,[st.exec(n)[2]]:t}),{});ne.getSsoSessionData=mr});var ot=k(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.loadSsoSessionData=void 0;var gr=ge(),br=it(),yr=be(),$r=$e(),wr=()=>({}),kr=async(e={})=>{var r;return(0,$r.slurpFile)((r=e.configFilepath)!==null&&r!==void 0?r:(0,gr.getConfigFilepath)()).then(yr.parseIni).then(br.getSsoSessionData).catch(wr)};ae.loadSsoSessionData=kr});var ct=k(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.mergeConfigFiles=void 0;var xr=(...e)=>{let r={};for(let n of e)for(let[t,a]of Object.entries(n))r[t]!==void 0?Object.assign(r[t],a):r[t]=a;return r};se.mergeConfigFiles=xr});var lt=k(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.parseKnownFiles=void 0;var vr=we(),_r=ct(),Sr=async e=>{let r=await(0,vr.loadSharedConfigFiles)(e);return(0,_r.mergeConfigFiles)(r.configFile,r.credentialsFile)};ie.parseKnownFiles=Sr});var ft=k(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0})});var dt=k(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var R=(pe(),le(he));R.__exportStar(z(),O);R.__exportStar(Ye(),O);R.__exportStar(me(),O);R.__exportStar(Xe(),O);R.__exportStar(we(),O);R.__exportStar(ot(),O);R.__exportStar(lt(),O);R.__exportStar(ft(),O)});var ht=k(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var Er=(pe(),le(he));Er.__exportStar(dt(),ke)});var Lr={};xe(Lr,{default:()=>Et});module.exports=le(Lr);var vt=W(ht()),w=require("@raycast/api");var h=W(require("react")),g=require("@raycast/api");var pt=Object.prototype.hasOwnProperty;function oe(e,r){var n,t;if(e===r)return!0;if(e&&r&&(n=e.constructor)===r.constructor){if(n===Date)return e.getTime()===r.getTime();if(n===RegExp)return e.toString()===r.toString();if(n===Array){if((t=e.length)===r.length)for(;t--&&oe(e[t],r[t]););return t===-1}if(!n||typeof e=="object"){t=0;for(n in e)if(pt.call(e,n)&&++t&&!pt.call(r,n)||!(n in r)||!oe(e[n],r[n]))return!1;return Object.keys(r).length===t}}return e!==e&&r!==r}var F=W(require("node:fs")),ce=W(require("node:path")),$t=W(require("node:crypto"));var wt=require("react/jsx-runtime");function Pr(e){let r=(0,h.useRef)(e),n=(0,h.useRef)(0);return oe(e,r.current)||(r.current=e,n.current+=1),(0,h.useMemo)(()=>r.current,[n.current])}function E(e){let r=(0,h.useRef)(e);return r.current=e,r}function Or(e,r){let n=e instanceof Error?e.message:String(e);return(0,g.showToast)({style:g.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??n,primaryAction:r?.primaryAction??mt(e),secondaryAction:r?.primaryAction?mt(e):void 0})}var mt=e=>{let r=!0,n="[Extension Name]...",t="";try{let i=JSON.parse((0,F.readFileSync)((0,ce.join)(g.environment.assetsPath,"..","package.json"),"utf8"));n=`[${i.title}]...`,t=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(r=!1)}catch{}let a=g.environment.isDevelopment||r,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?g.Clipboard.copy(s):(0,g.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(n)}&extension-url=${encodeURI(t)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function Ar(e,r,n){let t=(0,h.useRef)(0),[a,s]=(0,h.useState)({isLoading:!0}),i=E(e),c=E(n?.abortable),l=E(r||[]),o=E(n?.onError),u=E(n?.onData),f=E(n?.onWillExecute),x=E(n?.failureToastOptions),p=E(a.data),b=(0,h.useRef)(null),d=(0,h.useRef)({page:0}),$=(0,h.useRef)(!1),v=(0,h.useRef)(!0),B=(0,h.useRef)(50),_=(0,h.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++t.current),[c]),y=(0,h.useCallback)((...T)=>{let S=_();f.current?.(T),s(m=>({...m,isLoading:!0}));let L=Tr(i.current)(...T);function M(m){return m.name=="AbortError"||S===t.current&&(o.current?o.current(m):g.environment.launchType!==g.LaunchType.Background&&Or(m,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(C){C.hide(),b.current?.(...l.current||[])}},...x.current}),s({error:m,isLoading:!1})),m}return typeof L=="function"?($.current=!0,L(d.current).then(({data:m,hasMore:C,cursor:Tt})=>(S===t.current&&(d.current&&(d.current.cursor=Tt,d.current.lastItem=m?.[m.length-1]),u.current&&u.current(m,d.current),C&&(B.current=m.length),v.current=C,s(Rt=>d.current.page===0?{data:m,isLoading:!1}:{data:(Rt.data||[])?.concat(m),isLoading:!1})),m),m=>(v.current=!1,M(m)))):($.current=!1,L.then(m=>(S===t.current&&(u.current&&u.current(m),s({data:m,isLoading:!1})),m),M))},[u,o,l,i,s,b,f,d,x,_]);b.current=y;let A=(0,h.useCallback)(()=>{d.current={page:0};let T=l.current||[];return y(...T)},[y,l]),D=(0,h.useCallback)(async(T,S)=>{let L;try{if(S?.optimisticUpdate){_(),typeof S?.rollbackOnError!="function"&&S?.rollbackOnError!==!1&&(L=structuredClone(p.current?.value));let M=S.optimisticUpdate;s(m=>({...m,data:M(m.data)}))}return await T}catch(M){if(typeof S?.rollbackOnError=="function"){let m=S.rollbackOnError;s(C=>({...C,data:m(C.data)}))}else S?.optimisticUpdate&&S?.rollbackOnError!==!1&&s(m=>({...m,data:L}));throw M}finally{S?.shouldRevalidateAfter!==!1&&(g.environment.launchType===g.LaunchType.Background||g.environment.commandMode==="menu-bar"?await A():A())}},[A,p,s,_]),H=(0,h.useCallback)(()=>{d.current.page+=1;let T=l.current||[];y(...T)},[d,l,y]);(0,h.useEffect)(()=>{d.current={page:0},n?.execute!==!1?y(...r||[]):_()},[Pr([r,n?.execute,y]),c,d]),(0,h.useEffect)(()=>()=>{_()},[_]);let Pt=n?.execute!==!1?a.isLoading:!1,Ot={...a,isLoading:Pt},At=$.current?{pageSize:B.current,hasMore:v.current,onLoadMore:H}:void 0;return{...Ot,revalidate:A,mutate:D,pagination:At}}function Tr(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function gt(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Rr(e){return e instanceof URLSearchParams?e.toString():e}function kt(e,r=[]){function n(t){return"update"in e?e.update(t,"utf8"):e.write(t)}return{dispatch:function(t){t=Rr(t),t===null?this._null():this["_"+typeof t](t)},_object:function(t){let a=/\[object (.*)\]/i,s=Object.prototype.toString.call(t),i=a.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let c=null;if((c=r.indexOf(t))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else r.push(t);if(Buffer.isBuffer(t))return n("buffer:"),n(t.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](t);else throw new Error('Unknown object type "'+i+'"');else{let l=Object.keys(t);l=l.sort(),gt(t)||l.splice(0,0,"prototype","__proto__","constructor"),n("object:"+l.length+":");let o=this;return l.forEach(function(u){o.dispatch(u),n(":"),o.dispatch(t[u]),n(",")})}},_array:function(t,a){a=typeof a<"u"?a:!1;let s=this;if(n("array:"+t.length+":"),!a||t.length<=1){t.forEach(function(l){s.dispatch(l)});return}let i=[],c=t.map(function(l){let o=Cr(),u=r.slice();return kt(o,u).dispatch(l),i=i.concat(u.slice(r.length)),o.read().toString()});r=r.concat(i),c.sort(),this._array(c,!1)},_date:function(t){n("date:"+t.toJSON())},_symbol:function(t){n("symbol:"+t.toString())},_error:function(t){n("error:"+t.toString())},_boolean:function(t){n("bool:"+t.toString())},_string:function(t){n("string:"+t.length+":"),n(t.toString())},_function:function(t){n("fn:"),gt(t)?this.dispatch("[native]"):this.dispatch(t.toString()),this.dispatch("function-name:"+String(t.name)),this._object(t)},_number:function(t){n("number:"+t.toString())},_xml:function(t){n("xml:"+t.toString())},_null:function(){n("Null")},_undefined:function(){n("Undefined")},_regexp:function(t){n("regex:"+t.toString())},_uint8array:function(t){n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){n("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){n("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){n("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){n("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){n("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){n("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){n("url:"+t.toString())},_map:function(t){n("map:");let a=Array.from(t);this._array(a,!0)},_set:function(t){n("set:");let a=Array.from(t);this._array(a,!0)},_file:function(t){n("file:"),this.dispatch([t.name,t.size,t.type,t.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){n("domwindow")},_bigint:function(t){n("bigint:"+t.toString())},_process:function(){n("process")},_timer:function(){n("timer")},_pipe:function(){n("pipe")},_tcp:function(){n("tcp")},_udp:function(){n("udp")},_tty:function(){n("tty")},_statwatcher:function(){n("statwatcher")},_securecontext:function(){n("securecontext")},_connection:function(){n("connection")},_zlib:function(){n("zlib")},_context:function(){n("context")},_nodescript:function(){n("nodescript")},_httpparser:function(){n("httpparser")},_dataview:function(){n("dataview")},_signal:function(){n("signal")},_fsevent:function(){n("fsevent")},_tlswrap:function(){n("tlswrap")}}}function Cr(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Ir(e,r){let n=this[e];return n instanceof Date?`__raycast_cached_date__${n.toString()}`:Buffer.isBuffer(n)?`__raycast_cached_buffer__${n.toString("base64")}`:r}function Ur(e,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function bt(e){let r=$t.default.createHash("sha1");return kt(r).dispatch(e),r.digest("hex")}var Fr=Symbol("cache without namespace"),yt=new Map;function jr(e,r,n){let t=n?.cacheNamespace||Fr,a=yt.get(t)||yt.set(t,new g.Cache({namespace:n?.cacheNamespace})).get(t);if(!a)throw new Error("Missing cache");let s=E(e),i=E(r),c=(0,h.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(s.current)}catch(f){console.error("Could not get Cache data:",f);return}}),l=(0,h.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Ur)}catch(f){return console.warn("The cached data is corrupted",f),i.current}}else return i.current},[c,i]),o=E(l),u=(0,h.useCallback)(f=>{let x=typeof f=="function"?f(o.current):f;if(typeof x>"u")a.set(s.current,"undefined");else{let p=JSON.stringify(x,Ir);a.set(s.current,p)}return x},[a,s,o]);return[l,u]}var V=Symbol();function xt(e,r,n){let{initialData:t,keepPreviousData:a,internal_cacheKeySuffix:s,...i}=n||{},c=(0,h.useRef)(null),[l,o]=jr(bt(r||[])+s,V,{cacheNamespace:bt(e)}),u=(0,h.useRef)(l!==V?l:t),f=(0,h.useRef)(void 0),{mutate:x,revalidate:p,...b}=Ar(e,r||[],{...i,onData(_,y){f.current=y,i.onData&&i.onData(_,y),!(y&&y.page>0)&&(c.current="promise",u.current=_,o(_))}}),d,$=b.pagination;f.current&&f.current.page>0&&b.data?d=b.data:c.current==="promise"?d=u.current:a&&l!==V?(d=l,$&&($.hasMore=!0,$.pageSize=l.length)):a&&l===V?d=u.current:l!==V?(d=l,$&&($.hasMore=!0,$.pageSize=l.length)):d=t;let v=E(d),B=(0,h.useCallback)(async(_,y)=>{let A;try{if(y?.optimisticUpdate){typeof y?.rollbackOnError!="function"&&y?.rollbackOnError!==!1&&(A=structuredClone(v.current));let D=y.optimisticUpdate(v.current);c.current="cache",u.current=D,o(D)}return await x(_,{shouldRevalidateAfter:y?.shouldRevalidateAfter})}catch(D){if(typeof y?.rollbackOnError=="function"){let H=y.rollbackOnError(v.current);c.current="cache",u.current=H,o(H)}else y?.optimisticUpdate&&y?.rollbackOnError!==!1&&(c.current="cache",u.current=A,o(A));throw D}},[o,x,v,u,c]);return(0,h.useEffect)(()=>{l!==V&&(c.current="cache",u.current=l)},[l]),{data:d,isLoading:b.isLoading,error:b.error,mutate:f.current&&f.current.page>0?x:B,pagination:$,revalidate:p}}var _t=require("child_process"),St=require("util"),j=require("react/jsx-runtime");function Et(){let{data:e={configFile:{}},isLoading:r,error:n}=xt(vt.loadSharedConfigFiles),{configFile:t}=e,a=Object.entries(t).map(([s,i])=>({...i,name:s})).map((s,i,c)=>{let l=s.source_profile??s.include_profile;return{...l?c.find(u=>u.name===l):void 0,...s}});return(0,j.jsx)(w.List,{isLoading:r,searchBarPlaceholder:"Filter profiles...",children:n?(0,j.jsx)(w.List.EmptyView,{title:n.name,description:n.message,icon:w.Icon.Warning}):a?.map((s,i)=>(0,j.jsx)(Dr,{profile:s},i))})}function Dr({profile:e}){return(0,j.jsx)(w.List.Item,{title:`${e.sso_account_name??e.name??""}${e.sso_account_id?` (${e.sso_account_id})`:""}`,accessories:[{text:e.sso_role_name},{text:e.region??e.sso_region}],icon:"script-command.png",actions:(0,j.jsx)(w.ActionPanel,{children:(0,j.jsx)(w.Action,{title:"Run Script",onAction:async()=>{let{script:r}=(0,w.getPreferenceValues)(),n=/<profile>/i;if(r){let t=r.replace(n,e.name||"");await(0,St.promisify)(_t.exec)(t),(0,w.showToast)(w.Toast.Style.Success,"Script executed successfully")}else(0,w.showToast)(w.Toast.Style.Failure,"No script defined in command preferences")}})})})}
