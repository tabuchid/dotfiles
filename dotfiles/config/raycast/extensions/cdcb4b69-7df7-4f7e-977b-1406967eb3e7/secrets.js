"use strict";var QA=Object.create;var Js=Object.defineProperty;var ZA=Object.getOwnPropertyDescriptor;var eO=Object.getOwnPropertyNames;var tO=Object.getPrototypeOf,rO=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ot=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},Nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eO(t))!rO.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=ZA(t,o))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?QA(tO(e)):{},Nm(t||!e||!e.__esModule?Js(r,"default",{value:e,enumerable:!0}):r,e)),U=e=>Nm(Js({},"__esModule",{value:!0}),e);var En={};ot(En,{__addDisposableResource:()=>Sh,__assign:()=>Zs,__asyncDelegator:()=>uh,__asyncGenerator:()=>dh,__asyncValues:()=>ph,__await:()=>vn,__awaiter:()=>oh,__classPrivateFieldGet:()=>gh,__classPrivateFieldIn:()=>_h,__classPrivateFieldSet:()=>yh,__createBinding:()=>ti,__decorate:()=>Xm,__disposeResources:()=>vh,__esDecorate:()=>Zm,__exportStar:()=>ih,__extends:()=>Jm,__generator:()=>sh,__importDefault:()=>hh,__importStar:()=>mh,__makeTemplateObject:()=>fh,__metadata:()=>nh,__param:()=>Qm,__propKey:()=>th,__read:()=>Kl,__rest:()=>Ym,__rewriteRelativeImportExtension:()=>Eh,__runInitializers:()=>eh,__setFunctionName:()=>rh,__spread:()=>ah,__spreadArray:()=>lh,__spreadArrays:()=>ch,__values:()=>ei,default:()=>TO});function Jm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ym(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Xm(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Qm(e,t){return function(r,n){t(r,n,e)}}function Zm(e,t,r,n,o,s){function i(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,p=!1,m=r.length-1;m>=0;m--){var g={};for(var h in n)g[h]=h==="access"?{}:n[h];for(var h in n.access)g.access[h]=n.access[h];g.addInitializer=function(b){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(b||null))};var S=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(u=i(S.get))&&(d.get=u),(u=i(S.set))&&(d.set=u),(u=i(S.init))&&o.unshift(u)}else(u=i(S))&&(a==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),p=!0}function eh(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function th(e){return typeof e=="symbol"?e:"".concat(e)}function rh(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function nh(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function oh(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{l(n.next(d))}catch(u){i(u)}}function c(d){try{l(n.throw(d))}catch(u){i(u)}}function l(d){d.done?s(d.value):o(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function sh(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ih(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ti(t,e,r)}function ei(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function ah(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kl(arguments[t]));return e}function ch(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function lh(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function dh(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(m){return function(g){return Promise.resolve(g).then(m,u)}}function a(m,g){n[m]&&(o[m]=function(h){return new Promise(function(S,b){s.push([m,h,S,b])>1||c(m,h)})},g&&(o[m]=g(o[m])))}function c(m,g){try{l(n[m](g))}catch(h){p(s[0][3],h)}}function l(m){m.value instanceof vn?Promise.resolve(m.value.v).then(d,u):p(s[0][2],m)}function d(m){c("next",m)}function u(m){c("throw",m)}function p(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function uh(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:vn(e[o](i)),done:!1}:s?s(i):i}:s}}function ph(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ei=="function"?ei(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function fh(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function mh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Gl(e),n=0;n<r.length;n++)r[n]!=="default"&&ti(t,e,r[n]);return RO(t,e),t}function hh(e){return e&&e.__esModule?e:{default:e}}function gh(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function yh(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function _h(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Sh(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function vh(e){function t(s){e.error=e.hasError?new xO(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function Eh(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Wl,Zs,ti,RO,Gl,xO,TO,bn=y(()=>{Wl=function(e,t){return Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Wl(e,t)};Zs=function(){return Zs=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Zs.apply(this,arguments)};ti=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});RO=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Gl=function(e){return Gl=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Gl(e)};xO=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};TO={__extends:Jm,__assign:Zs,__rest:Ym,__decorate:Xm,__param:Qm,__esDecorate:Zm,__runInitializers:eh,__propKey:th,__setFunctionName:rh,__metadata:nh,__awaiter:oh,__generator:sh,__createBinding:ti,__exportStar:ih,__values:ei,__read:Kl,__spread:ah,__spreadArrays:ch,__spreadArray:lh,__await:vn,__asyncGenerator:dh,__asyncDelegator:uh,__asyncValues:ph,__makeTemplateObject:fh,__importStar:mh,__importDefault:hh,__classPrivateFieldGet:gh,__classPrivateFieldSet:yh,__classPrivateFieldIn:_h,__addDisposableResource:Sh,__disposeResources:vh,__rewriteRelativeImportExtension:Eh}});var mo=E(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.getHomeDir=void 0;var AO=require("os"),OO=require("path"),IO=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${OO.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,AO.homedir)())};ri.getHomeDir=IO});var bh=E(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.getProfileName=ft.DEFAULT_PROFILE=ft.ENV_PROFILE=void 0;ft.ENV_PROFILE="AWS_PROFILE";ft.DEFAULT_PROFILE="default";var NO=e=>e.profile||process.env[ft.ENV_PROFILE]||ft.DEFAULT_PROFILE;ft.getProfileName=NO});var Jl=E(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.getSSOTokenFilepath=void 0;var kO=require("crypto"),DO=require("path"),$O=mo(),MO=e=>{let r=(0,kO.createHash)("sha1").update(e).digest("hex");return(0,DO.join)((0,$O.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ni.getSSOTokenFilepath=MO});var wh=E(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.getSSOTokenFromFile=void 0;var LO=require("fs"),FO=Jl(),{readFile:UO}=LO.promises,jO=async e=>{let t=(0,FO.getSSOTokenFilepath)(e),r=await UO(t,"utf8");return JSON.parse(r)};oi.getSSOTokenFromFile=jO});var Yl=E(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getConfigFilepath=Lr.ENV_CONFIG_PATH=void 0;var HO=require("path"),VO=mo();Lr.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var qO=()=>process.env[Lr.ENV_CONFIG_PATH]||(0,HO.join)((0,VO.getHomeDir)(),".aws","config");Lr.getConfigFilepath=qO});var Ch=E(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.getCredentialsFilepath=Fr.ENV_CREDENTIALS_PATH=void 0;var zO=require("path"),BO=mo();Fr.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var WO=()=>process.env[Fr.ENV_CREDENTIALS_PATH]||(0,zO.join)((0,BO.getHomeDir)(),".aws","credentials");Fr.getCredentialsFilepath=WO});var Rh=E(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.getProfileData=void 0;var Ph=/^profile\s(["'])?([^\1]+)\1$/,GO=e=>Object.entries(e).filter(([t])=>Ph.test(t)).reduce((t,[r,n])=>({...t,[Ph.exec(r)[2]]:n}),{...e.default&&{default:e.default}});si.getProfileData=GO});var Xl=E(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.parseIni=void 0;var KO=["__proto__","profile __proto__"],JO=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),KO.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[l,d]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][l]=d}}return t};ii.parseIni=JO});var Zl=E(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.slurpFile=void 0;var YO=require("fs"),{readFile:XO}=YO.promises,Ql={},QO=(e,t)=>((!Ql[e]||t?.ignoreCache)&&(Ql[e]=XO(e,"utf8")),Ql[e]);ai.slurpFile=QO});var ed=E(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.loadSharedConfigFiles=void 0;var ZO=Yl(),eI=Ch(),tI=Rh(),xh=Xl(),Th=Zl(),Ah=()=>({}),rI=async(e={})=>{let{filepath:t=(0,eI.getCredentialsFilepath)(),configFilepath:r=(0,ZO.getConfigFilepath)()}=e,n=await Promise.all([(0,Th.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(xh.parseIni).then(tI.getProfileData).catch(Ah),(0,Th.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(xh.parseIni).catch(Ah)]);return{configFile:n[0],credentialsFile:n[1]}};ci.loadSharedConfigFiles=rI});var Ih=E(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.getSsoSessionData=void 0;var Oh=/^sso-session\s(["'])?([^\1]+)\1$/,nI=e=>Object.entries(e).filter(([t])=>Oh.test(t)).reduce((t,[r,n])=>({...t,[Oh.exec(r)[2]]:n}),{});li.getSsoSessionData=nI});var Nh=E(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.loadSsoSessionData=void 0;var oI=Yl(),sI=Ih(),iI=Xl(),aI=Zl(),cI=()=>({}),lI=async(e={})=>{var t;return(0,aI.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,oI.getConfigFilepath)()).then(iI.parseIni).then(sI.getSsoSessionData).catch(cI)};di.loadSsoSessionData=lI});var kh=E(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.mergeConfigFiles=void 0;var dI=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};ui.mergeConfigFiles=dI});var Dh=E(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.parseKnownFiles=void 0;var uI=ed(),pI=kh(),fI=async e=>{let t=await(0,uI.loadSharedConfigFiles)(e);return(0,pI.mergeConfigFiles)(t.configFile,t.credentialsFile)};pi.parseKnownFiles=fI});var Mh=E($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0})});var Lh=E(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});var tr=(bn(),U(En));tr.__exportStar(mo(),mt);tr.__exportStar(bh(),mt);tr.__exportStar(Jl(),mt);tr.__exportStar(wh(),mt);tr.__exportStar(ed(),mt);tr.__exportStar(Nh(),mt);tr.__exportStar(Dh(),mt);tr.__exportStar(Mh(),mt)});var Fh=E(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var mI=(bn(),U(En));mI.__exportStar(Lh(),td)});var ht=E((Ez,Jh)=>{var gi=Object.defineProperty,vI=Object.getOwnPropertyDescriptor,EI=Object.getOwnPropertyNames,bI=Object.prototype.hasOwnProperty,yi=(e,t)=>gi(e,"name",{value:t,configurable:!0}),wI=(e,t)=>{for(var r in t)gi(e,r,{get:t[r],enumerable:!0})},CI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EI(t))!bI.call(e,o)&&o!==r&&gi(e,o,{get:()=>t[o],enumerable:!(n=vI(t,o))||n.enumerable});return e},PI=e=>CI(gi({},"__esModule",{value:!0}),e),Hh={};wI(Hh,{AlgorithmId:()=>Bh,EndpointURLScheme:()=>zh,FieldPosition:()=>Wh,HttpApiKeyAuthLocation:()=>qh,HttpAuthLocation:()=>Vh,IniSectionType:()=>Gh,RequestHandlerProtocol:()=>Kh,SMITHY_CONTEXT_KEY:()=>OI,getDefaultClientConfiguration:()=>TI,resolveDefaultRuntimeConfig:()=>AI});Jh.exports=PI(Hh);var Vh=(e=>(e.HEADER="header",e.QUERY="query",e))(Vh||{}),qh=(e=>(e.HEADER="header",e.QUERY="query",e))(qh||{}),zh=(e=>(e.HTTP="http",e.HTTPS="https",e))(zh||{}),Bh=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Bh||{}),RI=yi(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),xI=yi(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),TI=yi(e=>RI(e),"getDefaultClientConfiguration"),AI=yi(e=>xI(e),"resolveDefaultRuntimeConfig"),Wh=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Wh||{}),OI="__smithy_context",Gh=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Gh||{}),Kh=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Kh||{})});var Y=E((bz,eg)=>{var _i=Object.defineProperty,II=Object.getOwnPropertyDescriptor,NI=Object.getOwnPropertyNames,kI=Object.prototype.hasOwnProperty,or=(e,t)=>_i(e,"name",{value:t,configurable:!0}),DI=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},$I=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NI(t))!kI.call(e,o)&&o!==r&&_i(e,o,{get:()=>t[o],enumerable:!(n=II(t,o))||n.enumerable});return e},MI=e=>$I(_i({},"__esModule",{value:!0}),e),Yh={};DI(Yh,{Field:()=>UI,Fields:()=>jI,HttpRequest:()=>HI,HttpResponse:()=>VI,IHttpRequest:()=>Xh.HttpRequest,getHttpHandlerExtensionConfiguration:()=>LI,isValidHostname:()=>Zh,resolveHttpHandlerRuntimeConfig:()=>FI});eg.exports=MI(Yh);var LI=or(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),FI=or(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Xh=ht(),UI=class{static{or(this,"Field")}constructor({name:e,kind:t=Xh.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},jI=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{or(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},HI=class od{static{or(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new od({...t,headers:{...t.headers}});return r.query&&(r.query=Qh(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return od.clone(this)}};function Qh(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}or(Qh,"cloneQuery");var VI=class{static{or(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Zh(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}or(Zh,"isValidHostname")});var ho=E((Rz,sg)=>{"use strict";var vi=Object.defineProperty,qI=Object.getOwnPropertyDescriptor,zI=Object.getOwnPropertyNames,BI=Object.prototype.hasOwnProperty,Si=(e,t)=>vi(e,"name",{value:t,configurable:!0}),WI=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},GI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zI(t))!BI.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=qI(t,o))||n.enumerable});return e},KI=e=>GI(vi({},"__esModule",{value:!0}),e),tg={};WI(tg,{getHostHeaderPlugin:()=>YI,hostHeaderMiddleware:()=>ng,hostHeaderMiddlewareOptions:()=>og,resolveHostHeaderConfig:()=>rg});sg.exports=KI(tg);var JI=Y();function rg(e){return e}Si(rg,"resolveHostHeaderConfig");var ng=Si(e=>t=>async r=>{if(!JI.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),og={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},YI=Si(e=>({applyToStack:Si(t=>{t.add(ng(e),og)},"applyToStack")}),"getHostHeaderPlugin")});var go=E((xz,lg)=>{"use strict";var Ei=Object.defineProperty,XI=Object.getOwnPropertyDescriptor,QI=Object.getOwnPropertyNames,ZI=Object.prototype.hasOwnProperty,sd=(e,t)=>Ei(e,"name",{value:t,configurable:!0}),eN=(e,t)=>{for(var r in t)Ei(e,r,{get:t[r],enumerable:!0})},tN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QI(t))!ZI.call(e,o)&&o!==r&&Ei(e,o,{get:()=>t[o],enumerable:!(n=XI(t,o))||n.enumerable});return e},rN=e=>tN(Ei({},"__esModule",{value:!0}),e),ig={};eN(ig,{getLoggerPlugin:()=>nN,loggerMiddleware:()=>ag,loggerMiddlewareOptions:()=>cg});lg.exports=rN(ig);var ag=sd(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:p,...m}=n.output;return i?.info?.({clientName:o,commandName:s,input:d(r.input),output:u(m),metadata:p}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),cg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},nN=sd(e=>({applyToStack:sd(t=>{t.add(ag(),cg)},"applyToStack")}),"getLoggerPlugin")});var yo=E((Tz,fg)=>{"use strict";var wi=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,sN=Object.getOwnPropertyNames,iN=Object.prototype.hasOwnProperty,bi=(e,t)=>wi(e,"name",{value:t,configurable:!0}),aN=(e,t)=>{for(var r in t)wi(e,r,{get:t[r],enumerable:!0})},cN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sN(t))!iN.call(e,o)&&o!==r&&wi(e,o,{get:()=>t[o],enumerable:!(n=oN(t,o))||n.enumerable});return e},lN=e=>cN(wi({},"__esModule",{value:!0}),e),dg={};aN(dg,{addRecursionDetectionMiddlewareOptions:()=>pg,getRecursionDetectionPlugin:()=>fN,recursionDetectionMiddleware:()=>ug});fg.exports=lN(dg);var dN=Y(),id="X-Amzn-Trace-Id",uN="AWS_LAMBDA_FUNCTION_NAME",pN="_X_AMZN_TRACE_ID",ug=bi(e=>t=>async r=>{let{request:n}=r;if(!dN.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===id.toLowerCase())??id;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[uN],i=process.env[pN],a=bi(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[id]=i),t({...r,request:n})},"recursionDetectionMiddleware"),pg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},fN=bi(e=>({applyToStack:bi(t=>{t.add(ug(e),pg)},"applyToStack")}),"getRecursionDetectionPlugin")});var ad,mN,mg=y(()=>{ad=v(ht()),mN=e=>e[ad.SMITHY_CONTEXT_KEY]||(e[ad.SMITHY_CONTEXT_KEY]={})});var st=E((Oz,_g)=>{var Ci=Object.defineProperty,hN=Object.getOwnPropertyDescriptor,gN=Object.getOwnPropertyNames,yN=Object.prototype.hasOwnProperty,gg=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),_N=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},SN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gN(t))!yN.call(e,o)&&o!==r&&Ci(e,o,{get:()=>t[o],enumerable:!(n=hN(t,o))||n.enumerable});return e},vN=e=>SN(Ci({},"__esModule",{value:!0}),e),yg={};_N(yg,{getSmithyContext:()=>EN,normalizeProvider:()=>bN});_g.exports=vN(yg);var hg=ht(),EN=gg(e=>e[hg.SMITHY_CONTEXT_KEY]||(e[hg.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),bN=gg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Sg,vg=y(()=>{Sg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function wN(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Nz,Eg,_o,Pi=y(()=>{Nz=v(ht()),Eg=v(st());vg();_o=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=Sg(s,i),c=wN(e.httpAuthSchemes),l=(0,Eg.getSmithyContext)(n),d=[];for(let u of a){let p=c.get(u.schemeId);if(!p){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let m=p.identityProvider(await t.identityProviderConfigProvider(e));if(!m){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:h={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},h),l.selectedHttpAuthScheme={httpAuthOption:u,identity:await m(u.identityProperties),signer:p.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)}});var bg,So,wg=y(()=>{Pi();bg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},So=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(_o(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),bg)}})});var sr=E((Fz,Og)=>{var Ri=Object.defineProperty,CN=Object.getOwnPropertyDescriptor,PN=Object.getOwnPropertyNames,RN=Object.prototype.hasOwnProperty,xi=(e,t)=>Ri(e,"name",{value:t,configurable:!0}),xN=(e,t)=>{for(var r in t)Ri(e,r,{get:t[r],enumerable:!0})},TN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PN(t))!RN.call(e,o)&&o!==r&&Ri(e,o,{get:()=>t[o],enumerable:!(n=CN(t,o))||n.enumerable});return e},AN=e=>TN(Ri({},"__esModule",{value:!0}),e),Cg={};xN(Cg,{deserializerMiddleware:()=>Pg,deserializerMiddlewareOption:()=>xg,getSerdePlugin:()=>Ag,serializerMiddleware:()=>Rg,serializerMiddlewareOption:()=>Tg});Og.exports=AN(Cg);var ON=Y(),Pg=xi((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(ON.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:cd(/^x-[\w-]+-request-?id$/,l),extendedRequestId:cd(/^x-[\w-]+-id-2$/,l),cfId:cd(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),cd=xi((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),Rg=xi((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),xg={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Tg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ag(e,t,r){return{applyToStack:n=>{n.add(Pg(e,r),xg),n.add(Rg(e,t),Tg)}}}xi(Ag,"getSerdePlugin")});var Ig,Ng,IN,kg=y(()=>{Ig=v(sr());Pi();Ng={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ig.serializerMiddlewareOption.name},IN=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(_o(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Ng)}})});var Dg=y(()=>{Pi();wg();kg()});var $g,Bz,Mg,NN,kN,ld,dd=y(()=>{$g=v(Y()),Bz=v(ht()),Mg=v(st()),NN=e=>t=>{throw t},kN=(e,t)=>{},ld=e=>(t,r)=>async n=>{if(!$g.HttpRequest.isInstance(n.request))return t(n);let s=(0,Mg.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||NN)(i));return(c.successHandler||kN)(l.response,i),l}});var Lg,vo,Fg=y(()=>{dd();Lg={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},vo=e=>({applyToStack:t=>{t.addRelativeTo(ld(e),Lg)}})});var Ug=y(()=>{dd();Fg()});var ir,jg=y(()=>{ir=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Hg(e,t,r,n,o){return async function*(i,a,...c){let l=a,d=i.startingToken??l[r],u=!0,p;for(;u;){if(l[r]=d,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)p=await DN(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let m=d;d=$N(p,n),u=!!(d&&(!i.stopOnSameToken||d!==m))}return void 0}}var DN,$N,Vg=y(()=>{DN=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};$N=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var ud=E((tB,zg)=>{var Ti=Object.defineProperty,MN=Object.getOwnPropertyDescriptor,LN=Object.getOwnPropertyNames,FN=Object.prototype.hasOwnProperty,UN=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),jN=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},HN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LN(t))!FN.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=MN(t,o))||n.enumerable});return e},VN=e=>HN(Ti({},"__esModule",{value:!0}),e),qg={};jN(qg,{isArrayBuffer:()=>qN});zg.exports=VN(qg);var qN=UN(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Cn=E((rB,Gg)=>{var Ai=Object.defineProperty,zN=Object.getOwnPropertyDescriptor,BN=Object.getOwnPropertyNames,WN=Object.prototype.hasOwnProperty,Bg=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),GN=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},KN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BN(t))!WN.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=zN(t,o))||n.enumerable});return e},JN=e=>KN(Ai({},"__esModule",{value:!0}),e),Wg={};GN(Wg,{fromArrayBuffer:()=>XN,fromString:()=>QN});Gg.exports=JN(Wg);var YN=ud(),pd=require("buffer"),XN=Bg((e,t=0,r=e.byteLength-t)=>{if(!(0,YN.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return pd.Buffer.from(e,t,r)},"fromArrayBuffer"),QN=Bg((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?pd.Buffer.from(e,t):pd.Buffer.from(e)},"fromString")});var Kg=E(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.fromBase64=void 0;var ZN=Cn(),e1=/^[A-Za-z0-9+/]*={0,2}$/,t1=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!e1.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,ZN.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Oi.fromBase64=t1});var Se=E((oB,Qg)=>{var Ii=Object.defineProperty,r1=Object.getOwnPropertyDescriptor,n1=Object.getOwnPropertyNames,o1=Object.prototype.hasOwnProperty,fd=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),s1=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},i1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n1(t))!o1.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=r1(t,o))||n.enumerable});return e},a1=e=>i1(Ii({},"__esModule",{value:!0}),e),Jg={};s1(Jg,{fromUtf8:()=>Xg,toUint8Array:()=>c1,toUtf8:()=>l1});Qg.exports=a1(Jg);var Yg=Cn(),Xg=fd(e=>{let t=(0,Yg.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),c1=fd(e=>typeof e=="string"?Xg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),l1=fd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Yg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Zg=E(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.toBase64=void 0;var d1=Cn(),u1=Se(),p1=e=>{let t;if(typeof e=="string"?t=(0,u1.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,d1.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ni.toBase64=p1});var Ae=E((iB,ki)=>{var ey=Object.defineProperty,f1=Object.getOwnPropertyDescriptor,m1=Object.getOwnPropertyNames,h1=Object.prototype.hasOwnProperty,md=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m1(t))!h1.call(e,o)&&o!==r&&ey(e,o,{get:()=>t[o],enumerable:!(n=f1(t,o))||n.enumerable});return e},ty=(e,t,r)=>(md(e,t,"default"),r&&md(r,t,"default")),g1=e=>md(ey({},"__esModule",{value:!0}),e),hd={};ki.exports=g1(hd);ty(hd,Kg(),ki.exports);ty(hd,Zg(),ki.exports)});var yd=E(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.ChecksumStream=void 0;var y1=Ae(),_1=require("stream"),gd=class extends _1.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??y1.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Di.ChecksumStream=gd});var ar=E(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.isBlob=Pn.isReadableStream=void 0;var S1=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Pn.isReadableStream=S1;var v1=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Pn.isBlob=v1});var ry=E($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.ChecksumStream=void 0;var E1=typeof ReadableStream=="function"?ReadableStream:function(){},_d=class extends E1{};$i.ChecksumStream=_d});var ny=E(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.createChecksumStream=void 0;var b1=Ae(),w1=ar(),C1=ry(),P1=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,w1.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??b1.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,u){t.update(d),u.enqueue(d)},async flush(d){let u=await t.digest(),p=a(u);if(e!==p){let m=new Error(`Checksum mismatch: expected "${e}" but received "${p}" in response header "${n}".`);d.error(m)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,C1.ChecksumStream.prototype),l};Mi.createChecksumStream=P1});var oy=E(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.createChecksumStream=A1;var R1=ar(),x1=yd(),T1=ny();function A1(e){return typeof ReadableStream=="function"&&(0,R1.isReadableStream)(e.source)?(0,T1.createChecksumStream)(e):new x1.ChecksumStream(e)}});var Ed=E(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.ByteArrayCollector=void 0;var vd=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Li.ByteArrayCollector=vd});var cy=E($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.createBufferedReadable=void 0;$t.createBufferedReadableStream=sy;$t.merge=iy;$t.flush=Fi;$t.sizeOf=Rn;$t.modeOf=ay;var O1=Ed();function sy(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new O1.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:u}=await n.read(),p=d;if(u){if(a!==-1){let m=Fi(i,a);Rn(m)>0&&l.enqueue(m)}l.close()}else{let m=ay(p,!1);if(a!==m&&(a>=0&&l.enqueue(Fi(i,a)),a=m),a===-1){l.enqueue(p);return}let g=Rn(p);s+=g;let h=Rn(i[a]);if(g>=t&&h===0)l.enqueue(p);else{let S=iy(i,a,p);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(Fi(i,a)):await c(l)}}};return new ReadableStream({pull:c})}$t.createBufferedReadable=sy;function iy(e,t,r){switch(t){case 0:return e[0]+=r,Rn(e[0]);case 1:case 2:return e[t].push(r),Rn(e[t])}}function Fi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Rn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function ay(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var dy=E(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.createBufferedReadable=k1;var I1=require("node:stream"),ly=Ed(),Mt=cy(),N1=ar();function k1(e,t,r){if((0,N1.isReadableStream)(e))return(0,Mt.createBufferedReadableStream)(e,t,r);let n=new I1.Readable({read(){}}),o=!1,s=0,i=["",new ly.ByteArrayCollector(c=>new Uint8Array(c)),new ly.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Mt.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Mt.flush)(i,a)),a=l),a===-1){n.push(c);return}let d=(0,Mt.sizeOf)(c);s+=d;let u=(0,Mt.sizeOf)(i[a]);if(d>=t&&u===0)n.push(c);else{let p=(0,Mt.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),p>=t&&n.push((0,Mt.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Mt.flush)(i,a);(0,Mt.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var uy=E(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.getAwsChunkedEncodingStream=void 0;var D1=require("stream"),$1=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new D1.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${s}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};Ui.getAwsChunkedEncodingStream=$1});var py=E(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.headStream=M1;async function M1(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:d}=await s.read();if(d&&(o.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var fy=E(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.headStream=void 0;var L1=require("stream"),F1=py(),U1=ar(),j1=(e,t)=>(0,U1.isReadableStream)(e)?(0,F1.headStream)(e,t):new Promise((r,n)=>{let o=new Cd;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});ji.headStream=j1;var Cd=class extends L1.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var Rd=E((_B,gy)=>{var Hi=Object.defineProperty,H1=Object.getOwnPropertyDescriptor,V1=Object.getOwnPropertyNames,q1=Object.prototype.hasOwnProperty,Pd=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),z1=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},B1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V1(t))!q1.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=H1(t,o))||n.enumerable});return e},W1=e=>B1(Hi({},"__esModule",{value:!0}),e),my={};z1(my,{escapeUri:()=>hy,escapeUriPath:()=>K1});gy.exports=W1(my);var hy=Pd(e=>encodeURIComponent(e).replace(/[!'()*]/g,G1),"escapeUri"),G1=Pd(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),K1=Pd(e=>e.split("/").map(hy).join("/"),"escapeUriPath")});var Td=E((SB,Sy)=>{var Vi=Object.defineProperty,J1=Object.getOwnPropertyDescriptor,Y1=Object.getOwnPropertyNames,X1=Object.prototype.hasOwnProperty,Q1=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),Z1=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},ek=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y1(t))!X1.call(e,o)&&o!==r&&Vi(e,o,{get:()=>t[o],enumerable:!(n=J1(t,o))||n.enumerable});return e},tk=e=>ek(Vi({},"__esModule",{value:!0}),e),yy={};Z1(yy,{buildQueryString:()=>_y});Sy.exports=tk(yy);var xd=Rd();function _y(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,xd.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,xd.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,xd.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Q1(_y,"buildQueryString")});var Ur=E((vB,Dy)=>{var rk=Object.create,Eo=Object.defineProperty,nk=Object.getOwnPropertyDescriptor,ok=Object.getOwnPropertyNames,sk=Object.getPrototypeOf,ik=Object.prototype.hasOwnProperty,G=(e,t)=>Eo(e,"name",{value:t,configurable:!0}),ak=(e,t)=>{for(var r in t)Eo(e,r,{get:t[r],enumerable:!0})},Cy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ok(t))!ik.call(e,o)&&o!==r&&Eo(e,o,{get:()=>t[o],enumerable:!(n=nk(t,o))||n.enumerable});return e},ck=(e,t,r)=>(r=e!=null?rk(sk(e)):{},Cy(t||!e||!e.__esModule?Eo(r,"default",{value:e,enumerable:!0}):r,e)),lk=e=>Cy(Eo({},"__esModule",{value:!0}),e),Py={};ak(Py,{DEFAULT_REQUEST_TIMEOUT:()=>Iy,NodeHttp2Handler:()=>Sk,NodeHttpHandler:()=>hk,streamCollector:()=>Ek});Dy.exports=lk(Py);var Ry=Y(),xy=Td(),Ad=require("http"),Od=require("https"),dk=["ECONNRESET","EPIPE","ETIMEDOUT"],Ty=G(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),$e={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},vy=1e3,uk=G((e,t,r=0)=>{if(!r)return-1;let n=G(o=>{let s=$e.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=G(a=>{a?.connecting?a.on("connect",()=>{$e.clearTimeout(s)}):$e.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):$e.setTimeout(n.bind(null,vy),vy)},"setConnectionTimeout"),pk=3e3,fk=G((e,{keepAlive:t,keepAliveMsecs:r},n=pk)=>{if(t!==!0)return-1;let o=G(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):$e.setTimeout(o,n)},"setSocketKeepAlive"),Ey=3e3,mk=G((e,t,r=Iy)=>{let n=G(o=>{let s=r-o,i=G(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):$e.setTimeout(n.bind(null,r===0?0:Ey),Ey)},"setSocketTimeout"),Ay=require("stream"),by=6e3;async function Nd(e,t,r=by){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number($e.setTimeout(()=>a(!0),Math.max(by,r)))}),new Promise(a=>{e.on("continue",()=>{$e.clearTimeout(s),a(!0)}),e.on("response",()=>{$e.clearTimeout(s),a(!1)}),e.on("error",()=>{$e.clearTimeout(s),a(!1)})})])),i&&Oy(e,t.body)}G(Nd,"writeRequestBody");function Oy(e,t){if(t instanceof Ay.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}G(Oy,"writeBody");var Iy=0,hk=class Id{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{G(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Id(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,d=s[c]?.length??0;if(l>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Ad.Agent||typeof i?.destroy=="function"?i:new Ad.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Od.Agent||typeof a?.destroy=="function"?a:new Od.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=G(async A=>{await i,a.forEach($e.clearTimeout),o(A)},"resolve"),l=G(async A=>{await i,a.forEach($e.clearTimeout),s(A)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let A=new Error("Request aborted");A.name="AbortError",l(A);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push($e.setTimeout(()=>{this.socketWarningTimestamp=Id.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let p=(0,xy.buildQueryString)(t.query||{}),m;if(t.username!=null||t.password!=null){let A=t.username??"",k=t.password??"";m=`${A}:${k}`}let g=t.path;p&&(g+=`?${p}`),t.fragment&&(g+=`#${t.fragment}`);let h=t.hostname??"";h[0]==="["&&h.endsWith("]")?h=t.hostname.slice(1,-1):h=t.hostname;let S={headers:t.headers,host:h,method:t.method,path:g,port:t.port,agent:u,auth:m},w=(d?Od.request:Ad.request)(S,A=>{let k=new Ry.HttpResponse({statusCode:A.statusCode||-1,reason:A.statusMessage,headers:Ty(A.headers),body:A});c({response:k})});if(w.on("error",A=>{dk.includes(A.code)?l(Object.assign(A,{name:"TimeoutError"})):l(A)}),r){let A=G(()=>{w.destroy();let k=new Error("Request aborted");k.name="AbortError",l(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",A,{once:!0}),w.once("close",()=>k.removeEventListener("abort",A))}else r.onabort=A}let O=n??this.config.requestTimeout;a.push(uk(w,l,this.config.connectionTimeout)),a.push(mk(w,l,O));let P=S.agent;typeof P=="object"&&"keepAlive"in P&&a.push(fk(w,{keepAlive:P.keepAlive,keepAliveMsecs:P.keepAliveMsecs})),i=Nd(w,t,O).catch(A=>(a.forEach($e.clearTimeout),s(A)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},wy=require("http2"),gk=ck(require("http2")),yk=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{G(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},_k=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{G(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=gk.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=G(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new yk;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Sk=class Ny{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new _k({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{G(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new Ny(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,d,u=G(async J=>{await d,a(J)},"resolve"),p=G(async J=>{await d,c(J)},"reject");if(r?.aborted){l=!0;let J=new Error("Request aborted");J.name="AbortError",p(J);return}let{hostname:m,method:g,port:h,protocol:S,query:b}=t,w="";if(t.username!=null||t.password!=null){let J=t.username??"",ce=t.password??"";w=`${J}:${ce}@`}let O=`${S}//${w}${m}${h?`:${h}`:""}`,P={destination:new URL(O)},A=this.connectionManager.lease(P,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),k=G(J=>{s&&this.destroySession(A),l=!0,p(J)},"rejectWithDestroy"),Pe=(0,xy.buildQueryString)(b||{}),K=t.path;Pe&&(K+=`?${Pe}`),t.fragment&&(K+=`#${t.fragment}`);let me=A.request({...t.headers,[wy.constants.HTTP2_HEADER_PATH]:K,[wy.constants.HTTP2_HEADER_METHOD]:g});if(A.ref(),me.on("response",J=>{let ce=new Ry.HttpResponse({statusCode:J[":status"]||-1,headers:Ty(J),body:me});l=!0,u({response:ce}),s&&(A.close(),this.connectionManager.deleteSession(O,A))}),i&&me.setTimeout(i,()=>{me.close();let J=new Error(`Stream timed out because of no activity for ${i} ms`);J.name="TimeoutError",k(J)}),r){let J=G(()=>{me.close();let ce=new Error("Request aborted");ce.name="AbortError",k(ce)},"onAbort");if(typeof r.addEventListener=="function"){let ce=r;ce.addEventListener("abort",J,{once:!0}),me.once("close",()=>ce.removeEventListener("abort",J))}else r.onabort=J}me.on("frameError",(J,ce,_e)=>{k(new Error(`Frame type id ${J} in stream id ${_e} has failed with code ${ce}.`))}),me.on("error",k),me.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${me.rstCode}.`))}),me.on("close",()=>{A.unref(),s&&A.destroy(),l||k(new Error("Unexpected error: http2 request did not get a response"))}),d=Nd(me,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},vk=class extends Ay.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{G(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},Ek=G(e=>bk(e)?ky(e):new Promise((t,r)=>{let n=new vk;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),bk=G(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function ky(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}G(ky,"collectReadableStream")});var qy=E((CB,Vy)=>{var zi=Object.defineProperty,wk=Object.getOwnPropertyDescriptor,Ck=Object.getOwnPropertyNames,Pk=Object.prototype.hasOwnProperty,gt=(e,t)=>zi(e,"name",{value:t,configurable:!0}),Rk=(e,t)=>{for(var r in t)zi(e,r,{get:t[r],enumerable:!0})},xk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ck(t))!Pk.call(e,o)&&o!==r&&zi(e,o,{get:()=>t[o],enumerable:!(n=wk(t,o))||n.enumerable});return e},Tk=e=>xk(zi({},"__esModule",{value:!0}),e),My={};Rk(My,{FetchHttpHandler:()=>Ok,keepAliveSupport:()=>qi,streamCollector:()=>Nk});Vy.exports=Tk(My);var $y=Y(),Ak=Td();function kd(e,t){return new Request(e,t)}gt(kd,"createRequest");function Ly(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}gt(Ly,"requestTimeout");var qi={supported:void 0},Ok=class Fy{static{gt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Fy(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),qi.supported===void 0&&(qi.supported=typeof Request<"u"&&"keepalive"in kd("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,Ak.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",O=t.password??"";l=`${w}:${O}@`}let{port:d,method:u}=t,p=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,m=u==="GET"||u==="HEAD"?void 0:t.body,g={body:m,headers:new Headers(t.headers),method:u,credentials:i};this.config?.cache&&(g.cache=this.config.cache),m&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),qi.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let h=gt(()=>{},"removeSignalEventListener"),S=kd(p,g),b=[fetch(S).then(w=>{let O=w.headers,P={};for(let k of O.entries())P[k[0]]=k[1];return w.body!=null?{response:new $y.HttpResponse({headers:P,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(k=>({response:new $y.HttpResponse({headers:P,reason:w.statusText,statusCode:w.status,body:k})}))}),Ly(o)];return r&&b.push(new Promise((w,O)=>{let P=gt(()=>{let A=new Error("Request aborted");A.name="AbortError",O(A)},"onAbort");if(typeof r.addEventListener=="function"){let A=r;A.addEventListener("abort",P,{once:!0}),h=gt(()=>A.removeEventListener("abort",P),"removeSignalEventListener")}else r.onabort=P})),Promise.race(b).finally(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Ik=Ae(),Nk=gt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Uy(e):jy(e),"streamCollector");async function Uy(e){let t=await Hy(e),r=(0,Ik.fromBase64)(t);return new Uint8Array(r)}gt(Uy,"collectBlob");async function jy(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}gt(jy,"collectStream");function Hy(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}gt(Hy,"readToBase64")});var $d=E((PB,Jy)=>{var Bi=Object.defineProperty,kk=Object.getOwnPropertyDescriptor,Dk=Object.getOwnPropertyNames,$k=Object.prototype.hasOwnProperty,zy=(e,t)=>Bi(e,"name",{value:t,configurable:!0}),Mk=(e,t)=>{for(var r in t)Bi(e,r,{get:t[r],enumerable:!0})},Lk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dk(t))!$k.call(e,o)&&o!==r&&Bi(e,o,{get:()=>t[o],enumerable:!(n=kk(t,o))||n.enumerable});return e},Fk=e=>Lk(Bi({},"__esModule",{value:!0}),e),By={};Mk(By,{fromHex:()=>Gy,toHex:()=>Ky});Jy.exports=Fk(By);var Wy={},Dd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Wy[e]=t,Dd[t]=e}function Gy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Dd)t[r/2]=Dd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}zy(Gy,"fromHex");function Ky(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Wy[e[r]];return t}zy(Ky,"toHex")});var Zy=E(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.sdkStreamMixin=void 0;var Uk=qy(),jk=Ae(),Hk=$d(),Vk=Se(),Yy=ar(),Xy="The stream has already been transformed.",qk=e=>{var t,r;if(!Qy(e)&&!(0,Yy.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Xy);return n=!0,await(0,Uk.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,jk.toBase64)(a);if(i==="hex")return(0,Hk.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,Vk.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Xy);if(n=!0,Qy(e))return s(e);if((0,Yy.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Wi.sdkStreamMixin=qk;var Qy=e=>typeof Blob=="function"&&e instanceof Blob});var t_=E(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sdkStreamMixin=void 0;var zk=Ur(),Bk=Cn(),Md=require("stream"),Wk=Zy(),e_="The stream has already been transformed.",Gk=e=>{var t,r;if(!(e instanceof Md.Readable))try{return(0,Wk.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(e_);return n=!0,await(0,zk.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,Bk.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(e_);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Md.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Md.Readable.toWeb(e)}})};Gi.sdkStreamMixin=Gk});var r_=E(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.splitStream=Kk;async function Kk(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var s_=E(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.splitStream=Yk;var n_=require("stream"),Jk=r_(),o_=ar();async function Yk(e){if((0,o_.isReadableStream)(e)||(0,o_.isBlob)(e))return(0,Jk.splitStream)(e);let t=new n_.PassThrough,r=new n_.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ji=E((OB,_t)=>{var Ki=Object.defineProperty,Xk=Object.getOwnPropertyDescriptor,Qk=Object.getOwnPropertyNames,Zk=Object.prototype.hasOwnProperty,Hd=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),eD=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},Ud=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qk(t))!Zk.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=Xk(t,o))||n.enumerable});return e},cr=(e,t,r)=>(Ud(e,t,"default"),r&&Ud(r,t,"default")),tD=e=>Ud(Ki({},"__esModule",{value:!0}),e),yt={};eD(yt,{Uint8ArrayBlobAdapter:()=>jd});_t.exports=tD(yt);var i_=Ae(),a_=Se();function c_(e,t="utf-8"){return t==="base64"?(0,i_.toBase64)(e):(0,a_.toUtf8)(e)}Hd(c_,"transformToString");function l_(e,t){return t==="base64"?jd.mutate((0,i_.fromBase64)(e)):jd.mutate((0,a_.fromUtf8)(e))}Hd(l_,"transformFromString");var jd=class d_ extends Uint8Array{static{Hd(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return l_(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,d_.prototype),t}transformToString(t="utf-8"){return c_(this,t)}};cr(yt,yd(),_t.exports);cr(yt,oy(),_t.exports);cr(yt,dy(),_t.exports);cr(yt,uy(),_t.exports);cr(yt,fy(),_t.exports);cr(yt,t_(),_t.exports);cr(yt,s_(),_t.exports);cr(yt,ar(),_t.exports)});var Yi,it,Xi=y(()=>{Yi=v(Ji()),it=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Yi.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Yi.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Yi.Uint8ArrayBlobAdapter.mutate(await r)}});function St(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Qi=y(()=>{});var Lt,Vd=y(()=>{Lt=e=>typeof e=="function"?e():e});var u_=y(()=>{});var Oe,p_=y(()=>{Oe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Oe.registries=new Map});var vt,xn=y(()=>{vt=class{constructor(t,r){this.name=t,this.traits=r}}});var bo,qd=y(()=>{xn();bo=class e extends vt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};bo.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var wo,zd=y(()=>{xn();wo=class e extends vt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};wo.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var f_=y(()=>{});var jr,Zi=y(()=>{xn();jr=class e extends vt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};jr.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var Bd,m_=y(()=>{Zi();Bd=class e extends jr{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Bd.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var x,Wd=y(()=>{x={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Co,Gd=y(()=>{xn();Co=class e extends vt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Co.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var I,h_=y(()=>{Vd();qd();zd();Wd();Gd();Zi();I=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Lt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Lt(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Co?Lt(this.schema.schemaRef):Lt(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.LIST_MODIFIER&&t<x.MAP_MODIFIER:t instanceof bo}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.MAP_MODIFIER&&t<=255:t instanceof wo}isDocumentSchema(){return this.getSchema()===x.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof jr}isBlobSchema(){return this.getSchema()===x.BLOB||this.getSchema()===x.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=x.TIMESTAMP_DEFAULT&&t<=x.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===x.STRING}isBooleanSchema(){return this.getSchema()===x.BOOLEAN}isNumericSchema(){return this.getSchema()===x.NUMERIC}isBigIntegerSchema(){return this.getSchema()===x.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===x.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===x.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(x).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case x.MAP_MODIFIER:return`${o}Map`;case x.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};I.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var he=y(()=>{Vd();u_();qd();zd();f_();m_();h_();xn();Gd();Zi();Wd();p_()});var rD,g_=y(()=>{rD=(e,t,r=n=>n)=>e});var nD,oD,Po,sD,ea,Ro,iD,Kd,Jd,Yd,Xd,aD,cD,y_,lD,dD,ra,uD,Qd,pD,Tn,Zd,fD,mD,hD,__,S_,gD,yD,Hr,eu,ta,xo,tu=y(()=>{nD=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},oD=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&xo.warn(ta(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&xo.warn(ta(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Po=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&xo.warn(ta(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},sD=Math.ceil(34028234663852886e22),ea=e=>{let t=Po(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>sD)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ro=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},iD=Ro,Kd=e=>Xd(e,32),Jd=e=>Xd(e,16),Yd=e=>Xd(e,8),Xd=(e,t)=>{let r=Ro(e);if(r!==void 0&&aD(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},aD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},cD=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},y_=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},lD=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return xo.warn(ta(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},dD=e=>{if(e==null)return;let t=y_(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ra=e=>Po(typeof e=="string"?Tn(e):e),uD=ra,Qd=e=>ea(typeof e=="string"?Tn(e):e),pD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Tn=e=>{let t=e.match(pD);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Zd=e=>typeof e=="string"?__(e):Po(e),fD=Zd,mD=Zd,hD=e=>typeof e=="string"?__(e):ea(e),__=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},S_=e=>Ro(typeof e=="string"?Tn(e):e),gD=S_,yD=e=>Kd(typeof e=="string"?Tn(e):e),Hr=e=>Jd(typeof e=="string"?Tn(e):e),eu=e=>Yd(typeof e=="string"?Tn(e):e),ta=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),xo={warn:console.warn}});function Ao(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${_D[n]}, ${c} ${nu[r]} ${t} ${l}:${d}:${u} GMT`}var _D,nu,SD,vD,ED,Oo,bD,wD,CD,Io,No,To,PD,RD,xD,ru,TD,AD,OD,Et,ID,ND,An,v_=y(()=>{tu();_D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];SD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),vD=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=SD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,d=Hr(An(n)),u=Et(o,"month",1,12),p=Et(s,"day",1,31);return To(d,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},ED=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Oo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=ED.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,d]=t,u=Hr(An(n)),p=Et(o,"month",1,12),m=Et(s,"day",1,31),g=To(u,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&g.setTime(g.getTime()-ND(d)),g},bD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),wD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),CD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Io=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=bD.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return To(Hr(An(s)),ru(o),Et(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=wD.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return xD(To(PD(s),ru(o),Et(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=CD.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return To(Hr(An(l)),ru(n),Et(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},No=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ra(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},To=(e,t,r,n)=>{let o=t-1;return AD(e,o,r),new Date(Date.UTC(e,o,r,Et(n.hours,"hour",0,23),Et(n.minutes,"minute",0,59),Et(n.seconds,"seconds",0,60),ID(n.fractionalMilliseconds)))},PD=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Hr(An(e));return r<t?r+100:r},RD=50*365*24*60*60*1e3,xD=e=>e.getTime()-new Date().getTime()>RD?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,ru=e=>{let t=nu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},TD=[31,28,31,30,31,30,31,31,30,31,30,31],AD=(e,t,r)=>{let n=TD[t];if(t===1&&OD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${nu[t]} in ${e}: ${r}`)},OD=e=>e%4===0&&(e%100!==0||e%400===0),Et=(e,t,r,n)=>{let o=eu(An(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ID=e=>e==null?0:Qd("0."+e)*1e3,ND=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},An=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function ko(){return na>oa.length-16&&(E_.default.randomFillSync(oa),na=0),oa.slice(na,na+=16)}var E_,oa,na,ou=y(()=>{E_=v(require("crypto")),oa=new Uint8Array(256),na=oa.length});var b_,w_=y(()=>{b_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function kD(e){return typeof e=="string"&&b_.test(e)}var lr,Do=y(()=>{w_();lr=kD});function Vr(e,t=0){return ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]}function DD(e,t=0){let r=Vr(e,t);if(!lr(r))throw TypeError("Stringified UUID is invalid");return r}var ve,C_,$o=y(()=>{Do();ve=[];for(let e=0;e<256;++e)ve.push((e+256).toString(16).slice(1));C_=DD});function $D(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||P_,i=e.clockseq!==void 0?e.clockseq:su;if(s==null||i==null){let p=e.random||(e.rng||ko)();s==null&&(s=P_=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),i==null&&(i=su=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:au+1,l=a-iu+(c-au)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>iu)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");iu=a,au=c,su=i,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=d&255;let u=a/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=u&255,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let p=0;p<6;++p)o[n+p]=s[p];return t||Vr(o)}var P_,su,iu,au,R_,x_=y(()=>{ou();$o();iu=0,au=0;R_=$D});function MD(e){if(!lr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var sa,cu=y(()=>{Do();sa=MD});function LD(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Mo(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=LD(o)),typeof s=="string"&&(s=sa(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=l[d];return i}return Vr(l)}try{n.name=e}catch{}return n.DNS=FD,n.URL=UD,n}var FD,UD,lu=y(()=>{$o();cu();FD="6ba7b810-9dad-11d1-80b4-00c04fd430c8",UD="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jD(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),T_.default.createHash("md5").update(e).digest()}var T_,A_,O_=y(()=>{T_=v(require("crypto"));A_=jD});var HD,I_,N_=y(()=>{lu();O_();HD=Mo("v3",48,A_),I_=HD});var k_,du,D_=y(()=>{k_=v(require("crypto")),du={randomUUID:k_.default.randomUUID}});function VD(e,t,r){if(du.randomUUID&&!t&&!e)return du.randomUUID();e=e||{};let n=e.random||(e.rng||ko)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Vr(n)}var bt,$_=y(()=>{D_();ou();$o();bt=VD});function qD(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),M_.default.createHash("sha1").update(e).digest()}var M_,L_,F_=y(()=>{M_=v(require("crypto"));L_=qD});var zD,U_,j_=y(()=>{lu();F_();zD=Mo("v5",80,L_),U_=zD});var H_,V_=y(()=>{H_="00000000-0000-0000-0000-000000000000"});function BD(e){if(!lr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var q_,z_=y(()=>{Do();q_=BD});var uu={};ot(uu,{NIL:()=>H_,parse:()=>sa,stringify:()=>C_,v1:()=>R_,v3:()=>I_,v4:()=>bt,v5:()=>U_,validate:()=>lr,version:()=>q_});var ia=y(()=>{x_();N_();$_();j_();V_();z_();Do();$o();cu()});var B_=y(()=>{ia()});var Ie,W_=y(()=>{Ie=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ie.from=e=>e&&typeof e=="object"&&(e instanceof Ie||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ie(String(e)):Ie(JSON.stringify(e));Ie.fromObject=Ie.from});function pu(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var G_=y(()=>{});function fu(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var K_=y(()=>{});var Lo,J_=y(()=>{Lo=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function WD(e){return new Ee(String(e),"bigDecimal")}var Ee,Y_=y(()=>{Ee=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var X_={};ot(X_,{LazyJsonString:()=>Ie,NumericValue:()=>Ee,copyDocumentWithTransform:()=>rD,dateToUtcString:()=>Ao,expectBoolean:()=>oD,expectByte:()=>Yd,expectFloat32:()=>ea,expectInt:()=>iD,expectInt32:()=>Kd,expectLong:()=>Ro,expectNonNull:()=>cD,expectNumber:()=>Po,expectObject:()=>y_,expectShort:()=>Jd,expectString:()=>lD,expectUnion:()=>dD,generateIdempotencyToken:()=>bt,handleFloat:()=>fD,limitedParseDouble:()=>Zd,limitedParseFloat:()=>mD,limitedParseFloat32:()=>hD,logger:()=>xo,nv:()=>WD,parseBoolean:()=>nD,parseEpochTimestamp:()=>No,parseRfc3339DateTime:()=>vD,parseRfc3339DateTimeWithOffset:()=>Oo,parseRfc7231DateTime:()=>Io,quoteHeader:()=>pu,splitEvery:()=>fu,splitHeader:()=>Lo,strictParseByte:()=>eu,strictParseDouble:()=>ra,strictParseFloat:()=>uD,strictParseFloat32:()=>Qd,strictParseInt:()=>gD,strictParseInt32:()=>yD,strictParseLong:()=>S_,strictParseShort:()=>Hr});var at=y(()=>{g_();v_();B_();W_();tu();G_();K_();J_();Y_()});var aa,On,mu=y(()=>{he();aa=v(Y()),On=class{constructor(t){this.options=t}getRequestType(){return aa.HttpRequest}getResponseType(){return aa.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=I.of(r),s=I.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){return[]}}});var Q_,Z_,qr,eS=y(()=>{he();at();Q_=v(Y()),Z_=v(Ji());Xi();Qi();mu();qr=class extends On{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=I.of(t?.input),d=l.getSchema(),u=!1,p,m=new Q_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(m,c),this.setHostPrefix(m,t,o);let g=I.translateTraits(t.traits);if(g.http){m.method=g.http[0];let[h,S]=g.http[1].split("?");m.path=="/"?m.path=h:m.path+=h;let b=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(b))}}for(let[g,h]of l.structIterator()){let S=h.getMergedTraits()??{},b=o[g];if(b!=null)if(S.httpPayload){if(h.isStreaming()){if(h.isStructSchema())throw new Error("serialization of event streams is not yet implemented");p=b}else s.write(h,b),p=s.flush();delete o[g]}else if(S.httpLabel){s.write(h,b);let w=s.flush();m.path.includes(`{${g}+}`)?m.path=m.path.replace(`{${g}+}`,w.split("/").map(St).join("/")):m.path.includes(`{${g}}`)&&(m.path=m.path.replace(`{${g}}`,St(w))),delete o[g]}else if(S.httpHeader)s.write(h,b),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[g];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,O]of Object.entries(b)){let P=S.httpPrefixHeaders+w;s.write([h.getValueSchema(),{httpHeader:P}],O),a[P.toLowerCase()]=s.flush()}delete o[g]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(h,b,i),delete o[g]):u=!0}return u&&o&&(s.write(d,o),p=s.flush()),m.headers=a,m.query=i,m.body=p,m}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(I.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=I.of(t.output),i={};if(n.statusCode>=300){let l=await it(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await it(n.body,r);if(l.byteLength>0){let d=await o.read(s,l);for(let u of a)i[u]=d[u]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=I.of(t),l=[];for(let[d,u]of c.structIterator()){let p=u.getMemberTraits();if(p.httpPayload){if(u.isStreaming())if(u.isStructSchema()){let h=this.serdeContext;if(!h.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=u.getMemberSchemas();i[d]=h.eventStreamMarshaller.deserialize(n.body,async b=>{let w=Object.keys(b).find(O=>O!=="__type")??"";if(w in S){let O=S[w];return{[w]:await a.read(O,b[w].body)}}else return{$unknown:b}})}else i[d]=(0,Z_.sdkStreamMixin)(n.body);else if(n.body){let g=await it(n.body,r);g.byteLength>0&&(i[d]=await a.read(u,g))}}else if(p.httpHeader){let m=String(p.httpHeader).toLowerCase(),g=n.headers[m];if(g!=null)if(u.isListSchema()){let h=u.getValueSchema(),S;h.isTimestampSchema()&&h.getSchema()===x.TIMESTAMP_DEFAULT?S=fu(g,",",2):S=Lo(g);let b=[];for(let w of S)b.push(await a.read([h,{httpHeader:m}],w.trim()));i[d]=b}else i[d]=await a.read(u,g)}else if(p.httpPrefixHeaders!==void 0){i[d]={};for(let[m,g]of Object.entries(n.headers))m.startsWith(p.httpPrefixHeaders)&&(i[d][m.slice(p.httpPrefixHeaders.length)]=await a.read([u.getValueSchema(),{httpHeader:m}],g))}else p.httpResponseCode?i[d]=n.statusCode:l.push(d)}return l}}});var tS,zr,rS=y(()=>{he();tS=v(Y());Xi();mu();zr=class extends On{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=I.of(t?.input).getSchema(),d,u=new tS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let p={...r};return r&&(o.write(l,p),d=o.flush()),u.headers=i,u.query=s,u.body=d,u.method="POST",u}async deserializeResponse(t,r,n){let o=this.deserializer,s=I.of(t.output),i={};if(n.statusCode>=300){let l=await it(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let a=await it(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var hu,gu=y(()=>{Qi();hu=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>St(a)).join("/"):St(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Fo(e,t){return new ca(e,t)}var nS,ca,oS=y(()=>{nS=v(Y());gu();ca=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new nS.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=hu(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Br(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===x.TIMESTAMP_DATE_TIME||e.getSchema()===x.TIMESTAMP_HTTP_DATE||e.getSchema()===x.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?x.TIMESTAMP_HTTP_DATE:s||r?x.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var la=y(()=>{he()});var yu,sS,Wr,_u=y(()=>{he();at();yu=v(Ae()),sS=v(Se());la();Wr=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=I.of(t);if(n.isListSchema())return Lo(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??yu.fromBase64)(r);if(n.isTimestampSchema())switch(Br(n,this.settings)){case x.TIMESTAMP_DATE_TIME:return Oo(r);case x.TIMESTAMP_HTTP_DATE:return Io(r);case x.TIMESTAMP_EPOCH_SECONDS:return No(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Ee(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??sS.toUtf8)((this.serdeContext?.base64Decoder??yu.fromBase64)(t))}}});var da,Gr,iS=y(()=>{he();da=v(Se());_u();Gr=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Wr(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=I.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??da.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??da.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Su,Uo,vu=y(()=>{he();at();Su=v(Ae());la();Uo=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=I.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Br(n,this.settings)){case x.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:this.stringBuffer=Ao(r);break;case x.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Su.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:pu(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Su.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Kr,aS=y(()=>{he();vu();Kr=class{constructor(t,r,n=new Uo(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=I.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var cS={};ot(cS,{FromStringShapeDeserializer:()=>Wr,HttpBindingProtocol:()=>qr,HttpInterceptingShapeDeserializer:()=>Gr,HttpInterceptingShapeSerializer:()=>Kr,RequestBuilder:()=>ca,RpcProtocol:()=>zr,ToStringShapeSerializer:()=>Uo,collectBody:()=>it,determineTimestampFormat:()=>Br,extendedEncodeURIComponent:()=>St,requestBuilder:()=>Fo,resolvedPath:()=>hu});var Ft=y(()=>{Xi();Qi();eS();rS();oS();gu();_u();iS();aS();vu();la()});var lS=y(()=>{Ft()});function GD(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var dS=y(()=>{});var Jr,uS=y(()=>{Jr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var pS,Eu,bu,fS=y(()=>{pS=v(Y()),Eu=v(ht()),bu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=pS.HttpRequest.clone(t);if(n.in===Eu.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Eu.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var mS,wu,hS=y(()=>{mS=v(Y()),wu=class{async sign(t,r,n){let o=mS.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Ut,gS=y(()=>{Ut=class{async sign(t,r,n){return t}}});var yS=y(()=>{fS();hS();gS()});var _S,KD,Cu,ua,Pu,SS=y(()=>{_S=e=>t=>ua(t)&&t.expiration.getTime()-Date.now()<e,KD=3e5,Cu=_S(3e5),ua=e=>e.expiration!==void 0,Pu=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var vS=y(()=>{uS();yS();SS()});var In={};ot(In,{DefaultIdentityProviderConfig:()=>Jr,EXPIRATION_MS:()=>KD,HttpApiKeyAuthSigner:()=>bu,HttpBearerAuthSigner:()=>wu,NoAuthSigner:()=>Ut,createIsIdentityExpiredFunction:()=>_S,createPaginator:()=>Hg,doesIdentityRequireRefresh:()=>ua,getHttpAuthSchemeEndpointRuleSetPlugin:()=>So,getHttpAuthSchemePlugin:()=>IN,getHttpSigningPlugin:()=>vo,getSmithyContext:()=>mN,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>bg,httpAuthSchemeMiddleware:()=>_o,httpAuthSchemeMiddlewareOptions:()=>Ng,httpSigningMiddleware:()=>ld,httpSigningMiddlewareOptions:()=>Lg,isIdentityExpired:()=>Cu,memoizeIdentityProvider:()=>Pu,normalizeProvider:()=>ir,requestBuilder:()=>Fo,setFeature:()=>GD});var Me=y(()=>{mg();Dg();Ug();jg();Vg();lS();dS();vS()});var Nn=E((kW,AS)=>{var pa=Object.defineProperty,JD=Object.getOwnPropertyDescriptor,YD=Object.getOwnPropertyNames,XD=Object.prototype.hasOwnProperty,B=(e,t)=>pa(e,"name",{value:t,configurable:!0}),QD=(e,t)=>{for(var r in t)pa(e,r,{get:t[r],enumerable:!0})},ZD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YD(t))!XD.call(e,o)&&o!==r&&pa(e,o,{get:()=>t[o],enumerable:!(n=JD(t,o))||n.enumerable});return e},e$=e=>ZD(pa({},"__esModule",{value:!0}),e),ES={};QD(ES,{EndpointCache:()=>t$,EndpointError:()=>Le,customEndpointFunctions:()=>xu,isIpAddress:()=>bS,isValidHostLabel:()=>Au,resolveEndpoint:()=>v$});AS.exports=e$(ES);var t$=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{B(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},r$=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),bS=B(e=>r$.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),n$=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Au=B((e,t=!1)=>{if(!t)return n$.test(e);let r=e.split(".");for(let n of r)if(!Au(n))return!1;return!0},"isValidHostLabel"),xu={},jo="endpoints";function jt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${jt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(jt).join(", ")})`:JSON.stringify(e,null,2)}B(jt,"toDebugString");var Le=class extends Error{static{B(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},o$=B((e,t)=>e===t,"booleanEquals"),s$=B(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Le(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Le(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),wS=B((e,t)=>s$(t).reduce((r,n)=>{if(typeof r!="object")throw new Le(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),i$=B(e=>e!=null,"isSet"),a$=B(e=>!e,"not"),Tu=ht(),Ru={[Tu.EndpointURLScheme.HTTP]:80,[Tu.EndpointURLScheme.HTTPS]:443},c$=B(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:m,protocol:g="",path:h="",query:S={}}=e,b=new URL(`${g}//${p}${m?`:${m}`:""}${h}`);return b.search=Object.entries(S).map(([w,O])=>`${w}=${O}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Tu.EndpointURLScheme).includes(c))return null;let l=bS(o),d=r.includes(`${n}:${Ru[c]}`)||typeof e=="string"&&e.includes(`${n}:${Ru[c]}`),u=`${n}${d?`:${Ru[c]}`:""}`;return{scheme:c,authority:u,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),l$=B((e,t)=>e===t,"stringEquals"),d$=B((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),u$=B(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),p$={booleanEquals:o$,getAttr:wS,isSet:i$,isValidHostLabel:Au,not:a$,parseURL:c$,stringEquals:l$,substring:d$,uriEncode:u$},CS=B((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(wS(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),f$=B(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),fa=B((e,t,r)=>{if(typeof e=="string")return CS(e,r);if(e.fn)return PS(e,r);if(e.ref)return f$(e,r);throw new Le(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),PS=B(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:fa(s,"arg",r)),o=e.split(".");return o[0]in xu&&o[1]!=null?xu[o[0]][o[1]](...n):p$[e](...n)},"callFunction"),m$=B(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Le(`'${e}' is already defined in Reference Record.`);let n=PS(t,r);return r.logger?.debug?.(`${jo} evaluateCondition: ${jt(t)} = ${jt(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Ou=B((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=m$(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${jo} assign: ${s.name} := ${jt(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),h$=B((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=fa(s,"Header value entry",t);if(typeof i!="string")throw new Le(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),RS=B((e,t)=>{if(Array.isArray(e))return e.map(r=>RS(r,t));switch(typeof e){case"string":return CS(e,t);case"object":if(e===null)throw new Le(`Unexpected endpoint property: ${e}`);return xS(e,t);case"boolean":return e;default:throw new Le(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),xS=B((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:RS(o,t)}),{}),"getEndpointProperties"),g$=B((e,t)=>{let r=fa(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Le(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),y$=B((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Ou(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${jo} Resolving endpoint from template: ${jt(n)}`),{...l!=null&&{headers:h$(l,i)},...c!=null&&{properties:xS(c,i)},url:g$(a,i)}},"evaluateEndpointRule"),_$=B((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Ou(r,t);if(o)throw new Le(fa(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),S$=B((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Ou(r,t);if(o)return TS(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),TS=B((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=y$(r,t);if(n)return n}else if(r.type==="error")_$(r,t);else if(r.type==="tree"){let n=S$(r,t);if(n)return n}else throw new Le(`Unknown endpoint rule: ${r}`);throw new Le("Rules evaluation failed")},"evaluateRules"),v$=B((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${jo} Initial EndpointParams: ${jt(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(i.length>0)for(let[l,d]of i)r[l]=r[l]??d;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Le(`Missing required parameter: '${l}'`);let c=TS(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${jo} Resolved endpoint: ${jt(c)}`),c},"resolveEndpoint")});var kS=E((MW,NS)=>{var ma=Object.defineProperty,E$=Object.getOwnPropertyDescriptor,b$=Object.getOwnPropertyNames,w$=Object.prototype.hasOwnProperty,C$=(e,t)=>ma(e,"name",{value:t,configurable:!0}),P$=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},R$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b$(t))!w$.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=E$(t,o))||n.enumerable});return e},x$=e=>R$(ma({},"__esModule",{value:!0}),e),OS={};P$(OS,{parseQueryString:()=>IS});NS.exports=x$(OS);function IS(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}C$(IS,"parseQueryString")});var dr=E((LW,MS)=>{var ha=Object.defineProperty,T$=Object.getOwnPropertyDescriptor,A$=Object.getOwnPropertyNames,O$=Object.prototype.hasOwnProperty,I$=(e,t)=>ha(e,"name",{value:t,configurable:!0}),N$=(e,t)=>{for(var r in t)ha(e,r,{get:t[r],enumerable:!0})},k$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of A$(t))!O$.call(e,o)&&o!==r&&ha(e,o,{get:()=>t[o],enumerable:!(n=T$(t,o))||n.enumerable});return e},D$=e=>k$(ha({},"__esModule",{value:!0}),e),DS={};N$(DS,{parseUrl:()=>$S});MS.exports=D$(DS);var $$=kS(),$S=I$(e=>{if(typeof e=="string")return $S(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,$$.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var kn=E((FW,GS)=>{"use strict";var ga=Object.defineProperty,M$=Object.getOwnPropertyDescriptor,L$=Object.getOwnPropertyNames,F$=Object.prototype.hasOwnProperty,ur=(e,t)=>ga(e,"name",{value:t,configurable:!0}),U$=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},j$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L$(t))!F$.call(e,o)&&o!==r&&ga(e,o,{get:()=>t[o],enumerable:!(n=M$(t,o))||n.enumerable});return e},H$=e=>j$(ga({},"__esModule",{value:!0}),e),FS={};U$(FS,{ConditionObject:()=>X.ConditionObject,DeprecatedObject:()=>X.DeprecatedObject,EndpointError:()=>X.EndpointError,EndpointObject:()=>X.EndpointObject,EndpointObjectHeaders:()=>X.EndpointObjectHeaders,EndpointObjectProperties:()=>X.EndpointObjectProperties,EndpointParams:()=>X.EndpointParams,EndpointResolverOptions:()=>X.EndpointResolverOptions,EndpointRuleObject:()=>X.EndpointRuleObject,ErrorRuleObject:()=>X.ErrorRuleObject,EvaluateOptions:()=>X.EvaluateOptions,Expression:()=>X.Expression,FunctionArgv:()=>X.FunctionArgv,FunctionObject:()=>X.FunctionObject,FunctionReturn:()=>X.FunctionReturn,ParameterObject:()=>X.ParameterObject,ReferenceObject:()=>X.ReferenceObject,ReferenceRecord:()=>X.ReferenceRecord,RuleSetObject:()=>X.RuleSetObject,RuleSetRules:()=>X.RuleSetRules,TreeRuleObject:()=>X.TreeRuleObject,awsEndpointFunctions:()=>BS,getUserAgentPrefix:()=>B$,isIpAddress:()=>X.isIpAddress,partition:()=>qS,resolveDefaultAwsRegionalEndpointsConfig:()=>G$,resolveEndpoint:()=>X.resolveEndpoint,setPartitionInfo:()=>zS,toEndpointV1:()=>WS,useDefaultPartitionInfo:()=>z$});GS.exports=H$(FS);var X=Nn(),US=ur((e,t=!1)=>{if(t){for(let r of e.split("."))if(!US(r))return!1;return!0}return!(!(0,X.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,X.isIpAddress)(e))},"isVirtualHostableS3Bucket"),LS=":",V$="/",q$=ur(e=>{let t=e.split(LS);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(LS)==="")return null;let c=a.map(l=>l.split(V$)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),jS={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},HS=jS,VS="",qS=ur(e=>{let{partitions:t}=HS;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),zS=ur((e,t="")=>{HS=e,VS=t},"setPartitionInfo"),z$=ur(()=>{zS(jS,"")},"useDefaultPartitionInfo"),B$=ur(()=>VS,"getUserAgentPrefix"),BS={isVirtualHostableS3Bucket:US,parseArn:q$,partition:qS};X.customEndpointFunctions.aws=BS;var W$=dr(),G$=ur(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>WS(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),WS=ur(e=>(0,W$.parseUrl)(e.url),"toEndpointV1")});var ya,Dn,KS=y(()=>{ya={warningEmitted:!1},Dn=e=>{e&&!ya.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ya.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function pr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var JS=y(()=>{});function YS(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var XS=y(()=>{});function QS(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var ZS=y(()=>{});var fr={};ot(fr,{emitWarningIfUnsupportedVersion:()=>Dn,setCredentialFeature:()=>pr,setFeature:()=>YS,setTokenFeature:()=>QS,state:()=>ya});var ct=y(()=>{KS();JS();XS();ZS()});var ev,Iu,tv=y(()=>{ev=v(Y()),Iu=e=>ev.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var $n,Nu=y(()=>{$n=e=>new Date(Date.now()+e)});var rv,ov=y(()=>{Nu();rv=(e,t)=>Math.abs($n(t).getTime()-e)>=3e5});var ku,sv=y(()=>{ov();ku=(e,t)=>{let r=Date.parse(e);return rv(r,t)?r-Date.now():t}});var Du=y(()=>{tv();Nu();sv()});var iv,Ho,Mn,Fe,$u,Mu=y(()=>{iv=v(Y());Du();Ho=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Mn=async e=>{let t=Ho("context",e.context),r=Ho("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Ho("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Fe=class{async sign(t,r,n){if(!iv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Mn(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[u,p]=l.authSchemes;u?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await i.sign(t,{signingDate:$n(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Iu(r.$response);if(n){let o=Ho("config",t.config),s=o.systemClockOffset;o.systemClockOffset=ku(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Iu(t);if(n){let o=Ho("config",r.config);o.systemClockOffset=ku(n,o.systemClockOffset)}}},$u=Fe});var av,Vo,cv=y(()=>{av=v(Y());Du();Mu();Vo=class extends Fe{async sign(t,r,n){if(!av.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Mn(n),d=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:$n(o.systemClockOffset),signingRegion:d,signingService:c})}}});var Lu,lv=y(()=>{Lu=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var _a,Fu=y(()=>{_a=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var dv,uv,Ln,pv=y(()=>{lv();Fu();dv="AWS_AUTH_SCHEME_PREFERENCE",uv="auth_scheme_preference",Ln={environmentVariableSelector:(e,t)=>{if(t?.signingName&&_a(t.signingName)in e)return["httpBearerAuth"];if(dv in e)return Lu(e[dv])},configFileSelector:e=>{if(uv in e)return Lu(e[uv])},default:[]}});var Ne=E((fG,yv)=>{var Sa=Object.defineProperty,K$=Object.getOwnPropertyDescriptor,J$=Object.getOwnPropertyNames,Y$=Object.prototype.hasOwnProperty,Yr=(e,t)=>Sa(e,"name",{value:t,configurable:!0}),X$=(e,t)=>{for(var r in t)Sa(e,r,{get:t[r],enumerable:!0})},Q$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J$(t))!Y$.call(e,o)&&o!==r&&Sa(e,o,{get:()=>t[o],enumerable:!(n=K$(t,o))||n.enumerable});return e},Z$=e=>Q$(Sa({},"__esModule",{value:!0}),e),fv={};X$(fv,{CredentialsProviderError:()=>eM,ProviderError:()=>va,TokenProviderError:()=>tM,chain:()=>rM,fromStatic:()=>nM,memoize:()=>oM});yv.exports=Z$(fv);var va=class mv extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,mv.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Yr(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},eM=class hv extends va{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,hv.prototype)}static{Yr(this,"CredentialsProviderError")}},tM=class gv extends va{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,gv.prototype)}static{Yr(this,"TokenProviderError")}},rM=Yr((...e)=>async()=>{if(e.length===0)throw new va("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),nM=Yr(e=>()=>Promise.resolve(e),"fromStatic"),oM=Yr((e,t,r)=>{let n,o,s,i=!1,a=Yr(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Uu,_v,Sv,vv=y(()=>{Me();Uu=v(Ne()),_v=e=>(e.sigv4aSigningRegionSet=ir(e.sigv4aSigningRegionSet),e),Sv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Uu.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Uu.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Jv=E((gG,Kv)=>{var xa=Object.defineProperty,sM=Object.getOwnPropertyDescriptor,iM=Object.getOwnPropertyNames,aM=Object.prototype.hasOwnProperty,be=(e,t)=>xa(e,"name",{value:t,configurable:!0}),cM=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},lM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iM(t))!aM.call(e,o)&&o!==r&&xa(e,o,{get:()=>t[o],enumerable:!(n=sM(t,o))||n.enumerable});return e},dM=e=>lM(xa({},"__esModule",{value:!0}),e),Pv={};cM(Pv,{ALGORITHM_IDENTIFIER:()=>Ea,ALGORITHM_IDENTIFIER_V4A:()=>mM,ALGORITHM_QUERY_PARAM:()=>Rv,ALWAYS_UNSIGNABLE_HEADERS:()=>Dv,AMZ_DATE_HEADER:()=>Gu,AMZ_DATE_QUERY_PARAM:()=>qu,AUTH_HEADER:()=>Wu,CREDENTIAL_QUERY_PARAM:()=>xv,DATE_HEADER:()=>Ov,EVENT_ALGORITHM_IDENTIFIER:()=>Lv,EXPIRES_QUERY_PARAM:()=>Av,GENERATED_HEADERS:()=>Iv,HOST_HEADER:()=>pM,KEY_TYPE_IDENTIFIER:()=>Ku,MAX_CACHE_SIZE:()=>Uv,MAX_PRESIGNED_TTL:()=>jv,PROXY_HEADER_PATTERN:()=>$v,REGION_SET_PARAM:()=>uM,SEC_HEADER_PATTERN:()=>Mv,SHA256_HEADER:()=>Ra,SIGNATURE_HEADER:()=>Nv,SIGNATURE_QUERY_PARAM:()=>zu,SIGNED_HEADERS_QUERY_PARAM:()=>Tv,SignatureV4:()=>PM,SignatureV4Base:()=>Gv,TOKEN_HEADER:()=>kv,TOKEN_QUERY_PARAM:()=>Bu,UNSIGNABLE_PATTERNS:()=>fM,UNSIGNED_PAYLOAD:()=>Fv,clearCredentialCache:()=>gM,createScope:()=>wa,getCanonicalHeaders:()=>ju,getCanonicalQuery:()=>Wv,getPayloadHash:()=>Ca,getSigningKey:()=>Hv,hasHeader:()=>qv,moveHeadersToQuery:()=>Bv,prepareRequest:()=>Vu,signatureV4aContainer:()=>RM});Kv.exports=dM(Pv);var Ev=Se(),Rv="X-Amz-Algorithm",xv="X-Amz-Credential",qu="X-Amz-Date",Tv="X-Amz-SignedHeaders",Av="X-Amz-Expires",zu="X-Amz-Signature",Bu="X-Amz-Security-Token",uM="X-Amz-Region-Set",Wu="authorization",Gu=qu.toLowerCase(),Ov="date",Iv=[Wu,Gu,Ov],Nv=zu.toLowerCase(),Ra="x-amz-content-sha256",kv=Bu.toLowerCase(),pM="host",Dv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},$v=/^proxy-/,Mv=/^sec-/,fM=[/^proxy-/i,/^sec-/i],Ea="AWS4-HMAC-SHA256",mM="AWS4-ECDSA-P256-SHA256",Lv="AWS4-HMAC-SHA256-PAYLOAD",Fv="UNSIGNED-PAYLOAD",Uv=50,Ku="aws4_request",jv=3600*24*7,mr=$d(),hM=Se(),Fn={},ba=[],wa=be((e,t,r)=>`${e}/${t}/${r}/${Ku}`,"createScope"),Hv=be(async(e,t,r,n,o)=>{let s=await bv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,mr.toHex)(s)}:${t.sessionToken}`;if(i in Fn)return Fn[i];for(ba.push(i);ba.length>Uv;)delete Fn[ba.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Ku])a=await bv(e,a,c);return Fn[i]=a},"getSigningKey"),gM=be(()=>{ba.length=0,Object.keys(Fn).forEach(e=>{delete Fn[e]})},"clearCredentialCache"),bv=be((e,t,r)=>{let n=new e(t);return n.update((0,hM.toUint8Array)(r)),n.digest()},"hmac"),ju=be(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Dv||t?.has(s)||$v.test(s)||Mv.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),yM=ud(),_M=Se(),Ca=be(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Ra)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,yM.isArrayBuffer)(t)){let n=new r;return n.update((0,_M.toUint8Array)(t)),(0,mr.toHex)(await n.digest())}return Fv},"getPayloadHash"),wv=Se(),SM=class{static{be(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,wv.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,wv.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(EM.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!vM.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,mr.fromHex)(e.value.replace(/\-/g,"")),1),d}}},vM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,EM=class Vv{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{be(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Hu(r),new Vv(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Hu(t),parseInt((0,mr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Hu(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}be(Hu,"negate");var qv=be((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),zv=Y(),Bv=be((e,t={})=>{let{headers:r,query:n={}}=zv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Vu=be(e=>{e=zv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Iv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),Cv=st(),bM=Se(),Pa=Rd(),Wv=be(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Nv)continue;let o=(0,Pa.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,Pa.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,Pa.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),wM=be(e=>CM(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),CM=be(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Gv=class{static{be(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,Cv.normalizeProvider)(r),this.credentialProvider=(0,Cv.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Wv(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,bM.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,mr.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Pa.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=wM(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},PM=class extends Gv{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new SM}static{be(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:p,shortDate:m}=this.formatDate(r);if(n>jv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=wa(m,u,l??this.service),h=Bv(Vu(e),{unhoistableHeaders:s,hoistableHeaders:a});d.sessionToken&&(h.query[Bu]=d.sessionToken),h.query[Rv]=Ea,h.query[xv]=`${d.accessKeyId}/${g}`,h.query[qu]=p,h.query[Av]=n.toString(10);let S=ju(h,o,i);return h.query[Tv]=this.getCanonicalHeaderList(S),h.query[zu]=await this.getSignature(p,g,this.getSigningKey(d,u,m,l),this.createCanonicalRequest(h,S,await Ca(e,this.sha256))),h}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=wa(a,i,s??this.service),d=await Ca({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let p=(0,mr.toHex)(await u.digest()),m=[Lv,c,l,n,p,d].join(`
`);return this.signString(m,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,Ev.toUint8Array)(e)),(0,mr.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=Vu(e),{longDate:l,shortDate:d}=this.formatDate(t),u=wa(d,a,s??this.service);c.headers[Gu]=l,i.sessionToken&&(c.headers[kv]=i.sessionToken);let p=await Ca(c,this.sha256);!qv(Ra,c.headers)&&this.applyChecksum&&(c.headers[Ra]=p);let m=ju(c,n,r),g=await this.getSignature(l,u,this.getSigningKey(i,a,d,s),this.createCanonicalRequest(c,m,p));return c.headers[Wu]=`${Ea} Credential=${i.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(m)}, Signature=${g}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,Ea),s=new this.sha256(await r);return s.update((0,Ev.toUint8Array)(o)),(0,mr.toHex)(await s.digest())}getSigningKey(e,t,r,n){return Hv(this.sha256,e,r,t,n||this.service)}},RM={SignatureV4a:null}});function xM(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Pu(t,Cu,ua):r?n=ir(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function TM(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Ju,Xr,Yv,Xv=y(()=>{ct();Me();Ju=v(Jv()),Xr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=xM(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=TM(e,d);r&&!u.attributed?(n=async p=>u(p).then(m=>pr(m,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=ir(e.signer):e.regionInfoProvider?a=()=>ir(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:u,signingService:p}=l;e.signingRegion=e.signingRegion||u||d,e.signingName=e.signingName||p||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Ju.SignatureV4;return new g(m)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ir(e.region)(),properties:{}},l);let d=l.signingRegion,u=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||u||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},m=e.signerConstructor||Ju.SignatureV4;return new m(p)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Yv=Xr});var Qv=y(()=>{Mu();cv();pv();vv();Xv()});var Zv={};ot(Zv,{AWSSDKSigV4Signer:()=>$u,AwsSdkSigV4ASigner:()=>Vo,AwsSdkSigV4Signer:()=>Fe,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ln,NODE_SIGV4A_CONFIG_OPTIONS:()=>Sv,getBearerTokenEnvKey:()=>_a,resolveAWSSDKSigV4Config:()=>Yv,resolveAwsSdkSigV4AConfig:()=>_v,resolveAwsSdkSigV4Config:()=>Xr,validateSigningProperties:()=>Mn});var Yu=y(()=>{Qv();Fu()});var AM,OM,IM,eE=y(()=>{AM=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},OM=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},IM=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var qo=E((NG,nE)=>{var Ta=Object.defineProperty,NM=Object.getOwnPropertyDescriptor,kM=Object.getOwnPropertyNames,DM=Object.prototype.hasOwnProperty,$M=(e,t)=>Ta(e,"name",{value:t,configurable:!0}),MM=(e,t)=>{for(var r in t)Ta(e,r,{get:t[r],enumerable:!0})},LM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kM(t))!DM.call(e,o)&&o!==r&&Ta(e,o,{get:()=>t[o],enumerable:!(n=NM(t,o))||n.enumerable});return e},FM=e=>LM(Ta({},"__esModule",{value:!0}),e),rE={};MM(rE,{calculateBodyLength:()=>UM});nE.exports=FM(rE);var tE=typeof TextEncoder=="function"?new TextEncoder:null,UM=$M(e=>{if(typeof e=="string"){if(tE)return tE.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Re,hr=y(()=>{Re=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function oE(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ee(n,"bigDecimal"):BigInt(n)}return t}var sE=y(()=>{at()});var dE=E((MG,lE)=>{var Aa=Object.defineProperty,jM=Object.getOwnPropertyDescriptor,HM=Object.getOwnPropertyNames,VM=Object.prototype.hasOwnProperty,Ge=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),qM=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},zM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HM(t))!VM.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=jM(t,o))||n.enumerable});return e},BM=e=>zM(Aa({},"__esModule",{value:!0}),e),cE={};qM(cE,{constructStack:()=>Xu});lE.exports=BM(cE);var Qr=Ge((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),gr=Ge((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Xu=Ge(()=>{let e=[],t=[],r=!1,n=new Set,o=Ge(u=>u.sort((p,m)=>iE[m.step]-iE[p.step]||aE[m.priority||"normal"]-aE[p.priority||"normal"]),"sort"),s=Ge(u=>{let p=!1,m=Ge(g=>{let h=Qr(g.name,g.aliases);if(h.includes(u)){p=!0;for(let S of h)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(m),t=t.filter(m),p},"removeByName"),i=Ge(u=>{let p=!1,m=Ge(g=>{if(g.middleware===u){p=!0;for(let h of Qr(g.name,g.aliases))n.delete(h);return!1}return!0},"filterCb");return e=e.filter(m),t=t.filter(m),p},"removeByReference"),a=Ge(u=>(e.forEach(p=>{u.add(p.middleware,{...p})}),t.forEach(p=>{u.addRelativeTo(p.middleware,{...p})}),u.identifyOnResolve?.(d.identifyOnResolve()),u),"cloneTo"),c=Ge(u=>{let p=[];return u.before.forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...c(m))}),p.push(u),u.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...c(m))}),p},"expandRelativeMiddlewareList"),l=Ge((u=!1)=>{let p=[],m=[],g={};return e.forEach(S=>{let b={...S,before:[],after:[]};for(let w of Qr(b.name,b.aliases))g[w]=b;p.push(b)}),t.forEach(S=>{let b={...S,before:[],after:[]};for(let w of Qr(b.name,b.aliases))g[w]=b;m.push(b)}),m.forEach(S=>{if(S.toMiddleware){let b=g[S.toMiddleware];if(b===void 0){if(u)return;throw new Error(`${S.toMiddleware} is not found when adding ${gr(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&b.after.push(S),S.relation==="before"&&b.before.push(S)}}),o(p).map(c).reduce((S,b)=>(S.push(...b),S),[])},"getMiddlewareList"),d={add:(u,p={})=>{let{name:m,override:g,aliases:h}=p,S={step:"initialize",priority:"normal",middleware:u,...p},b=Qr(m,h);if(b.length>0){if(b.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${gr(m,h)}'`);for(let w of b){let O=e.findIndex(A=>A.name===w||A.aliases?.some(k=>k===w));if(O===-1)continue;let P=e[O];if(P.step!==S.step||S.priority!==P.priority)throw new Error(`"${gr(P.name,P.aliases)}" middleware with ${P.priority} priority in ${P.step} step cannot be overridden by "${gr(m,h)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(O,1)}}for(let w of b)n.add(w)}e.push(S)},addRelativeTo:(u,p)=>{let{name:m,override:g,aliases:h}=p,S={middleware:u,...p},b=Qr(m,h);if(b.length>0){if(b.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${gr(m,h)}'`);for(let w of b){let O=t.findIndex(A=>A.name===w||A.aliases?.some(k=>k===w));if(O===-1)continue;let P=t[O];if(P.toMiddleware!==S.toMiddleware||P.relation!==S.relation)throw new Error(`"${gr(P.name,P.aliases)}" middleware ${P.relation} "${P.toMiddleware}" middleware cannot be overridden by "${gr(m,h)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(O,1)}}for(let w of b)n.add(w)}t.push(S)},clone:()=>a(Xu()),use:u=>{u.applyToStack(d)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let p=!1,m=Ge(g=>{let{tags:h,name:S,aliases:b}=g;if(h&&h.includes(u)){let w=Qr(S,b);for(let O of w)n.delete(O);return p=!0,!1}return!0},"filterCb");return e=e.filter(m),t=t.filter(m),p},concat:u=>{let p=a(Xu());return p.use(u),p.identifyOnResolve(r||p.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>l(!0).map(u=>{let p=u.step??u.relation+" "+u.toMiddleware;return gr(u.name,u.aliases)+" - "+p}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,p)=>{for(let m of l().map(g=>g.middleware).reverse())u=m(u,p);return r&&console.log(d.identify()),u}};return d},"constructStack"),iE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},aE={high:3,normal:2,low:1}});var M=E((LG,op)=>{var Oa=Object.defineProperty,WM=Object.getOwnPropertyDescriptor,GM=Object.getOwnPropertyNames,KM=Object.prototype.hasOwnProperty,V=(e,t)=>Oa(e,"name",{value:t,configurable:!0}),JM=(e,t)=>{for(var r in t)Oa(e,r,{get:t[r],enumerable:!0})},Zu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GM(t))!KM.call(e,o)&&o!==r&&Oa(e,o,{get:()=>t[o],enumerable:!(n=WM(t,o))||n.enumerable});return e},YM=(e,t,r)=>(Zu(e,t,"default"),r&&Zu(r,t,"default")),XM=e=>Zu(Oa({},"__esModule",{value:!0}),e),rp={};JM(rp,{Client:()=>QM,Command:()=>fE,NoOpLogger:()=>h2,SENSITIVE_STRING:()=>e2,ServiceException:()=>r2,_json:()=>tp,collectBody:()=>Qu.collectBody,convertMap:()=>g2,createAggregatedClient:()=>t2,decorateServiceException:()=>mE,emitWarningIfUnsupportedVersion:()=>i2,extendedEncodeURIComponent:()=>Qu.extendedEncodeURIComponent,getArrayIfSingleItem:()=>f2,getDefaultClientConfiguration:()=>u2,getDefaultExtensionConfiguration:()=>gE,getValueFromTextNode:()=>yE,isSerializableHeaderValue:()=>m2,loadConfigsForDefaultMode:()=>s2,map:()=>np,resolveDefaultRuntimeConfig:()=>p2,resolvedPath:()=>Qu.resolvedPath,serializeDateTime:()=>b2,serializeFloat:()=>E2,take:()=>y2,throwDefaultError:()=>hE,withBaseException:()=>n2});op.exports=XM(rp);var pE=dE(),QM=class{constructor(e){this.config=e,this.middlewareStack=(0,pE.constructStack)()}static{V(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Qu=(Ft(),U(cS)),ep=ht(),fE=class{constructor(){this.middlewareStack=(0,pE.constructStack)()}static{V(this,"Command")}static classBuilder(){return new ZM}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let h of n.bind(this)(d,e,t,r))this.middlewareStack.use(h);let u=e.concat(this.middlewareStack),{logger:p}=t,m={logger:p,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[ep.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return u.resolve(h=>g.handle(h.request,r||{}),m)}},ZM=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{V(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends fE{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{V(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},e2="***SensitiveInformation***",t2=V((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=V(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),r2=class zo extends Error{static{V(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return zo.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===zo?zo.isInstance(t):zo.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},mE=V((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),hE=V(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=o2(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw mE(i,t)},"throwDefaultError"),n2=V(e=>({output:t,parsedBody:r,errorCode:n})=>{hE({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),o2=V(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),s2=V(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),uE=!1,i2=V(e=>{e&&!uE&&parseInt(e.substring(1,e.indexOf(".")))<16&&(uE=!0)},"emitWarningIfUnsupportedVersion"),a2=V(e=>{let t=[];for(let r in ep.AlgorithmId){let n=ep.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),c2=V(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),l2=V(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),d2=V(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),gE=V(e=>Object.assign(a2(e),l2(e)),"getDefaultExtensionConfiguration"),u2=gE,p2=V(e=>Object.assign(c2(e),d2(e)),"resolveDefaultRuntimeConfig"),f2=V(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),yE=V(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=yE(e[r]));return e},"getValueFromTextNode"),m2=V(e=>e!=null,"isSerializableHeaderValue"),h2=class{static{V(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function np(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,_2(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}_E(n,null,s,i)}return n}V(np,"map");var g2=V(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),y2=V((e,t)=>{let r={};for(let n in t)_E(r,e,t,n);return r},"take"),_2=V((e,t,r)=>np(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),_E=V((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=S2,c=v2,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),S2=V(e=>e!=null,"nonNullish"),v2=V(e=>e,"pass"),E2=V(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),b2=V(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),tp=V(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(tp);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=tp(e[r]));return t}return e},"_json");YM(rp,(at(),U(X_)),op.exports)});var SE,Ia,sp=y(()=>{SE=v(M()),Ia=(e,t)=>(0,SE.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Un,ip,Zr,Bo=y(()=>{sp();Un=(e,t)=>Ia(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ip=async(e,t)=>{let r=await Un(e,t);return r.message=r.message??r.Message,r},Zr=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var vE,Wo,ap=y(()=>{he();at();vE=v(Ae());hr();sE();Bo();Wo=class extends Re{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,oE):await Un(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=I.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(i,d));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._read(c,r[l]);d!=null&&(i[a]=d)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,vE.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ie.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===x.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return Oo(r);case x.TIMESTAMP_HTTP_DATE:return Io(r);case x.TIMESTAMP_EPOCH_SECONDS:return No(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Ee?r:new Ee(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var EE,Na,bE=y(()=>{at();EE="\u039D",Na=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ee){let n=`${EE+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${EE+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Go,cp=y(()=>{he();at();hr();bE();Go=class extends Re{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=I.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Na;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=I.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(i,d));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,d=this._write(c,r[a],s);d!==void 0&&(i[l]=d)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===x.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case x.TIMESTAMP_HTTP_DATE:return Ao(r);case x.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return bt();let i=s.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Ie.from(r)}return r}}}});var en,ka=y(()=>{hr();ap();cp();en=class extends Re{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Go(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Wo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var wE,tn,Da=y(()=>{Ft();he();wE=v(qo());ka();Bo();tn=class extends zr{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new en({timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${I.of(t).getName()}`}),(Lt(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,wE.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Zr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Oe.for(a),d;try{d=l.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),o)}throw new Error(c)}let u=I.of(d),p=o.message??o.Message??"Unknown",m=new d.ctor(p);await this.deserializeHttpMessage(d,r,n,o);let g={};for(let[h,S]of u.structIterator()){let b=S.getMergedTraits().jsonName??h;g[h]=this.codec.createDeserializer().readObject(S,o[b])}throw Object.assign(m,{$metadata:s,$response:n,$fault:u.getMergedTraits().error,message:p,...g}),m}}});var lp,CE=y(()=>{Da();lp=class extends tn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var dp,PE=y(()=>{Da();dp=class extends tn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var RE,up,xE=y(()=>{Ft();he();RE=v(qo());ka();Bo();up=class extends qr{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new en(r),this.serializer=new Kr(this.codec.createSerializer(),r),this.deserializer=new Gr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=I.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:p,httpLabel:m,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!p&&!m&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,RE.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Zr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Oe.for(a),d;try{d=l.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),o)}throw new Error(c)}let u=I.of(d),p=o.message??o.Message??"Unknown",m=new d.ctor(p);await this.deserializeHttpMessage(d,r,n,o);let g={};for(let[h,S]of u.structIterator()){let b=S.getMergedTraits().jsonName??h;g[h]=this.codec.createDeserializer().readObject(S,o[b])}throw Object.assign(m,{$metadata:s,$response:n,$fault:u.getMergedTraits().error,message:p,...g}),m}getDefaultContentType(){return"application/json"}}});var TE,w2,AE=y(()=>{TE=v(M()),w2=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,TE.expectUnion)(e)}});function $a(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function IE(e){return typeof e<"u"}var OE,C2,P2,R2,Ko,Ma=y(()=>{"use strict";OE=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",C2=OE+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",P2="["+OE+"]["+C2+"]*",R2=new RegExp("^"+P2+"$");Ko=function(e){let t=R2.exec(e);return!(t===null||typeof t>"u")}});function ME(e,t){t=Object.assign({},x2,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=kE(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=DE(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!$2(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",le("InvalidTag",u,ke(e,s))}let l=O2(e,s);if(l===!1)return le("InvalidAttr","Attributes for '"+c+"' have open quote.",ke(e,s));let d=l.value;if(s=l.index,d[d.length-1]==="/"){let u=s-d.length;d=d.substring(0,d.length-1);let p=$E(d,t);if(p===!0)n=!0;else return le(p.err.code,p.err.msg,ke(e,u+p.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return le("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ke(e,i));if(r.length===0)return le("InvalidTag","Closing tag '"+c+"' has not been opened.",ke(e,i));{let u=r.pop();if(c!==u.tagName){let p=ke(e,u.tagStartPos);return le("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",ke(e,i))}r.length==0&&(o=!0)}}else return le("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ke(e,s));else{let u=$E(d,t);if(u!==!0)return le(u.err.code,u.err.msg,ke(e,s-d.length+u.err.line));if(o===!0)return le("InvalidXml","Multiple possible root nodes found.",ke(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=DE(e,s);continue}else if(e[s+1]==="?"){if(s=kE(e,++s),s.err)return s}else break;else if(e[s]==="&"){let u=k2(e,s);if(u==-1)return le("InvalidChar","char '&' is not expected.",ke(e,s));s=u}else if(o===!0&&!NE(e[s]))return le("InvalidXml","Extra text at the end",ke(e,s));e[s]==="<"&&s--}}else{if(NE(e[s]))continue;return le("InvalidChar","char '"+e[s]+"' is not expected.",ke(e,s))}if(n){if(r.length==1)return le("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ke(e,r[0].tagStartPos));if(r.length>0)return le("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return le("InvalidXml","Start tag expected.",1);return!0}function NE(e){return e===" "||e==="	"||e===`
`||e==="\r"}function kE(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return le("InvalidXml","XML declaration allowed only at the start of the document.",ke(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function DE(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function O2(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===T2||e[t]===A2)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function $E(e,t){let r=$a(e,I2),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return le("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Jo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return le("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Jo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return le("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Jo(r[o]));let s=r[o][2];if(!D2(s))return le("InvalidAttr","Attribute '"+s+"' is an invalid name.",Jo(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return le("InvalidAttr","Attribute '"+s+"' is repeated.",Jo(r[o]))}return!0}function N2(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function k2(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,N2(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function le(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function D2(e){return Ko(e)}function $2(e){return Ko(e)}function ke(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Jo(e){return e.startIndex+e[1].length}var x2,T2,A2,I2,LE=y(()=>{"use strict";Ma();x2={allowBooleanAttributes:!1,unpairedTags:[]};T2='"',A2="'";I2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var M2,FE,UE=y(()=>{M2={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},FE=function(e){return Object.assign({},M2,e)}});var La,ze,Fa=y(()=>{"use strict";typeof Symbol!="function"?La="@@xmlMetadata":La=Symbol("XML Node Metadata");ze=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][La]={startIndex:r})}static getMetaDataSymbol(){return La}}});function pp(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&rn(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=L2(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&rn(e,"!ELEMENT",t)){t+=8;let{index:a}=U2(e,t+1);t=a}else if(o&&rn(e,"!ATTLIST",t))t+=8;else if(o&&rn(e,"!NOTATION",t)){t+=9;let{index:a}=F2(e,t+1);t=a}else if(rn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function L2(e,t){t=yr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(fp(r),t=yr(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Ua(e,t,"entity"),t--,[r,n,t]}function F2(e,t){t=yr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;fp(r),t=yr(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=yr(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Ua(e,t,"publicIdentifier"),t=yr(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Ua(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Ua(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Ua(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function U2(e,t){t=yr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!fp(r))throw new Error(`Invalid element name: "${r}"`);t=yr(e,t);let n="";if(e[t]==="E"&&rn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&rn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function rn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function fp(e){if(Ko(e))return e;throw new Error(`Invalid entity name ${e}`)}var yr,jE=y(()=>{Ma();yr=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function mp(e,t={}){if(t=Object.assign({},V2,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&j2.test(r))return W2(r,16);if(r.search(/.+[eE].+/)!==-1)return z2(e,r,t);{let n=H2.exec(r);if(n){let o=n[1]||"",s=n[2],i=B2(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let d=s?i:r;return s?d===l||o+d===l?c:e:d===l||d===o+l?c:e}}else return e}}function z2(e,t,r){if(!r.eNotation)return e;let n=t.match(q2);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function B2(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function W2(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var j2,H2,V2,q2,HE=y(()=>{j2=/^[-+]?0x[a-fA-F0-9]+$/,H2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,V2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};q2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function hp(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var VE=y(()=>{});function G2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function K2(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?yp(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?yp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function J2(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function X2(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=$a(e,Y2),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?s[l]=c:typeof d!=typeof c||d!==c?s[l]=d:s[l]=yp(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function Z2(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function tL(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function rL(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function nL(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function nn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function gp(e,t,r,n=">"){let o=nL(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let d=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),l=c!==o.data.substr(u+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:d}}function oL(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=nn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=nn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=nn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=nn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=gp(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function yp(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:mp(e,r)}else return IE(e)?e:""}var Yo,Y2,Q2,eL,qE=y(()=>{"use strict";Ma();Fa();jE();HE();VE();Yo=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=G2,this.parseXml=Q2,this.parseTextData=K2,this.resolveNameSpace=J2,this.buildAttributesMap=X2,this.isItStopNode=rL,this.replaceEntitiesValue=eL,this.readStopNodeData=oL,this.saveTextToParentTag=tL,this.addChild=Z2,this.ignoreAttributesFn=hp(this.options.ignoreAttributes)}};Y2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");Q2=function(e){e=e.replace(/\r\n?/g,`
`);let t=new ze("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=nn(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=o.lastIndexOf("."),o=o.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=gp(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new ze(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=nn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=pp(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=nn(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=gp(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,u=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let m=r;m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let g=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let h="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),d=c):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let b=this.readStopNodeData(e,l,p+1);if(!b)throw new Error(`Unexpected end of ${l}`);s=b.i,h=b.tagContent}let S=new ze(c);c!==d&&u&&(S[":@"]=this.buildAttributesMap(d,o,c)),h&&(h=this.parseTextData(h,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,h),this.addChild(r,S,o,g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let h=new ze(c);c!==d&&u&&(h[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,h,o,g),o=o.substr(0,o.lastIndexOf("."))}else{let h=new ze(c);this.tagsNodeStack.push(r),c!==d&&u&&(h[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,h,o,g),r=h}n="",s=p}}else n+=e[s];return t.child};eL=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Sp(e,t){return zE(e,t)}function zE(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=sL(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=zE(i[a],t,c),d=aL(l,t);i[_p]!==void 0&&(l[_p]=i[_p]),i[":@"]?iL(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,d)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function sL(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function iL(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function aL(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var _p,BE=y(()=>{"use strict";Fa();_p=ze.getMetaDataSymbol()});var _r,WE=y(()=>{UE();qE();BE();LE();Fa();_r=class{constructor(t){this.externalEntities={},this.options=FE(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=ME(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Yo(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Sp(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return ze.getMetaDataSymbol()}}});var vp=y(()=>{"use strict";WE()});var GE,KE,on,ja=y(()=>{Ft();he();GE=v(M()),KE=v(Se());vp();hr();on=class extends Re{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Wr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=I.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(s)[0];return s[d].isBlobSchema()?l[d]=r:l[d]=this.read(s[d],r),l}let a=(this.serdeContext?.utf8Encoder??KE.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=I.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",u=i?r:(r[0]??r)[d],p=Array.isArray(u)?u:[u];for(let m of p)(m!=null||s)&&l.push(this.readSchema(c,m));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let u=c.getMergedTraits().xmlName??"key",p=l.getMergedTraits().xmlName??"value";for(let m of d){let g=m[u],h=m[p];(h!=null||s)&&(a[g]=this.readSchema(l,h))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let d=l.getMergedTraits(),u=d.httpPayload?d.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[u]!=null&&(a[c]=this.readSchema(l,r[u]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new _r({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,GE.getValueFromTextNode)(i)}return{}}}});var JE,YE,Ha,XE=y(()=>{Ft();he();at();JE=v(M()),YE=v(Ae());hr();Ha=class extends Re{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=I.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??YE.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(bt()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ee?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Br(o,this.settings)){case x.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case x.TIMESTAMP_HTTP_DATE:this.writeValue((0,JE.dateToUtcString)(r));break;case x.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,d),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let u=this.getKey("key",s.getMergedTraits().xmlName),p=a?`${n}${c}.${u}`:`${n}entry.${c}.${u}`,m=this.getKey("value",i.getMergedTraits().xmlName),g=a?`${n}${c}.${m}`:`${n}entry.${c}.${m}`;this.write(s,l,p),this.write(i,d,g),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${St(t)}=`}writeValue(t){this.buffer+=St(t)}}});var QE,Xo,Ep=y(()=>{Ft();he();QE=v(qo());ja();XE();Xo=class extends zr{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Ha(r),this.deserializer=new on(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Lt(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,QE.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=I.of(t.output),i={};if(n.statusCode>=300){let d=await it(n.body,r);d.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let u=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=u}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await it(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),d=Oe.for(a),u;try{u=d.find(S=>I.of(S).getMergedTraits().awsQueryError?.[0]===c),u||(u=d.getSchema(i))}catch{let b=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(b){let w=b.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let p=I.of(u),m=this.loadQueryErrorMessage(o),g=new u.ctor(m),h={};for(let[S,b]of p.structIterator()){let w=b.getMergedTraits().xmlName??S,O=l[w]??o[w];h[S]=this.deserializer.readSchema(b,O)}throw Object.assign(g,{$metadata:s,$response:n,$fault:p.getMergedTraits().error,message:m,...h}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var bp,ZE=y(()=>{Ep();bp=class extends Xo{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var eb,Qo,wp,Cp,Pp=y(()=>{eb=v(M());vp();sp();Qo=(e,t)=>Ia(e,t).then(r=>{if(r.length){let n=new _r({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,eb.getValueFromTextNode)(a)}return{}}),wp=async(e,t)=>{let r=await Qo(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Cp=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var ib=E((hJ,sb)=>{"use strict";var qa=Object.defineProperty,cL=Object.getOwnPropertyDescriptor,lL=Object.getOwnPropertyNames,dL=Object.prototype.hasOwnProperty,za=(e,t)=>qa(e,"name",{value:t,configurable:!0}),uL=(e,t)=>{for(var r in t)qa(e,r,{get:t[r],enumerable:!0})},pL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lL(t))!dL.call(e,o)&&o!==r&&qa(e,o,{get:()=>t[o],enumerable:!(n=cL(t,o))||n.enumerable});return e},fL=e=>pL(qa({},"__esModule",{value:!0}),e),tb={};uL(tb,{XmlNode:()=>mL,XmlText:()=>ob});sb.exports=fL(tb);function rb(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}za(rb,"escapeAttribute");function nb(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}za(nb,"escapeElement");var ob=class{constructor(e){this.value=e}static{za(this,"XmlText")}toString(){return nb(""+this.value)}},mL=class Va{constructor(t,r=[]){this.name=t,this.children=r}static{za(this,"XmlNode")}attributes={};static of(t,r,n){let o=new Va(t);return r!==void 0&&o.addChildNode(new ob(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=Va.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new Va(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${rb(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var Ke,Rp,Ba,Zo,xp=y(()=>{Ke=v(ib());he();at();Rp=v(M()),Ba=v(Ae());hr();Zo=class extends Re{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=I.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Ba.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Ke.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,d]of t.structIterator()){let u=r[l];if(u!=null||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??l,this.writeSimple(d,u));continue}if(d.isListSchema())this.writeList(d,u,i,c);else if(d.isMapSchema())this.writeMap(d,u,i,c);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,u,c));else{let p=Ke.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,u,p,c),i.addChildNode(p)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[d,u]=this.getXmlnsAttribute(t,o),p=(m,g)=>{if(i.isListSchema())this.writeList(i,Array.isArray(g)?g:[g],m,u);else if(i.isMapSchema())this.writeMap(i,g,m,u);else if(i.isStructSchema()){let h=this.writeStruct(i,g,u);m.addChildNode(h.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let h=Ke.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,g,h,u),m.addChildNode(h)}};if(l)for(let m of r)(c||m!=null)&&p(n,m);else{let m=Ke.XmlNode.of(s.xmlName??t.getMemberName());u&&m.addAttribute(d,u);for(let g of r)(c||g!=null)&&p(m,g);n.addChildNode(m)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),u=d.getMergedTraits(),p=u.xmlName??"value",m=!!u.sparse,g=!!i.xmlFlattened,[h,S]=this.getXmlnsAttribute(t,o),b=(w,O,P)=>{let A=Ke.XmlNode.of(l,O),[k,Pe]=this.getXmlnsAttribute(a,S);Pe&&A.addAttribute(k,Pe),w.addChildNode(A);let K=Ke.XmlNode.of(p);d.isListSchema()?this.writeList(d,P,K,S):d.isMapSchema()?this.writeMap(d,P,K,S,!0):d.isStructSchema()?K=this.writeStruct(d,P,S):this.writeSimpleInto(d,P,K,S),w.addChildNode(K)};if(g){for(let[w,O]of Object.entries(r))if(m||O!=null){let P=Ke.XmlNode.of(i.xmlName??t.getMemberName());b(P,w,O),n.addChildNode(P)}}else{let w;s||(w=Ke.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(h,S),n.addChildNode(w));for(let[O,P]of Object.entries(r))if(m||P!=null){let A=Ke.XmlNode.of("entry");b(A,O,P),(s?n:w).addChildNode(A)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=I.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Ba.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===x.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case x.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:o=(0,Rp.dateToUtcString)(r);break;case x.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Rp.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ee?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=bt():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=I.of(t),a=new Ke.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var es,Tp=y(()=>{hr();ja();xp();es=class extends Re{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Zo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new on(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var ab,Ap,cb=y(()=>{Ft();he();ab=v(qo());Pp();Tp();Ap=class extends qr{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new es(r),this.serializer=new Kr(this.codec.createSerializer(),r),this.deserializer=new Gr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=I.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:d,httpQueryParams:u,httpHeader:p,httpLabel:m,httpPrefixHeaders:g}=l.getMergedTraits();return!d&&!u&&!p&&!m&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,ab.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Cp(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Oe.for(a),d;try{d=l.getSchema(i)}catch{let S=Oe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(c),o)}throw new Error(c)}let u=I.of(d),p=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",m=new d.ctor(p);await this.deserializeHttpMessage(d,r,n,o);let g={};for(let[h,S]of u.structIterator()){let b=S.getMergedTraits().xmlName??h,w=o.Error?.[b]??o[b];g[h]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(m,{$metadata:s,$response:n,$fault:u.getMergedTraits().error,message:p,...g}),m}getDefaultContentType(){return"application/xml"}}});var lb=y(()=>{eE();CE();PE();Da();xE();ka();ap();cp();AE();Bo();ZE();Ep();cb();Tp();ja();xp();Pp()});var wt={};ot(wt,{AWSSDKSigV4Signer:()=>$u,AwsEc2QueryProtocol:()=>bp,AwsJson1_0Protocol:()=>lp,AwsJson1_1Protocol:()=>dp,AwsJsonRpcProtocol:()=>tn,AwsQueryProtocol:()=>Xo,AwsRestJsonProtocol:()=>up,AwsRestXmlProtocol:()=>Ap,AwsSdkSigV4ASigner:()=>Vo,AwsSdkSigV4Signer:()=>Fe,JsonCodec:()=>en,JsonShapeDeserializer:()=>Wo,JsonShapeSerializer:()=>Go,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ln,NODE_SIGV4A_CONFIG_OPTIONS:()=>Sv,XmlCodec:()=>es,XmlShapeDeserializer:()=>on,XmlShapeSerializer:()=>Zo,_toBool:()=>OM,_toNum:()=>IM,_toStr:()=>AM,awsExpectUnion:()=>w2,emitWarningIfUnsupportedVersion:()=>Dn,getBearerTokenEnvKey:()=>_a,loadRestJsonErrorCode:()=>Zr,loadRestXmlErrorCode:()=>Cp,parseJsonBody:()=>Un,parseJsonErrorBody:()=>ip,parseXmlBody:()=>Qo,parseXmlErrorBody:()=>wp,resolveAWSSDKSigV4Config:()=>Yv,resolveAwsSdkSigV4AConfig:()=>_v,resolveAwsSdkSigV4Config:()=>Xr,setCredentialFeature:()=>pr,setFeature:()=>YS,setTokenFeature:()=>QS,state:()=>ya,validateSigningProperties:()=>Mn});var ge=y(()=>{ct();Yu();lb()});var jn=E((XJ,Eb)=>{"use strict";var Ga=Object.defineProperty,hL=Object.getOwnPropertyDescriptor,gL=Object.getOwnPropertyNames,yL=Object.prototype.hasOwnProperty,Ht=(e,t)=>Ga(e,"name",{value:t,configurable:!0}),_L=(e,t)=>{for(var r in t)Ga(e,r,{get:t[r],enumerable:!0})},SL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gL(t))!yL.call(e,o)&&o!==r&&Ga(e,o,{get:()=>t[o],enumerable:!(n=hL(t,o))||n.enumerable});return e},vL=e=>SL(Ga({},"__esModule",{value:!0}),e),fb={};_L(fb,{DEFAULT_UA_APP_ID:()=>mb,getUserAgentMiddlewareOptions:()=>vb,getUserAgentPlugin:()=>TL,resolveUserAgentConfig:()=>gb,userAgentMiddleware:()=>Sb});Eb.exports=vL(fb);var EL=(Me(),U(In)),mb=void 0;function hb(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Ht(hb,"isValidUserAgentAppId");function gb(e){let t=(0,EL.normalizeProvider)(e.userAgentAppId??mb),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Ht(async()=>{let n=await t();if(!hb(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Ht(gb,"resolveUserAgentConfig");var bL=kn(),wL=Y(),Ct=(ge(),U(wt)),CL=/\d{12}\.ddb/;async function yb(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Ct.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,Ct.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Ct.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Ct.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(CL)&&(0,Ct.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Ct.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Ct.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Ct.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,Ct.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,Ct.setFeature)(e,i,a)}}Ht(yb,"checkFeatures");var db="user-agent",Op="x-amz-user-agent",ub=" ",Ip="/",PL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,RL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,pb="-",xL=1024;function _b(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=xL){t.length?t+=","+n:t+=n;continue}break}return t}Ht(_b,"encodeFeatures");var Sb=Ht(e=>(t,r)=>async n=>{let{request:o}=n;if(!wL.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Wa)||[],a=(await e.defaultUserAgentProvider()).map(Wa);await yb(r,e,n);let c=r;a.push(`m/${_b(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Wa)||[],d=await e.userAgentAppId();d&&a.push(Wa([`app/${d}`]));let u=(0,bL.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...a,...i,...l]).join(ub),m=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(ub);return e.runtime!=="browser"?(m&&(s[Op]=s[Op]?`${s[db]} ${m}`:m),s[db]=p):s[Op]=p,t({...n,request:o})},"userAgentMiddleware"),Wa=Ht(e=>{let t=e[0].split(Ip).map(i=>i.replace(PL,pb)).join(Ip),r=e[1]?.replace(RL,pb),n=t.indexOf(Ip),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),vb={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},TL=Ht(e=>({applyToStack:Ht(t=>{t.add(Sb(e),vb)},"applyToStack")}),"getUserAgentPlugin")});var Rb=E((QJ,Pb)=>{var Ka=Object.defineProperty,AL=Object.getOwnPropertyDescriptor,OL=Object.getOwnPropertyNames,IL=Object.prototype.hasOwnProperty,bb=(e,t)=>Ka(e,"name",{value:t,configurable:!0}),NL=(e,t)=>{for(var r in t)Ka(e,r,{get:t[r],enumerable:!0})},kL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of OL(t))!IL.call(e,o)&&o!==r&&Ka(e,o,{get:()=>t[o],enumerable:!(n=AL(t,o))||n.enumerable});return e},DL=e=>kL(Ka({},"__esModule",{value:!0}),e),wb={};NL(wb,{SelectorType:()=>Cb,booleanSelector:()=>$L,numberSelector:()=>ML});Pb.exports=DL(wb);var $L=bb((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),ML=bb((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Cb=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Cb||{})});var Pt=E((ZJ,Lb)=>{var Ya=Object.defineProperty,LL=Object.getOwnPropertyDescriptor,FL=Object.getOwnPropertyNames,UL=Object.prototype.hasOwnProperty,lt=(e,t)=>Ya(e,"name",{value:t,configurable:!0}),jL=(e,t)=>{for(var r in t)Ya(e,r,{get:t[r],enumerable:!0})},HL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of FL(t))!UL.call(e,o)&&o!==r&&Ya(e,o,{get:()=>t[o],enumerable:!(n=LL(t,o))||n.enumerable});return e},VL=e=>HL(Ya({},"__esModule",{value:!0}),e),Ab={};jL(Ab,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Ib,CONFIG_USE_FIPS_ENDPOINT:()=>kb,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>qL,DEFAULT_USE_FIPS_ENDPOINT:()=>BL,ENV_USE_DUALSTACK_ENDPOINT:()=>Ob,ENV_USE_FIPS_ENDPOINT:()=>Nb,NODE_REGION_CONFIG_FILE_OPTIONS:()=>XL,NODE_REGION_CONFIG_OPTIONS:()=>YL,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>zL,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>WL,REGION_ENV_NAME:()=>Db,REGION_INI_NAME:()=>$b,getRegionInfo:()=>rF,resolveCustomEndpointsConfig:()=>GL,resolveEndpointsConfig:()=>JL,resolveRegionConfig:()=>QL});Lb.exports=VL(Ab);var Sr=Rb(),Ob="AWS_USE_DUALSTACK_ENDPOINT",Ib="use_dualstack_endpoint",qL=!1,zL={environmentVariableSelector:e=>(0,Sr.booleanSelector)(e,Ob,Sr.SelectorType.ENV),configFileSelector:e=>(0,Sr.booleanSelector)(e,Ib,Sr.SelectorType.CONFIG),default:!1},Nb="AWS_USE_FIPS_ENDPOINT",kb="use_fips_endpoint",BL=!1,WL={environmentVariableSelector:e=>(0,Sr.booleanSelector)(e,Nb,Sr.SelectorType.ENV),configFileSelector:e=>(0,Sr.booleanSelector)(e,kb,Sr.SelectorType.CONFIG),default:!1},Ja=st(),GL=lt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ja.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ja.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),KL=lt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),JL=lt(e=>{let t=(0,Ja.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ja.normalizeProvider)(typeof r=="string"?o(r):r):()=>KL({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Db="AWS_REGION",$b="region",YL={environmentVariableSelector:e=>e[Db],configFileSelector:e=>e[$b],default:()=>{throw new Error("Region is missing")}},XL={preferredFile:"credentials"},Mb=lt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),xb=lt(e=>Mb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),QL=lt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return xb(t);let n=await t();return xb(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Mb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),Tb=lt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),ZL=lt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),eF=lt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),tF=lt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),rF=lt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=eF(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=Tb(o[a]?.variants,c),d=Tb(s[i]?.variants,c),u=ZL(a,{regionHostname:l,partitionHostname:d});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let p=tF(u,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:u,...p&&{signingRegion:p},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var ts=E((eY,Vb)=>{var Xa=Object.defineProperty,nF=Object.getOwnPropertyDescriptor,oF=Object.getOwnPropertyNames,sF=Object.prototype.hasOwnProperty,Ub=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),iF=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},aF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oF(t))!sF.call(e,o)&&o!==r&&Xa(e,o,{get:()=>t[o],enumerable:!(n=nF(t,o))||n.enumerable});return e},cF=e=>aF(Xa({},"__esModule",{value:!0}),e),jb={};iF(jb,{contentLengthMiddleware:()=>Np,contentLengthMiddlewareOptions:()=>Hb,getContentLengthPlugin:()=>dF});Vb.exports=cF(jb);var lF=Y(),Fb="content-length";function Np(e){return t=>async r=>{let n=r.request;if(lF.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Fb)===-1)try{let i=e(o);n.headers={...n.headers,[Fb]:String(i)}}catch{}}return t({...r,request:n})}}Ub(Np,"contentLengthMiddleware");var Hb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},dF=Ub(e=>({applyToStack:t=>{t.add(Np(e.bodyLengthChecker),Hb)}}),"getContentLengthPlugin")});var Hn=E(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.getHomeDir=void 0;var uF=require("os"),pF=require("path"),kp={},fF=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",mF=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${pF.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=fF();return kp[o]||(kp[o]=(0,uF.homedir)()),kp[o]};Qa.getHomeDir=mF});var Dp=E(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.getSSOTokenFilepath=void 0;var hF=require("crypto"),gF=require("path"),yF=Hn(),_F=e=>{let r=(0,hF.createHash)("sha1").update(e).digest("hex");return(0,gF.join)((0,yF.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Za.getSSOTokenFilepath=_F});var qb=E(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.getSSOTokenFromFile=void 0;var SF=require("fs"),vF=Dp(),{readFile:EF}=SF.promises,bF=async e=>{let t=(0,vF.getSSOTokenFilepath)(e),r=await EF(t,"utf8");return JSON.parse(r)};ec.getSSOTokenFromFile=bF});var Mp=E(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.slurpFile=void 0;var wF=require("fs"),{readFile:CF}=wF.promises,$p={},PF=(e,t)=>((!$p[e]||t?.ignoreCache)&&($p[e]=CF(e,"utf8")),$p[e]);tc.slurpFile=PF});var vr=E((sY,ns)=>{var oc=Object.defineProperty,RF=Object.getOwnPropertyDescriptor,xF=Object.getOwnPropertyNames,TF=Object.prototype.hasOwnProperty,Je=(e,t)=>oc(e,"name",{value:t,configurable:!0}),AF=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},Lp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xF(t))!TF.call(e,o)&&o!==r&&oc(e,o,{get:()=>t[o],enumerable:!(n=RF(t,o))||n.enumerable});return e},Up=(e,t,r)=>(Lp(e,t,"default"),r&&Lp(r,t,"default")),OF=e=>Lp(oc({},"__esModule",{value:!0}),e),rs={};AF(rs,{CONFIG_PREFIX_SEPARATOR:()=>sn,DEFAULT_PROFILE:()=>Gb,ENV_PROFILE:()=>Wb,getProfileName:()=>IF,loadSharedConfigFiles:()=>Jb,loadSsoSessionData:()=>zF,parseKnownFiles:()=>WF});ns.exports=OF(rs);Up(rs,Hn(),ns.exports);var Wb="AWS_PROFILE",Gb="default",IF=Je(e=>e.profile||process.env[Wb]||Gb,"getProfileName");Up(rs,Dp(),ns.exports);Up(rs,qb(),ns.exports);var rc=ht(),NF=Je(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(sn);return r===-1?!1:Object.values(rc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(sn),s=r.substring(0,o)===rc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),nc=require("path"),kF=Hn(),DF="AWS_CONFIG_FILE",Kb=Je(()=>process.env[DF]||(0,nc.join)((0,kF.getHomeDir)(),".aws","config"),"getConfigFilepath"),$F=Hn(),MF="AWS_SHARED_CREDENTIALS_FILE",LF=Je(()=>process.env[MF]||(0,nc.join)((0,$F.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),FF=Hn(),UF=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,jF=["__proto__","profile __proto__"],Fp=Je(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=UF.exec(a);if(c){let[,l,,d]=c;Object.values(rc.IniSectionType).includes(l)&&(r=[l,d].join(sn))}else r=a;if(jF.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(sn):c;t[r][d]=l}}}}return t},"parseIni"),zb=Mp(),Bb=Je(()=>({}),"swallowError"),sn=".",Jb=Je(async(e={})=>{let{filepath:t=LF(),configFilepath:r=Kb()}=e,n=(0,FF.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,nc.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,nc.join)(n,r.slice(2)));let a=await Promise.all([(0,zb.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Fp).then(NF).catch(Bb),(0,zb.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(Fp).catch(Bb)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),HF=Je(e=>Object.entries(e).filter(([t])=>t.startsWith(rc.IniSectionType.SSO_SESSION+sn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(sn)+1)]:n}),{}),"getSsoSessionData"),VF=Mp(),qF=Je(()=>({}),"swallowError"),zF=Je(async(e={})=>(0,VF.slurpFile)(e.configFilepath??Kb()).then(Fp).then(HF).catch(qF),"loadSsoSessionData"),BF=Je((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),WF=Je(async e=>{let t=await Jb(e);return BF(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Er=E((iY,Qb)=>{var sc=Object.defineProperty,GF=Object.getOwnPropertyDescriptor,KF=Object.getOwnPropertyNames,JF=Object.prototype.hasOwnProperty,Vn=(e,t)=>sc(e,"name",{value:t,configurable:!0}),YF=(e,t)=>{for(var r in t)sc(e,r,{get:t[r],enumerable:!0})},XF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KF(t))!JF.call(e,o)&&o!==r&&sc(e,o,{get:()=>t[o],enumerable:!(n=GF(t,o))||n.enumerable});return e},QF=e=>XF(sc({},"__esModule",{value:!0}),e),Xb={};YF(Xb,{loadConfig:()=>nU});Qb.exports=QF(Xb);var os=Ne();function jp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Vn(jp,"getSelectorName");var ZF=Vn((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new os.CredentialsProviderError(r.message||`Not found in ENV: ${jp(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Yb=vr(),eU=Vn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Yb.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,Yb.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c,t==="config"?o:s);if(d===void 0)throw new Error;return d}catch(l){throw new os.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${jp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),tU=Vn(e=>typeof e=="function","isFunction"),rU=Vn(e=>tU(e)?async()=>await e():(0,os.fromStatic)(e),"fromStatic"),nU=Vn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,os.memoize)((0,os.chain)(ZF(e,i),eU(t,n),rU(r)))},"loadConfig")});var rw=E(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.getEndpointUrlConfig=void 0;var Zb=vr(),ew="AWS_ENDPOINT_URL",tw="endpoint_url",oU=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[ew,...r].join("_")];if(n)return n;let o=t[ew];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Zb.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),tw].join(Zb.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[tw];if(n)return n},default:void 0});ic.getEndpointUrlConfig=oU});var Hp=E(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.getEndpointFromConfig=void 0;var sU=Er(),iU=rw(),aU=async e=>(0,sU.loadConfig)((0,iU.getEndpointUrlConfig)(e??""))();ac.getEndpointFromConfig=aU});var br=E((lY,lw)=>{var lc=Object.defineProperty,cU=Object.getOwnPropertyDescriptor,lU=Object.getOwnPropertyNames,dU=Object.prototype.hasOwnProperty,Ye=(e,t)=>lc(e,"name",{value:t,configurable:!0}),uU=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},pU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lU(t))!dU.call(e,o)&&o!==r&&lc(e,o,{get:()=>t[o],enumerable:!(n=cU(t,o))||n.enumerable});return e},fU=e=>pU(lc({},"__esModule",{value:!0}),e),ow={};uU(ow,{endpointMiddleware:()=>aw,endpointMiddlewareOptions:()=>cw,getEndpointFromInstructions:()=>sw,getEndpointPlugin:()=>CU,resolveEndpointConfig:()=>RU,resolveEndpointRequiredConfig:()=>xU,resolveParams:()=>iw,toEndpointV1:()=>Vp});lw.exports=fU(ow);var mU=Ye(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),SU(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!_U(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),hU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,gU=/(\d+\.){3}\d+/,yU=/\.\./,_U=Ye(e=>hU.test(e)&&!gU.test(e)&&!yU.test(e),"isDnsCompatibleBucketName"),SU=Ye(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),vU=Ye((e,t,r)=>{let n=Ye(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),EU=Hp(),nw=dr(),Vp=Ye(e=>typeof e=="object"?"url"in e?(0,nw.parseUrl)(e.url):e:(0,nw.parseUrl)(e),"toEndpointV1"),sw=Ye(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,EU.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Vp(i)),r.isCustomEndpoint=!0)}let o=await iw(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),iw=Ye(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await vU(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await mU(n),n},"resolveParams"),bU=(Me(),U(In)),cc=st(),aw=Ye(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,bU.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await sw(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,cc.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),wU=sr(),cw={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:wU.serializerMiddlewareOption.name},CU=Ye((e,t)=>({applyToStack:r=>{r.addRelativeTo(aw({config:e,instructions:t}),cw)}}),"getEndpointPlugin"),PU=Hp(),RU=Ye(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Vp(await(0,cc.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,cc.normalizeProvider)(n??!1),useFipsEndpoint:(0,cc.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,PU.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),xU=Ye(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var zp=E((dY,fw)=>{var dc=Object.defineProperty,TU=Object.getOwnPropertyDescriptor,AU=Object.getOwnPropertyNames,OU=Object.prototype.hasOwnProperty,an=(e,t)=>dc(e,"name",{value:t,configurable:!0}),IU=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},NU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AU(t))!OU.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=TU(t,o))||n.enumerable});return e},kU=e=>NU(dc({},"__esModule",{value:!0}),e),dw={};IU(dw,{isBrowserNetworkError:()=>pw,isClockSkewCorrectedError:()=>uw,isClockSkewError:()=>HU,isRetryableByTrait:()=>jU,isServerError:()=>qU,isThrottlingError:()=>VU,isTransientError:()=>qp});fw.exports=kU(dw);var DU=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],$U=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],MU=["TimeoutError","RequestTimeout","RequestTimeoutException"],LU=[500,502,503,504],FU=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],UU=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],jU=an(e=>e.$retryable!==void 0,"isRetryableByTrait"),HU=an(e=>DU.includes(e.name),"isClockSkewError"),uw=an(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),pw=an(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),VU=an(e=>e.$metadata?.httpStatusCode===429||$U.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),qp=an((e,t=0)=>uw(e)||MU.includes(e.name)||FU.includes(e?.code||"")||UU.includes(e?.code||"")||LU.includes(e.$metadata?.httpStatusCode||0)||pw(e)||e.cause!==void 0&&t<=10&&qp(e.cause,t+1),"isTransientError"),qU=an(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!qp(e)}return!1},"isServerError")});var qn=E((uY,ww)=>{var uc=Object.defineProperty,zU=Object.getOwnPropertyDescriptor,BU=Object.getOwnPropertyNames,WU=Object.prototype.hasOwnProperty,dt=(e,t)=>uc(e,"name",{value:t,configurable:!0}),GU=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},KU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BU(t))!WU.call(e,o)&&o!==r&&uc(e,o,{get:()=>t[o],enumerable:!(n=zU(t,o))||n.enumerable});return e},JU=e=>KU(uc({},"__esModule",{value:!0}),e),hw={};GU(hw,{AdaptiveRetryStrategy:()=>t4,ConfiguredRetryStrategy:()=>r4,DEFAULT_MAX_ATTEMPTS:()=>Bp,DEFAULT_RETRY_DELAY_BASE:()=>ss,DEFAULT_RETRY_MODE:()=>YU,DefaultRateLimiter:()=>yw,INITIAL_RETRY_TOKENS:()=>Wp,INVOCATION_ID_HEADER:()=>QU,MAXIMUM_RETRY_DELAY:()=>Gp,NO_RETRY_INCREMENT:()=>bw,REQUEST_HEADER:()=>ZU,RETRY_COST:()=>vw,RETRY_MODES:()=>gw,StandardRetryStrategy:()=>Kp,THROTTLING_RETRY_DELAY_BASE:()=>Sw,TIMEOUT_RETRY_COST:()=>Ew});ww.exports=JU(hw);var gw=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(gw||{}),Bp=3,YU="standard",XU=zp(),yw=class _w{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{dt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>_w.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,XU.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ss=100,Gp=20*1e3,Sw=500,Wp=500,vw=5,Ew=10,bw=1,QU="amz-sdk-invocation-id",ZU="amz-sdk-request",e4=dt(()=>{let e=ss;return{computeNextBackoffDelay:dt(n=>Math.floor(Math.min(Gp,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:dt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),mw=dt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:dt(()=>t,"getRetryCount"),getRetryDelay:dt(()=>Math.min(Gp,e),"getRetryDelay"),getRetryCost:dt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Kp=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Wp,this.retryBackoffStrategy=e4(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{dt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return mw({retryDelay:ss,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?Sw:ss);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,mw({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Wp,this.capacity+(e.getRetryCost()??bw))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Bp}`),Bp}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Ew:vw}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},t4=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new yw,this.standardRetryStrategy=new Kp(e)}static{dt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},r4=class extends Kp{static{dt(this,"ConfiguredRetryStrategy")}constructor(e,t=ss){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var Cw=E(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.isStreamingPayload=void 0;var n4=require("stream"),o4=e=>e?.body instanceof n4.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;pc.isStreamingPayload=o4});var Vt=E((gY,Uw)=>{var fc=Object.defineProperty,s4=Object.getOwnPropertyDescriptor,i4=Object.getOwnPropertyNames,a4=Object.prototype.hasOwnProperty,ue=(e,t)=>fc(e,"name",{value:t,configurable:!0}),c4=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},l4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i4(t))!a4.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=s4(t,o))||n.enumerable});return e},d4=e=>l4(fc({},"__esModule",{value:!0}),e),Rw={};c4(Rw,{AdaptiveRetryStrategy:()=>f4,CONFIG_MAX_ATTEMPTS:()=>Yp,CONFIG_RETRY_MODE:()=>kw,ENV_MAX_ATTEMPTS:()=>Jp,ENV_RETRY_MODE:()=>Nw,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>m4,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>g4,StandardRetryStrategy:()=>Iw,defaultDelayDecider:()=>Tw,defaultRetryDecider:()=>Aw,getOmitRetryHeadersPlugin:()=>y4,getRetryAfterHint:()=>Fw,getRetryPlugin:()=>w4,omitRetryHeadersMiddleware:()=>Dw,omitRetryHeadersMiddlewareOptions:()=>$w,resolveRetryConfig:()=>h4,retryMiddleware:()=>Mw,retryMiddlewareOptions:()=>Lw});Uw.exports=d4(Rw);var zn=Y(),xw=(ia(),U(uu)),te=qn(),u4=ue((e,t)=>{let r=e,n=t?.noRetryIncrement??te.NO_RETRY_INCREMENT,o=t?.retryCost??te.RETRY_COST,s=t?.timeoutRetryCost??te.TIMEOUT_RETRY_COST,i=e,a=ue(u=>u.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ue(u=>a(u)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ue(u=>{if(!c(u))throw new Error("No retry token available");let p=a(u);return i-=p,p},"retrieveRetryTokens"),releaseRetryTokens:ue(u=>{i+=u??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Tw=ue((e,t)=>Math.floor(Math.min(te.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),wr=zp(),Aw=ue(e=>e?(0,wr.isRetryableByTrait)(e)||(0,wr.isClockSkewError)(e)||(0,wr.isThrottlingError)(e)||(0,wr.isTransientError)(e):!1,"defaultRetryDecider"),Ow=ue(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Iw=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=te.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??Aw,this.delayDecider=t?.delayDecider??Tw,this.retryQuota=t?.retryQuota??u4(te.INITIAL_RETRY_TOKENS)}static{ue(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=te.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(zn.HttpRequest.isInstance(a)&&(a.headers[te.INVOCATION_ID_HEADER]=(0,xw.v4)());;)try{zn.HttpRequest.isInstance(a)&&(a.headers[te.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=Ow(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,wr.isThrottlingError)(l)?te.THROTTLING_RETRY_DELAY_BASE:te.DEFAULT_RETRY_DELAY_BASE,o),u=p4(l.$response),p=Math.max(u||0,d);s+=p,await new Promise(m=>setTimeout(m,p));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},p4=ue(e=>{if(!zn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),f4=class extends Iw{static{ue(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new te.DefaultRateLimiter,this.mode=te.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},Pw=st(),Jp="AWS_MAX_ATTEMPTS",Yp="max_attempts",m4={environmentVariableSelector:e=>{let t=e[Jp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Jp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Yp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Yp} mast be a number, got "${t}"`);return r},default:te.DEFAULT_MAX_ATTEMPTS},h4=ue(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,Pw.normalizeProvider)(n??te.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,Pw.normalizeProvider)(r)()===te.RETRY_MODES.ADAPTIVE?new te.AdaptiveRetryStrategy(o):new te.StandardRetryStrategy(o))})},"resolveRetryConfig"),Nw="AWS_RETRY_MODE",kw="retry_mode",g4={environmentVariableSelector:e=>e[Nw],configFileSelector:e=>e[kw],default:te.DEFAULT_RETRY_MODE},Dw=ue(()=>e=>async t=>{let{request:r}=t;return zn.HttpRequest.isInstance(r)&&(delete r.headers[te.INVOCATION_ID_HEADER],delete r.headers[te.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),$w={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},y4=ue(e=>({applyToStack:t=>{t.addRelativeTo(Dw(),$w)}}),"getOmitRetryHeadersPlugin"),_4=M(),S4=Cw(),Mw=ue(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(v4(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,u=zn.HttpRequest.isInstance(d);for(u&&(d.headers[te.INVOCATION_ID_HEADER]=(0,xw.v4)());;)try{u&&(d.headers[te.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:p,output:m}=await t(n);return o.recordSuccess(i),m.$metadata.attempts=c+1,m.$metadata.totalRetryDelay=l,{response:p,output:m}}catch(p){let m=E4(p);if(a=Ow(p),u&&(0,S4.isStreamingPayload)(d))throw(r.logger instanceof _4.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let g=i.getRetryDelay();l+=g,await new Promise(h=>setTimeout(h,g))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),v4=ue(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),E4=ue(e=>{let t={error:e,errorType:b4(e)},r=Fw(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),b4=ue(e=>(0,wr.isThrottlingError)(e)?"THROTTLING":(0,wr.isTransientError)(e)?"TRANSIENT":(0,wr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Lw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},w4=ue(e=>({applyToStack:t=>{t.add(Mw(e),Lw)}}),"getRetryPlugin"),Fw=ue(e=>{if(!zn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Qp=E(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.resolveHttpAuthSchemeConfig=Cr.defaultSecretsManagerHttpAuthSchemeProvider=Cr.defaultSecretsManagerHttpAuthSchemeParametersProvider=void 0;var C4=(ge(),U(wt)),Xp=st(),P4=async(e,t,r)=>({operation:(0,Xp.getSmithyContext)(t).operation,region:await(0,Xp.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Cr.defaultSecretsManagerHttpAuthSchemeParametersProvider=P4;function R4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var x4=e=>{let t=[];switch(e.operation){default:t.push(R4(e))}return t};Cr.defaultSecretsManagerHttpAuthSchemeProvider=x4;var T4=e=>{let t=(0,C4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Xp.normalizeProvider)(e.authSchemePreference??[])})};Cr.resolveHttpAuthSchemeConfig=T4});var jw=E((vY,A4)=>{A4.exports={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var Zp=E((EY,Kw)=>{"use strict";var mc=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,I4=Object.getOwnPropertyNames,N4=Object.prototype.hasOwnProperty,k4=(e,t)=>mc(e,"name",{value:t,configurable:!0}),D4=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},$4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I4(t))!N4.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=O4(t,o))||n.enumerable});return e},M4=e=>$4(mc({},"__esModule",{value:!0}),e),Hw={};D4(Hw,{ENV_ACCOUNT_ID:()=>Gw,ENV_CREDENTIAL_SCOPE:()=>Ww,ENV_EXPIRATION:()=>Bw,ENV_KEY:()=>Vw,ENV_SECRET:()=>qw,ENV_SESSION:()=>zw,fromEnv:()=>U4});Kw.exports=M4(Hw);var L4=(ct(),U(fr)),F4=Ne(),Vw="AWS_ACCESS_KEY_ID",qw="AWS_SECRET_ACCESS_KEY",zw="AWS_SESSION_TOKEN",Bw="AWS_CREDENTIAL_EXPIRATION",Ww="AWS_CREDENTIAL_SCOPE",Gw="AWS_ACCOUNT_ID",U4=k4(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Vw],r=process.env[qw],n=process.env[zw],o=process.env[Bw],s=process.env[Ww],i=process.env[Gw];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,L4.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new F4.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var is=E((bY,c0)=>{var yc=Object.defineProperty,j4=Object.getOwnPropertyDescriptor,H4=Object.getOwnPropertyNames,V4=Object.prototype.hasOwnProperty,pe=(e,t)=>yc(e,"name",{value:t,configurable:!0}),q4=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},z4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H4(t))!V4.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=j4(t,o))||n.enumerable});return e},B4=e=>z4(yc({},"__esModule",{value:!0}),e),Qw={};q4(Qw,{DEFAULT_MAX_RETRIES:()=>r0,DEFAULT_TIMEOUT:()=>t0,ENV_CMDS_AUTH_TOKEN:()=>rf,ENV_CMDS_FULL_URI:()=>hc,ENV_CMDS_RELATIVE_URI:()=>gc,Endpoint:()=>o0,fromContainerMetadata:()=>J4,fromInstanceMetadata:()=>g3,getInstanceMetadataEndpoint:()=>i0,httpRequest:()=>Bn,providerConfigFromInit:()=>nf});c0.exports=B4(Qw);var W4=require("url"),Rt=Ne(),G4=require("buffer"),K4=require("http");function Bn(e){return new Promise((t,r)=>{let n=(0,K4.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Rt.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Rt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Rt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(G4.Buffer.concat(i)),n.destroy()})}),n.end()})}pe(Bn,"httpRequest");var Zw=pe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),e0=pe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),t0=1e3,r0=0,nf=pe(({maxRetries:e=r0,timeout:t=t0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),tf=pe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),hc="AWS_CONTAINER_CREDENTIALS_FULL_URI",gc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",rf="AWS_CONTAINER_AUTHORIZATION_TOKEN",J4=pe((e={})=>{let{timeout:t,maxRetries:r}=nf(e);return()=>tf(async()=>{let n=await e3({logger:e.logger}),o=JSON.parse(await Y4(t,n));if(!Zw(o))throw new Rt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return e0(o)},r)},"fromContainerMetadata"),Y4=pe(async(e,t)=>(process.env[rf]&&(t.headers={...t.headers,Authorization:process.env[rf]}),(await Bn({...t,timeout:e})).toString()),"requestFromEcsImds"),X4="169.254.170.2",Q4={localhost:!0,"127.0.0.1":!0},Z4={"http:":!0,"https:":!0},e3=pe(async({logger:e})=>{if(process.env[gc])return{hostname:X4,path:process.env[gc]};if(process.env[hc]){let t=(0,W4.parse)(process.env[hc]);if(!t.hostname||!(t.hostname in Q4))throw new Rt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Z4))throw new Rt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Rt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${gc} or ${hc} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),t3=class n0 extends Rt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,n0.prototype)}static{pe(this,"InstanceMetadataV1FallbackError")}},of=Er(),r3=dr(),o0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(o0||{}),n3="AWS_EC2_METADATA_SERVICE_ENDPOINT",o3="ec2_metadata_service_endpoint",s3={environmentVariableSelector:e=>e[n3],configFileSelector:e=>e[o3],default:void 0},s0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(s0||{}),i3="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",a3="ec2_metadata_service_endpoint_mode",c3={environmentVariableSelector:e=>e[i3],configFileSelector:e=>e[a3],default:"IPv4"},i0=pe(async()=>(0,r3.parseUrl)(await l3()||await d3()),"getInstanceMetadataEndpoint"),l3=pe(async()=>(0,of.loadConfig)(s3)(),"getFromEndpointConfig"),d3=pe(async()=>{let e=await(0,of.loadConfig)(c3)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(s0)}`)}},"getFromEndpointModeConfig"),u3=300,p3=300,f3="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Jw=pe((e,t)=>{let r=u3+Math.floor(Math.random()*p3),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+f3);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),m3=pe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Jw(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Jw(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),a0="/latest/meta-data/iam/security-credentials/",h3="/latest/api/token",ef="AWS_EC2_METADATA_V1_DISABLED",Yw="ec2_metadata_v1_disabled",Xw="x-aws-ec2-metadata-token",g3=pe((e={})=>m3(y3(e),{logger:e.logger}),"fromInstanceMetadata"),y3=pe((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=nf(e),i=pe(async(a,c)=>{if(t||c.headers?.[Xw]==null){let u=!1,p=!1,m=await(0,of.loadConfig)({environmentVariableSelector:g=>{let h=g[ef];if(p=!!h&&h!=="false",h===void 0)throw new Rt.CredentialsProviderError(`${ef} not set in env, checking config file next.`,{logger:e.logger});return p},configFileSelector:g=>{let h=g[Yw];return u=!!h&&h!=="false",u},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||m){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${Yw})`),p&&g.push(`process environment variable (${ef})`),new t3(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let d=(await tf(async()=>{let u;try{u=await S3(c)}catch(p){throw p.statusCode===401&&(t=!1),p}return u},a)).trim();return tf(async()=>{let u;try{u=await v3(d,c,e)}catch(p){throw p.statusCode===401&&(t=!1),p}return u},a)},"getCredentials");return async()=>{let a=await i0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await _3({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Xw]:c},timeout:o})}}},"getInstanceMetadataProvider"),_3=pe(async e=>Bn({...e,path:h3,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),S3=pe(async e=>(await Bn({...e,path:a0})).toString(),"getProfile"),v3=pe(async(e,t,r)=>{let n=JSON.parse((await Bn({...t,path:a0+e})).toString());if(!Zw(n))throw new Rt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return e0(n)},"getCredentialsFromProfile")});var l0=E(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.checkUrl=void 0;var E3=Ne(),b3="169.254.170.2",w3="169.254.170.23",C3="[fd00:ec2::23]",P3=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===b3||e.hostname===w3||e.hostname===C3)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new E3.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};_c.checkUrl=P3});var d0=E(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.createGetRequest=A3;Sc.getCredentials=O3;var sf=Ne(),R3=Y(),x3=M(),T3=Ji();function A3(e){return new R3.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function O3(e,t){let n=await(0,T3.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new sf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,x3.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new sf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new sf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var u0=E(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.retryWrapper=void 0;var I3=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};vc.retryWrapper=I3});var m0=E(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromHttp=void 0;var N3=(bn(),U(En)),k3=(ct(),U(fr)),D3=Ur(),p0=Ne(),$3=N3.__importDefault(require("fs/promises")),M3=l0(),f0=d0(),L3=u0(),F3="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",U3="http://169.254.170.2",j3="AWS_CONTAINER_CREDENTIALS_FULL_URI",H3="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",V3="AWS_CONTAINER_AUTHORIZATION_TOKEN",q3=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[F3],n=e.awsContainerCredentialsFullUri??process.env[j3],o=e.awsContainerAuthorizationToken??process.env[V3],s=e.awsContainerAuthorizationTokenFile??process.env[H3],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${U3}${r}`;else throw new p0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,M3.checkUrl)(a,e.logger);let c=new D3.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,L3.retryWrapper)(async()=>{let l=(0,f0.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await $3.default.readFile(s)).toString());try{let d=await c.handle(l);return(0,f0.getCredentials)(d.response).then(u=>(0,k3.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(d){throw new p0.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ec.fromHttp=q3});var af=E(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.fromHttp=void 0;var z3=m0();Object.defineProperty(bc,"fromHttp",{enumerable:!0,get:function(){return z3.fromHttp}})});var lf=E(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.resolveHttpAuthSchemeConfig=Pr.defaultSSOHttpAuthSchemeProvider=Pr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var B3=(ge(),U(wt)),cf=st(),W3=async(e,t,r)=>({operation:(0,cf.getSmithyContext)(t).operation,region:await(0,cf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Pr.defaultSSOHttpAuthSchemeParametersProvider=W3;function G3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function wc(e){return{schemeId:"smithy.api#noAuth"}}var K3=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(wc(e));break}case"ListAccountRoles":{t.push(wc(e));break}case"ListAccounts":{t.push(wc(e));break}case"Logout":{t.push(wc(e));break}default:t.push(G3(e))}return t};Pr.defaultSSOHttpAuthSchemeProvider=K3;var J3=e=>{let t=(0,B3.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,cf.normalizeProvider)(e.authSchemePreference??[])})};Pr.resolveHttpAuthSchemeConfig=J3});var h0=E((AY,Y3)=>{Y3.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var as=E((OY,b0)=>{"use strict";var Pc=Object.defineProperty,X3=Object.getOwnPropertyDescriptor,Q3=Object.getOwnPropertyNames,Z3=Object.prototype.hasOwnProperty,Cc=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),ej=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},tj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q3(t))!Z3.call(e,o)&&o!==r&&Pc(e,o,{get:()=>t[o],enumerable:!(n=X3(t,o))||n.enumerable});return e},rj=e=>tj(Pc({},"__esModule",{value:!0}),e),y0={};ej(y0,{NODE_APP_ID_CONFIG_OPTIONS:()=>aj,UA_APP_ID_ENV_NAME:()=>v0,UA_APP_ID_INI_NAME:()=>E0,createDefaultUserAgentProvider:()=>S0,crtAvailability:()=>_0,defaultUserAgent:()=>oj});b0.exports=rj(y0);var g0=require("os"),df=require("process"),_0={isCrtAvailable:!1},nj=Cc(()=>_0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),S0=Cc(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,g0.platform)()}`,(0,g0.release)()],["lang/js"],["md/nodejs",`${df.versions.node}`]],o=nj();o&&n.push(o),e&&n.push([`api/${e}`,t]),df.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${df.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),oj=S0,sj=jn(),v0="AWS_SDK_UA_APP_ID",E0="sdk_ua_app_id",ij="sdk-ua-app-id",aj={environmentVariableSelector:Cc(e=>e[v0],"environmentVariableSelector"),configFileSelector:Cc(e=>e[E0]??e[ij],"configFileSelector"),default:sj.DEFAULT_UA_APP_ID}});var cs=E((IY,R0)=>{var Rc=Object.defineProperty,cj=Object.getOwnPropertyDescriptor,lj=Object.getOwnPropertyNames,dj=Object.prototype.hasOwnProperty,C0=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),uj=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},pj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lj(t))!dj.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=cj(t,o))||n.enumerable});return e},fj=e=>pj(Rc({},"__esModule",{value:!0}),e),P0={};uj(P0,{Hash:()=>gj});R0.exports=fj(P0);var uf=Cn(),mj=Se(),hj=require("buffer"),w0=require("crypto"),gj=class{static{C0(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,mj.toUint8Array)(pf(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,w0.createHmac)(this.algorithmIdentifier,pf(this.secret)):(0,w0.createHash)(this.algorithmIdentifier)}};function pf(e,t){return hj.Buffer.isBuffer(e)?e:typeof e=="string"?(0,uf.fromString)(e,t):ArrayBuffer.isView(e)?(0,uf.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,uf.fromArrayBuffer)(e)}C0(pf,"castSourceData")});var ls=E((kY,A0)=>{var xc=Object.defineProperty,yj=Object.getOwnPropertyDescriptor,_j=Object.getOwnPropertyNames,Sj=Object.prototype.hasOwnProperty,vj=(e,t)=>xc(e,"name",{value:t,configurable:!0}),Ej=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},bj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _j(t))!Sj.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=yj(t,o))||n.enumerable});return e},wj=e=>bj(xc({},"__esModule",{value:!0}),e),T0={};Ej(T0,{calculateBodyLength:()=>Cj});A0.exports=wj(T0);var x0=require("fs"),Cj=vj(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,x0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,x0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var z0=E(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ruleSet=void 0;var j0="required",Qe="fn",Ze="argv",Kn="ref",O0=!0,I0="isSet",ds="booleanEquals",Wn="error",Gn="endpoint",qt="tree",ff="PartitionResult",mf="getAttr",N0={[j0]:!1,type:"String"},k0={[j0]:!0,default:!1,type:"Boolean"},D0={[Kn]:"Endpoint"},H0={[Qe]:ds,[Ze]:[{[Kn]:"UseFIPS"},!0]},V0={[Qe]:ds,[Ze]:[{[Kn]:"UseDualStack"},!0]},Xe={},$0={[Qe]:mf,[Ze]:[{[Kn]:ff},"supportsFIPS"]},q0={[Kn]:ff},M0={[Qe]:ds,[Ze]:[!0,{[Qe]:mf,[Ze]:[q0,"supportsDualStack"]}]},L0=[H0],F0=[V0],U0=[{[Kn]:"Region"}],Pj={version:"1.0",parameters:{Region:N0,UseDualStack:k0,UseFIPS:k0,Endpoint:N0},rules:[{conditions:[{[Qe]:I0,[Ze]:[D0]}],rules:[{conditions:L0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Wn},{conditions:F0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Wn},{endpoint:{url:D0,properties:Xe,headers:Xe},type:Gn}],type:qt},{conditions:[{[Qe]:I0,[Ze]:U0}],rules:[{conditions:[{[Qe]:"aws.partition",[Ze]:U0,assign:ff}],rules:[{conditions:[H0,V0],rules:[{conditions:[{[Qe]:ds,[Ze]:[O0,$0]},M0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xe,headers:Xe},type:Gn}],type:qt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Wn}],type:qt},{conditions:L0,rules:[{conditions:[{[Qe]:ds,[Ze]:[$0,O0]}],rules:[{conditions:[{[Qe]:"stringEquals",[Ze]:[{[Qe]:mf,[Ze]:[q0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Xe,headers:Xe},type:Gn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xe,headers:Xe},type:Gn}],type:qt},{error:"FIPS is enabled but this partition does not support FIPS",type:Wn}],type:qt},{conditions:F0,rules:[{conditions:[M0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xe,headers:Xe},type:Gn}],type:qt},{error:"DualStack is enabled but this partition does not support DualStack",type:Wn}],type:qt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Xe,headers:Xe},type:Gn}],type:qt}],type:qt},{error:"Invalid Configuration: Missing Region",type:Wn}]};Tc.ruleSet=Pj});var B0=E(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.defaultEndpointResolver=void 0;var Rj=kn(),hf=Nn(),xj=z0(),Tj=new hf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Aj=(e,t={})=>Tj.get(e,()=>(0,hf.resolveEndpoint)(xj.ruleSet,{endpointParams:e,logger:t.logger}));Ac.defaultEndpointResolver=Aj;hf.customEndpointFunctions.aws=Rj.awsEndpointFunctions});var K0=E(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.getRuntimeConfig=void 0;var Oj=(ge(),U(wt)),Ij=(Me(),U(In)),Nj=M(),kj=dr(),W0=Ae(),G0=Se(),Dj=lf(),$j=B0(),Mj=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??W0.fromBase64,base64Encoder:e?.base64Encoder??W0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$j.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Dj.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Oj.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ij.NoAuthSigner}],logger:e?.logger??new Nj.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??kj.parseUrl,utf8Decoder:e?.utf8Decoder??G0.fromUtf8,utf8Encoder:e?.utf8Encoder??G0.toUtf8});Oc.getRuntimeConfig=Mj});var ps=E((LY,eC)=>{var Lj=Object.create,us=Object.defineProperty,Fj=Object.getOwnPropertyDescriptor,Uj=Object.getOwnPropertyNames,jj=Object.getPrototypeOf,Hj=Object.prototype.hasOwnProperty,gf=(e,t)=>us(e,"name",{value:t,configurable:!0}),Vj=(e,t)=>{for(var r in t)us(e,r,{get:t[r],enumerable:!0})},Q0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uj(t))!Hj.call(e,o)&&o!==r&&us(e,o,{get:()=>t[o],enumerable:!(n=Fj(t,o))||n.enumerable});return e},qj=(e,t,r)=>(r=e!=null?Lj(jj(e)):{},Q0(t||!e||!e.__esModule?us(r,"default",{value:e,enumerable:!0}):r,e)),zj=e=>Q0(us({},"__esModule",{value:!0}),e),Z0={};Vj(Z0,{resolveDefaultsModeConfig:()=>e8});eC.exports=zj(Z0);var Bj=Pt(),J0=Er(),Wj=Ne(),Gj="AWS_EXECUTION_ENV",Y0="AWS_REGION",X0="AWS_DEFAULT_REGION",Kj="AWS_EC2_METADATA_DISABLED",Jj=["in-region","cross-region","mobile","standard","legacy"],Yj="/latest/meta-data/placement/region",Xj="AWS_DEFAULTS_MODE",Qj="defaults_mode",Zj={environmentVariableSelector:e=>e[Xj],configFileSelector:e=>e[Qj],default:"legacy"},e8=gf(({region:e=(0,J0.loadConfig)(Bj.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,J0.loadConfig)(Zj)}={})=>(0,Wj.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return t8(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Jj.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),t8=gf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await r8();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),r8=gf(async()=>{if(process.env[Gj]&&(process.env[Y0]||process.env[X0]))return process.env[Y0]??process.env[X0];if(!process.env[Kj])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>qj(is())),r=await e();return(await t({...r,path:Yj})).toString()}catch{}},"inferPhysicalRegion")});var sC=E(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getRuntimeConfig=void 0;var n8=(bn(),U(En)),o8=n8.__importDefault(h0()),tC=(ge(),U(wt)),rC=as(),Ic=Pt(),s8=cs(),nC=Vt(),cn=Er(),oC=Ur(),i8=ls(),a8=qn(),c8=K0(),l8=M(),d8=ps(),u8=M(),p8=e=>{(0,u8.emitWarningIfUnsupportedVersion)(process.version);let t=(0,d8.resolveDefaultsModeConfig)(e),r=()=>t().then(l8.loadConfigsForDefaultMode),n=(0,c8.getRuntimeConfig)(e);(0,tC.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,cn.loadConfig)(tC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??i8.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,rC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:o8.default.version}),maxAttempts:e?.maxAttempts??(0,cn.loadConfig)(nC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,cn.loadConfig)(Ic.NODE_REGION_CONFIG_OPTIONS,{...Ic.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:oC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,cn.loadConfig)({...nC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||a8.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??s8.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??oC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,cn.loadConfig)(Ic.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,cn.loadConfig)(Ic.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,cn.loadConfig)(rC.NODE_APP_ID_CONFIG_OPTIONS,o)}};Nc.getRuntimeConfig=p8});var fs=E((UY,uC)=>{"use strict";var kc=Object.defineProperty,f8=Object.getOwnPropertyDescriptor,m8=Object.getOwnPropertyNames,h8=Object.prototype.hasOwnProperty,xt=(e,t)=>kc(e,"name",{value:t,configurable:!0}),g8=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},y8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m8(t))!h8.call(e,o)&&o!==r&&kc(e,o,{get:()=>t[o],enumerable:!(n=f8(t,o))||n.enumerable});return e},_8=e=>y8(kc({},"__esModule",{value:!0}),e),aC={};g8(aC,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>b8,NODE_REGION_CONFIG_OPTIONS:()=>E8,REGION_ENV_NAME:()=>cC,REGION_INI_NAME:()=>lC,getAwsRegionExtensionConfiguration:()=>S8,resolveAwsRegionExtensionConfiguration:()=>v8,resolveRegionConfig:()=>w8});uC.exports=_8(aC);var S8=xt(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),v8=xt(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),cC="AWS_REGION",lC="region",E8={environmentVariableSelector:xt(e=>e[cC],"environmentVariableSelector"),configFileSelector:xt(e=>e[lC],"configFileSelector"),default:xt(()=>{throw new Error("Region is missing")},"default")},b8={preferredFile:"credentials"},dC=xt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),iC=xt(e=>dC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),w8=xt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:xt(async()=>{if(typeof t=="string")return iC(t);let n=await t();return iC(n)},"region"),useFipsEndpoint:xt(async()=>{let n=typeof t=="string"?t:await t();return dC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var zC=E((jY,qC)=>{"use strict";var Dc=Object.defineProperty,C8=Object.getOwnPropertyDescriptor,P8=Object.getOwnPropertyNames,R8=Object.prototype.hasOwnProperty,j=(e,t)=>Dc(e,"name",{value:t,configurable:!0}),x8=(e,t)=>{for(var r in t)Dc(e,r,{get:t[r],enumerable:!0})},T8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P8(t))!R8.call(e,o)&&o!==r&&Dc(e,o,{get:()=>t[o],enumerable:!(n=C8(t,o))||n.enumerable});return e},A8=e=>T8(Dc({},"__esModule",{value:!0}),e),_C={};x8(_C,{GetRoleCredentialsCommand:()=>jC,GetRoleCredentialsRequestFilterSensitiveLog:()=>TC,GetRoleCredentialsResponseFilterSensitiveLog:()=>OC,InvalidRequestException:()=>vC,ListAccountRolesCommand:()=>yf,ListAccountRolesRequestFilterSensitiveLog:()=>IC,ListAccountsCommand:()=>_f,ListAccountsRequestFilterSensitiveLog:()=>NC,LogoutCommand:()=>HC,LogoutRequestFilterSensitiveLog:()=>kC,ResourceNotFoundException:()=>bC,RoleCredentialsFilterSensitiveLog:()=>AC,SSO:()=>VC,SSOClient:()=>Mc,SSOServiceException:()=>Jn,TooManyRequestsException:()=>CC,UnauthorizedException:()=>RC,__Client:()=>T.Client,paginateListAccountRoles:()=>t5,paginateListAccounts:()=>r5});qC.exports=A8(_C);var pC=ho(),O8=go(),I8=yo(),fC=jn(),N8=Pt(),zt=(Me(),U(In)),k8=ts(),hs=br(),mC=Vt(),hC=lf(),D8=j(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),$c={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$8=sC(),gC=fs(),yC=Y(),T=M(),M8=j(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),L8=j(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),F8=j((e,t)=>{let r=Object.assign((0,gC.getAwsRegionExtensionConfiguration)(e),(0,T.getDefaultExtensionConfiguration)(e),(0,yC.getHttpHandlerExtensionConfiguration)(e),M8(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,gC.resolveAwsRegionExtensionConfiguration)(r),(0,T.resolveDefaultRuntimeConfig)(r),(0,yC.resolveHttpHandlerRuntimeConfig)(r),L8(r))},"resolveRuntimeExtensions"),Mc=class extends T.Client{static{j(this,"SSOClient")}config;constructor(...[e]){let t=(0,$8.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=D8(t),n=(0,fC.resolveUserAgentConfig)(r),o=(0,mC.resolveRetryConfig)(n),s=(0,N8.resolveRegionConfig)(o),i=(0,pC.resolveHostHeaderConfig)(s),a=(0,hs.resolveEndpointConfig)(i),c=(0,hC.resolveHttpAuthSchemeConfig)(a),l=F8(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,fC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,mC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,k8.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,pC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,O8.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,I8.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,zt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:hC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:j(async d=>new zt.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,zt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Lc=sr(),Jn=class SC extends T.ServiceException{static{j(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,SC.prototype)}},vC=class EC extends Jn{static{j(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,EC.prototype)}},bC=class wC extends Jn{static{j(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,wC.prototype)}},CC=class PC extends Jn{static{j(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,PC.prototype)}},RC=class xC extends Jn{static{j(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,xC.prototype)}},TC=j(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),AC=j(e=>({...e,...e.secretAccessKey&&{secretAccessKey:T.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:T.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),OC=j(e=>({...e,...e.roleCredentials&&{roleCredentials:AC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),IC=j(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),NC=j(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),kC=j(e=>({...e,...e.accessToken&&{accessToken:T.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),ms=(ge(),U(wt)),U8=j(async(e,t)=>{let r=(0,zt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[jc]:e[Uc]});r.bp("/federation/credentials");let o=(0,T.map)({[Z8]:[,(0,T.expectNonNull)(e[Q8],"roleName")],[$C]:[,(0,T.expectNonNull)(e[DC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),j8=j(async(e,t)=>{let r=(0,zt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[jc]:e[Uc]});r.bp("/assignment/roles");let o=(0,T.map)({[UC]:[,e[FC]],[LC]:[()=>e.maxResults!==void 0,()=>e[MC].toString()],[$C]:[,(0,T.expectNonNull)(e[DC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),H8=j(async(e,t)=>{let r=(0,zt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[jc]:e[Uc]});r.bp("/assignment/accounts");let o=(0,T.map)({[UC]:[,e[FC]],[LC]:[()=>e.maxResults!==void 0,()=>e[MC].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),V8=j(async(e,t)=>{let r=(0,zt.requestBuilder)(e,t),n=(0,T.map)({},T.isSerializableHeaderValue,{[jc]:e[Uc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),q8=j(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ms.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{roleCredentials:T._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),z8=j(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ms.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{nextToken:T.expectString,roleList:T._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),B8=j(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fc(e,t);let r=(0,T.map)({$metadata:Rr(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await(0,ms.parseJsonBody)(e.body,t)),"body"),o=(0,T.take)(n,{accountList:T._json,nextToken:T.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),W8=j(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fc(e,t);let r=(0,T.map)({$metadata:Rr(e)});return await(0,T.collectBody)(e.body,t),r},"de_LogoutCommand"),Fc=j(async(e,t)=>{let r={...e,body:await(0,ms.parseJsonErrorBody)(e.body,t)},n=(0,ms.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await K8(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await J8(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Y8(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await X8(r,t);default:let o=r.body;return G8({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),G8=(0,T.withBaseException)(Jn),K8=j(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new vC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),J8=j(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new bC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Y8=j(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new CC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),X8=j(async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{message:T.expectString});Object.assign(r,o);let s=new RC({$metadata:Rr(e),...r});return(0,T.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),Rr=j(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),DC="accountId",Uc="accessToken",$C="account_id",MC="maxResults",LC="max_result",FC="nextToken",UC="next_token",Q8="roleName",Z8="role_name",jc="x-amz-sso_bearer_token",jC=class extends T.Command.classBuilder().ep($c).m(function(e,t,r,n){return[(0,Lc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(TC,OC).ser(U8).de(q8).build(){static{j(this,"GetRoleCredentialsCommand")}},yf=class extends T.Command.classBuilder().ep($c).m(function(e,t,r,n){return[(0,Lc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(IC,void 0).ser(j8).de(z8).build(){static{j(this,"ListAccountRolesCommand")}},_f=class extends T.Command.classBuilder().ep($c).m(function(e,t,r,n){return[(0,Lc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(NC,void 0).ser(H8).de(B8).build(){static{j(this,"ListAccountsCommand")}},HC=class extends T.Command.classBuilder().ep($c).m(function(e,t,r,n){return[(0,Lc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,hs.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(kC,void 0).ser(V8).de(W8).build(){static{j(this,"LogoutCommand")}},e5={GetRoleCredentialsCommand:jC,ListAccountRolesCommand:yf,ListAccountsCommand:_f,LogoutCommand:HC},VC=class extends Mc{static{j(this,"SSO")}};(0,T.createAggregatedClient)(e5,VC);var t5=(0,zt.createPaginator)(Mc,yf,"nextToken","nextToken","maxResults"),r5=(0,zt.createPaginator)(Mc,_f,"nextToken","nextToken","maxResults")});function n5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function o5(e){return{schemeId:"smithy.api#noAuth"}}var gs,BC,WC,GC,Sf=y(()=>{ge();gs=v(st()),BC=async(e,t,r)=>({operation:(0,gs.getSmithyContext)(t).operation,region:await(0,gs.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});WC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(o5(e));break}default:t.push(n5(e))}return t},GC=e=>{let t=Xr(e);return Object.assign(t,{authSchemePreference:(0,gs.normalizeProvider)(e.authSchemePreference??[])})}});var KC,JC,vf=y(()=>{KC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),JC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Hc,Ef=y(()=>{Hc={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var sP,tt,YC,ys,Yn,Xn,Bt,bf,wf,XC,QC,ZC,iP,aP,et,eP,cP,tP,rP,nP,oP,i5,lP,dP=y(()=>{sP="required",tt="argv",YC="isSet",ys="booleanEquals",Yn="error",Xn="endpoint",Bt="tree",bf="PartitionResult",wf="getAttr",XC={[sP]:!1,type:"String"},QC={[sP]:!0,default:!1,type:"Boolean"},ZC={ref:"Endpoint"},iP={fn:ys,[tt]:[{ref:"UseFIPS"},!0]},aP={fn:ys,[tt]:[{ref:"UseDualStack"},!0]},et={},eP={fn:wf,[tt]:[{ref:bf},"supportsFIPS"]},cP={ref:bf},tP={fn:ys,[tt]:[!0,{fn:wf,[tt]:[cP,"supportsDualStack"]}]},rP=[iP],nP=[aP],oP=[{ref:"Region"}],i5={version:"1.0",parameters:{Region:XC,UseDualStack:QC,UseFIPS:QC,Endpoint:XC},rules:[{conditions:[{fn:YC,[tt]:[ZC]}],rules:[{conditions:rP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yn},{conditions:nP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yn},{endpoint:{url:ZC,properties:et,headers:et},type:Xn}],type:Bt},{conditions:[{fn:YC,[tt]:oP}],rules:[{conditions:[{fn:"aws.partition",[tt]:oP,assign:bf}],rules:[{conditions:[iP,aP],rules:[{conditions:[{fn:ys,[tt]:[!0,eP]},tP],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:Xn}],type:Bt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yn}],type:Bt},{conditions:rP,rules:[{conditions:[{fn:ys,[tt]:[eP,!0]}],rules:[{conditions:[{fn:"stringEquals",[tt]:[{fn:wf,[tt]:[cP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:et,headers:et},type:Xn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:Xn}],type:Bt},{error:"FIPS is enabled but this partition does not support FIPS",type:Yn}],type:Bt},{conditions:nP,rules:[{conditions:[tP],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:Xn}],type:Bt},{error:"DualStack is enabled but this partition does not support DualStack",type:Yn}],type:Bt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:Xn}],type:Bt}],type:Bt},{error:"Invalid Configuration: Missing Region",type:Yn}]},lP=i5});var uP,Qn,a5,pP,fP=y(()=>{uP=v(kn()),Qn=v(Nn());dP();a5=new Qn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),pP=(e,t={})=>a5.get(e,()=>(0,Qn.resolveEndpoint)(lP,{endpointParams:e,logger:t.logger}));Qn.customEndpointFunctions.aws=uP.awsEndpointFunctions});var mP,hP,Vc,qc,gP,yP=y(()=>{ge();Me();mP=v(M()),hP=v(dr()),Vc=v(Ae()),qc=v(Se());Sf();fP();gP=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Vc.fromBase64,base64Encoder:e?.base64Encoder??Vc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??WC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],logger:e?.logger??new mP.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??hP.parseUrl,utf8Decoder:e?.utf8Decoder??qc.fromUtf8,utf8Encoder:e?.utf8Encoder??qc.toUtf8})});var zc,Tr,_P,Bc,xr,Wc,SP,vP,EP,bP,wP,CP,PP=y(()=>{Ef();ge();zc=v(as()),Tr=v(Pt()),_P=v(cs()),Bc=v(Vt()),xr=v(Er()),Wc=v(Ur()),SP=v(ls()),vP=v(qn());yP();EP=v(M()),bP=v(ps()),wP=v(M()),CP=e=>{(0,wP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,bP.resolveDefaultsModeConfig)(e),r=()=>t().then(EP.loadConfigsForDefaultMode),n=gP(e);Dn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xr.loadConfig)(Ln,o),bodyLengthChecker:e?.bodyLengthChecker??SP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,zc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Hc.version}),maxAttempts:e?.maxAttempts??(0,xr.loadConfig)(Bc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xr.loadConfig)(Tr.NODE_REGION_CONFIG_OPTIONS,{...Tr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Wc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xr.loadConfig)({...Bc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||vP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??_P.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Wc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xr.loadConfig)(Tr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,xr.loadConfig)(Tr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,xr.loadConfig)(zc.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var RP,xP,TP=y(()=>{RP=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},xP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Gc,Kc,Jc,AP,OP=y(()=>{Gc=v(fs()),Kc=v(Y()),Jc=v(M());TP();AP=(e,t)=>{let r=Object.assign((0,Gc.getAwsRegionExtensionConfiguration)(e),(0,Jc.getDefaultExtensionConfiguration)(e),(0,Kc.getHttpHandlerExtensionConfiguration)(e),RP(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Gc.resolveAwsRegionExtensionConfiguration)(r),(0,Jc.resolveDefaultRuntimeConfig)(r),(0,Kc.resolveHttpHandlerRuntimeConfig)(r),xP(r))}});var Yc,IP,NP,Xc,kP,DP,$P,Qc,Cf,_s,Pf=y(()=>{Yc=v(ho()),IP=v(go()),NP=v(yo()),Xc=v(jn()),kP=v(Pt());Me();DP=v(ts()),$P=v(br()),Qc=v(Vt()),Cf=v(M());Sf();vf();PP();OP();_s=class extends Cf.Client{config;constructor(...[t]){let r=CP(t||{});super(r),this.initConfig=r;let n=KC(r),o=(0,Xc.resolveUserAgentConfig)(n),s=(0,Qc.resolveRetryConfig)(o),i=(0,kP.resolveRegionConfig)(s),a=(0,Yc.resolveHostHeaderConfig)(i),c=(0,$P.resolveEndpointConfig)(a),l=GC(c),d=AP(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Xc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,DP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Yc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,IP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,NP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(So(this.config,{httpAuthSchemeParametersProvider:BC,identityProviderConfigProvider:async u=>new Jr({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(vo(this.config))}destroy(){super.destroy()}}});var MP,ye,Zc=y(()=>{MP=v(M()),ye=class e extends MP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ln,Ss,vs,Rf,xf,Es,bs,ws,Cs,Ps,Rs,xs,Ts,As,el=y(()=>{ln=v(M());Zc();Ss=class e extends ye{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vs=class e extends ye{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Rf=e=>({...e,...e.clientSecret&&{clientSecret:ln.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ln.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:ln.SENSITIVE_STRING}}),xf=e=>({...e,...e.accessToken&&{accessToken:ln.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ln.SENSITIVE_STRING},...e.idToken&&{idToken:ln.SENSITIVE_STRING}}),Es=class e extends ye{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bs=class e extends ye{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ws=class e extends ye{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Cs=class e extends ye{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ps=class e extends ye{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Rs=class e extends ye{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xs=class e extends ye{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ts=class e extends ye{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},As=class e extends ye{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var C,LP,FP,c5,l5,d5,u5,p5,f5,m5,h5,g5,y5,_5,S5,v5,rt,UP=y(()=>{ge();Me();C=v(M());el();Zc();LP=async(e,t)=>{let r=Fo(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,C.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,C._json)(s)})),r.m("POST").h(n).b(o),r.build()},FP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return c5(e,t);let r=(0,C.map)({$metadata:rt(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Un(e.body,t)),"body"),o=(0,C.take)(n,{accessToken:C.expectString,expiresIn:C.expectInt32,idToken:C.expectString,refreshToken:C.expectString,tokenType:C.expectString});return Object.assign(r,o),r},c5=async(e,t)=>{let r={...e,body:await ip(e.body,t)},n=Zr(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await d5(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await u5(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await p5(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await f5(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await m5(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await h5(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await g5(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await y5(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await _5(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await S5(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await v5(r,t);default:let o=r.body;return l5({output:e,parsedBody:o,errorCode:n})}},l5=(0,C.withBaseException)(ye),d5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Ss({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},u5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new vs({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},p5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Es({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},f5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new bs({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},m5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new ws({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},h5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Cs({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},g5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Ps({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},y5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Rs({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},_5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new xs({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},S5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new Ts({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},v5=async(e,t)=>{let r=(0,C.map)({}),n=e.body,o=(0,C.take)(n,{error:C.expectString,error_description:C.expectString});Object.assign(r,o);let s=new As({$metadata:rt(e),...r});return(0,C.decorateServiceException)(s,e.body)},rt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var jP,HP,Tf,Os,Af=y(()=>{jP=v(br()),HP=v(sr()),Tf=v(M());vf();el();UP();Os=class extends Tf.Command.classBuilder().ep(JC).m(function(t,r,n,o){return[(0,HP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Rf,xf).ser(LP).de(FP).build(){}});var VP,E5,tl,qP=y(()=>{VP=v(M());Af();Pf();E5={CreateTokenCommand:Os},tl=class extends _s{};(0,VP.createAggregatedClient)(E5,tl)});var zP=y(()=>{Af()});var BP=y(()=>{el()});var Of={};ot(Of,{$Command:()=>Tf.Command,AccessDeniedException:()=>Ss,AuthorizationPendingException:()=>vs,CreateTokenCommand:()=>Os,CreateTokenRequestFilterSensitiveLog:()=>Rf,CreateTokenResponseFilterSensitiveLog:()=>xf,ExpiredTokenException:()=>Es,InternalServerException:()=>bs,InvalidClientException:()=>ws,InvalidGrantException:()=>Cs,InvalidRequestException:()=>Ps,InvalidScopeException:()=>Rs,SSOOIDC:()=>tl,SSOOIDCClient:()=>_s,SSOOIDCServiceException:()=>ye,SlowDownException:()=>xs,UnauthorizedClientException:()=>Ts,UnsupportedGrantTypeException:()=>As,__Client:()=>Cf.Client});var If=y(()=>{Pf();qP();zP();BP();Zc()});var ZP=E((VX,QP)=>{"use strict";var b5=Object.create,Ns=Object.defineProperty,w5=Object.getOwnPropertyDescriptor,C5=Object.getOwnPropertyNames,P5=Object.getPrototypeOf,R5=Object.prototype.hasOwnProperty,Wt=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),x5=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},KP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of C5(t))!R5.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=w5(t,o))||n.enumerable});return e},JP=(e,t,r)=>(r=e!=null?b5(P5(e)):{},KP(t||!e||!e.__esModule?Ns(r,"default",{value:e,enumerable:!0}):r,e)),T5=e=>KP(Ns({},"__esModule",{value:!0}),e),YP={};x5(YP,{fromEnvSigningName:()=>I5,fromSso:()=>XP,fromStatic:()=>F5,nodeProvider:()=>U5});QP.exports=T5(YP);var A5=(ct(),U(fr)),O5=(Yu(),U(Zv)),Be=Ne(),I5=Wt(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Be.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,O5.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Be.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,A5.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),N5=300*1e3,Nf="To refresh this SSO session run 'aws sso login' with the corresponding profile.",k5=Wt(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>JP((If(),U(Of))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),D5=Wt(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>JP((If(),U(Of))));return(await k5(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),WP=Wt(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Be.TokenProviderError(`Token is expired. ${Nf}`,!1)},"validateTokenExpiry"),dn=Wt((e,t,r=!1)=>{if(typeof t>"u")throw new Be.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Nf}`,!1)},"validateTokenKey"),Is=vr(),$5=require("fs"),{writeFile:M5}=$5.promises,L5=Wt((e,t)=>{let r=(0,Is.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return M5(r,n)},"writeSSOTokenToFile"),GP=new Date(0),XP=Wt((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Is.parseKnownFiles)(r),o=(0,Is.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new Be.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Be.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,Is.loadSsoSessionData)(r))[i];if(!c)throw new Be.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!c[h])throw new Be.TokenProviderError(`Sso session '${i}' is missing required property '${h}'.`,!1);let l=c.sso_start_url,d=c.sso_region,u;try{u=await(0,Is.getSSOTokenFromFile)(i)}catch{throw new Be.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${Nf}`,!1)}dn("accessToken",u.accessToken),dn("expiresAt",u.expiresAt);let{accessToken:p,expiresAt:m}=u,g={token:p,expiration:new Date(m)};if(g.expiration.getTime()-Date.now()>N5)return g;if(Date.now()-GP.getTime()<30*1e3)return WP(g),g;dn("clientId",u.clientId,!0),dn("clientSecret",u.clientSecret,!0),dn("refreshToken",u.refreshToken,!0);try{GP.setTime(Date.now());let h=await D5(u,d,r);dn("accessToken",h.accessToken),dn("expiresIn",h.expiresIn);let S=new Date(Date.now()+h.expiresIn*1e3);try{await L5(i,{...u,accessToken:h.accessToken,expiresAt:S.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:S}}catch{return WP(g),g}},"fromSso"),F5=Wt(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Be.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),U5=Wt((e={})=>(0,Be.memoize)((0,Be.chain)(XP(e),async()=>{throw new Be.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Df=E((qX,cR)=>{"use strict";var nl=Object.defineProperty,j5=Object.getOwnPropertyDescriptor,rR=Object.getOwnPropertyNames,H5=Object.prototype.hasOwnProperty,ol=(e,t)=>nl(e,"name",{value:t,configurable:!0}),V5=(e,t)=>function(){return e&&(t=(0,e[rR(e)[0]])(e=0)),t},nR=(e,t)=>{for(var r in t)nl(e,r,{get:t[r],enumerable:!0})},q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rR(t))!H5.call(e,o)&&o!==r&&nl(e,o,{get:()=>t[o],enumerable:!(n=j5(t,o))||n.enumerable});return e},z5=e=>q5(nl({},"__esModule",{value:!0}),e),oR={};nR(oR,{GetRoleCredentialsCommand:()=>kf.GetRoleCredentialsCommand,SSOClient:()=>kf.SSOClient});var kf,B5=V5({"src/loadSso.ts"(){"use strict";kf=zC()}}),sR={};nR(sR,{fromSSO:()=>G5,isSsoProfile:()=>iR,validateSsoProfile:()=>aR});cR.exports=z5(sR);var iR=ol(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),eR=(ct(),U(fr)),W5=ZP(),ut=Ne(),rl=vr(),ks=!1,tR=ol(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let K=await(0,W5.fromSso)({profile:c})();d={accessToken:K.token,expiresAt:new Date(K.expiration).toISOString()}}catch(K){throw new ut.CredentialsProviderError(K.message,{tryNextLink:ks,logger:l})}else try{d=await(0,rl.getSSOTokenFromFile)(e)}catch{throw new ut.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:ks,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new ut.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:ks,logger:l});let{accessToken:p}=d,{SSOClient:m,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(B5(),oR)),h=s||new m(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),S;try{S=await h.send(new g({accountId:r,roleName:o,accessToken:p}))}catch(K){throw new ut.CredentialsProviderError(K,{tryNextLink:ks,logger:l})}let{roleCredentials:{accessKeyId:b,secretAccessKey:w,sessionToken:O,expiration:P,credentialScope:A,accountId:k}={}}=S;if(!b||!w||!O||!P)throw new ut.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ks,logger:l});let Pe={accessKeyId:b,secretAccessKey:w,sessionToken:O,expiration:new Date(P),...A&&{credentialScope:A},...k&&{accountId:k}};return t?(0,eR.setCredentialFeature)(Pe,"CREDENTIALS_SSO","s"):(0,eR.setCredentialFeature)(Pe,"CREDENTIALS_SSO_LEGACY","u"),Pe},"resolveSSOCredentials"),aR=ol((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new ut.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),G5=ol((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,rl.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let d=(await(0,rl.parseKnownFiles)(e))[c];if(!d)throw new ut.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!iR(d))throw new ut.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let b=(await(0,rl.loadSsoSessionData)(e))[d.sso_session],w=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(o&&o!==b.sso_region)throw new ut.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new ut.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});d.sso_region=b.sso_region,d.sso_start_url=b.sso_start_url}let{sso_start_url:u,sso_account_id:p,sso_region:m,sso_role_name:g,sso_session:h}=aR(d,e.logger);return tR({ssoStartUrl:u,ssoSession:h,ssoAccountId:p,ssoRegion:m,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new ut.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return tR({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function K5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function J5(e){return{schemeId:"smithy.api#noAuth"}}var Ds,lR,dR,Y5,uR,$f=y(()=>{ge();Ds=v(st());$s();lR=async(e,t,r)=>({operation:(0,Ds.getSmithyContext)(t).operation,region:await(0,Ds.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dR=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(J5(e));break}default:t.push(K5(e))}return t},Y5=e=>Object.assign(e,{stsClientCtor:Tt}),uR=e=>{let t=Y5(e),r=Xr(t);return Object.assign(r,{authSchemePreference:(0,Ds.normalizeProvider)(e.authSchemePreference??[])})}});var pR,sl,il=y(()=>{pR=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),sl={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var wR,N,q,Ar,we,CR,PR,Q,fR,At,Zn,Lf,mR,Mf,RR,hR,Ce,gR,xR,TR,xe,We,yR,AR,OR,_R,IR,SR,vR,ER,bR,X5,NR,kR=y(()=>{wR="required",N="type",q="argv",Ar="booleanEquals",we="stringEquals",CR="sigv4",PR="us-east-1",Q="endpoint",fR="https://sts.{Region}.{PartitionResult#dnsSuffix}",At="tree",Zn="error",Lf="getAttr",mR={[wR]:!1,[N]:"String"},Mf={[wR]:!0,default:!1,[N]:"Boolean"},RR={ref:"Endpoint"},hR={fn:"isSet",[q]:[{ref:"Region"}]},Ce={ref:"Region"},gR={fn:"aws.partition",[q]:[Ce],assign:"PartitionResult"},xR={ref:"UseFIPS"},TR={ref:"UseDualStack"},xe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:CR,signingName:"sts",signingRegion:PR}]},headers:{}},We={},yR={conditions:[{fn:we,[q]:[Ce,"aws-global"]}],[Q]:xe,[N]:Q},AR={fn:Ar,[q]:[xR,!0]},OR={fn:Ar,[q]:[TR,!0]},_R={fn:Lf,[q]:[{ref:"PartitionResult"},"supportsFIPS"]},IR={ref:"PartitionResult"},SR={fn:Ar,[q]:[!0,{fn:Lf,[q]:[IR,"supportsDualStack"]}]},vR=[{fn:"isSet",[q]:[RR]}],ER=[AR],bR=[OR],X5={version:"1.0",parameters:{Region:mR,UseDualStack:Mf,UseFIPS:Mf,Endpoint:mR,UseGlobalEndpoint:Mf},rules:[{conditions:[{fn:Ar,[q]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[q]:vR},hR,gR,{fn:Ar,[q]:[xR,!1]},{fn:Ar,[q]:[TR,!1]}],rules:[{conditions:[{fn:we,[q]:[Ce,"ap-northeast-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"ap-south-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"ap-southeast-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"ap-southeast-2"]}],endpoint:xe,[N]:Q},yR,{conditions:[{fn:we,[q]:[Ce,"ca-central-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"eu-central-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"eu-north-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"eu-west-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"eu-west-2"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"eu-west-3"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"sa-east-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,PR]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"us-east-2"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"us-west-1"]}],endpoint:xe,[N]:Q},{conditions:[{fn:we,[q]:[Ce,"us-west-2"]}],endpoint:xe,[N]:Q},{endpoint:{url:fR,properties:{authSchemes:[{name:CR,signingName:"sts",signingRegion:"{Region}"}]},headers:We},[N]:Q}],[N]:At},{conditions:vR,rules:[{conditions:ER,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[N]:Zn},{conditions:bR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[N]:Zn},{endpoint:{url:RR,properties:We,headers:We},[N]:Q}],[N]:At},{conditions:[hR],rules:[{conditions:[gR],rules:[{conditions:[AR,OR],rules:[{conditions:[{fn:Ar,[q]:[!0,_R]},SR],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:We,headers:We},[N]:Q}],[N]:At},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[N]:Zn}],[N]:At},{conditions:ER,rules:[{conditions:[{fn:Ar,[q]:[_R,!0]}],rules:[{conditions:[{fn:we,[q]:[{fn:Lf,[q]:[IR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:We,headers:We},[N]:Q},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:We,headers:We},[N]:Q}],[N]:At},{error:"FIPS is enabled but this partition does not support FIPS",[N]:Zn}],[N]:At},{conditions:bR,rules:[{conditions:[SR],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:We,headers:We},[N]:Q}],[N]:At},{error:"DualStack is enabled but this partition does not support DualStack",[N]:Zn}],[N]:At},yR,{endpoint:{url:fR,properties:We,headers:We},[N]:Q}],[N]:At}],[N]:At},{error:"Invalid Configuration: Missing Region",[N]:Zn}]},NR=X5});var DR,eo,Q5,$R,MR=y(()=>{DR=v(kn()),eo=v(Nn());kR();Q5=new eo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),$R=(e,t={})=>Q5.get(e,()=>(0,eo.resolveEndpoint)(NR,{endpointParams:e,logger:t.logger}));eo.customEndpointFunctions.aws=DR.awsEndpointFunctions});var LR,FR,al,cl,UR,jR=y(()=>{ge();Me();LR=v(M()),FR=v(dr()),al=v(Ae()),cl=v(Se());$f();MR();UR=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??al.fromBase64,base64Encoder:e?.base64Encoder??al.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$R,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dR,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],logger:e?.logger??new LR.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??FR.parseUrl,utf8Decoder:e?.utf8Decoder??cl.fromUtf8,utf8Encoder:e?.utf8Encoder??cl.toUtf8})});var ll,Ir,HR,dl,Or,ul,VR,qR,zR,BR,WR,GR,KR=y(()=>{Ef();ge();ll=v(as()),Ir=v(Pt());Me();HR=v(cs()),dl=v(Vt()),Or=v(Er()),ul=v(Ur()),VR=v(ls()),qR=v(qn());jR();zR=v(M()),BR=v(ps()),WR=v(M()),GR=e=>{(0,WR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,BR.resolveDefaultsModeConfig)(e),r=()=>t().then(zR.loadConfigsForDefaultMode),n=UR(e);Dn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Or.loadConfig)(Ln,o),bodyLengthChecker:e?.bodyLengthChecker??VR.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ll.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Hc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Fe},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ut}],maxAttempts:e?.maxAttempts??(0,Or.loadConfig)(dl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Or.loadConfig)(Ir.NODE_REGION_CONFIG_OPTIONS,{...Ir.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:ul.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Or.loadConfig)({...dl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qR.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??HR.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ul.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Or.loadConfig)(Ir.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Or.loadConfig)(Ir.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Or.loadConfig)(ll.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var JR,YR,XR=y(()=>{JR=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},YR=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var pl,fl,ml,QR,ZR=y(()=>{pl=v(fs()),fl=v(Y()),ml=v(M());XR();QR=(e,t)=>{let r=Object.assign((0,pl.getAwsRegionExtensionConfiguration)(e),(0,ml.getDefaultExtensionConfiguration)(e),(0,fl.getHttpHandlerExtensionConfiguration)(e),JR(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,pl.resolveAwsRegionExtensionConfiguration)(r),(0,ml.resolveDefaultRuntimeConfig)(r),(0,fl.resolveHttpHandlerRuntimeConfig)(r),YR(r))}});var hl,ex,tx,gl,rx,nx,ox,yl,Ff,Tt,$s=y(()=>{hl=v(ho()),ex=v(go()),tx=v(yo()),gl=v(jn()),rx=v(Pt());Me();nx=v(ts()),ox=v(br()),yl=v(Vt()),Ff=v(M());$f();il();KR();ZR();Tt=class extends Ff.Client{config;constructor(...[t]){let r=GR(t||{});super(r),this.initConfig=r;let n=pR(r),o=(0,gl.resolveUserAgentConfig)(n),s=(0,yl.resolveRetryConfig)(o),i=(0,rx.resolveRegionConfig)(s),a=(0,hl.resolveHostHeaderConfig)(i),c=(0,ox.resolveEndpointConfig)(a),l=uR(c),d=QR(l,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,gl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,yl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,nx.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ex.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,tx.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(So(this.config,{httpAuthSchemeParametersProvider:lR,identityProviderConfigProvider:async u=>new Jr({"aws.auth#sigv4":u.credentials})})),this.middlewareStack.use(vo(this.config))}destroy(){super.destroy()}}});var sx,Ue,_l=y(()=>{sx=v(M()),Ue=class e extends sx.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Uf,jf,Hf,Ms,Ls,Fs,Us,js,Hs,Vf,qf,Vs,qs=y(()=>{Uf=v(M());_l();jf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Uf.SENSITIVE_STRING}}),Hf=e=>({...e,...e.Credentials&&{Credentials:jf(e.Credentials)}}),Ms=class e extends Ue{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ls=class e extends Ue{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fs=class e extends Ue{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Us=class e extends Ue{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},js=class e extends Ue{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hs=class e extends Ue{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Uf.SENSITIVE_STRING}}),qf=e=>({...e,...e.Credentials&&{Credentials:jf(e.Credentials)}}),Vs=class e extends Ue{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var ix,D,ax,cx,lx,dx,ux,Z5,e6,t6,r6,n6,o6,s6,i6,a6,px,c6,l6,d6,u6,p6,f6,fx,m6,h6,mx,g6,y6,_6,S6,v6,E6,b6,Kt,w6,hx,gx,yx,_x,zf,C6,Bf,to,P6,Wf,Gf,ro,Kf,no,Jf,Yf,Xf,oo,so,Qf,Zf,em,io,tm,ao,co,rm,nm,Gt,om,sm,im,am,cm,Sx,lm,dm,um,de,vx,R6,pm=y(()=>{ge();ix=v(Y()),D=v(M());qs();_l();ax=async(e,t)=>{let r=gx,n;return n=vx({...i6(e,t),[_x]:C6,[Sx]:yx}),hx(t,r,"/",void 0,n)},cx=async(e,t)=>{let r=gx,n;return n=vx({...a6(e,t),[_x]:P6,[Sx]:yx}),hx(t,r,"/",void 0,n)},lx=async(e,t)=>{if(e.statusCode>=300)return ux(e,t);let r=await Qo(e.body,t),n={};return n=m6(r.AssumeRoleResult,t),{$metadata:Kt(e),...n}},dx=async(e,t)=>{if(e.statusCode>=300)return ux(e,t);let r=await Qo(e.body,t),n={};return n=h6(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Kt(e),...n}},ux=async(e,t)=>{let r={...e,body:await wp(e.body,t)},n=R6(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Z5(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await n6(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await o6(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await s6(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await e6(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await t6(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await r6(r,t);default:let o=r.body;return w6({output:e,parsedBody:o.Error,errorCode:n})}},Z5=async(e,t)=>{let r=e.body,n=g6(r.Error,t),o=new Ms({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},e6=async(e,t)=>{let r=e.body,n=y6(r.Error,t),o=new Vs({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},t6=async(e,t)=>{let r=e.body,n=_6(r.Error,t),o=new js({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},r6=async(e,t)=>{let r=e.body,n=S6(r.Error,t),o=new Hs({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},n6=async(e,t)=>{let r=e.body,n=v6(r.Error,t),o=new Ls({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},o6=async(e,t)=>{let r=e.body,n=E6(r.Error,t),o=new Fs({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},s6=async(e,t)=>{let r=e.body,n=b6(r.Error,t),o=new Us({$metadata:Kt(e),...n});return(0,D.decorateServiceException)(o,r)},i6=(e,t)=>{let r={};if(e[ao]!=null&&(r[ao]=e[ao]),e[co]!=null&&(r[co]=e[co]),e[so]!=null){let n=px(e[so],t);e[so]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[oo]!=null&&(r[oo]=e[oo]),e[no]!=null&&(r[no]=e[no]),e[im]!=null){let n=f6(e[im],t);e[im]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[cm]!=null){let n=p6(e[cm],t);e[cm]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Yf]!=null&&(r[Yf]=e[Yf]),e[om]!=null&&(r[om]=e[om]),e[am]!=null&&(r[am]=e[am]),e[Gt]!=null&&(r[Gt]=e[Gt]),e[Zf]!=null){let n=d6(e[Zf],t);e[Zf]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},a6=(e,t)=>{let r={};if(e[ao]!=null&&(r[ao]=e[ao]),e[co]!=null&&(r[co]=e[co]),e[dm]!=null&&(r[dm]=e[dm]),e[em]!=null&&(r[em]=e[em]),e[so]!=null){let n=px(e[so],t);e[so]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[oo]!=null&&(r[oo]=e[oo]),e[no]!=null&&(r[no]=e[no]),r},px=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=c6(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},c6=(e,t)=>{let r={};return e[um]!=null&&(r[um]=e[um]),r},l6=(e,t)=>{let r={};return e[Qf]!=null&&(r[Qf]=e[Qf]),e[Kf]!=null&&(r[Kf]=e[Kf]),r},d6=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=l6(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},u6=(e,t)=>{let r={};return e[Xf]!=null&&(r[Xf]=e[Xf]),e[lm]!=null&&(r[lm]=e[lm]),r},p6=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},f6=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=u6(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},fx=(e,t)=>{let r={};return e[Bf]!=null&&(r[Bf]=(0,D.expectString)(e[Bf])),e[Wf]!=null&&(r[Wf]=(0,D.expectString)(e[Wf])),r},m6=(e,t)=>{let r={};return e[ro]!=null&&(r[ro]=mx(e[ro],t)),e[to]!=null&&(r[to]=fx(e[to],t)),e[io]!=null&&(r[io]=(0,D.strictParseInt32)(e[io])),e[Gt]!=null&&(r[Gt]=(0,D.expectString)(e[Gt])),r},h6=(e,t)=>{let r={};return e[ro]!=null&&(r[ro]=mx(e[ro],t)),e[nm]!=null&&(r[nm]=(0,D.expectString)(e[nm])),e[to]!=null&&(r[to]=fx(e[to],t)),e[io]!=null&&(r[io]=(0,D.strictParseInt32)(e[io])),e[tm]!=null&&(r[tm]=(0,D.expectString)(e[tm])),e[Gf]!=null&&(r[Gf]=(0,D.expectString)(e[Gf])),e[Gt]!=null&&(r[Gt]=(0,D.expectString)(e[Gt])),r},mx=(e,t)=>{let r={};return e[zf]!=null&&(r[zf]=(0,D.expectString)(e[zf])),e[rm]!=null&&(r[rm]=(0,D.expectString)(e[rm])),e[sm]!=null&&(r[sm]=(0,D.expectString)(e[sm])),e[Jf]!=null&&(r[Jf]=(0,D.expectNonNull)((0,D.parseRfc3339DateTimeWithOffset)(e[Jf]))),r},g6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},y6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},_6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},S6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},v6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},E6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},b6=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,D.expectString)(e[de])),r},Kt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),w6=(0,D.withBaseException)(Ue),hx=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new ix.HttpRequest(l)},gx={"content-type":"application/x-www-form-urlencoded"},yx="2011-06-15",_x="Action",zf="AccessKeyId",C6="AssumeRole",Bf="AssumedRoleId",to="AssumedRoleUser",P6="AssumeRoleWithWebIdentity",Wf="Arn",Gf="Audience",ro="Credentials",Kf="ContextAssertion",no="DurationSeconds",Jf="Expiration",Yf="ExternalId",Xf="Key",oo="Policy",so="PolicyArns",Qf="ProviderArn",Zf="ProvidedContexts",em="ProviderId",io="PackedPolicySize",tm="Provider",ao="RoleArn",co="RoleSessionName",rm="SecretAccessKey",nm="SubjectFromWebIdentityToken",Gt="SourceIdentity",om="SerialNumber",sm="SessionToken",im="Tags",am="TokenCode",cm="TransitiveTagKeys",Sx="Version",lm="Value",dm="WebIdentityToken",um="arn",de="message",vx=e=>Object.entries(e).map(([t,r])=>(0,D.extendedEncodeURIComponent)(t)+"="+(0,D.extendedEncodeURIComponent)(r)).join("&"),R6=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Ex,bx,wx,un,Sl=y(()=>{Ex=v(br()),bx=v(sr()),wx=v(M());il();qs();pm();un=class extends wx.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,bx.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ex.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Hf).ser(ax).de(lx).build(){}});var Cx,Px,Rx,pn,vl=y(()=>{Cx=v(br()),Px=v(sr()),Rx=v(M());il();qs();pm();pn=class extends Rx.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,Px.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Cx.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Vf,qf).ser(cx).de(dx).build(){}});var xx,x6,El,Tx=y(()=>{xx=v(M());Sl();vl();$s();x6={AssumeRoleCommand:un,AssumeRoleWithWebIdentityCommand:pn},El=class extends Tt{};(0,xx.createAggregatedClient)(x6,El)});var Ax=y(()=>{Sl();vl()});var Ox=y(()=>{qs()});var Ix,Nx,kx,Dx,$x,Mx,Lx=y(()=>{ct();Sl();vl();Ix="us-east-1",Nx=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},kx=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${Ix} (STS default)`),n??o??Ix},Dx=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:d=e?.parentClientConfig?.logger,region:u,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=e,g=await kx(u,e?.parentClientConfig?.region,m),h=!Mx(p);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:h?p:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new un(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=Nx(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return pr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},$x=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,p=await kx(l,e?.parentClientConfig?.region,u),m=!Mx(d);r=new t({profile:e?.parentClientConfig?.profile,region:p,requestHandler:m?d:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new pn(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=Nx(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&pr(a,"RESOLVED_ACCOUNT_ID","T"),pr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},Mx=e=>e?.metadata?.handlerProtocol==="h2"});var Fx,Ux,jx,T6,Hx=y(()=>{Lx();$s();Fx=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Ux=(e={},t)=>Dx(e,Fx(Tt,t)),jx=(e={},t)=>$x(e,Fx(Tt,t)),T6=e=>t=>e({roleAssumer:Ux(t),roleAssumerWithWebIdentity:jx(t),...t})});var fm={};ot(fm,{AssumeRoleCommand:()=>un,AssumeRoleResponseFilterSensitiveLog:()=>Hf,AssumeRoleWithWebIdentityCommand:()=>pn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Vf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>qf,CredentialsFilterSensitiveLog:()=>jf,ExpiredTokenException:()=>Ms,IDPCommunicationErrorException:()=>Vs,IDPRejectedClaimException:()=>js,InvalidIdentityTokenException:()=>Hs,MalformedPolicyDocumentException:()=>Ls,PackedPolicyTooLargeException:()=>Fs,RegionDisabledException:()=>Us,STS:()=>El,STSClient:()=>Tt,STSServiceException:()=>Ue,__Client:()=>Ff.Client,decorateDefaultCredentialProvider:()=>T6,getDefaultRoleAssumer:()=>Ux,getDefaultRoleAssumerWithWebIdentity:()=>jx});var mm=y(()=>{$s();Tx();Ax();Ox();Hx();_l()});var ym=E((eZ,zx)=>{"use strict";var bl=Object.defineProperty,A6=Object.getOwnPropertyDescriptor,O6=Object.getOwnPropertyNames,I6=Object.prototype.hasOwnProperty,gm=(e,t)=>bl(e,"name",{value:t,configurable:!0}),N6=(e,t)=>{for(var r in t)bl(e,r,{get:t[r],enumerable:!0})},k6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O6(t))!I6.call(e,o)&&o!==r&&bl(e,o,{get:()=>t[o],enumerable:!(n=A6(t,o))||n.enumerable});return e},D6=e=>k6(bl({},"__esModule",{value:!0}),e),qx={};N6(qx,{fromProcess:()=>j6});zx.exports=D6(qx);var Vx=vr(),hm=Ne(),$6=require("child_process"),M6=require("util"),L6=(ct(),U(fr)),F6=gm((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,L6.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),U6=gm(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,M6.promisify)($6.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return F6(e,a,t)}catch(i){throw new hm.CredentialsProviderError(i.message,{logger:r})}}else throw new hm.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new hm.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),j6=gm((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,Vx.parseKnownFiles)(e);return U6((0,Vx.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var _m=E(Ot=>{"use strict";var H6=Ot&&Ot.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),V6=Ot&&Ot.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),q6=Ot&&Ot.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&H6(r,t,n[o]);return V6(r,t),r}})();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.fromWebToken=void 0;var z6=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>q6((mm(),U(fm))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Ot.fromWebToken=z6});var Wx=E(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.fromTokenFile=void 0;var B6=(ct(),U(fr)),W6=Ne(),G6=require("fs"),K6=_m(),Bx="AWS_WEB_IDENTITY_TOKEN_FILE",J6="AWS_ROLE_ARN",Y6="AWS_ROLE_SESSION_NAME",X6=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Bx],r=e?.roleArn??process.env[J6],n=e?.roleSessionName??process.env[Y6];if(!t||!r)throw new W6.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,K6.fromWebToken)({...e,webIdentityToken:(0,G6.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Bx]&&(0,B6.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};wl.fromTokenFile=X6});var Em=E((nZ,Cl)=>{"use strict";var Gx=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,Z6=Object.getOwnPropertyNames,eH=Object.prototype.hasOwnProperty,Sm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z6(t))!eH.call(e,o)&&o!==r&&Gx(e,o,{get:()=>t[o],enumerable:!(n=Q6(t,o))||n.enumerable});return e},Kx=(e,t,r)=>(Sm(e,t,"default"),r&&Sm(r,t,"default")),tH=e=>Sm(Gx({},"__esModule",{value:!0}),e),vm={};Cl.exports=tH(vm);Kx(vm,Wx(),Cl.exports);Kx(vm,_m(),Cl.exports)});var rT=E((oZ,tT)=>{"use strict";var rH=Object.create,Bs=Object.defineProperty,nH=Object.getOwnPropertyDescriptor,oH=Object.getOwnPropertyNames,sH=Object.getPrototypeOf,iH=Object.prototype.hasOwnProperty,fe=(e,t)=>Bs(e,"name",{value:t,configurable:!0}),aH=(e,t)=>{for(var r in t)Bs(e,r,{get:t[r],enumerable:!0})},Qx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oH(t))!iH.call(e,o)&&o!==r&&Bs(e,o,{get:()=>t[o],enumerable:!(n=nH(t,o))||n.enumerable});return e},Nr=(e,t,r)=>(r=e!=null?rH(sH(e)):{},Qx(t||!e||!e.__esModule?Bs(r,"default",{value:e,enumerable:!0}):r,e)),cH=e=>Qx(Bs({},"__esModule",{value:!0}),e),Zx={};aH(Zx,{fromIni:()=>vH});tT.exports=cH(Zx);var wm=vr(),kr=(ct(),U(fr)),zs=Ne(),lH=fe((e,t,r)=>{let n={EcsContainer:fe(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>Nr(af())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Nr(is()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,zs.chain)(s(o??{}),i(o))().then(bm)},"EcsContainer"),Ec2InstanceMetadata:fe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Nr(is()));return async()=>s(o)().then(bm)},"Ec2InstanceMetadata"),Environment:fe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Nr(Zp()));return async()=>s(o)().then(bm)},"Environment")};if(e in n)return n[e];throw new zs.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),bm=fe(e=>(0,kr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),dH=fe((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(uH(e,{profile:t,logger:r})||pH(e,{profile:t,logger:r})),"isAssumeRoleProfile"),uH=fe((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),pH=fe((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),fH=fe(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Nr((mm(),U(fm))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new zs.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,wm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?eT(s,t,r,{...n,[s]:!0},Jx(t[s]??{})):(await lH(o.credential_source,e,r.logger)(r))();if(Jx(o))return a.then(c=>(0,kr.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new zs.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(u=>(0,kr.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),Jx=fe(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),mH=fe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),hH=fe(async(e,t)=>Promise.resolve().then(()=>Nr(ym())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,kr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),gH=fe(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Nr(Df()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,kr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,kr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),yH=fe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Yx=fe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),Xx=fe(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,kr.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),_H=fe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),SH=fe(async(e,t)=>Promise.resolve().then(()=>Nr(Em())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,kr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),eT=fe(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&Yx(s))return Xx(s,r);if(o||dH(s,{profile:e,logger:r.logger}))return fH(e,t,r,n);if(Yx(s))return Xx(s,r);if(_H(s))return SH(s,r);if(mH(s))return hH(r,e);if(yH(s))return await gH(e,s,r);throw new zs.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),vH=fe((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,wm.parseKnownFiles)(r);return eT((0,wm.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var dT=E((sZ,lT)=>{"use strict";var EH=Object.create,Ws=Object.defineProperty,bH=Object.getOwnPropertyDescriptor,wH=Object.getOwnPropertyNames,CH=Object.getPrototypeOf,PH=Object.prototype.hasOwnProperty,Pl=(e,t)=>Ws(e,"name",{value:t,configurable:!0}),RH=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},sT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wH(t))!PH.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=bH(t,o))||n.enumerable});return e},lo=(e,t,r)=>(r=e!=null?EH(CH(e)):{},sT(t||!e||!e.__esModule?Ws(r,"default",{value:e,enumerable:!0}):r,e)),xH=e=>sT(Ws({},"__esModule",{value:!0}),e),iT={};RH(iT,{credentialsTreatedAsExpired:()=>cT,credentialsWillNeedRefresh:()=>aT,defaultProvider:()=>OH});lT.exports=xH(iT);var Cm=Zp(),TH=vr(),fn=Ne(),nT="AWS_EC2_METADATA_DISABLED",AH=Pl(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>lo(is()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>lo(af()));return(0,fn.chain)(s(e),n(e))}return process.env[nT]&&process.env[nT]!=="false"?async()=>{throw new fn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),oT=!1,OH=Pl((e={})=>(0,fn.memoize)((0,fn.chain)(async()=>{if(e.profile??process.env[TH.ENV_PROFILE])throw process.env[Cm.ENV_KEY]&&process.env[Cm.ENV_SECRET]&&(oT||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),oT=!0)),new fn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Cm.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new fn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>lo(Df()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>lo(rT()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>lo(ym()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>lo(Em()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await AH(e))()),async()=>{throw new fn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),cT,aT),"defaultProvider"),aT=Pl(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),cT=Pl(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var TT=E(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.ruleSet=void 0;var PT="required",je="fn",He="argv",mn="ref",Dr="properties",$r="headers",uT=!0,pT="isSet",Gs="booleanEquals",uo="error",It="endpoint",Jt="tree",Rl="PartitionResult",Pm="stringEquals",fT={[PT]:!1,type:"String"},mT={[PT]:!0,default:!1,type:"Boolean"},hT={[mn]:"Endpoint"},RT={[je]:Gs,[He]:[{[mn]:"UseFIPS"},!0]},xT={[je]:Gs,[He]:[{[mn]:"UseDualStack"},!0]},nt={},gT={[je]:"getAttr",[He]:[{[mn]:Rl},"supportsFIPS"]},yT={[je]:Gs,[He]:[!0,{[je]:"getAttr",[He]:[{[mn]:Rl},"supportsDualStack"]}]},Rm={[je]:"getAttr",[He]:[{[mn]:Rl},"name"]},_T={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[Dr]:{},[$r]:{}},ST={url:"https://secretsmanager.{Region}.amazonaws.com",[Dr]:{},[$r]:{}},vT=[RT],ET=[xT],bT=[{[mn]:"Region"}],wT=[{[je]:Pm,[He]:["aws",Rm]}],CT=[{[je]:Pm,[He]:["aws-us-gov",Rm]}],IH={version:"1.0",parameters:{Region:fT,UseDualStack:mT,UseFIPS:mT,Endpoint:fT},rules:[{conditions:[{[je]:pT,[He]:[hT]}],rules:[{conditions:vT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:uo},{conditions:ET,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:uo},{endpoint:{url:hT,[Dr]:nt,[$r]:nt},type:It}],type:Jt},{conditions:[{[je]:pT,[He]:bT}],rules:[{conditions:[{[je]:"aws.partition",[He]:bT,assign:Rl}],rules:[{conditions:[RT,xT],rules:[{conditions:[{[je]:Gs,[He]:[uT,gT]},yT],rules:[{conditions:wT,endpoint:_T,type:It},{conditions:CT,endpoint:_T,type:It},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dr]:nt,[$r]:nt},type:It}],type:Jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:uo}],type:Jt},{conditions:vT,rules:[{conditions:[{[je]:Gs,[He]:[gT,uT]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[Dr]:nt,[$r]:nt},type:It}],type:Jt},{error:"FIPS is enabled but this partition does not support FIPS",type:uo}],type:Jt},{conditions:ET,rules:[{conditions:[yT],rules:[{conditions:wT,endpoint:ST,type:It},{conditions:[{[je]:Pm,[He]:["aws-cn",Rm]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[Dr]:nt,[$r]:nt},type:It},{conditions:CT,endpoint:ST,type:It},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dr]:nt,[$r]:nt},type:It}],type:Jt},{error:"DualStack is enabled but this partition does not support DualStack",type:uo}],type:Jt},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[Dr]:nt,[$r]:nt},type:It}],type:Jt}],type:Jt},{error:"Invalid Configuration: Missing Region",type:uo}]};xl.ruleSet=IH});var AT=E(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.defaultEndpointResolver=void 0;var NH=kn(),xm=Nn(),kH=TT(),DH=new xm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$H=(e,t={})=>DH.get(e,()=>(0,xm.resolveEndpoint)(kH.ruleSet,{endpointParams:e,logger:t.logger}));Tl.defaultEndpointResolver=$H;xm.customEndpointFunctions.aws=NH.awsEndpointFunctions});var NT=E(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getRuntimeConfig=void 0;var MH=(ge(),U(wt)),LH=M(),FH=dr(),OT=Ae(),IT=Se(),UH=Qp(),jH=AT(),HH=e=>({apiVersion:"2017-10-17",base64Decoder:e?.base64Decoder??OT.fromBase64,base64Encoder:e?.base64Encoder??OT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jH.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??UH.defaultSecretsManagerHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new MH.AwsSdkSigV4Signer}],logger:e?.logger??new LH.NoOpLogger,serviceId:e?.serviceId??"Secrets Manager",urlParser:e?.urlParser??FH.parseUrl,utf8Decoder:e?.utf8Decoder??IT.fromUtf8,utf8Encoder:e?.utf8Encoder??IT.toUtf8});Al.getRuntimeConfig=HH});var LT=E(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getRuntimeConfig=void 0;var VH=(bn(),U(En)),qH=VH.__importDefault(jw()),kT=(ge(),U(wt)),zH=dT(),DT=as(),Ol=Pt(),BH=cs(),$T=Vt(),hn=Er(),MT=Ur(),WH=ls(),GH=qn(),KH=NT(),JH=M(),YH=ps(),XH=M(),QH=e=>{(0,XH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,YH.resolveDefaultsModeConfig)(e),r=()=>t().then(JH.loadConfigsForDefaultMode),n=(0,KH.getRuntimeConfig)(e);(0,kT.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,hn.loadConfig)(kT.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??WH.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??zH.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,DT.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:qH.default.version}),maxAttempts:e?.maxAttempts??(0,hn.loadConfig)($T.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,hn.loadConfig)(Ol.NODE_REGION_CONFIG_OPTIONS,{...Ol.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:MT.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,hn.loadConfig)({...$T.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??BH.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??MT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,hn.loadConfig)(Ol.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,hn.loadConfig)(Ol.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,hn.loadConfig)(DT.NODE_APP_ID_CONFIG_OPTIONS,o)}};Il.getRuntimeConfig=QH});var zA=E((dZ,qA)=>{"use strict";var Nl=Object.defineProperty,ZH=Object.getOwnPropertyDescriptor,eV=Object.getOwnPropertyNames,tV=Object.prototype.hasOwnProperty,_=(e,t)=>Nl(e,"name",{value:t,configurable:!0}),rV=(e,t)=>{for(var r in t)Nl(e,r,{get:t[r],enumerable:!0})},nV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eV(t))!tV.call(e,o)&&o!==r&&Nl(e,o,{get:()=>t[o],enumerable:!(n=ZH(t,o))||n.enumerable});return e},oV=e=>nV(Nl({},"__esModule",{value:!0}),e),qT={};rV(qT,{BatchGetSecretValueCommand:()=>Am,BatchGetSecretValueResponseFilterSensitiveLog:()=>gA,CancelRotateSecretCommand:()=>bA,CreateSecretCommand:()=>wA,CreateSecretRequestFilterSensitiveLog:()=>yA,DecryptionFailure:()=>BT,DeleteResourcePolicyCommand:()=>CA,DeleteSecretCommand:()=>PA,DescribeSecretCommand:()=>RA,EncryptionFailure:()=>nA,FilterNameStringType:()=>mV,GetRandomPasswordCommand:()=>xA,GetRandomPasswordResponseFilterSensitiveLog:()=>_A,GetResourcePolicyCommand:()=>TA,GetSecretValueCommand:()=>AA,GetSecretValueResponseFilterSensitiveLog:()=>SA,InternalServiceError:()=>GT,InvalidNextTokenException:()=>JT,InvalidParameterException:()=>XT,InvalidRequestException:()=>ZT,LimitExceededException:()=>sA,ListSecretVersionIdsCommand:()=>Im,ListSecretsCommand:()=>Om,MalformedPolicyDocumentException:()=>aA,PreconditionNotMetException:()=>lA,PublicPolicyException:()=>fA,PutResourcePolicyCommand:()=>OA,PutSecretValueCommand:()=>IA,PutSecretValueRequestFilterSensitiveLog:()=>vA,RemoveRegionsFromReplicationCommand:()=>NA,ReplicateSecretToRegionsCommand:()=>kA,ResourceExistsException:()=>uA,ResourceNotFoundException:()=>tA,RestoreSecretCommand:()=>DA,RotateSecretCommand:()=>$A,SecretValueEntryFilterSensitiveLog:()=>hA,SecretsManager:()=>VA,SecretsManagerClient:()=>Ks,SecretsManagerServiceException:()=>Ve,SortOrderType:()=>gV,StatusType:()=>hV,StopReplicationToReplicaCommand:()=>MA,TagResourceCommand:()=>LA,UntagResourceCommand:()=>FA,UpdateSecretCommand:()=>UA,UpdateSecretRequestFilterSensitiveLog:()=>EA,UpdateSecretVersionStageCommand:()=>jA,ValidateResourcePolicyCommand:()=>HA,__Client:()=>f.Client,paginateBatchGetSecretValue:()=>qq,paginateListSecretVersionIds:()=>zq,paginateListSecrets:()=>Bq});qA.exports=oV(qT);var FT=ho(),sV=go(),iV=yo(),UT=jn(),aV=Pt(),po=(Me(),U(In)),cV=ts(),Z=br(),jT=Vt(),HT=Qp(),lV=_(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),"resolveClientEndpointParameters"),ne={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},dV=LT(),VT=fs(),Tm=Y(),f=M(),uV=_(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),pV=_(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),fV=_((e,t)=>{let r=Object.assign((0,VT.getAwsRegionExtensionConfiguration)(e),(0,f.getDefaultExtensionConfiguration)(e),(0,Tm.getHttpHandlerExtensionConfiguration)(e),uV(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,VT.resolveAwsRegionExtensionConfiguration)(r),(0,f.resolveDefaultRuntimeConfig)(r),(0,Tm.resolveHttpHandlerRuntimeConfig)(r),pV(r))},"resolveRuntimeExtensions"),Ks=class extends f.Client{static{_(this,"SecretsManagerClient")}config;constructor(...[e]){let t=(0,dV.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=lV(t),n=(0,UT.resolveUserAgentConfig)(r),o=(0,jT.resolveRetryConfig)(n),s=(0,aV.resolveRegionConfig)(o),i=(0,FT.resolveHostHeaderConfig)(s),a=(0,Z.resolveEndpointConfig)(i),c=(0,HT.resolveHttpAuthSchemeConfig)(a),l=fV(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,UT.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cV.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,FT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sV.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iV.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,po.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:HT.defaultSecretsManagerHttpAuthSchemeParametersProvider,identityProviderConfigProvider:_(async d=>new po.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,po.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},oe=sr(),Ve=class zT extends f.ServiceException{static{_(this,"SecretsManagerServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,zT.prototype)}},mV={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},BT=class WT extends Ve{static{_(this,"DecryptionFailure")}name="DecryptionFailure";$fault="client";Message;constructor(t){super({name:"DecryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,WT.prototype),this.Message=t.Message}},GT=class KT extends Ve{static{_(this,"InternalServiceError")}name="InternalServiceError";$fault="server";Message;constructor(t){super({name:"InternalServiceError",$fault:"server",...t}),Object.setPrototypeOf(this,KT.prototype),this.Message=t.Message}},JT=class YT extends Ve{static{_(this,"InvalidNextTokenException")}name="InvalidNextTokenException";$fault="client";Message;constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,YT.prototype),this.Message=t.Message}},XT=class QT extends Ve{static{_(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,QT.prototype),this.Message=t.Message}},ZT=class eA extends Ve{static{_(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";Message;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,eA.prototype),this.Message=t.Message}},tA=class rA extends Ve{static{_(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,rA.prototype),this.Message=t.Message}},hV={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},nA=class oA extends Ve{static{_(this,"EncryptionFailure")}name="EncryptionFailure";$fault="client";Message;constructor(t){super({name:"EncryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,oA.prototype),this.Message=t.Message}},sA=class iA extends Ve{static{_(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,iA.prototype),this.Message=t.Message}},aA=class cA extends Ve{static{_(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";Message;constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,cA.prototype),this.Message=t.Message}},lA=class dA extends Ve{static{_(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";Message;constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,dA.prototype),this.Message=t.Message}},uA=class pA extends Ve{static{_(this,"ResourceExistsException")}name="ResourceExistsException";$fault="client";Message;constructor(t){super({name:"ResourceExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,pA.prototype),this.Message=t.Message}},gV={asc:"asc",desc:"desc"},fA=class mA extends Ve{static{_(this,"PublicPolicyException")}name="PublicPolicyException";$fault="client";Message;constructor(t){super({name:"PublicPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,mA.prototype),this.Message=t.Message}},hA=_(e=>({...e,...e.SecretBinary&&{SecretBinary:f.SENSITIVE_STRING},...e.SecretString&&{SecretString:f.SENSITIVE_STRING}}),"SecretValueEntryFilterSensitiveLog"),gA=_(e=>({...e,...e.SecretValues&&{SecretValues:e.SecretValues.map(t=>hA(t))}}),"BatchGetSecretValueResponseFilterSensitiveLog"),yA=_(e=>({...e,...e.SecretBinary&&{SecretBinary:f.SENSITIVE_STRING},...e.SecretString&&{SecretString:f.SENSITIVE_STRING}}),"CreateSecretRequestFilterSensitiveLog"),_A=_(e=>({...e,...e.RandomPassword&&{RandomPassword:f.SENSITIVE_STRING}}),"GetRandomPasswordResponseFilterSensitiveLog"),SA=_(e=>({...e,...e.SecretBinary&&{SecretBinary:f.SENSITIVE_STRING},...e.SecretString&&{SecretString:f.SENSITIVE_STRING}}),"GetSecretValueResponseFilterSensitiveLog"),vA=_(e=>({...e,...e.SecretBinary&&{SecretBinary:f.SENSITIVE_STRING},...e.SecretString&&{SecretString:f.SENSITIVE_STRING},...e.RotationToken&&{RotationToken:f.SENSITIVE_STRING}}),"PutSecretValueRequestFilterSensitiveLog"),EA=_(e=>({...e,...e.SecretBinary&&{SecretBinary:f.SENSITIVE_STRING},...e.SecretString&&{SecretString:f.SENSITIVE_STRING}}),"UpdateSecretRequestFilterSensitiveLog"),re=(ge(),U(wt)),kl=(ia(),U(uu)),yV=_(async(e,t)=>{let r=ee("BatchGetSecretValue"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_BatchGetSecretValueCommand"),_V=_(async(e,t)=>{let r=ee("CancelRotateSecret"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_CancelRotateSecretCommand"),SV=_(async(e,t)=>{let r=ee("CreateSecret"),n;return n=JSON.stringify(Eq(e,t)),ie(t,r,"/",void 0,n)},"se_CreateSecretCommand"),vV=_(async(e,t)=>{let r=ee("DeleteResourcePolicy"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),EV=_(async(e,t)=>{let r=ee("DeleteSecret"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_DeleteSecretCommand"),bV=_(async(e,t)=>{let r=ee("DescribeSecret"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_DescribeSecretCommand"),wV=_(async(e,t)=>{let r=ee("GetRandomPassword"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_GetRandomPasswordCommand"),CV=_(async(e,t)=>{let r=ee("GetResourcePolicy"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),PV=_(async(e,t)=>{let r=ee("GetSecretValue"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_GetSecretValueCommand"),RV=_(async(e,t)=>{let r=ee("ListSecrets"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_ListSecretsCommand"),xV=_(async(e,t)=>{let r=ee("ListSecretVersionIds"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_ListSecretVersionIdsCommand"),TV=_(async(e,t)=>{let r=ee("PutResourcePolicy"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),AV=_(async(e,t)=>{let r=ee("PutSecretValue"),n;return n=JSON.stringify(bq(e,t)),ie(t,r,"/",void 0,n)},"se_PutSecretValueCommand"),OV=_(async(e,t)=>{let r=ee("RemoveRegionsFromReplication"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_RemoveRegionsFromReplicationCommand"),IV=_(async(e,t)=>{let r=ee("ReplicateSecretToRegions"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_ReplicateSecretToRegionsCommand"),NV=_(async(e,t)=>{let r=ee("RestoreSecret"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_RestoreSecretCommand"),kV=_(async(e,t)=>{let r=ee("RotateSecret"),n;return n=JSON.stringify(wq(e,t)),ie(t,r,"/",void 0,n)},"se_RotateSecretCommand"),DV=_(async(e,t)=>{let r=ee("StopReplicationToReplica"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_StopReplicationToReplicaCommand"),$V=_(async(e,t)=>{let r=ee("TagResource"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_TagResourceCommand"),MV=_(async(e,t)=>{let r=ee("UntagResource"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_UntagResourceCommand"),LV=_(async(e,t)=>{let r=ee("UpdateSecret"),n;return n=JSON.stringify(Cq(e,t)),ie(t,r,"/",void 0,n)},"se_UpdateSecretCommand"),FV=_(async(e,t)=>{let r=ee("UpdateSecretVersionStage"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_UpdateSecretVersionStageCommand"),UV=_(async(e,t)=>{let r=ee("ValidateResourcePolicy"),n;return n=JSON.stringify((0,f._json)(e)),ie(t,r,"/",void 0,n)},"se_ValidateResourcePolicyCommand"),jV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Pq(r,t),{$metadata:H(e),...n}},"de_BatchGetSecretValueCommand"),HV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_CancelRotateSecretCommand"),VV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Rq(r,t),{$metadata:H(e),...n}},"de_CreateSecretCommand"),qV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_DeleteResourcePolicyCommand"),zV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=xq(r,t),{$metadata:H(e),...n}},"de_DeleteSecretCommand"),BV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Tq(r,t),{$metadata:H(e),...n}},"de_DescribeSecretCommand"),WV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_GetRandomPasswordCommand"),GV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_GetResourcePolicyCommand"),KV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Aq(r,t),{$metadata:H(e),...n}},"de_GetSecretValueCommand"),JV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Oq(r,t),{$metadata:H(e),...n}},"de_ListSecretsCommand"),YV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Iq(r,t),{$metadata:H(e),...n}},"de_ListSecretVersionIdsCommand"),XV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_PutResourcePolicyCommand"),QV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_PutSecretValueCommand"),ZV=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=Nq(r,t),{$metadata:H(e),...n}},"de_RemoveRegionsFromReplicationCommand"),eq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=kq(r,t),{$metadata:H(e),...n}},"de_ReplicateSecretToRegionsCommand"),tq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_RestoreSecretCommand"),rq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_RotateSecretCommand"),nq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_StopReplicationToReplicaCommand"),oq=_(async(e,t)=>e.statusCode>=300?se(e,t):(await(0,f.collectBody)(e.body,t),{$metadata:H(e)}),"de_TagResourceCommand"),sq=_(async(e,t)=>e.statusCode>=300?se(e,t):(await(0,f.collectBody)(e.body,t),{$metadata:H(e)}),"de_UntagResourceCommand"),iq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_UpdateSecretCommand"),aq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_UpdateSecretVersionStageCommand"),cq=_(async(e,t)=>{if(e.statusCode>=300)return se(e,t);let r=await(0,re.parseJsonBody)(e.body,t),n={};return n=(0,f._json)(r),{$metadata:H(e),...n}},"de_ValidateResourcePolicyCommand"),se=_(async(e,t)=>{let r={...e,body:await(0,re.parseJsonErrorBody)(e.body,t)},n=(0,re.loadRestJsonErrorCode)(e,r.body);switch(n){case"DecryptionFailure":case"com.amazonaws.secretsmanager#DecryptionFailure":throw await lq(r,t);case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":throw await uq(r,t);case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":throw await pq(r,t);case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":throw await fq(r,t);case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":throw await mq(r,t);case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":throw await vq(r,t);case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":throw await dq(r,t);case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":throw await hq(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":throw await gq(r,t);case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":throw await yq(r,t);case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":throw await Sq(r,t);case"PublicPolicyException":case"com.amazonaws.secretsmanager#PublicPolicyException":throw await _q(r,t);default:let o=r.body;return Hq({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),lq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new BT({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_DecryptionFailureRes"),dq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new nA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_EncryptionFailureRes"),uq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new GT({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_InternalServiceErrorRes"),pq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new JT({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_InvalidNextTokenExceptionRes"),fq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new XT({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_InvalidParameterExceptionRes"),mq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new ZT({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_InvalidRequestExceptionRes"),hq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new sA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),gq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new aA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),yq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new lA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_PreconditionNotMetExceptionRes"),_q=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new fA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_PublicPolicyExceptionRes"),Sq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new uA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_ResourceExistsExceptionRes"),vq=_(async(e,t)=>{let r=e.body,n=(0,f._json)(r),o=new tA({$metadata:H(e),...n});return(0,f.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),Eq=_((e,t)=>(0,f.take)(e,{AddReplicaRegions:f._json,ClientRequestToken:[!0,r=>r??(0,kl.v4)()],Description:[],ForceOverwriteReplicaSecret:[],KmsKeyId:[],Name:[],SecretBinary:t.base64Encoder,SecretString:[],Tags:f._json}),"se_CreateSecretRequest"),bq=_((e,t)=>(0,f.take)(e,{ClientRequestToken:[!0,r=>r??(0,kl.v4)()],RotationToken:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[],VersionStages:f._json}),"se_PutSecretValueRequest"),wq=_((e,t)=>(0,f.take)(e,{ClientRequestToken:[!0,r=>r??(0,kl.v4)()],RotateImmediately:[],RotationLambdaARN:[],RotationRules:f._json,SecretId:[]}),"se_RotateSecretRequest"),Cq=_((e,t)=>(0,f.take)(e,{ClientRequestToken:[!0,r=>r??(0,kl.v4)()],Description:[],KmsKeyId:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[]}),"se_UpdateSecretRequest"),Pq=_((e,t)=>(0,f.take)(e,{Errors:f._json,NextToken:f.expectString,SecretValues:_(r=>Fq(r,t),"SecretValues")}),"de_BatchGetSecretValueResponse"),Rq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,Name:f.expectString,ReplicationStatus:_(r=>Dl(r,t),"ReplicationStatus"),VersionId:f.expectString}),"de_CreateSecretResponse"),xq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,DeletionDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"DeletionDate"),Name:f.expectString}),"de_DeleteSecretResponse"),Tq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,CreatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"CreatedDate"),DeletedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"DeletedDate"),Description:f.expectString,KmsKeyId:f.expectString,LastAccessedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastRotatedDate"),Name:f.expectString,NextRotationDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"NextRotationDate"),OwningService:f.expectString,PrimaryRegion:f.expectString,ReplicationStatus:_(r=>Dl(r,t),"ReplicationStatus"),RotationEnabled:f.expectBoolean,RotationLambdaARN:f.expectString,RotationRules:f._json,Tags:f._json,VersionIdsToStages:f._json}),"de_DescribeSecretResponse"),Aq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,CreatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"CreatedDate"),Name:f.expectString,SecretBinary:t.base64Decoder,SecretString:f.expectString,VersionId:f.expectString,VersionStages:f._json}),"de_GetSecretValueResponse"),Oq=_((e,t)=>(0,f.take)(e,{NextToken:f.expectString,SecretList:_(r=>Mq(r,t),"SecretList")}),"de_ListSecretsResponse"),Iq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,Name:f.expectString,NextToken:f.expectString,Versions:_(r=>jq(r,t),"Versions")}),"de_ListSecretVersionIdsResponse"),Nq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,ReplicationStatus:_(r=>Dl(r,t),"ReplicationStatus")}),"de_RemoveRegionsFromReplicationResponse"),kq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,ReplicationStatus:_(r=>Dl(r,t),"ReplicationStatus")}),"de_ReplicateSecretToRegionsResponse"),Dl=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Dq(n,t)),"de_ReplicationStatusListType"),Dq=_((e,t)=>(0,f.take)(e,{KmsKeyId:f.expectString,LastAccessedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastAccessedDate"),Region:f.expectString,Status:f.expectString,StatusMessage:f.expectString}),"de_ReplicationStatusType"),$q=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,CreatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"CreatedDate"),DeletedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"DeletedDate"),Description:f.expectString,KmsKeyId:f.expectString,LastAccessedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastRotatedDate"),Name:f.expectString,NextRotationDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"NextRotationDate"),OwningService:f.expectString,PrimaryRegion:f.expectString,RotationEnabled:f.expectBoolean,RotationLambdaARN:f.expectString,RotationRules:f._json,SecretVersionsToStages:f._json,Tags:f._json}),"de_SecretListEntry"),Mq=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$q(n,t)),"de_SecretListType"),Lq=_((e,t)=>(0,f.take)(e,{ARN:f.expectString,CreatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"CreatedDate"),Name:f.expectString,SecretBinary:t.base64Decoder,SecretString:f.expectString,VersionId:f.expectString,VersionStages:f._json}),"de_SecretValueEntry"),Fq=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Lq(n,t)),"de_SecretValuesType"),Uq=_((e,t)=>(0,f.take)(e,{CreatedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"CreatedDate"),KmsKeyIds:f._json,LastAccessedDate:_(r=>(0,f.expectNonNull)((0,f.parseEpochTimestamp)((0,f.expectNumber)(r))),"LastAccessedDate"),VersionId:f.expectString,VersionStages:f._json}),"de_SecretVersionsListEntry"),jq=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Uq(n,t)),"de_SecretVersionsListType"),H=_(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Hq=(0,f.withBaseException)(Ve),ie=_(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Tm.HttpRequest(l)},"buildHttpRpcRequest");function ee(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`secretsmanager.${e}`}}_(ee,"sharedHeaders");var Am=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").f(void 0,gA).ser(yV).de(jV).build(){static{_(this,"BatchGetSecretValueCommand")}},bA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").f(void 0,void 0).ser(_V).de(HV).build(){static{_(this,"CancelRotateSecretCommand")}},wA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").f(yA,void 0).ser(SV).de(VV).build(){static{_(this,"CreateSecretCommand")}},CA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(vV).de(qV).build(){static{_(this,"DeleteResourcePolicyCommand")}},PA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").f(void 0,void 0).ser(EV).de(zV).build(){static{_(this,"DeleteSecretCommand")}},RA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").f(void 0,void 0).ser(bV).de(BV).build(){static{_(this,"DescribeSecretCommand")}},xA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").f(void 0,_A).ser(wV).de(WV).build(){static{_(this,"GetRandomPasswordCommand")}},TA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").f(void 0,void 0).ser(CV).de(GV).build(){static{_(this,"GetResourcePolicyCommand")}},AA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").f(void 0,SA).ser(PV).de(KV).build(){static{_(this,"GetSecretValueCommand")}},Om=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").f(void 0,void 0).ser(RV).de(JV).build(){static{_(this,"ListSecretsCommand")}},Im=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").f(void 0,void 0).ser(xV).de(YV).build(){static{_(this,"ListSecretVersionIdsCommand")}},OA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").f(void 0,void 0).ser(TV).de(XV).build(){static{_(this,"PutResourcePolicyCommand")}},IA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").f(vA,void 0).ser(AV).de(QV).build(){static{_(this,"PutSecretValueCommand")}},NA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").f(void 0,void 0).ser(OV).de(ZV).build(){static{_(this,"RemoveRegionsFromReplicationCommand")}},kA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").f(void 0,void 0).ser(IV).de(eq).build(){static{_(this,"ReplicateSecretToRegionsCommand")}},DA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").f(void 0,void 0).ser(NV).de(tq).build(){static{_(this,"RestoreSecretCommand")}},$A=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").f(void 0,void 0).ser(kV).de(rq).build(){static{_(this,"RotateSecretCommand")}},MA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").f(void 0,void 0).ser(DV).de(nq).build(){static{_(this,"StopReplicationToReplicaCommand")}},LA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").f(void 0,void 0).ser($V).de(oq).build(){static{_(this,"TagResourceCommand")}},FA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").f(void 0,void 0).ser(MV).de(sq).build(){static{_(this,"UntagResourceCommand")}},UA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").f(EA,void 0).ser(LV).de(iq).build(){static{_(this,"UpdateSecretCommand")}},jA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").f(void 0,void 0).ser(FV).de(aq).build(){static{_(this,"UpdateSecretVersionStageCommand")}},HA=class extends f.Command.classBuilder().ep(ne).m(function(e,t,r,n){return[(0,oe.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Z.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").f(void 0,void 0).ser(UV).de(cq).build(){static{_(this,"ValidateResourcePolicyCommand")}},Vq={BatchGetSecretValueCommand:Am,CancelRotateSecretCommand:bA,CreateSecretCommand:wA,DeleteResourcePolicyCommand:CA,DeleteSecretCommand:PA,DescribeSecretCommand:RA,GetRandomPasswordCommand:xA,GetResourcePolicyCommand:TA,GetSecretValueCommand:AA,ListSecretsCommand:Om,ListSecretVersionIdsCommand:Im,PutResourcePolicyCommand:OA,PutSecretValueCommand:IA,RemoveRegionsFromReplicationCommand:NA,ReplicateSecretToRegionsCommand:kA,RestoreSecretCommand:DA,RotateSecretCommand:$A,StopReplicationToReplicaCommand:MA,TagResourceCommand:LA,UntagResourceCommand:FA,UpdateSecretCommand:UA,UpdateSecretVersionStageCommand:jA,ValidateResourcePolicyCommand:HA},VA=class extends Ks{static{_(this,"SecretsManager")}};(0,f.createAggregatedClient)(Vq,VA);var qq=(0,po.createPaginator)(Ks,Am,"NextToken","NextToken","MaxResults"),zq=(0,po.createPaginator)(Ks,Im,"NextToken","NextToken","MaxResults"),Bq=(0,po.createPaginator)(Ks,Om,"NextToken","NextToken","MaxResults")});var Wq={};ot(Wq,{default:()=>XA});module.exports=U(Wq);var R=require("@raycast/api");var $=v(require("react")),W=require("@raycast/api");var km=Object.prototype.hasOwnProperty;function Ys(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Ys(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(km.call(e,r)&&++n&&!km.call(t,r)||!(r in t)||!Ys(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var Mr=v(require("node:fs")),Qs=v(require("node:path")),Vm=v(require("node:crypto")),qm=v(require("node:child_process")),zm=require("node:buffer"),_n=v(require("node:stream")),Bm=require("node:util");var Wm=require("react/jsx-runtime");var Fl=globalThis;function nO(e){let t=(0,$.useRef)(e),r=(0,$.useRef)(0);return Ys(e,t.current)||(t.current=e,r.current+=1),(0,$.useMemo)(()=>t.current,[r.current])}function Te(e){let t=(0,$.useRef)(e);return t.current=e,t}function oO(e,t){let r=e instanceof Error?e.message:String(e);return(0,W.showToast)({style:W.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??Dm(e),secondaryAction:t?.primaryAction?Dm(e):void 0})}var Dm=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,Mr.readFileSync)((0,Qs.join)(W.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let o=W.environment.isDevelopment||t,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:o?"Copy Logs":"Report Error",onAction(i){i.hide(),o?W.Clipboard.copy(s):(0,W.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function sO(e,t,r){let n=(0,$.useRef)(0),[o,s]=(0,$.useState)({isLoading:!0}),i=Te(e),a=Te(r?.abortable),c=Te(t||[]),l=Te(r?.onError),d=Te(r?.onData),u=Te(r?.onWillExecute),p=Te(r?.failureToastOptions),m=Te(o.data),g=(0,$.useRef)(null),h=(0,$.useRef)({page:0}),S=(0,$.useRef)(!1),b=(0,$.useRef)(!0),w=(0,$.useRef)(50),O=(0,$.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),P=(0,$.useCallback)((...ce)=>{let _e=O();u.current?.(ce),s(z=>({...z,isLoading:!0}));let Qt=iO(i.current)(...ce);function Zt(z){return z.name=="AbortError"||_e===n.current&&(l.current?l.current(z):W.environment.launchType!==W.LaunchType.Background&&oO(z,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(kt){kt.hide(),g.current?.(...c.current||[])}},...p.current}),s({error:z,isLoading:!1})),z}return typeof Qt=="function"?(S.current=!0,Qt(h.current).then(({data:z,hasMore:kt,cursor:Ml})=>(_e===n.current&&(h.current&&(h.current.cursor=Ml,h.current.lastItem=z?.[z.length-1]),d.current&&d.current(z,h.current),kt&&(w.current=z.length),b.current=kt,s(Ll=>h.current.page===0?{data:z,isLoading:!1}:{data:(Ll.data||[])?.concat(z),isLoading:!1})),z),z=>(b.current=!1,Zt(z)))):(S.current=!1,Qt.then(z=>(_e===n.current&&(d.current&&d.current(z),s({data:z,isLoading:!1})),z),Zt))},[d,l,c,i,s,g,u,h,p,O]);g.current=P;let A=(0,$.useCallback)(()=>{h.current={page:0};let ce=c.current||[];return P(...ce)},[P,c]),k=(0,$.useCallback)(async(ce,_e)=>{let Qt;try{if(_e?.optimisticUpdate){O(),typeof _e?.rollbackOnError!="function"&&_e?.rollbackOnError!==!1&&(Qt=structuredClone(m.current?.value));let Zt=_e.optimisticUpdate;s(z=>({...z,data:Zt(z.data)}))}return await ce}catch(Zt){if(typeof _e?.rollbackOnError=="function"){let z=_e.rollbackOnError;s(kt=>({...kt,data:z(kt.data)}))}else _e?.optimisticUpdate&&_e?.rollbackOnError!==!1&&s(z=>({...z,data:Qt}));throw Zt}finally{_e?.shouldRevalidateAfter!==!1&&(W.environment.launchType===W.LaunchType.Background||W.environment.commandMode==="menu-bar"?await A():A())}},[A,m,s,O]),Pe=(0,$.useCallback)(()=>{h.current.page+=1;let ce=c.current||[];P(...ce)},[h,c,P]);(0,$.useEffect)(()=>{h.current={page:0},r?.execute!==!1?P(...t||[]):O()},[nO([t,r?.execute,P]),a,h]),(0,$.useEffect)(()=>()=>{O()},[O]);let K=r?.execute!==!1?o.isLoading:!1,me={...o,isLoading:K},J=S.current?{pageSize:w.current,hasMore:b.current,onLoadMore:Pe}:void 0;return{...me,revalidate:A,mutate:k,pagination:J}}function iO(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function $m(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function aO(e){return e instanceof URLSearchParams?e.toString():e}function Gm(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=aO(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let o=/\[object (.*)\]/i,s=Object.prototype.toString.call(n),i=o.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),$m(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let l=this;return c.forEach(function(d){l.dispatch(d),r(":"),l.dispatch(n[d]),r(",")})}},_array:function(n,o){o=typeof o<"u"?o:!1;let s=this;if(r("array:"+n.length+":"),!o||n.length<=1){n.forEach(function(c){s.dispatch(c)});return}let i=[],a=n.map(function(c){let l=cO(),d=t.slice();return Gm(l,d).dispatch(c),i=i.concat(d.slice(t.length)),l.read().toString()});t=t.concat(i),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),$m(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let o=Array.from(n);this._array(o,!0)},_set:function(n){r("set:");let o=Array.from(n);this._array(o,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function cO(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function lO(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function dO(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function Mm(e){let t=Vm.default.createHash("sha1");return Gm(t).dispatch(e),t.digest("hex")}var uO=Symbol("cache without namespace"),Lm=new Map;function Sn(e,t,r){let n=r?.cacheNamespace||uO,o=Lm.get(n)||Lm.set(n,new W.Cache({namespace:r?.cacheNamespace})).get(n);if(!o)throw new Error("Missing cache");let s=Te(e),i=Te(t),a=(0,$.useSyncExternalStore)(o.subscribe,()=>{try{return o.get(s.current)}catch(u){console.error("Could not get Cache data:",u);return}}),c=(0,$.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,dO)}catch(u){return console.warn("The cached data is corrupted",u),i.current}}else return i.current},[a,i]),l=Te(c),d=(0,$.useCallback)(u=>{let p=typeof u=="function"?u(l.current):u;if(typeof p>"u")o.set(s.current,"undefined");else{let m=JSON.stringify(p,lO);o.set(s.current,m)}return p},[o,s,l]);return[c,d]}var yn=Symbol();function er(e,t,r){let{initialData:n,keepPreviousData:o,internal_cacheKeySuffix:s,...i}=r||{},a=(0,$.useRef)(null),[c,l]=Sn(Mm(t||[])+s,yn,{cacheNamespace:Mm(e)}),d=(0,$.useRef)(c!==yn?c:n),u=(0,$.useRef)(void 0),{mutate:p,revalidate:m,...g}=sO(e,t||[],{...i,onData(O,P){u.current=P,i.onData&&i.onData(O,P),!(P&&P.page>0)&&(a.current="promise",d.current=O,l(O))}}),h,S=g.pagination;u.current&&u.current.page>0&&g.data?h=g.data:a.current==="promise"?h=d.current:o&&c!==yn?(h=c,S&&(S.hasMore=!0,S.pageSize=c.length)):o&&c===yn?h=d.current:c!==yn?(h=c,S&&(S.hasMore=!0,S.pageSize=c.length)):h=n;let b=Te(h),w=(0,$.useCallback)(async(O,P)=>{let A;try{if(P?.optimisticUpdate){typeof P?.rollbackOnError!="function"&&P?.rollbackOnError!==!1&&(A=structuredClone(b.current));let k=P.optimisticUpdate(b.current);a.current="cache",d.current=k,l(k)}return await p(O,{shouldRevalidateAfter:P?.shouldRevalidateAfter})}catch(k){if(typeof P?.rollbackOnError=="function"){let Pe=P.rollbackOnError(b.current);a.current="cache",d.current=Pe,l(Pe)}else P?.optimisticUpdate&&P?.rollbackOnError!==!1&&(a.current="cache",d.current=A,l(A));throw k}},[l,p,b,d,a]);return(0,$.useEffect)(()=>{c!==yn&&(a.current="cache",d.current=c)},[c]),{data:h,isLoading:g.isLoading,error:g.error,mutate:u.current&&u.current.page>0?p:w,pagination:S,revalidate:m}}var Xs=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Ul=Symbol.for("signal-exit emitter"),Hl=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Fl[Ul])return Fl[Ul];Object.defineProperty(Fl,Ul,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let s of this.listeners[t])o=s(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},Vl=class{onExit(){return()=>{}}load(){}unload(){}},ql=class{#a;#t;#e;#s;#i;#o;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Hl,this.#o={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#o={};for(let r of this.#r)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#t,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#s=t.emit}onExit(t,r){if(!Xs(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#l(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(t){return Xs(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(t,...r){let n=this.#s;if(t==="exit"&&Xs(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},jl=null,pO=(e,t)=>(jl||(jl=Xs(process)?new ql(process):new Vl),jl.onExit(e,t));function fO(e,{timeout:t}={}){let r=new Promise((a,c)=>{e.on("exit",(l,d)=>{a({exitCode:l,signal:d,timedOut:!1})}),e.on("error",l=>{c(l)}),e.stdin&&e.stdin.on("error",l=>{c(l)})}),n=pO(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let o,s=new Promise((a,c)=>{o=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(o)});return Promise.race([s,i]).finally(()=>n())}var zl=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function mO(e){let{encoding:t}=e,r=t==="buffer",n=new _n.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let o=0,s=[];return n.on("data",i=>{s.push(i),o+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(s,o):s.join(""),n.getBufferedLength=()=>o,n}async function Fm(e,t){let r=mO(t);return await new Promise((n,o)=>{let s=i=>{i&&r.getBufferedLength()<=zm.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),o(i)};(async()=>{try{await(0,Bm.promisify)(_n.default.pipeline)(e,r),n()}catch(i){s(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&s(new zl)})}),r.getBufferedValue()}async function Um(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function hO({stdout:e,stderr:t},{encoding:r},n){let o=Fm(e,{encoding:r}),s=Fm(t,{encoding:r});try{return await Promise.all([n,o,s])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Um(e,o),Um(t,s)])}}function gO(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function jm(e,t){return e.stripFinalNewline?gO(t):t}function yO({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function _O({stdout:e,stderr:t,error:r,signal:n,exitCode:o,command:s,timedOut:i,options:a,parentError:c}){let d=`Command ${yO({timedOut:i,timeout:a?.timeout,signal:n,exitCode:o})}: ${s}`,u=r?`${d}
${r.message}`:d,p=[u,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=p,r.shortMessage=u,r.command=s,r.exitCode=o,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function SO({stdout:e,stderr:t,error:r,exitCode:n,signal:o,timedOut:s,command:i,options:a,parentError:c}){if(r||n!==0||o!==null)throw _O({error:r,exitCode:n,signal:o,stdout:e,stderr:t,command:i,timedOut:s,options:a,parentError:c});return e}var vO=/ +/g;function EO(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(vO)){let o=r[r.length-1];o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r}function Bl(e,t,r){let{parseOutput:n,input:o,onData:s,onWillExecute:i,initialData:a,execute:c,keepPreviousData:l,onError:d,failureToastOptions:u,...p}=Array.isArray(t)?r||{}:t||{},m={initialData:a,execute:c,keepPreviousData:l,onError:d,onData:s,onWillExecute:i,failureToastOptions:u},g=(0,$.useRef)(null),h=Te(n||SO),S=(0,$.useCallback)(async(b,w,O,P)=>{let[A,...k]=EO(b,w),Pe=[A,...k].join(" "),K={stripFinalNewline:!0,...O,timeout:O?.timeout||1e4,signal:g.current?.signal,encoding:O?.encoding===null?"buffer":O?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...O?.env}},me=qm.default.spawn(A,k,K),J=fO(me,K);P&&me.stdin.end(P);let[{error:ce,exitCode:_e,signal:Qt,timedOut:Zt},z,kt]=await hO(me,K,J),Ml=jm(K,z),Ll=jm(K,kt);return h.current({stdout:Ml,stderr:Ll,error:ce,exitCode:_e,signal:Qt,timedOut:Zt,command:Pe,options:K,parentError:new Error})},[h]);return er(S,[e,Array.isArray(t)?t:[],p,o],{...m,abortable:g})}var bO=10,Hm=864e5,wO={Default:100,Embed:0,Bookmark:140};function CO(e){let t=Date.now(),r=e?e.lastVisited:0,n=e?e.frecency:0,o=(t-r)/Hm,s=Math.log(2)/(bO*Hm),i=wO.Default*Math.exp(-s*o),a=n+i;return{lastVisited:t,frecency:a}}var PO=e=>{if(process.env.NODE_ENV!=="production"&&(typeof e!="object"||!e||!("id"in e)||typeof e.id!="string"))throw new Error("Specify a key function or make sure your items have an 'id' property");return e.id};function Km(e,t){let r=Te(t?.key||PO),n=Te(t?.sortUnvisited),[o,s]=Sn(`raycast_frecency_${t?.namespace}`,{}),i=(0,$.useCallback)(async function(d){let u=r.current(d);s(p=>{let m=p[u],g=CO(m);return{...p,[u]:g}})},[r,s]),a=(0,$.useCallback)(async function(d){let u=r.current(d);s(p=>{let m={...p};return delete m[u],m})},[r,s]);return{data:(0,$.useMemo)(()=>e?e.sort((l,d)=>{let u=o[r.current(l)],p=o[r.current(d)];return u&&!p?-1:!u&&p?1:u&&p?p.frecency-u.frecency:n.current?n.current(l,d):0}):[],[o,e,r,n]),visitItem:i,resetRanking:a}}var YA=require("react");var rr=require("@raycast/api"),fi=require("react"),mi=v(Fh());var rd=require("react/jsx-runtime");function nd({onProfileSelected:e}){let t=(0,rr.getPreferenceValues)(),[r,n]=Sn("aws_profile"),o=yI();(0,fi.useEffect)(()=>{let a=r&&!o.some(c=>c.name===r);(!r||a)&&n(o[0]?.name)},[o]);let{isUsingAwsVault:s,vaultSessions:i}=gI({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:o,onProfileSelected:e});return(0,fi.useEffect)(()=>{if(r&&!s?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=o.find(c=>c.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}i?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,s]),!o||o.length<2?null:(0,rd.jsx)(rr.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:o.map(a=>(0,rd.jsx)(rr.List.Dropdown.Item,{value:a.name,title:a.name,icon:s?i?.some(c=>c===a.name)?rr.Icon.LockUnlocked:rr.Icon.LockDisabled:void 0},a.name))})}var hI=e=>{let{data:t}=Bl("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(_I).map(o=>o.split(" ")[0]),n=e.filter(o=>o.source_profile&&r?.includes(o.source_profile)).map(o=>o.name);return r&&[...r,...n]},gI=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let o=hI(r),s=!!o,i=s&&o?.includes(t||"")?t:void 0,{revalidate:a}=Bl("aws-vault",["exec",i,"--json"],{execute:!!i,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:c=>{if(c){let{AccessKeyId:l,SecretAccessKey:d,SessionToken:u}=JSON.parse(c);process.env.AWS_VAULT=i,process.env.AWS_ACCESS_KEY_ID=l,process.env.AWS_SECRET_ACCESS_KEY=d,process.env.AWS_SESSION_TOKEN=u,n?.()}}});return(0,fi.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[i]),{isUsingAwsVault:s,vaultSessions:o}},yI=()=>{let{data:e={configFile:{},credentialsFile:{}}}=er(mi.loadSharedConfigFiles),{data:t={}}=er(mi.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([s,i])=>{let a=r[s]?.include_profile,c=r[s]?.region||a&&r[a]?.region,l=r[s]?.sso_start_url||r[s]?.sso_session&&t[r[s].sso_session]?.sso_start_url,d=r[s]?.sso_account_id||a&&r[a]?.sso_account_id,u=r[s]?.sso_role_name||a&&r[a]?.sso_role_name;return{...i,region:c,name:s,sso_start_url:l,sso_account_id:d,sso_role_name:u}})},_I=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var qe="https://console.aws.amazon.com";function hi(){let e=!!process.env.AWS_PROFILE,t=!!process.env.AWS_VAULT;return e||t}function wn(e,t,r=void 0){let{AWS_REGION:n}=process.env;if(!e)return"";switch(t){case"AWS::SSM::Parameter":return`${qe}/systems-manager/parameters/${e}/description?region=${n}`;case"AWS::SecretsManager::Secret":return`https://${n}.console.aws.amazon.com/secretsmanager/secret?name=${encodeURI(e)}&region=${n}`;case"AWS::EC2::Instance":return`${qe}/ec2/v2/home?region=${n}#InstanceDetails:instanceId=${e}`;case"AWS::Logs::LogGroup":return`${qe}/cloudwatch/home?region=${n}#logsV2:log-groups/log-group/${encodeURIComponent(e)}`;case"AWS::CloudFormation::Stack":return`${qe}/cloudformation/home?region=${n}#/stacks/stackinfo?stackId=${e}`;case"AWS::Lambda::Function":return`${qe}/lambda/home?region=${n}#/functions/${e}?tab=monitoring`;case"AWS::Glue::JobRun":return`${qe}/gluestudio/home?region=eu-central-1#/job/${e}/run/${r}`;case"AWS::Glue::JobRuns":return`${qe}/gluestudio/home?region=eu-central-1#/editor/job/${e}/runs`;case"AWS::CodePipeline::Pipeline":return`${qe}/codesuite/codepipeline/pipelines/${e}/view?region=${n}`;case"AWS::S3::Bucket":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}`;case"AWS::S3::Object":{let[o,...s]=e.split("/");return`https://s3.console.aws.amazon.com/s3/object/${o}?&prefix=${s.join("/")}`}case"AWS::S3::BucketPolicy":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}&tab=permissions`;case"AWS::SQS::Queue":return`${qe}/sqs/v2/home?region=${n}#/queues/${encodeURIComponent(e)}`;case"AWS::SNS::Topic":return`${qe}/sns/v3/home?region=${n}#/topic/${e}`;case"AWS::DynamoDB::Table":return`${qe}/dynamodb/home?region=${n}#tables:selected=${e}`;case"AWS::StepFunctions::StateMachine":return`${qe}/states/home?region=${n}#/statemachines/view/${e}`;case"AWS::Amplify::App":return`https://${n}.console.aws.amazon.com/amplify/home?region=${n}#/apps/${e}`;case"AWS::Amplify::Branch":{let o=e.split("/branches/"),s=o[0],i=o[1]||"main";return`https://${n}.console.aws.amazon.com/amplify/apps/${s}/branches/${i}/deployments`}case"AWS::AppSync::GraphQLApi":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/home`;case"AWS::AppSync::GraphQLApi::Playground":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/queries`;case"AWS::AppSync::DataSource":{let o=e.split("/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/datasources/${i}/edit`}case"AWS::AppSync::Resolver":{let o=e.split("/"),s=o[0],i=o[1],a=o[2];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/schema/resolver/${i}/${a}`}case"AWS::AppSync::Schema":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/schema`;case"AWS::ApiGateway::RestApi":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/resources`;case"AWS::ApiGateway::RestApi::Documentation":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/documentation`;case"AWS::ApiGateway::Resource":{let o=e.split("/resources/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}`}case"AWS::ApiGateway::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/stages/${i}`}case"AWS::ApiGateway::ApiKey":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/api-keys/${e}`;case"AWS::ApiGateway::UsagePlan":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/usage-plans/${e}`;case"AWS::ApiGateway::Deployment":{let o=e.split("/deployments/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/deployments/${i}`}case"AWS::ApiGateway::Method":{let o=e.split("/"),s=o[0],i=o.slice(2,-2).join("/"),a=o[o.length-1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}/methods/${a}`}case"AWS::ApiGatewayV2::Api":return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${e}?region=${n}`;case"AWS::ApiGatewayV2::Route":{let o=e.split("/routes/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/routes/${i}?region=${n}`}case"AWS::ApiGatewayV2::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/stages/${i}?region=${n}`}default:return""}}var SI=e=>Object.keys(e).filter(t=>isNaN(Number(t))),Uh=(e,t)=>SI(e).filter(r=>e[r]!==t);var De=require("@raycast/api");var Dt=require("react/jsx-runtime"),nr=class{static Console=({url:t,onAction:r})=>(0,Dt.jsxs)(De.ActionPanel.Section,{title:"Console",children:[(0,Dt.jsx)(De.Action.OpenInBrowser,{title:"Open in Browser",url:jh(t),onOpen:()=>r?.()},"openConsoleLink"),(0,Dt.jsx)(De.Action.CopyToClipboard,{title:"Copy Link",content:jh(t),shortcut:De.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,Dt.jsx)(De.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let o=Uh(n,r);return(0,Dt.jsx)(De.ActionPanel.Section,{children:(0,Dt.jsx)(De.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:De.Icon.Box,children:o.map(s=>(0,Dt.jsx)(De.Action,{title:`Show ${s.toString()}`,onAction:()=>t(n[s]),icon:De.Icon.Box},s.toString()))})})}};function jh(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var Nt=v(zA()),BA=e=>{let{data:t,error:r,isLoading:n,mutate:o}=er(async s=>{let{SecretList:i}=await new Nt.SecretsManagerClient({}).send(new Nt.ListSecretsCommand({MaxResults:50,...s.trim().length>2&&{Filters:[{Key:"all",Values:[e]}]}}));return(i??[]).filter(a=>!!a&&!!a.ARN&&!!a.Name)},[e],{execute:hi(),failureToastOptions:{title:"\u274CFailed to load secrets"}});return{secrets:t,error:r,isLoading:!t&&!r||n,mutate:o}},WA=e=>{let{data:t,error:r,isLoading:n}=er(async o=>{let{SecretString:s}=await new Nt.SecretsManagerClient({}).send(new Nt.GetSecretValueCommand({SecretId:o})),i="## Secret Value\n\n```",a=s,c;try{c=JSON.parse(s||""),i+=`json
${JSON.stringify(c,null,4)}`,a=JSON.stringify(c,null,4)}catch{i+=`text
${s}`}return{value:a,markdown:i+"\n```",json:c}},[e],{execute:hi()});return{secret:t,isLoading:!t&&!r||n}},GA=e=>{let{data:t,error:r,isLoading:n}=er(async o=>{let{ResourcePolicy:s="\u2757Not Yet Defined"}=await new Nt.SecretsManagerClient({}).send(new Nt.GetResourcePolicyCommand({SecretId:o})),i="## Resource Policy\n\n```",a=s;try{let c=JSON.parse(s||"");i+=`json
${JSON.stringify(c,null,4)}`,a=JSON.stringify(c,null,4)}catch{i+=`text
${s}`}return{value:a,markdown:i+"\n```"}},[e],{execute:hi()});return{policy:t,isLoading:!t&&!r||n}};var Yt=require("@raycast/api");var L=require("@raycast/api"),ae=require("react/jsx-runtime"),$l=({secret:e})=>(0,ae.jsxs)(L.Detail.Metadata,{children:[(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Name",text:e.Name}),(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Description",text:e.Description}),e.PrimaryRegion&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Primary Region",text:e.PrimaryRegion}),e.OwningService&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Owning Service",text:e.OwningService}),(0,ae.jsx)(L.Detail.Metadata.Separator,{}),(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Creation Date",text:e.CreatedDate?.toISOString(),icon:L.Icon.Calendar}),e.LastAccessedDate&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Last Accessed",text:e.LastAccessedDate?.toISOString(),icon:L.Icon.Calendar}),e.LastRotatedDate&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Last Rotated",text:e.LastRotatedDate?.toISOString(),icon:L.Icon.Calendar}),e.LastChangedDate&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Last Changed",text:e.LastChangedDate?.toISOString(),icon:L.Icon.Calendar}),e.DeletedDate&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Deleted",text:e.DeletedDate?.toISOString(),icon:L.Icon.Calendar}),(0,ae.jsx)(L.Detail.Metadata.Separator,{}),(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Rotation",icon:e.RotationEnabled?{source:L.Icon.Checkmark,tintColor:L.Color.Green}:{source:L.Icon.Xmark,tintColor:L.Color.Red}}),e.RotationRules?.Duration&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Rotation Duration",text:e.RotationRules.Duration,icon:{source:L.Icon.Clock,tintColor:L.Color.Blue}}),e.RotationRules?.AutomaticallyAfterDays&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Rotation After Days",text:`${e.RotationRules.AutomaticallyAfterDays}`,icon:{source:L.Icon.Clock,tintColor:L.Color.Blue}}),e.RotationRules?.ScheduleExpression&&(0,ae.jsx)(L.Detail.Metadata.Label,{title:"Rotation Schedule",text:e.RotationRules.ScheduleExpression,icon:{source:L.Icon.Clock,tintColor:L.Color.Blue}})]}),fo=({secret:e,visit:t})=>(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(L.Action.CopyToClipboard,{title:"Copy Name",content:e.Name||"",onCopy:()=>t?.(e)}),(0,ae.jsx)(L.Action.CopyToClipboard,{title:"Copy ARN",content:e.ARN||"",onCopy:()=>t?.(e)})]});var pt=require("react/jsx-runtime"),KA=({secret:e})=>{let{secret:t,isLoading:r}=WA(e.ARN);return(0,pt.jsx)(Yt.Detail,{markdown:t?.markdown,isLoading:r,navigationTitle:"Secret Value",metadata:(0,pt.jsx)($l,{secret:e}),actions:(0,pt.jsxs)(Yt.ActionPanel,{children:[(0,pt.jsx)(Yt.Action.CopyToClipboard,{title:"Copy Secret Value",content:t?.value||""}),(0,pt.jsx)(nr.Console,{url:wn(e.Name,"AWS::SecretsManager::Secret")}),t?.json&&(0,pt.jsx)(Yt.ActionPanel.Section,{title:"Individual Secret Actions",children:Object.keys(t.json).map(n=>(0,pt.jsx)(Yt.Action.CopyToClipboard,{title:`Copy '${n}' Value`,content:t.json[n]},n))}),(0,pt.jsx)(Yt.ActionPanel.Section,{title:"Secret Actions",children:(0,pt.jsx)(fo,{secret:e})})]})})};var gn=require("@raycast/api");var Xt=require("react/jsx-runtime"),JA=({secret:e})=>{let{policy:t,isLoading:r}=GA(e.ARN);return(0,Xt.jsx)(gn.Detail,{markdown:t?.markdown,isLoading:r,navigationTitle:"Secret Policy",metadata:(0,Xt.jsx)($l,{secret:e}),actions:(0,Xt.jsxs)(gn.ActionPanel,{children:[(0,Xt.jsx)(gn.Action.CopyToClipboard,{title:"Copy Secret Policy",content:t?.value||""}),(0,Xt.jsx)(nr.Console,{url:wn(e.Name,"AWS::SecretsManager::Secret")}),(0,Xt.jsx)(gn.ActionPanel.Section,{title:"Secret Actions",children:(0,Xt.jsx)(fo,{secret:e})})]})})};var F=require("react/jsx-runtime");function XA(){let[e,t]=(0,YA.useState)(""),[r,n]=Sn("show-details",!1,{cacheNamespace:"aws-secrets"}),{secrets:o,error:s,isLoading:i,mutate:a}=BA(e),{data:c,resetRanking:l,visitItem:d}=Km(o,{namespace:"aws-secrets-sort",key:u=>u.ARN,sortUnvisited:(u,p)=>u.Name.localeCompare(p.Name)});return(0,F.jsxs)(R.List,{isLoading:i,isShowingDetail:!i&&!s&&(o||[]).length>0&&r,searchBarPlaceholder:"Filter secrets by name prefix (>2 characters)",searchBarAccessory:(0,F.jsx)(nd,{onProfileSelected:a}),onSearchTextChange:t,throttle:!0,children:[s&&(0,F.jsx)(R.List.EmptyView,{title:s.name,description:s.message,icon:{source:R.Icon.Warning,tintColor:R.Color.Red}}),!s&&o?.length===0&&(0,F.jsx)(R.List.EmptyView,{title:"No secrets found!",icon:{source:R.Icon.Warning,tintColor:R.Color.Orange}}),c.map(u=>(0,F.jsx)(R.List.Item,{icon:{source:"aws-icons/secretsmanager.png",mask:R.Image.Mask.RoundedRectangle},title:u.Name,detail:(0,F.jsx)(R.List.Item.Detail,{metadata:(0,F.jsxs)(R.List.Item.Detail.Metadata,{children:[(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Name",text:u.Name}),(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Description",text:u.Description}),u.PrimaryRegion&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Primary Region",text:u.PrimaryRegion}),u.OwningService&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Owning Service",text:u.OwningService}),(0,F.jsx)(R.List.Item.Detail.Metadata.Separator,{}),(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Creation Date",text:u.CreatedDate?.toISOString(),icon:R.Icon.Calendar}),u.LastAccessedDate&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Last Accessed",text:u.LastAccessedDate?.toISOString(),icon:R.Icon.Calendar}),u.LastRotatedDate&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Last Rotated",text:u.LastRotatedDate?.toISOString(),icon:R.Icon.Calendar}),u.LastChangedDate&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Last Changed",text:u.LastChangedDate?.toISOString(),icon:R.Icon.Calendar}),u.DeletedDate&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Deleted",text:u.DeletedDate?.toISOString(),icon:R.Icon.Calendar}),(0,F.jsx)(R.List.Item.Detail.Metadata.Separator,{}),u.SecretVersionsToStages&&Object.keys(u.SecretVersionsToStages).map(p=>(0,F.jsx)(R.List.Item.Detail.Metadata.TagList,{title:p,children:(u.SecretVersionsToStages?.[p]??[]).map(m=>(0,F.jsx)(R.List.Item.Detail.Metadata.TagList.Item,{text:m,icon:R.Icon.Tag,color:R.Color.Orange},`${p}-${m}`))},p)),(0,F.jsx)(R.List.Item.Detail.Metadata.Separator,{}),(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Rotation",icon:u.RotationEnabled?{source:R.Icon.Checkmark,tintColor:R.Color.Green}:{source:R.Icon.Xmark,tintColor:R.Color.Red}}),u.RotationRules?.Duration&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Rotation Duration",text:u.RotationRules.Duration,icon:{source:R.Icon.Clock,tintColor:R.Color.Blue}}),u.RotationRules?.AutomaticallyAfterDays&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Rotation After Days",text:`${u.RotationRules.AutomaticallyAfterDays}`,icon:{source:R.Icon.Clock,tintColor:R.Color.Blue}}),u.RotationRules?.ScheduleExpression&&(0,F.jsx)(R.List.Item.Detail.Metadata.Label,{title:"Rotation Schedule",text:u.RotationRules.ScheduleExpression,icon:{source:R.Icon.Clock,tintColor:R.Color.Blue}})]})}),actions:(0,F.jsxs)(R.ActionPanel,{children:[(0,F.jsx)(nr.Console,{url:wn(u.Name,"AWS::SecretsManager::Secret"),onAction:()=>d(u)}),(0,F.jsxs)(R.ActionPanel.Section,{title:"Secret Actions",children:[(0,F.jsx)(R.Action.Push,{target:(0,F.jsx)(KA,{secret:u}),title:"Show Secret Value",icon:R.Icon.LockUnlocked,shortcut:R.Keyboard.Shortcut.Common.Open,onPush:()=>d(u)}),(0,F.jsx)(R.Action.Push,{target:(0,F.jsx)(JA,{secret:u}),title:"Show Secret Policy",icon:R.Icon.Key,shortcut:{modifiers:["cmd","shift"],key:"p"},onPush:()=>d(u)}),(0,F.jsx)(fo,{secret:u,visit:d}),(0,F.jsx)(R.Action,{title:`${r?"Hide":"Show"} Details`,onAction:()=>n(!r),icon:r?R.Icon.EyeDisabled:R.Icon.Eye}),(0,F.jsx)(R.Action,{title:"Reset Ranking",icon:R.Icon.ArrowCounterClockwise,onAction:()=>l(u)})]})]}),accessories:[{date:u.LastAccessedDate??u.LastChangedDate,tooltip:u.LastAccessedDate?"Last Accessed":"Last Changed",icon:R.Icon.Calendar},{icon:u.RotationEnabled?{source:R.Icon.Checkmark,tintColor:R.Color.Green}:{source:R.Icon.Warning,tintColor:R.Color.Orange},tooltip:u.RotationEnabled?"Rotation Enabled":"Rotation Disabled"}]},u.ARN))]})}
