"use strict";var pR=Object.create;var Js=Object.defineProperty;var fR=Object.getOwnPropertyDescriptor;var mR=Object.getOwnPropertyNames;var hR=Object.getPrototypeOf,gR=Object.prototype.hasOwnProperty;var b=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rt=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},Nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mR(t))!gR.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=fR(t,o))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?pR(hR(e)):{},Nm(t||!e||!e.__esModule?Js(r,"default",{value:e,enumerable:!0}):r,e)),V=e=>Nm(Js({},"__esModule",{value:!0}),e);var un={};rt(un,{__addDisposableResource:()=>sh,__assign:()=>Ks,__asyncDelegator:()=>Xm,__asyncGenerator:()=>Ym,__asyncValues:()=>Qm,__await:()=>dn,__awaiter:()=>zm,__classPrivateFieldGet:()=>rh,__classPrivateFieldIn:()=>oh,__classPrivateFieldSet:()=>nh,__createBinding:()=>Xs,__decorate:()=>Lm,__disposeResources:()=>ih,__esDecorate:()=>Um,__exportStar:()=>Wm,__extends:()=>$m,__generator:()=>Vm,__importDefault:()=>th,__importStar:()=>eh,__makeTemplateObject:()=>Zm,__metadata:()=>qm,__param:()=>Fm,__propKey:()=>Bm,__read:()=>Fl,__rest:()=>Mm,__rewriteRelativeImportExtension:()=>ah,__runInitializers:()=>jm,__setFunctionName:()=>Hm,__spread:()=>Gm,__spreadArray:()=>Km,__spreadArrays:()=>Jm,__values:()=>Ys,default:()=>SR});function $m(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ml(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Mm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Lm(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Fm(e,t){return function(r,n){t(r,n,e)}}function Um(e,t,r,n,o,s){function i(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,h=!1,g=r.length-1;g>=0;g--){var y={};for(var _ in n)y[_]=_==="access"?{}:n[_];for(var _ in n.access)y.access[_]=n.access[_];y.addInitializer=function(C){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(C||null))};var E=(0,r[g])(a==="accessor"?{get:u.get,set:u.set}:u[c],y);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=i(E.get))&&(u.get=p),(p=i(E.set))&&(u.set=p),(p=i(E.init))&&o.unshift(p)}else(p=i(E))&&(a==="field"?o.unshift(p):u[c]=p)}l&&Object.defineProperty(l,n.name,u),h=!0}function jm(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Bm(e){return typeof e=="symbol"?e:"".concat(e)}function Hm(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function qm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function zm(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(u){try{l(n.next(u))}catch(p){i(p)}}function c(u){try{l(n.throw(u))}catch(p){i(p)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Vm(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Wm(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xs(t,e,r)}function Ys(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function Gm(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fl(arguments[t]));return e}function Jm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function Km(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function dn(e){return this instanceof dn?(this.v=e,this):new dn(e)}function Ym(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(y){return Promise.resolve(y).then(g,p)}}function a(g,y){n[g]&&(o[g]=function(_){return new Promise(function(E,C){s.push([g,_,E,C])>1||c(g,_)})},y&&(o[g]=y(o[g])))}function c(g,y){try{l(n[g](y))}catch(_){h(s[0][3],_)}}function l(g){g.value instanceof dn?Promise.resolve(g.value.v).then(u,p):h(s[0][2],g)}function u(g){c("next",g)}function p(g){c("throw",g)}function h(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Xm(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:dn(e[o](i)),done:!1}:s?s(i):i}:s}}function Qm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ys=="function"?Ys(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function Zm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function eh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ll(e),n=0;n<r.length;n++)r[n]!=="default"&&Xs(t,e,r[n]);return _R(t,e),t}function th(e){return e&&e.__esModule?e:{default:e}}function rh(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function nh(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function oh(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sh(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function ih(e){function t(s){e.error=e.hasError?new bR(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function ah(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Ml,Ks,Xs,_R,Ll,bR,SR,pn=b(()=>{Ml=function(e,t){return Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Ml(e,t)};Ks=function(){return Ks=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ks.apply(this,arguments)};Xs=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});_R=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ll=function(e){return Ll=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ll(e)};bR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};SR={__extends:$m,__assign:Ks,__rest:Mm,__decorate:Lm,__param:Fm,__esDecorate:Um,__runInitializers:jm,__propKey:Bm,__setFunctionName:Hm,__metadata:qm,__awaiter:zm,__generator:Vm,__createBinding:Xs,__exportStar:Wm,__values:Ys,__read:Fl,__spread:Gm,__spreadArrays:Jm,__spreadArray:Km,__await:dn,__asyncGenerator:Ym,__asyncDelegator:Xm,__asyncValues:Qm,__makeTemplateObject:Zm,__importStar:eh,__importDefault:th,__classPrivateFieldGet:rh,__classPrivateFieldSet:nh,__classPrivateFieldIn:oh,__addDisposableResource:sh,__disposeResources:ih,__rewriteRelativeImportExtension:ah}});var co=w(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.getHomeDir=void 0;var ER=require("os"),vR=require("path"),wR=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${vR.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,ER.homedir)())};Qs.getHomeDir=wR});var ch=w(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getProfileName=ut.DEFAULT_PROFILE=ut.ENV_PROFILE=void 0;ut.ENV_PROFILE="AWS_PROFILE";ut.DEFAULT_PROFILE="default";var CR=e=>e.profile||process.env[ut.ENV_PROFILE]||ut.DEFAULT_PROFILE;ut.getProfileName=CR});var Ul=w(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.getSSOTokenFilepath=void 0;var AR=require("crypto"),TR=require("path"),PR=co(),xR=e=>{let r=(0,AR.createHash)("sha1").update(e).digest("hex");return(0,TR.join)((0,PR.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Zs.getSSOTokenFilepath=xR});var lh=w(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.getSSOTokenFromFile=void 0;var IR=require("fs"),RR=Ul(),{readFile:OR}=IR.promises,NR=async e=>{let t=(0,RR.getSSOTokenFilepath)(e),r=await OR(t,"utf8");return JSON.parse(r)};ei.getSSOTokenFromFile=NR});var jl=w(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.getConfigFilepath=Or.ENV_CONFIG_PATH=void 0;var kR=require("path"),DR=co();Or.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var $R=()=>process.env[Or.ENV_CONFIG_PATH]||(0,kR.join)((0,DR.getHomeDir)(),".aws","config");Or.getConfigFilepath=$R});var dh=w(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getCredentialsFilepath=Nr.ENV_CREDENTIALS_PATH=void 0;var MR=require("path"),LR=co();Nr.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var FR=()=>process.env[Nr.ENV_CREDENTIALS_PATH]||(0,MR.join)((0,LR.getHomeDir)(),".aws","credentials");Nr.getCredentialsFilepath=FR});var ph=w(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.getProfileData=void 0;var uh=/^profile\s(["'])?([^\1]+)\1$/,UR=e=>Object.entries(e).filter(([t])=>uh.test(t)).reduce((t,[r,n])=>({...t,[uh.exec(r)[2]]:n}),{...e.default&&{default:e.default}});ti.getProfileData=UR});var Bl=w(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.parseIni=void 0;var jR=["__proto__","profile __proto__"],BR=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),jR.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[l,u]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][l]=u}}return t};ri.parseIni=BR});var ql=w(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.slurpFile=void 0;var HR=require("fs"),{readFile:qR}=HR.promises,Hl={},zR=(e,t)=>((!Hl[e]||t?.ignoreCache)&&(Hl[e]=qR(e,"utf8")),Hl[e]);ni.slurpFile=zR});var zl=w(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.loadSharedConfigFiles=void 0;var VR=jl(),WR=dh(),GR=ph(),fh=Bl(),mh=ql(),hh=()=>({}),JR=async(e={})=>{let{filepath:t=(0,WR.getCredentialsFilepath)(),configFilepath:r=(0,VR.getConfigFilepath)()}=e,n=await Promise.all([(0,mh.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(fh.parseIni).then(GR.getProfileData).catch(hh),(0,mh.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(fh.parseIni).catch(hh)]);return{configFile:n[0],credentialsFile:n[1]}};oi.loadSharedConfigFiles=JR});var yh=w(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.getSsoSessionData=void 0;var gh=/^sso-session\s(["'])?([^\1]+)\1$/,KR=e=>Object.entries(e).filter(([t])=>gh.test(t)).reduce((t,[r,n])=>({...t,[gh.exec(r)[2]]:n}),{});si.getSsoSessionData=KR});var _h=w(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.loadSsoSessionData=void 0;var YR=jl(),XR=yh(),QR=Bl(),ZR=ql(),eO=()=>({}),tO=async(e={})=>{var t;return(0,ZR.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,YR.getConfigFilepath)()).then(QR.parseIni).then(XR.getSsoSessionData).catch(eO)};ii.loadSsoSessionData=tO});var bh=w(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.mergeConfigFiles=void 0;var rO=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};ai.mergeConfigFiles=rO});var Sh=w(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.parseKnownFiles=void 0;var nO=zl(),oO=bh(),sO=async e=>{let t=await(0,nO.loadSharedConfigFiles)(e);return(0,oO.mergeConfigFiles)(t.configFile,t.credentialsFile)};ci.parseKnownFiles=sO});var vh=w(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0})});var wh=w(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var Qt=(pn(),V(un));Qt.__exportStar(co(),pt);Qt.__exportStar(ch(),pt);Qt.__exportStar(Ul(),pt);Qt.__exportStar(lh(),pt);Qt.__exportStar(zl(),pt);Qt.__exportStar(_h(),pt);Qt.__exportStar(Sh(),pt);Qt.__exportStar(vh(),pt)});var Ch=w(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var iO=(pn(),V(un));iO.__exportStar(wh(),Vl)});var ft=w((uV,Gh)=>{var mi=Object.defineProperty,RO=Object.getOwnPropertyDescriptor,OO=Object.getOwnPropertyNames,NO=Object.prototype.hasOwnProperty,hi=(e,t)=>mi(e,"name",{value:t,configurable:!0}),kO=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},DO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of OO(t))!NO.call(e,o)&&o!==r&&mi(e,o,{get:()=>t[o],enumerable:!(n=RO(t,o))||n.enumerable});return e},$O=e=>DO(mi({},"__esModule",{value:!0}),e),Uh={};kO(Uh,{AlgorithmId:()=>qh,EndpointURLScheme:()=>Hh,FieldPosition:()=>zh,HttpApiKeyAuthLocation:()=>Bh,HttpAuthLocation:()=>jh,IniSectionType:()=>Vh,RequestHandlerProtocol:()=>Wh,SMITHY_CONTEXT_KEY:()=>jO,getDefaultClientConfiguration:()=>FO,resolveDefaultRuntimeConfig:()=>UO});Gh.exports=$O(Uh);var jh=(e=>(e.HEADER="header",e.QUERY="query",e))(jh||{}),Bh=(e=>(e.HEADER="header",e.QUERY="query",e))(Bh||{}),Hh=(e=>(e.HTTP="http",e.HTTPS="https",e))(Hh||{}),qh=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(qh||{}),MO=hi(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),LO=hi(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),FO=hi(e=>MO(e),"getDefaultClientConfiguration"),UO=hi(e=>LO(e),"resolveDefaultRuntimeConfig"),zh=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(zh||{}),jO="__smithy_context",Vh=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Vh||{}),Wh=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Wh||{})});var ne=w((pV,Qh)=>{var gi=Object.defineProperty,BO=Object.getOwnPropertyDescriptor,HO=Object.getOwnPropertyNames,qO=Object.prototype.hasOwnProperty,er=(e,t)=>gi(e,"name",{value:t,configurable:!0}),zO=(e,t)=>{for(var r in t)gi(e,r,{get:t[r],enumerable:!0})},VO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HO(t))!qO.call(e,o)&&o!==r&&gi(e,o,{get:()=>t[o],enumerable:!(n=BO(t,o))||n.enumerable});return e},WO=e=>VO(gi({},"__esModule",{value:!0}),e),Jh={};zO(Jh,{Field:()=>KO,Fields:()=>YO,HttpRequest:()=>XO,HttpResponse:()=>QO,IHttpRequest:()=>Kh.HttpRequest,getHttpHandlerExtensionConfiguration:()=>GO,isValidHostname:()=>Xh,resolveHttpHandlerRuntimeConfig:()=>JO});Qh.exports=WO(Jh);var GO=er(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),JO=er(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Kh=ft(),KO=class{static{er(this,"Field")}constructor({name:e,kind:t=Kh.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},YO=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{er(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},XO=class nd{static{er(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new nd({...t,headers:{...t.headers}});return r.query&&(r.query=Yh(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return nd.clone(this)}};function Yh(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}er(Yh,"cloneQuery");var QO=class{static{er(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Xh(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}er(Xh,"isValidHostname")});var lo=w((gV,ng)=>{"use strict";var _i=Object.defineProperty,ZO=Object.getOwnPropertyDescriptor,eN=Object.getOwnPropertyNames,tN=Object.prototype.hasOwnProperty,yi=(e,t)=>_i(e,"name",{value:t,configurable:!0}),rN=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},nN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eN(t))!tN.call(e,o)&&o!==r&&_i(e,o,{get:()=>t[o],enumerable:!(n=ZO(t,o))||n.enumerable});return e},oN=e=>nN(_i({},"__esModule",{value:!0}),e),Zh={};rN(Zh,{getHostHeaderPlugin:()=>iN,hostHeaderMiddleware:()=>tg,hostHeaderMiddlewareOptions:()=>rg,resolveHostHeaderConfig:()=>eg});ng.exports=oN(Zh);var sN=ne();function eg(e){return e}yi(eg,"resolveHostHeaderConfig");var tg=yi(e=>t=>async r=>{if(!sN.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),rg={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},iN=yi(e=>({applyToStack:yi(t=>{t.add(tg(e),rg)},"applyToStack")}),"getHostHeaderPlugin")});var uo=w((yV,ag)=>{"use strict";var bi=Object.defineProperty,aN=Object.getOwnPropertyDescriptor,cN=Object.getOwnPropertyNames,lN=Object.prototype.hasOwnProperty,od=(e,t)=>bi(e,"name",{value:t,configurable:!0}),dN=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},uN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cN(t))!lN.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=aN(t,o))||n.enumerable});return e},pN=e=>uN(bi({},"__esModule",{value:!0}),e),og={};dN(og,{getLoggerPlugin:()=>fN,loggerMiddleware:()=>sg,loggerMiddlewareOptions:()=>ig});ag.exports=pN(og);var sg=od(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??t.inputFilterSensitiveLog,p=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:u(r.input),output:p(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),ig={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},fN=od(e=>({applyToStack:od(t=>{t.add(sg(),ig)},"applyToStack")}),"getLoggerPlugin")});var po=w((_V,ug)=>{"use strict";var Ei=Object.defineProperty,mN=Object.getOwnPropertyDescriptor,hN=Object.getOwnPropertyNames,gN=Object.prototype.hasOwnProperty,Si=(e,t)=>Ei(e,"name",{value:t,configurable:!0}),yN=(e,t)=>{for(var r in t)Ei(e,r,{get:t[r],enumerable:!0})},_N=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hN(t))!gN.call(e,o)&&o!==r&&Ei(e,o,{get:()=>t[o],enumerable:!(n=mN(t,o))||n.enumerable});return e},bN=e=>_N(Ei({},"__esModule",{value:!0}),e),cg={};yN(cg,{addRecursionDetectionMiddlewareOptions:()=>dg,getRecursionDetectionPlugin:()=>wN,recursionDetectionMiddleware:()=>lg});ug.exports=bN(cg);var SN=ne(),sd="X-Amzn-Trace-Id",EN="AWS_LAMBDA_FUNCTION_NAME",vN="_X_AMZN_TRACE_ID",lg=Si(e=>t=>async r=>{let{request:n}=r;if(!SN.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===sd.toLowerCase())??sd;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[EN],i=process.env[vN],a=Si(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[sd]=i),t({...r,request:n})},"recursionDetectionMiddleware"),dg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},wN=Si(e=>({applyToStack:Si(t=>{t.add(lg(e),dg)},"applyToStack")}),"getRecursionDetectionPlugin")});var id,CN,pg=b(()=>{id=v(ft()),CN=e=>e[id.SMITHY_CONTEXT_KEY]||(e[id.SMITHY_CONTEXT_KEY]={})});var ot=w((SV,gg)=>{var vi=Object.defineProperty,AN=Object.getOwnPropertyDescriptor,TN=Object.getOwnPropertyNames,PN=Object.prototype.hasOwnProperty,mg=(e,t)=>vi(e,"name",{value:t,configurable:!0}),xN=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},IN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TN(t))!PN.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=AN(t,o))||n.enumerable});return e},RN=e=>IN(vi({},"__esModule",{value:!0}),e),hg={};xN(hg,{getSmithyContext:()=>ON,normalizeProvider:()=>NN});gg.exports=RN(hg);var fg=ft(),ON=mg(e=>e[fg.SMITHY_CONTEXT_KEY]||(e[fg.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),NN=mg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var yg,_g=b(()=>{yg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function kN(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var vV,bg,fo,wi=b(()=>{vV=v(ft()),bg=v(ot());_g();fo=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=yg(s,i),c=kN(e.httpAuthSchemes),l=(0,bg.getSmithyContext)(n),u=[];for(let p of a){let h=c.get(p.schemeId);if(!h){u.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){u.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:_={}}=p.propertiesExtractor?.(e,n)||{};p.identityProperties=Object.assign(p.identityProperties||{},y),p.signingProperties=Object.assign(p.signingProperties||{},_),l.selectedHttpAuthScheme={httpAuthOption:p,identity:await g(p.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(o)}});var Sg,mo,Eg=b(()=>{wi();Sg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},mo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(fo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Sg)}})});var tr=w((xV,xg)=>{var Ci=Object.defineProperty,DN=Object.getOwnPropertyDescriptor,$N=Object.getOwnPropertyNames,MN=Object.prototype.hasOwnProperty,Ai=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),LN=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},FN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $N(t))!MN.call(e,o)&&o!==r&&Ci(e,o,{get:()=>t[o],enumerable:!(n=DN(t,o))||n.enumerable});return e},UN=e=>FN(Ci({},"__esModule",{value:!0}),e),vg={};LN(vg,{deserializerMiddleware:()=>wg,deserializerMiddlewareOption:()=>Ag,getSerdePlugin:()=>Pg,serializerMiddleware:()=>Cg,serializerMiddlewareOption:()=>Tg});xg.exports=UN(vg);var jN=ne(),wg=Ai((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(jN.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:ad(/^x-[\w-]+-request-?id$/,l),extendedRequestId:ad(/^x-[\w-]+-id-2$/,l),cfId:ad(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),ad=Ai((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),Cg=Ai((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),Ag={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Tg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Pg(e,t,r){return{applyToStack:n=>{n.add(wg(e,r),Ag),n.add(Cg(e,t),Tg)}}}Ai(Pg,"getSerdePlugin")});var Ig,Rg,BN,Og=b(()=>{Ig=v(tr());wi();Rg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ig.serializerMiddlewareOption.name},BN=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(fo(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Rg)}})});var Ng=b(()=>{wi();Eg();Og()});var kg,$V,Dg,HN,qN,cd,ld=b(()=>{kg=v(ne()),$V=v(ft()),Dg=v(ot()),HN=e=>t=>{throw t},qN=(e,t)=>{},cd=e=>(t,r)=>async n=>{if(!kg.HttpRequest.isInstance(n.request))return t(n);let s=(0,Dg.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||HN)(i));return(c.successHandler||qN)(l.response,i),l}});var $g,ho,Mg=b(()=>{ld();$g={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ho=e=>({applyToStack:t=>{t.addRelativeTo(cd(e),$g)}})});var Lg=b(()=>{ld();Mg()});var rr,Fg=b(()=>{rr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Ug(e,t,r,n,o){return async function*(i,a,...c){let l=a,u=i.startingToken??l[r],p=!0,h;for(;p;){if(l[r]=u,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await zN(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=u;u=VN(h,n),p=!!(u&&(!i.stopOnSameToken||u!==g))}return void 0}}var zN,VN,jg=b(()=>{zN=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};VN=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var dd=w((VV,Hg)=>{var Ti=Object.defineProperty,WN=Object.getOwnPropertyDescriptor,GN=Object.getOwnPropertyNames,JN=Object.prototype.hasOwnProperty,KN=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),YN=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},XN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GN(t))!JN.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=WN(t,o))||n.enumerable});return e},QN=e=>XN(Ti({},"__esModule",{value:!0}),e),Bg={};YN(Bg,{isArrayBuffer:()=>ZN});Hg.exports=QN(Bg);var ZN=KN(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var hn=w((WV,Vg)=>{var Pi=Object.defineProperty,ek=Object.getOwnPropertyDescriptor,tk=Object.getOwnPropertyNames,rk=Object.prototype.hasOwnProperty,qg=(e,t)=>Pi(e,"name",{value:t,configurable:!0}),nk=(e,t)=>{for(var r in t)Pi(e,r,{get:t[r],enumerable:!0})},ok=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tk(t))!rk.call(e,o)&&o!==r&&Pi(e,o,{get:()=>t[o],enumerable:!(n=ek(t,o))||n.enumerable});return e},sk=e=>ok(Pi({},"__esModule",{value:!0}),e),zg={};nk(zg,{fromArrayBuffer:()=>ak,fromString:()=>ck});Vg.exports=sk(zg);var ik=dd(),ud=require("buffer"),ak=qg((e,t=0,r=e.byteLength-t)=>{if(!(0,ik.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ud.Buffer.from(e,t,r)},"fromArrayBuffer"),ck=qg((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ud.Buffer.from(e,t):ud.Buffer.from(e)},"fromString")});var Wg=w(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.fromBase64=void 0;var lk=hn(),dk=/^[A-Za-z0-9+/]*={0,2}$/,uk=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!dk.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,lk.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};xi.fromBase64=uk});var _e=w((JV,Yg)=>{var Ii=Object.defineProperty,pk=Object.getOwnPropertyDescriptor,fk=Object.getOwnPropertyNames,mk=Object.prototype.hasOwnProperty,pd=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),hk=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},gk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fk(t))!mk.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=pk(t,o))||n.enumerable});return e},yk=e=>gk(Ii({},"__esModule",{value:!0}),e),Gg={};hk(Gg,{fromUtf8:()=>Kg,toUint8Array:()=>_k,toUtf8:()=>bk});Yg.exports=yk(Gg);var Jg=hn(),Kg=pd(e=>{let t=(0,Jg.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),_k=pd(e=>typeof e=="string"?Kg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),bk=pd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Jg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Xg=w(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.toBase64=void 0;var Sk=hn(),Ek=_e(),vk=e=>{let t;if(typeof e=="string"?t=(0,Ek.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Sk.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ri.toBase64=vk});var Pe=w((YV,Oi)=>{var Qg=Object.defineProperty,wk=Object.getOwnPropertyDescriptor,Ck=Object.getOwnPropertyNames,Ak=Object.prototype.hasOwnProperty,fd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ck(t))!Ak.call(e,o)&&o!==r&&Qg(e,o,{get:()=>t[o],enumerable:!(n=wk(t,o))||n.enumerable});return e},Zg=(e,t,r)=>(fd(e,t,"default"),r&&fd(r,t,"default")),Tk=e=>fd(Qg({},"__esModule",{value:!0}),e),md={};Oi.exports=Tk(md);Zg(md,Wg(),Oi.exports);Zg(md,Xg(),Oi.exports)});var gd=w(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ChecksumStream=void 0;var Pk=Pe(),xk=require("stream"),hd=class extends xk.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??Pk.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Ni.ChecksumStream=hd});var nr=w(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.isBlob=gn.isReadableStream=void 0;var Ik=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};gn.isReadableStream=Ik;var Rk=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};gn.isBlob=Rk});var ey=w(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ChecksumStream=void 0;var Ok=typeof ReadableStream=="function"?ReadableStream:function(){},yd=class extends Ok{};ki.ChecksumStream=yd});var ty=w(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.createChecksumStream=void 0;var Nk=Pe(),kk=nr(),Dk=ey(),$k=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,kk.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??Nk.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(u,p){t.update(u),p.enqueue(u)},async flush(u){let p=await t.digest(),h=a(p);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);u.error(g)}else u.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Dk.ChecksumStream.prototype),l};Di.createChecksumStream=$k});var ry=w(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.createChecksumStream=Uk;var Mk=nr(),Lk=gd(),Fk=ty();function Uk(e){return typeof ReadableStream=="function"&&(0,Mk.isReadableStream)(e.source)?(0,Fk.createChecksumStream)(e):new Lk.ChecksumStream(e)}});var Sd=w($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.ByteArrayCollector=void 0;var bd=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};$i.ByteArrayCollector=bd});var iy=w(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createBufferedReadable=void 0;Dt.createBufferedReadableStream=ny;Dt.merge=oy;Dt.flush=Mi;Dt.sizeOf=yn;Dt.modeOf=sy;var jk=Sd();function ny(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new jk.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:u,done:p}=await n.read(),h=u;if(p){if(a!==-1){let g=Mi(i,a);yn(g)>0&&l.enqueue(g)}l.close()}else{let g=sy(h,!1);if(a!==g&&(a>=0&&l.enqueue(Mi(i,a)),a=g),a===-1){l.enqueue(h);return}let y=yn(h);s+=y;let _=yn(i[a]);if(y>=t&&_===0)l.enqueue(h);else{let E=oy(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),E>=t?l.enqueue(Mi(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Dt.createBufferedReadable=ny;function oy(e,t,r){switch(t){case 0:return e[0]+=r,yn(e[0]);case 1:case 2:return e[t].push(r),yn(e[t])}}function Mi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function yn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function sy(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var cy=w(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.createBufferedReadable=qk;var Bk=require("node:stream"),ay=Sd(),$t=iy(),Hk=nr();function qk(e,t,r){if((0,Hk.isReadableStream)(e))return(0,$t.createBufferedReadableStream)(e,t,r);let n=new Bk.Readable({read(){}}),o=!1,s=0,i=["",new ay.ByteArrayCollector(c=>new Uint8Array(c)),new ay.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,$t.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,$t.flush)(i,a)),a=l),a===-1){n.push(c);return}let u=(0,$t.sizeOf)(c);s+=u;let p=(0,$t.sizeOf)(i[a]);if(u>=t&&p===0)n.push(c);else{let h=(0,$t.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,$t.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,$t.flush)(i,a);(0,$t.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var ly=w(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.getAwsChunkedEncodingStream=void 0;var zk=require("stream"),Vk=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new zk.Readable({read:()=>{}});return e.on("data",u=>{let p=n(u)||0;l.push(`${p.toString(16)}\r
`),l.push(u),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let u=r(await c);l.push(`${s}:${u}\r
`),l.push(`\r
`)}l.push(null)}),l};Li.getAwsChunkedEncodingStream=Vk});var dy=w(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.headStream=Wk;async function Wk(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:u}=await s.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var uy=w(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.headStream=void 0;var Gk=require("stream"),Jk=dy(),Kk=nr(),Yk=(e,t)=>(0,Kk.isReadableStream)(e)?(0,Jk.headStream)(e,t):new Promise((r,n)=>{let o=new wd;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Fi.headStream=Yk;var wd=class extends Gk.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var Ad=w((c7,my)=>{var Ui=Object.defineProperty,Xk=Object.getOwnPropertyDescriptor,Qk=Object.getOwnPropertyNames,Zk=Object.prototype.hasOwnProperty,Cd=(e,t)=>Ui(e,"name",{value:t,configurable:!0}),e1=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},t1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qk(t))!Zk.call(e,o)&&o!==r&&Ui(e,o,{get:()=>t[o],enumerable:!(n=Xk(t,o))||n.enumerable});return e},r1=e=>t1(Ui({},"__esModule",{value:!0}),e),py={};e1(py,{escapeUri:()=>fy,escapeUriPath:()=>o1});my.exports=r1(py);var fy=Cd(e=>encodeURIComponent(e).replace(/[!'()*]/g,n1),"escapeUri"),n1=Cd(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),o1=Cd(e=>e.split("/").map(fy).join("/"),"escapeUriPath")});var Pd=w((l7,yy)=>{var ji=Object.defineProperty,s1=Object.getOwnPropertyDescriptor,i1=Object.getOwnPropertyNames,a1=Object.prototype.hasOwnProperty,c1=(e,t)=>ji(e,"name",{value:t,configurable:!0}),l1=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},d1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i1(t))!a1.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=s1(t,o))||n.enumerable});return e},u1=e=>d1(ji({},"__esModule",{value:!0}),e),hy={};l1(hy,{buildQueryString:()=>gy});yy.exports=u1(hy);var Td=Ad();function gy(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Td.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Td.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Td.escapeUri)(n)}`),t.push(o)}}return t.join("&")}c1(gy,"buildQueryString")});var Dr=w((d7,Ny)=>{var p1=Object.create,go=Object.defineProperty,f1=Object.getOwnPropertyDescriptor,m1=Object.getOwnPropertyNames,h1=Object.getPrototypeOf,g1=Object.prototype.hasOwnProperty,ee=(e,t)=>go(e,"name",{value:t,configurable:!0}),y1=(e,t)=>{for(var r in t)go(e,r,{get:t[r],enumerable:!0})},vy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m1(t))!g1.call(e,o)&&o!==r&&go(e,o,{get:()=>t[o],enumerable:!(n=f1(t,o))||n.enumerable});return e},_1=(e,t,r)=>(r=e!=null?p1(h1(e)):{},vy(t||!e||!e.__esModule?go(r,"default",{value:e,enumerable:!0}):r,e)),b1=e=>vy(go({},"__esModule",{value:!0}),e),wy={};y1(wy,{DEFAULT_REQUEST_TIMEOUT:()=>Iy,NodeHttp2Handler:()=>I1,NodeHttpHandler:()=>A1,streamCollector:()=>O1});Ny.exports=b1(wy);var Cy=ne(),Ay=Pd(),xd=require("http"),Id=require("https"),S1=["ECONNRESET","EPIPE","ETIMEDOUT"],Ty=ee(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),ke={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},_y=1e3,E1=ee((e,t,r=0)=>{if(!r)return-1;let n=ee(o=>{let s=ke.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ee(a=>{a?.connecting?a.on("connect",()=>{ke.clearTimeout(s)}):ke.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):ke.setTimeout(n.bind(null,_y),_y)},"setConnectionTimeout"),v1=3e3,w1=ee((e,{keepAlive:t,keepAliveMsecs:r},n=v1)=>{if(t!==!0)return-1;let o=ee(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):ke.setTimeout(o,n)},"setSocketKeepAlive"),by=3e3,C1=ee((e,t,r=Iy)=>{let n=ee(o=>{let s=r-o,i=ee(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):ke.setTimeout(n.bind(null,r===0?0:by),by)},"setSocketTimeout"),Py=require("stream"),Sy=6e3;async function Od(e,t,r=Sy){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(ke.setTimeout(()=>a(!0),Math.max(Sy,r)))}),new Promise(a=>{e.on("continue",()=>{ke.clearTimeout(s),a(!0)}),e.on("response",()=>{ke.clearTimeout(s),a(!1)}),e.on("error",()=>{ke.clearTimeout(s),a(!1)})})])),i&&xy(e,t.body)}ee(Od,"writeRequestBody");function xy(e,t){if(t instanceof Py.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ee(xy,"writeBody");var Iy=0,A1=class Rd{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ee(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Rd(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,u=s[c]?.length??0;if(l>=i&&u>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof xd.Agent||typeof i?.destroy=="function"?i:new xd.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Id.Agent||typeof a?.destroy=="function"?a:new Id.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ee(async R=>{await i,a.forEach(ke.clearTimeout),o(R)},"resolve"),l=ee(async R=>{await i,a.forEach(ke.clearTimeout),s(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",l(R);return}let u=t.protocol==="https:",p=u?this.config.httpsAgent:this.config.httpAgent;a.push(ke.setTimeout(()=>{this.socketWarningTimestamp=Rd.checkSocketUsage(p,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,Ay.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let R=t.username??"",M=t.password??"";g=`${R}:${M}`}let y=t.path;h&&(y+=`?${h}`),t.fragment&&(y+=`#${t.fragment}`);let _=t.hostname??"";_[0]==="["&&_.endsWith("]")?_=t.hostname.slice(1,-1):_=t.hostname;let E={headers:t.headers,host:_,method:t.method,path:y,port:t.port,agent:p,auth:g},A=(u?Id.request:xd.request)(E,R=>{let M=new Cy.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:Ty(R.headers),body:R});c({response:M})});if(A.on("error",R=>{S1.includes(R.code)?l(Object.assign(R,{name:"TimeoutError"})):l(R)}),r){let R=ee(()=>{A.destroy();let M=new Error("Request aborted");M.name="AbortError",l(M)},"onAbort");if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",R,{once:!0}),A.once("close",()=>M.removeEventListener("abort",R))}else r.onabort=R}let O=n??this.config.requestTimeout;a.push(E1(A,l,this.config.connectionTimeout)),a.push(C1(A,l,O));let P=E.agent;typeof P=="object"&&"keepAlive"in P&&a.push(w1(A,{keepAlive:P.keepAlive,keepAliveMsecs:P.keepAliveMsecs})),i=Od(A,t,O).catch(R=>(a.forEach(ke.clearTimeout),s(R)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Ey=require("http2"),T1=_1(require("http2")),P1=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ee(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},x1=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ee(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=T1.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ee(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new P1;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},I1=class Ry{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new x1({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ee(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new Ry(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,u,p=ee(async re=>{await u,a(re)},"resolve"),h=ee(async re=>{await u,c(re)},"reject");if(r?.aborted){l=!0;let re=new Error("Request aborted");re.name="AbortError",h(re);return}let{hostname:g,method:y,port:_,protocol:E,query:C}=t,A="";if(t.username!=null||t.password!=null){let re=t.username??"",ae=t.password??"";A=`${re}:${ae}@`}let O=`${E}//${A}${g}${_?`:${_}`:""}`,P={destination:new URL(O)},R=this.connectionManager.lease(P,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),M=ee(re=>{s&&this.destroySession(R),l=!0,h(re)},"rejectWithDestroy"),Ce=(0,Ay.buildQueryString)(C||{}),te=t.path;Ce&&(te+=`?${Ce}`),t.fragment&&(te+=`#${t.fragment}`);let fe=R.request({...t.headers,[Ey.constants.HTTP2_HEADER_PATH]:te,[Ey.constants.HTTP2_HEADER_METHOD]:y});if(R.ref(),fe.on("response",re=>{let ae=new Cy.HttpResponse({statusCode:re[":status"]||-1,headers:Ty(re),body:fe});l=!0,p({response:ae}),s&&(R.close(),this.connectionManager.deleteSession(O,R))}),i&&fe.setTimeout(i,()=>{fe.close();let re=new Error(`Stream timed out because of no activity for ${i} ms`);re.name="TimeoutError",M(re)}),r){let re=ee(()=>{fe.close();let ae=new Error("Request aborted");ae.name="AbortError",M(ae)},"onAbort");if(typeof r.addEventListener=="function"){let ae=r;ae.addEventListener("abort",re,{once:!0}),fe.once("close",()=>ae.removeEventListener("abort",re))}else r.onabort=re}fe.on("frameError",(re,ae,ye)=>{M(new Error(`Frame type id ${re} in stream id ${ye} has failed with code ${ae}.`))}),fe.on("error",M),fe.on("aborted",()=>{M(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${fe.rstCode}.`))}),fe.on("close",()=>{R.unref(),s&&R.destroy(),l||M(new Error("Unexpected error: http2 request did not get a response"))}),u=Od(fe,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},R1=class extends Py.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ee(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},O1=ee(e=>N1(e)?Oy(e):new Promise((t,r)=>{let n=new R1;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),N1=ee(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function Oy(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ee(Oy,"collectReadableStream")});var By=w((m7,jy)=>{var Hi=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,D1=Object.getOwnPropertyNames,$1=Object.prototype.hasOwnProperty,mt=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),M1=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},L1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D1(t))!$1.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=k1(t,o))||n.enumerable});return e},F1=e=>L1(Hi({},"__esModule",{value:!0}),e),Dy={};M1(Dy,{FetchHttpHandler:()=>j1,keepAliveSupport:()=>Bi,streamCollector:()=>H1});jy.exports=F1(Dy);var ky=ne(),U1=Pd();function Nd(e,t){return new Request(e,t)}mt(Nd,"createRequest");function $y(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}mt($y,"requestTimeout");var Bi={supported:void 0},j1=class My{static{mt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new My(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Bi.supported===void 0&&(Bi.supported=typeof Request<"u"&&"keepalive"in Nd("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let A=new Error("Request aborted");return A.name="AbortError",Promise.reject(A)}let a=t.path,c=(0,U1.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let A=t.username??"",O=t.password??"";l=`${A}:${O}@`}let{port:u,method:p}=t,h=`${t.protocol}//${l}${t.hostname}${u?`:${u}`:""}${a}`,g=p==="GET"||p==="HEAD"?void 0:t.body,y={body:g,headers:new Headers(t.headers),method:p,credentials:i};this.config?.cache&&(y.cache=this.config.cache),g&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Bi.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let _=mt(()=>{},"removeSignalEventListener"),E=Nd(h,y),C=[fetch(E).then(A=>{let O=A.headers,P={};for(let M of O.entries())P[M[0]]=M[1];return A.body!=null?{response:new ky.HttpResponse({headers:P,reason:A.statusText,statusCode:A.status,body:A.body})}:A.blob().then(M=>({response:new ky.HttpResponse({headers:P,reason:A.statusText,statusCode:A.status,body:M})}))}),$y(o)];return r&&C.push(new Promise((A,O)=>{let P=mt(()=>{let R=new Error("Request aborted");R.name="AbortError",O(R)},"onAbort");if(typeof r.addEventListener=="function"){let R=r;R.addEventListener("abort",P,{once:!0}),_=mt(()=>R.removeEventListener("abort",P),"removeSignalEventListener")}else r.onabort=P})),Promise.race(C).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},B1=Pe(),H1=mt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Ly(e):Fy(e),"streamCollector");async function Ly(e){let t=await Uy(e),r=(0,B1.fromBase64)(t);return new Uint8Array(r)}mt(Ly,"collectBlob");async function Fy(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}mt(Fy,"collectStream");function Uy(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}mt(Uy,"readToBase64")});var Dd=w((h7,Gy)=>{var qi=Object.defineProperty,q1=Object.getOwnPropertyDescriptor,z1=Object.getOwnPropertyNames,V1=Object.prototype.hasOwnProperty,Hy=(e,t)=>qi(e,"name",{value:t,configurable:!0}),W1=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},G1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of z1(t))!V1.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=q1(t,o))||n.enumerable});return e},J1=e=>G1(qi({},"__esModule",{value:!0}),e),qy={};W1(qy,{fromHex:()=>Vy,toHex:()=>Wy});Gy.exports=J1(qy);var zy={},kd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),zy[e]=t,kd[t]=e}function Vy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in kd)t[r/2]=kd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Hy(Vy,"fromHex");function Wy(e){let t="";for(let r=0;r<e.byteLength;r++)t+=zy[e[r]];return t}Hy(Wy,"toHex")});var Xy=w(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.sdkStreamMixin=void 0;var K1=By(),Y1=Pe(),X1=Dd(),Q1=_e(),Jy=nr(),Ky="The stream has already been transformed.",Z1=e=>{var t,r;if(!Yy(e)&&!(0,Jy.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Ky);return n=!0,await(0,K1.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,Y1.toBase64)(a);if(i==="hex")return(0,X1.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,Q1.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Ky);if(n=!0,Yy(e))return s(e);if((0,Jy.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};zi.sdkStreamMixin=Z1;var Yy=e=>typeof Blob=="function"&&e instanceof Blob});var Zy=w(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.sdkStreamMixin=void 0;var eD=Dr(),tD=hn(),$d=require("stream"),rD=Xy(),Qy="The stream has already been transformed.",nD=e=>{var t,r;if(!(e instanceof $d.Readable))try{return(0,rD.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Qy);return n=!0,await(0,eD.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,tD.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(Qy);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof $d.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,$d.Readable.toWeb(e)}})};Vi.sdkStreamMixin=nD});var e_=w(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.splitStream=oD;async function oD(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var n_=w(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.splitStream=iD;var t_=require("stream"),sD=e_(),r_=nr();async function iD(e){if((0,r_.isReadableStream)(e)||(0,r_.isBlob)(e))return(0,sD.splitStream)(e);let t=new t_.PassThrough,r=new t_.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Gi=w((S7,gt)=>{var Wi=Object.defineProperty,aD=Object.getOwnPropertyDescriptor,cD=Object.getOwnPropertyNames,lD=Object.prototype.hasOwnProperty,jd=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),dD=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},Fd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cD(t))!lD.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=aD(t,o))||n.enumerable});return e},or=(e,t,r)=>(Fd(e,t,"default"),r&&Fd(r,t,"default")),uD=e=>Fd(Wi({},"__esModule",{value:!0}),e),ht={};dD(ht,{Uint8ArrayBlobAdapter:()=>Ud});gt.exports=uD(ht);var o_=Pe(),s_=_e();function i_(e,t="utf-8"){return t==="base64"?(0,o_.toBase64)(e):(0,s_.toUtf8)(e)}jd(i_,"transformToString");function a_(e,t){return t==="base64"?Ud.mutate((0,o_.fromBase64)(e)):Ud.mutate((0,s_.fromUtf8)(e))}jd(a_,"transformFromString");var Ud=class c_ extends Uint8Array{static{jd(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return a_(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,c_.prototype),t}transformToString(t="utf-8"){return i_(this,t)}};or(ht,gd(),gt.exports);or(ht,ry(),gt.exports);or(ht,cy(),gt.exports);or(ht,ly(),gt.exports);or(ht,uy(),gt.exports);or(ht,Zy(),gt.exports);or(ht,n_(),gt.exports);or(ht,nr(),gt.exports)});var Ji,st,Ki=b(()=>{Ji=v(Gi()),st=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Ji.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Ji.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Ji.Uint8ArrayBlobAdapter.mutate(await r)}});function yt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Yi=b(()=>{});var Mt,Bd=b(()=>{Mt=e=>typeof e=="function"?e():e});var l_=b(()=>{});var xe,d_=b(()=>{xe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};xe.registries=new Map});var _t,_n=b(()=>{_t=class{constructor(t,r){this.name=t,this.traits=r}}});var yo,Hd=b(()=>{_n();yo=class e extends _t{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};yo.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var _o,qd=b(()=>{_n();_o=class e extends _t{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};_o.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var u_=b(()=>{});var $r,Xi=b(()=>{_n();$r=class e extends _t{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};$r.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var zd,p_=b(()=>{Xi();zd=class e extends $r{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zd.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var x,Vd=b(()=>{x={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var bo,Wd=b(()=>{_n();bo=class e extends _t{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};bo.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var N,f_=b(()=>{Bd();Hd();qd();Vd();Wd();Xi();N=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Mt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Mt(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof bo?Mt(this.schema.schemaRef):Mt(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.LIST_MODIFIER&&t<x.MAP_MODIFIER:t instanceof yo}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.MAP_MODIFIER&&t<=255:t instanceof _o}isDocumentSchema(){return this.getSchema()===x.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof $r}isBlobSchema(){return this.getSchema()===x.BLOB||this.getSchema()===x.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=x.TIMESTAMP_DEFAULT&&t<=x.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===x.STRING}isBooleanSchema(){return this.getSchema()===x.BOOLEAN}isNumericSchema(){return this.getSchema()===x.NUMERIC}isBigIntegerSchema(){return this.getSchema()===x.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===x.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===x.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(x).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case x.MAP_MODIFIER:return`${o}Map`;case x.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};N.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var me=b(()=>{Bd();l_();Hd();qd();u_();p_();f_();_n();Wd();Xi();Vd();d_()});var pD,m_=b(()=>{pD=(e,t,r=n=>n)=>e});var fD,mD,So,hD,Qi,Eo,gD,Gd,Jd,Kd,Yd,yD,_D,h_,bD,SD,ea,ED,Xd,vD,bn,Qd,wD,CD,AD,g_,y_,TD,PD,Mr,Zd,Zi,vo,eu=b(()=>{fD=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},mD=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&vo.warn(Zi(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&vo.warn(Zi(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},So=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&vo.warn(Zi(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},hD=Math.ceil(34028234663852886e22),Qi=e=>{let t=So(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>hD)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Eo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},gD=Eo,Gd=e=>Yd(e,32),Jd=e=>Yd(e,16),Kd=e=>Yd(e,8),Yd=(e,t)=>{let r=Eo(e);if(r!==void 0&&yD(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},yD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},_D=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},h_=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},bD=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return vo.warn(Zi(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},SD=e=>{if(e==null)return;let t=h_(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ea=e=>So(typeof e=="string"?bn(e):e),ED=ea,Xd=e=>Qi(typeof e=="string"?bn(e):e),vD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,bn=e=>{let t=e.match(vD);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Qd=e=>typeof e=="string"?g_(e):So(e),wD=Qd,CD=Qd,AD=e=>typeof e=="string"?g_(e):Qi(e),g_=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},y_=e=>Eo(typeof e=="string"?bn(e):e),TD=y_,PD=e=>Gd(typeof e=="string"?bn(e):e),Mr=e=>Jd(typeof e=="string"?bn(e):e),Zd=e=>Kd(typeof e=="string"?bn(e):e),Zi=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),vo={warn:console.warn}});function Co(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${xD[n]}, ${c} ${ru[r]} ${t} ${l}:${u}:${p} GMT`}var xD,ru,ID,RD,OD,Ao,ND,kD,DD,To,Po,wo,$D,MD,LD,tu,FD,UD,jD,bt,BD,HD,Sn,__=b(()=>{eu();xD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ID=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),RD=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=ID.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,u=Mr(Sn(n)),p=bt(o,"month",1,12),h=bt(s,"day",1,31);return wo(u,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},OD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ao=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=OD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,u]=t,p=Mr(Sn(n)),h=bt(o,"month",1,12),g=bt(s,"day",1,31),y=wo(p,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-HD(u)),y},ND=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),kD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),DD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),To=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=ND.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return wo(Mr(Sn(s)),tu(o),bt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=kD.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return LD(wo($D(s),tu(o),bt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=DD.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return wo(Mr(Sn(l)),tu(n),bt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Po=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ea(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},wo=(e,t,r,n)=>{let o=t-1;return UD(e,o,r),new Date(Date.UTC(e,o,r,bt(n.hours,"hour",0,23),bt(n.minutes,"minute",0,59),bt(n.seconds,"seconds",0,60),BD(n.fractionalMilliseconds)))},$D=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Mr(Sn(e));return r<t?r+100:r},MD=50*365*24*60*60*1e3,LD=e=>e.getTime()-new Date().getTime()>MD?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,tu=e=>{let t=ru.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},FD=[31,28,31,30,31,30,31,31,30,31,30,31],UD=(e,t,r)=>{let n=FD[t];if(t===1&&jD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${ru[t]} in ${e}: ${r}`)},jD=e=>e%4===0&&(e%100!==0||e%400===0),bt=(e,t,r,n)=>{let o=Zd(Sn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},BD=e=>e==null?0:Xd("0."+e)*1e3,HD=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Sn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function xo(){return ta>ra.length-16&&(b_.default.randomFillSync(ra),ta=0),ra.slice(ta,ta+=16)}var b_,ra,ta,nu=b(()=>{b_=v(require("crypto")),ra=new Uint8Array(256),ta=ra.length});var S_,E_=b(()=>{S_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qD(e){return typeof e=="string"&&S_.test(e)}var sr,Io=b(()=>{E_();sr=qD});function Lr(e,t=0){return be[e[t+0]]+be[e[t+1]]+be[e[t+2]]+be[e[t+3]]+"-"+be[e[t+4]]+be[e[t+5]]+"-"+be[e[t+6]]+be[e[t+7]]+"-"+be[e[t+8]]+be[e[t+9]]+"-"+be[e[t+10]]+be[e[t+11]]+be[e[t+12]]+be[e[t+13]]+be[e[t+14]]+be[e[t+15]]}function zD(e,t=0){let r=Lr(e,t);if(!sr(r))throw TypeError("Stringified UUID is invalid");return r}var be,v_,Ro=b(()=>{Io();be=[];for(let e=0;e<256;++e)be.push((e+256).toString(16).slice(1));v_=zD});function VD(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||w_,i=e.clockseq!==void 0?e.clockseq:ou;if(s==null||i==null){let h=e.random||(e.rng||xo)();s==null&&(s=w_=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=ou=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:iu+1,l=a-su+(c-iu)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>su)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");su=a,iu=c,ou=i,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||Lr(o)}var w_,ou,su,iu,C_,A_=b(()=>{nu();Ro();su=0,iu=0;C_=VD});function WD(e){if(!sr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var na,au=b(()=>{Io();na=WD});function GD(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Oo(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=GD(o)),typeof s=="string"&&(s=na(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let u=0;u<16;++u)i[a+u]=l[u];return i}return Lr(l)}try{n.name=e}catch{}return n.DNS=JD,n.URL=KD,n}var JD,KD,cu=b(()=>{Ro();au();JD="6ba7b810-9dad-11d1-80b4-00c04fd430c8",KD="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function YD(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),T_.default.createHash("md5").update(e).digest()}var T_,P_,x_=b(()=>{T_=v(require("crypto"));P_=YD});var XD,I_,R_=b(()=>{cu();x_();XD=Oo("v3",48,P_),I_=XD});var O_,lu,N_=b(()=>{O_=v(require("crypto")),lu={randomUUID:O_.default.randomUUID}});function QD(e,t,r){if(lu.randomUUID&&!t&&!e)return lu.randomUUID();e=e||{};let n=e.random||(e.rng||xo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Lr(n)}var St,k_=b(()=>{N_();nu();Ro();St=QD});function ZD(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),D_.default.createHash("sha1").update(e).digest()}var D_,$_,M_=b(()=>{D_=v(require("crypto"));$_=ZD});var e$,L_,F_=b(()=>{cu();M_();e$=Oo("v5",80,$_),L_=e$});var U_,j_=b(()=>{U_="00000000-0000-0000-0000-000000000000"});function t$(e){if(!sr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var B_,H_=b(()=>{Io();B_=t$});var q_={};rt(q_,{NIL:()=>U_,parse:()=>na,stringify:()=>v_,v1:()=>C_,v3:()=>I_,v4:()=>St,v5:()=>L_,validate:()=>sr,version:()=>B_});var du=b(()=>{A_();R_();k_();F_();j_();H_();Io();Ro();au()});var z_=b(()=>{du()});var Ie,V_=b(()=>{Ie=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ie.from=e=>e&&typeof e=="object"&&(e instanceof Ie||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ie(String(e)):Ie(JSON.stringify(e));Ie.fromObject=Ie.from});function uu(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var W_=b(()=>{});function pu(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var G_=b(()=>{});var No,J_=b(()=>{No=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function r$(e){return new Se(String(e),"bigDecimal")}var Se,K_=b(()=>{Se=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var Y_={};rt(Y_,{LazyJsonString:()=>Ie,NumericValue:()=>Se,copyDocumentWithTransform:()=>pD,dateToUtcString:()=>Co,expectBoolean:()=>mD,expectByte:()=>Kd,expectFloat32:()=>Qi,expectInt:()=>gD,expectInt32:()=>Gd,expectLong:()=>Eo,expectNonNull:()=>_D,expectNumber:()=>So,expectObject:()=>h_,expectShort:()=>Jd,expectString:()=>bD,expectUnion:()=>SD,generateIdempotencyToken:()=>St,handleFloat:()=>wD,limitedParseDouble:()=>Qd,limitedParseFloat:()=>CD,limitedParseFloat32:()=>AD,logger:()=>vo,nv:()=>r$,parseBoolean:()=>fD,parseEpochTimestamp:()=>Po,parseRfc3339DateTime:()=>RD,parseRfc3339DateTimeWithOffset:()=>Ao,parseRfc7231DateTime:()=>To,quoteHeader:()=>uu,splitEvery:()=>pu,splitHeader:()=>No,strictParseByte:()=>Zd,strictParseDouble:()=>ea,strictParseFloat:()=>ED,strictParseFloat32:()=>Xd,strictParseInt:()=>TD,strictParseInt32:()=>PD,strictParseLong:()=>y_,strictParseShort:()=>Mr});var it=b(()=>{m_();__();z_();V_();eu();W_();G_();J_();K_()});var oa,En,fu=b(()=>{me();oa=v(ne()),En=class{constructor(t){this.options=t}getRequestType(){return oa.HttpRequest}getResponseType(){return oa.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=N.of(r),s=N.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){return[]}}});var X_,Q_,Fr,Z_=b(()=>{me();it();X_=v(ne()),Q_=v(Gi());Ki();Yi();fu();Fr=class extends En{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=N.of(t?.input),u=l.getSchema(),p=!1,h,g=new X_.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let y=N.translateTraits(t.traits);if(y.http){g.method=y.http[0];let[_,E]=y.http[1].split("?");g.path=="/"?g.path=_:g.path+=_;let C=new URLSearchParams(E??"");Object.assign(i,Object.fromEntries(C))}}for(let[y,_]of l.structIterator()){let E=_.getMergedTraits()??{},C=o[y];if(C!=null)if(E.httpPayload){if(_.isStreaming()){if(_.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=C}else s.write(_,C),h=s.flush();delete o[y]}else if(E.httpLabel){s.write(_,C);let A=s.flush();g.path.includes(`{${y}+}`)?g.path=g.path.replace(`{${y}+}`,A.split("/").map(yt).join("/")):g.path.includes(`{${y}}`)&&(g.path=g.path.replace(`{${y}}`,yt(A))),delete o[y]}else if(E.httpHeader)s.write(_,C),a[E.httpHeader.toLowerCase()]=String(s.flush()),delete o[y];else if(typeof E.httpPrefixHeaders=="string"){for(let[A,O]of Object.entries(C)){let P=E.httpPrefixHeaders+A;s.write([_.getValueSchema(),{httpHeader:P}],O),a[P.toLowerCase()]=s.flush()}delete o[y]}else E.httpQuery||E.httpQueryParams?(this.serializeQuery(_,C,i),delete o[y]):p=!0}return p&&o&&(s.write(u,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(N.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let l=await st(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await st(n.body,r);if(l.byteLength>0){let u=await o.read(s,l);for(let p of a)i[p]=u[p]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=N.of(t),l=[];for(let[u,p]of c.structIterator()){let h=p.getMemberTraits();if(h.httpPayload){if(p.isStreaming())if(p.isStructSchema()){let _=this.serdeContext;if(!_.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let E=p.getMemberSchemas();i[u]=_.eventStreamMarshaller.deserialize(n.body,async C=>{let A=Object.keys(C).find(O=>O!=="__type")??"";if(A in E){let O=E[A];return{[A]:await a.read(O,C[A].body)}}else return{$unknown:C}})}else i[u]=(0,Q_.sdkStreamMixin)(n.body);else if(n.body){let y=await st(n.body,r);y.byteLength>0&&(i[u]=await a.read(p,y))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),y=n.headers[g];if(y!=null)if(p.isListSchema()){let _=p.getValueSchema(),E;_.isTimestampSchema()&&_.getSchema()===x.TIMESTAMP_DEFAULT?E=pu(y,",",2):E=No(y);let C=[];for(let A of E)C.push(await a.read([_,{httpHeader:g}],A.trim()));i[u]=C}else i[u]=await a.read(p,y)}else if(h.httpPrefixHeaders!==void 0){i[u]={};for(let[g,y]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[u][g.slice(h.httpPrefixHeaders.length)]=await a.read([p.getValueSchema(),{httpHeader:g}],y))}else h.httpResponseCode?i[u]=n.statusCode:l.push(u)}return l}}});var eb,Ur,tb=b(()=>{me();eb=v(ne());Ki();fu();Ur=class extends En{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=N.of(t?.input).getSchema(),u,p=new eb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(p,a),this.setHostPrefix(p,t,r));let h={...r};return r&&(o.write(l,h),u=o.flush()),p.headers=i,p.query=s,p.body=u,p.method="POST",p}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let l=await st(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await st(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var mu,hu=b(()=>{Yi();mu=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>yt(a)).join("/"):yt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ko(e,t){return new sa(e,t)}var rb,sa,nb=b(()=>{rb=v(ne());hu();sa=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new rb.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=mu(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function jr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===x.TIMESTAMP_DATE_TIME||e.getSchema()===x.TIMESTAMP_HTTP_DATE||e.getSchema()===x.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?x.TIMESTAMP_HTTP_DATE:s||r?x.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var ia=b(()=>{me()});var gu,ob,Br,yu=b(()=>{me();it();gu=v(Pe()),ob=v(_e());ia();Br=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=N.of(t);if(n.isListSchema())return No(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??gu.fromBase64)(r);if(n.isTimestampSchema())switch(jr(n,this.settings)){case x.TIMESTAMP_DATE_TIME:return Ao(r);case x.TIMESTAMP_HTTP_DATE:return To(r);case x.TIMESTAMP_EPOCH_SECONDS:return Po(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Se(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??ob.toUtf8)((this.serdeContext?.base64Decoder??gu.fromBase64)(t))}}});var aa,Hr,sb=b(()=>{me();aa=v(_e());yu();Hr=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Br(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=N.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??aa.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??aa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var _u,Do,bu=b(()=>{me();it();_u=v(Pe());ia();Do=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=N.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(jr(n,this.settings)){case x.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:this.stringBuffer=Co(r);break;case x.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??_u.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:uu(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ie.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??_u.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var qr,ib=b(()=>{me();bu();qr=class{constructor(t,r,n=new Do(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=N.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var ab={};rt(ab,{FromStringShapeDeserializer:()=>Br,HttpBindingProtocol:()=>Fr,HttpInterceptingShapeDeserializer:()=>Hr,HttpInterceptingShapeSerializer:()=>qr,RequestBuilder:()=>sa,RpcProtocol:()=>Ur,ToStringShapeSerializer:()=>Do,collectBody:()=>st,determineTimestampFormat:()=>jr,extendedEncodeURIComponent:()=>yt,requestBuilder:()=>ko,resolvedPath:()=>mu});var Lt=b(()=>{Ki();Yi();Z_();tb();nb();hu();yu();sb();ib();bu();ia()});var cb=b(()=>{Lt()});function n$(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var lb=b(()=>{});var zr,db=b(()=>{zr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var ub,Su,Eu,pb=b(()=>{ub=v(ne()),Su=v(ft()),Eu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=ub.HttpRequest.clone(t);if(n.in===Su.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Su.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var fb,vu,mb=b(()=>{fb=v(ne()),vu=class{async sign(t,r,n){let o=fb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Ft,hb=b(()=>{Ft=class{async sign(t,r,n){return t}}});var gb=b(()=>{pb();mb();hb()});var yb,o$,wu,ca,Cu,_b=b(()=>{yb=e=>t=>ca(t)&&t.expiration.getTime()-Date.now()<e,o$=3e5,wu=yb(3e5),ca=e=>e.expiration!==void 0,Cu=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var bb=b(()=>{db();gb();_b()});var vn={};rt(vn,{DefaultIdentityProviderConfig:()=>zr,EXPIRATION_MS:()=>o$,HttpApiKeyAuthSigner:()=>Eu,HttpBearerAuthSigner:()=>vu,NoAuthSigner:()=>Ft,createIsIdentityExpiredFunction:()=>yb,createPaginator:()=>Ug,doesIdentityRequireRefresh:()=>ca,getHttpAuthSchemeEndpointRuleSetPlugin:()=>mo,getHttpAuthSchemePlugin:()=>BN,getHttpSigningPlugin:()=>ho,getSmithyContext:()=>CN,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Sg,httpAuthSchemeMiddleware:()=>fo,httpAuthSchemeMiddlewareOptions:()=>Rg,httpSigningMiddleware:()=>cd,httpSigningMiddlewareOptions:()=>$g,isIdentityExpired:()=>wu,memoizeIdentityProvider:()=>Cu,normalizeProvider:()=>rr,requestBuilder:()=>ko,setFeature:()=>n$});var De=b(()=>{pg();Ng();Lg();Fg();jg();cb();lb();bb()});var wn=w((wG,xb)=>{var la=Object.defineProperty,s$=Object.getOwnPropertyDescriptor,i$=Object.getOwnPropertyNames,a$=Object.prototype.hasOwnProperty,Q=(e,t)=>la(e,"name",{value:t,configurable:!0}),c$=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},l$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i$(t))!a$.call(e,o)&&o!==r&&la(e,o,{get:()=>t[o],enumerable:!(n=s$(t,o))||n.enumerable});return e},d$=e=>l$(la({},"__esModule",{value:!0}),e),Sb={};c$(Sb,{EndpointCache:()=>u$,EndpointError:()=>$e,customEndpointFunctions:()=>Tu,isIpAddress:()=>Eb,isValidHostLabel:()=>xu,resolveEndpoint:()=>R$});xb.exports=d$(Sb);var u$=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Q(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},p$=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Eb=Q(e=>p$.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),f$=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),xu=Q((e,t=!1)=>{if(!t)return f$.test(e);let r=e.split(".");for(let n of r)if(!xu(n))return!1;return!0},"isValidHostLabel"),Tu={},$o="endpoints";function Ut(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ut(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ut).join(", ")})`:JSON.stringify(e,null,2)}Q(Ut,"toDebugString");var $e=class extends Error{static{Q(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},m$=Q((e,t)=>e===t,"booleanEquals"),h$=Q(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new $e(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new $e(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),vb=Q((e,t)=>h$(t).reduce((r,n)=>{if(typeof r!="object")throw new $e(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),g$=Q(e=>e!=null,"isSet"),y$=Q(e=>!e,"not"),Pu=ft(),Au={[Pu.EndpointURLScheme.HTTP]:80,[Pu.EndpointURLScheme.HTTPS]:443},_$=Q(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:y="",path:_="",query:E={}}=e,C=new URL(`${y}//${h}${g?`:${g}`:""}${_}`);return C.search=Object.entries(E).map(([A,O])=>`${A}=${O}`).join("&"),C}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Pu.EndpointURLScheme).includes(c))return null;let l=Eb(o),u=r.includes(`${n}:${Au[c]}`)||typeof e=="string"&&e.includes(`${n}:${Au[c]}`),p=`${n}${u?`:${Au[c]}`:""}`;return{scheme:c,authority:p,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),b$=Q((e,t)=>e===t,"stringEquals"),S$=Q((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),E$=Q(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),v$={booleanEquals:m$,getAttr:vb,isSet:g$,isValidHostLabel:xu,not:y$,parseURL:_$,stringEquals:b$,substring:S$,uriEncode:E$},wb=Q((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(vb(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),w$=Q(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),da=Q((e,t,r)=>{if(typeof e=="string")return wb(e,r);if(e.fn)return Cb(e,r);if(e.ref)return w$(e,r);throw new $e(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Cb=Q(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:da(s,"arg",r)),o=e.split(".");return o[0]in Tu&&o[1]!=null?Tu[o[0]][o[1]](...n):v$[e](...n)},"callFunction"),C$=Q(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new $e(`'${e}' is already defined in Reference Record.`);let n=Cb(t,r);return r.logger?.debug?.(`${$o} evaluateCondition: ${Ut(t)} = ${Ut(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Iu=Q((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=C$(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${$o} assign: ${s.name} := ${Ut(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),A$=Q((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=da(s,"Header value entry",t);if(typeof i!="string")throw new $e(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),Ab=Q((e,t)=>{if(Array.isArray(e))return e.map(r=>Ab(r,t));switch(typeof e){case"string":return wb(e,t);case"object":if(e===null)throw new $e(`Unexpected endpoint property: ${e}`);return Tb(e,t);case"boolean":return e;default:throw new $e(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),Tb=Q((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Ab(o,t)}),{}),"getEndpointProperties"),T$=Q((e,t)=>{let r=da(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new $e(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),P$=Q((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Iu(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${$o} Resolving endpoint from template: ${Ut(n)}`),{...l!=null&&{headers:A$(l,i)},...c!=null&&{properties:Tb(c,i)},url:T$(a,i)}},"evaluateEndpointRule"),x$=Q((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Iu(r,t);if(o)throw new $e(da(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),I$=Q((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Iu(r,t);if(o)return Pb(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),Pb=Q((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=P$(r,t);if(n)return n}else if(r.type==="error")x$(r,t);else if(r.type==="tree"){let n=I$(r,t);if(n)return n}else throw new $e(`Unknown endpoint rule: ${r}`);throw new $e("Rules evaluation failed")},"evaluateRules"),R$=Q((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${$o} Initial EndpointParams: ${Ut(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(i.length>0)for(let[l,u]of i)r[l]=r[l]??u;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new $e(`Missing required parameter: '${l}'`);let c=Pb(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${$o} Resolved endpoint: ${Ut(c)}`),c},"resolveEndpoint")});var Nb=w((TG,Ob)=>{var ua=Object.defineProperty,O$=Object.getOwnPropertyDescriptor,N$=Object.getOwnPropertyNames,k$=Object.prototype.hasOwnProperty,D$=(e,t)=>ua(e,"name",{value:t,configurable:!0}),$$=(e,t)=>{for(var r in t)ua(e,r,{get:t[r],enumerable:!0})},M$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N$(t))!k$.call(e,o)&&o!==r&&ua(e,o,{get:()=>t[o],enumerable:!(n=O$(t,o))||n.enumerable});return e},L$=e=>M$(ua({},"__esModule",{value:!0}),e),Ib={};$$(Ib,{parseQueryString:()=>Rb});Ob.exports=L$(Ib);function Rb(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}D$(Rb,"parseQueryString")});var ir=w((PG,$b)=>{var pa=Object.defineProperty,F$=Object.getOwnPropertyDescriptor,U$=Object.getOwnPropertyNames,j$=Object.prototype.hasOwnProperty,B$=(e,t)=>pa(e,"name",{value:t,configurable:!0}),H$=(e,t)=>{for(var r in t)pa(e,r,{get:t[r],enumerable:!0})},q$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U$(t))!j$.call(e,o)&&o!==r&&pa(e,o,{get:()=>t[o],enumerable:!(n=F$(t,o))||n.enumerable});return e},z$=e=>q$(pa({},"__esModule",{value:!0}),e),kb={};H$(kb,{parseUrl:()=>Db});$b.exports=z$(kb);var V$=Nb(),Db=B$(e=>{if(typeof e=="string")return Db(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,V$.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Cn=w((xG,Wb)=>{"use strict";var fa=Object.defineProperty,W$=Object.getOwnPropertyDescriptor,G$=Object.getOwnPropertyNames,J$=Object.prototype.hasOwnProperty,ar=(e,t)=>fa(e,"name",{value:t,configurable:!0}),K$=(e,t)=>{for(var r in t)fa(e,r,{get:t[r],enumerable:!0})},Y$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G$(t))!J$.call(e,o)&&o!==r&&fa(e,o,{get:()=>t[o],enumerable:!(n=W$(t,o))||n.enumerable});return e},X$=e=>Y$(fa({},"__esModule",{value:!0}),e),Lb={};K$(Lb,{ConditionObject:()=>oe.ConditionObject,DeprecatedObject:()=>oe.DeprecatedObject,EndpointError:()=>oe.EndpointError,EndpointObject:()=>oe.EndpointObject,EndpointObjectHeaders:()=>oe.EndpointObjectHeaders,EndpointObjectProperties:()=>oe.EndpointObjectProperties,EndpointParams:()=>oe.EndpointParams,EndpointResolverOptions:()=>oe.EndpointResolverOptions,EndpointRuleObject:()=>oe.EndpointRuleObject,ErrorRuleObject:()=>oe.ErrorRuleObject,EvaluateOptions:()=>oe.EvaluateOptions,Expression:()=>oe.Expression,FunctionArgv:()=>oe.FunctionArgv,FunctionObject:()=>oe.FunctionObject,FunctionReturn:()=>oe.FunctionReturn,ParameterObject:()=>oe.ParameterObject,ReferenceObject:()=>oe.ReferenceObject,ReferenceRecord:()=>oe.ReferenceRecord,RuleSetObject:()=>oe.RuleSetObject,RuleSetRules:()=>oe.RuleSetRules,TreeRuleObject:()=>oe.TreeRuleObject,awsEndpointFunctions:()=>zb,getUserAgentPrefix:()=>tM,isIpAddress:()=>oe.isIpAddress,partition:()=>Hb,resolveDefaultAwsRegionalEndpointsConfig:()=>nM,resolveEndpoint:()=>oe.resolveEndpoint,setPartitionInfo:()=>qb,toEndpointV1:()=>Vb,useDefaultPartitionInfo:()=>eM});Wb.exports=X$(Lb);var oe=wn(),Fb=ar((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Fb(r))return!1;return!0}return!(!(0,oe.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,oe.isIpAddress)(e))},"isVirtualHostableS3Bucket"),Mb=":",Q$="/",Z$=ar(e=>{let t=e.split(Mb);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(Mb)==="")return null;let c=a.map(l=>l.split(Q$)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),Ub={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},jb=Ub,Bb="",Hb=ar(e=>{let{partitions:t}=jb;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),qb=ar((e,t="")=>{jb=e,Bb=t},"setPartitionInfo"),eM=ar(()=>{qb(Ub,"")},"useDefaultPartitionInfo"),tM=ar(()=>Bb,"getUserAgentPrefix"),zb={isVirtualHostableS3Bucket:Fb,parseArn:Z$,partition:Hb};oe.customEndpointFunctions.aws=zb;var rM=ir(),nM=ar(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Vb(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Vb=ar(e=>(0,rM.parseUrl)(e.url),"toEndpointV1")});var ma,An,Gb=b(()=>{ma={warningEmitted:!1},An=e=>{e&&!ma.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ma.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function cr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Jb=b(()=>{});function Kb(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Yb=b(()=>{});function Xb(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Qb=b(()=>{});var lr={};rt(lr,{emitWarningIfUnsupportedVersion:()=>An,setCredentialFeature:()=>cr,setFeature:()=>Kb,setTokenFeature:()=>Xb,state:()=>ma});var at=b(()=>{Gb();Jb();Yb();Qb()});var Zb,Ru,eS=b(()=>{Zb=v(ne()),Ru=e=>Zb.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Tn,Ou=b(()=>{Tn=e=>new Date(Date.now()+e)});var tS,rS=b(()=>{Ou();tS=(e,t)=>Math.abs(Tn(t).getTime()-e)>=3e5});var Nu,nS=b(()=>{rS();Nu=(e,t)=>{let r=Date.parse(e);return tS(r,t)?r-Date.now():t}});var ku=b(()=>{eS();Ou();nS()});var oS,Mo,Pn,Me,Du,$u=b(()=>{oS=v(ne());ku();Mo=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Pn=async e=>{let t=Mo("context",e.context),r=Mo("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Mo("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Me=class{async sign(t,r,n){if(!oS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Pn(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[p,h]=l.authSchemes;p?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:Tn(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Ru(r.$response);if(n){let o=Mo("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Nu(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Ru(t);if(n){let o=Mo("config",r.config);o.systemClockOffset=Nu(n,o.systemClockOffset)}}},Du=Me});var sS,Lo,iS=b(()=>{sS=v(ne());ku();$u();Lo=class extends Me{async sign(t,r,n){if(!sS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Pn(n),u=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:Tn(o.systemClockOffset),signingRegion:u,signingService:c})}}});var Mu,aS=b(()=>{Mu=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var ha,Lu=b(()=>{ha=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var cS,lS,xn,dS=b(()=>{aS();Lu();cS="AWS_AUTH_SCHEME_PREFERENCE",lS="auth_scheme_preference",xn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&ha(t.signingName)in e)return["httpBearerAuth"];if(cS in e)return Mu(e[cS])},configFileSelector:e=>{if(lS in e)return Mu(e[lS])},default:[]}});var Re=w((nJ,hS)=>{var ga=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyNames,iM=Object.prototype.hasOwnProperty,Vr=(e,t)=>ga(e,"name",{value:t,configurable:!0}),aM=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},cM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sM(t))!iM.call(e,o)&&o!==r&&ga(e,o,{get:()=>t[o],enumerable:!(n=oM(t,o))||n.enumerable});return e},lM=e=>cM(ga({},"__esModule",{value:!0}),e),uS={};aM(uS,{CredentialsProviderError:()=>dM,ProviderError:()=>ya,TokenProviderError:()=>uM,chain:()=>pM,fromStatic:()=>fM,memoize:()=>mM});hS.exports=lM(uS);var ya=class pS extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,pS.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Vr(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},dM=class fS extends ya{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,fS.prototype)}static{Vr(this,"CredentialsProviderError")}},uM=class mS extends ya{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,mS.prototype)}static{Vr(this,"TokenProviderError")}},pM=Vr((...e)=>async()=>{if(e.length===0)throw new ya("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),fM=Vr(e=>()=>Promise.resolve(e),"fromStatic"),mM=Vr((e,t,r)=>{let n,o,s,i=!1,a=Vr(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Fu,gS,yS,_S=b(()=>{De();Fu=v(Re()),gS=e=>(e.sigv4aSigningRegionSet=rr(e.sigv4aSigningRegionSet),e),yS={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Fu.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Fu.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var GS=w((iJ,WS)=>{var Ca=Object.defineProperty,hM=Object.getOwnPropertyDescriptor,gM=Object.getOwnPropertyNames,yM=Object.prototype.hasOwnProperty,Ee=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),_M=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},bM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gM(t))!yM.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=hM(t,o))||n.enumerable});return e},SM=e=>bM(Ca({},"__esModule",{value:!0}),e),wS={};_M(wS,{ALGORITHM_IDENTIFIER:()=>_a,ALGORITHM_IDENTIFIER_V4A:()=>CM,ALGORITHM_QUERY_PARAM:()=>CS,ALWAYS_UNSIGNABLE_HEADERS:()=>NS,AMZ_DATE_HEADER:()=>Wu,AMZ_DATE_QUERY_PARAM:()=>Hu,AUTH_HEADER:()=>Vu,CREDENTIAL_QUERY_PARAM:()=>AS,DATE_HEADER:()=>xS,EVENT_ALGORITHM_IDENTIFIER:()=>$S,EXPIRES_QUERY_PARAM:()=>PS,GENERATED_HEADERS:()=>IS,HOST_HEADER:()=>vM,KEY_TYPE_IDENTIFIER:()=>Gu,MAX_CACHE_SIZE:()=>LS,MAX_PRESIGNED_TTL:()=>FS,PROXY_HEADER_PATTERN:()=>kS,REGION_SET_PARAM:()=>EM,SEC_HEADER_PATTERN:()=>DS,SHA256_HEADER:()=>wa,SIGNATURE_HEADER:()=>RS,SIGNATURE_QUERY_PARAM:()=>qu,SIGNED_HEADERS_QUERY_PARAM:()=>TS,SignatureV4:()=>$M,SignatureV4Base:()=>VS,TOKEN_HEADER:()=>OS,TOKEN_QUERY_PARAM:()=>zu,UNSIGNABLE_PATTERNS:()=>wM,UNSIGNED_PAYLOAD:()=>MS,clearCredentialCache:()=>TM,createScope:()=>Sa,getCanonicalHeaders:()=>Uu,getCanonicalQuery:()=>zS,getPayloadHash:()=>Ea,getSigningKey:()=>US,hasHeader:()=>BS,moveHeadersToQuery:()=>qS,prepareRequest:()=>Bu,signatureV4aContainer:()=>MM});WS.exports=SM(wS);var bS=_e(),CS="X-Amz-Algorithm",AS="X-Amz-Credential",Hu="X-Amz-Date",TS="X-Amz-SignedHeaders",PS="X-Amz-Expires",qu="X-Amz-Signature",zu="X-Amz-Security-Token",EM="X-Amz-Region-Set",Vu="authorization",Wu=Hu.toLowerCase(),xS="date",IS=[Vu,Wu,xS],RS=qu.toLowerCase(),wa="x-amz-content-sha256",OS=zu.toLowerCase(),vM="host",NS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},kS=/^proxy-/,DS=/^sec-/,wM=[/^proxy-/i,/^sec-/i],_a="AWS4-HMAC-SHA256",CM="AWS4-ECDSA-P256-SHA256",$S="AWS4-HMAC-SHA256-PAYLOAD",MS="UNSIGNED-PAYLOAD",LS=50,Gu="aws4_request",FS=3600*24*7,dr=Dd(),AM=_e(),In={},ba=[],Sa=Ee((e,t,r)=>`${e}/${t}/${r}/${Gu}`,"createScope"),US=Ee(async(e,t,r,n,o)=>{let s=await SS(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,dr.toHex)(s)}:${t.sessionToken}`;if(i in In)return In[i];for(ba.push(i);ba.length>LS;)delete In[ba.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Gu])a=await SS(e,a,c);return In[i]=a},"getSigningKey"),TM=Ee(()=>{ba.length=0,Object.keys(In).forEach(e=>{delete In[e]})},"clearCredentialCache"),SS=Ee((e,t,r)=>{let n=new e(t);return n.update((0,AM.toUint8Array)(r)),n.digest()},"hmac"),Uu=Ee(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in NS||t?.has(s)||kS.test(s)||DS.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),PM=dd(),xM=_e(),Ea=Ee(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===wa)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,PM.isArrayBuffer)(t)){let n=new r;return n.update((0,xM.toUint8Array)(t)),(0,dr.toHex)(await n.digest())}return MS},"getPayloadHash"),ES=_e(),IM=class{static{Ee(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,ES.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,ES.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(OM.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!RM.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,dr.fromHex)(e.value.replace(/\-/g,"")),1),u}}},RM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,OM=class jS{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ee(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&ju(r),new jS(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&ju(t),parseInt((0,dr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function ju(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ee(ju,"negate");var BS=Ee((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),HS=ne(),qS=Ee((e,t={})=>{let{headers:r,query:n={}}=HS.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Bu=Ee(e=>{e=HS.HttpRequest.clone(e);for(let t of Object.keys(e.headers))IS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),vS=ot(),NM=_e(),va=Ad(),zS=Ee(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===RS)continue;let o=(0,va.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,va.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,va.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),kM=Ee(e=>DM(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),DM=Ee(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),VS=class{static{Ee(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,vS.normalizeProvider)(r),this.credentialProvider=(0,vS.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${zS(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,NM.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,dr.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,va.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=kM(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},$M=class extends VS{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new IM}static{Ee(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let p=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>FS)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=Sa(g,p,l??this.service),_=qS(Bu(e),{unhoistableHeaders:s,hoistableHeaders:a});u.sessionToken&&(_.query[zu]=u.sessionToken),_.query[CS]=_a,_.query[AS]=`${u.accessKeyId}/${y}`,_.query[Hu]=h,_.query[PS]=n.toString(10);let E=Uu(_,o,i);return _.query[TS]=this.getCanonicalHeaderList(E),_.query[qu]=await this.getSignature(h,y,this.getSigningKey(u,p,g,l),this.createCanonicalRequest(_,E,await Ea(e,this.sha256))),_}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Sa(a,i,s??this.service),u=await Ea({headers:{},body:t},this.sha256),p=new this.sha256;p.update(e);let h=(0,dr.toHex)(await p.digest()),g=[$S,c,l,n,h,u].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,bS.toUint8Array)(e)),(0,dr.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=Bu(e),{longDate:l,shortDate:u}=this.formatDate(t),p=Sa(u,a,s??this.service);c.headers[Wu]=l,i.sessionToken&&(c.headers[OS]=i.sessionToken);let h=await Ea(c,this.sha256);!BS(wa,c.headers)&&this.applyChecksum&&(c.headers[wa]=h);let g=Uu(c,n,r),y=await this.getSignature(l,p,this.getSigningKey(i,a,u,s),this.createCanonicalRequest(c,g,h));return c.headers[Vu]=`${_a} Credential=${i.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${y}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,_a),s=new this.sha256(await r);return s.update((0,bS.toUint8Array)(o)),(0,dr.toHex)(await s.digest())}getSigningKey(e,t,r,n){return US(this.sha256,e,r,t,n||this.service)}},MM={SignatureV4a:null}});function LM(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Cu(t,wu,ca):r?n=rr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function FM(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Ju,Wr,JS,KS=b(()=>{at();De();Ju=v(GS()),Wr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let u=LM(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),p=FM(e,u);r&&!p.attributed?(n=async h=>p(h).then(g=>cr(g,"CREDENTIALS_CODE","e")),n.memoized=p.memoized,n.configBound=p.configBound,n.attributed=!0):n=p},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=rr(e.signer):e.regionInfoProvider?a=()=>rr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:p,signingService:h}=l;e.signingRegion=e.signingRegion||p||u,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||Ju.SignatureV4;return new y(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await rr(e.region)(),properties:{}},l);let u=l.signingRegion,p=l.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||p||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Ju.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},JS=Wr});var YS=b(()=>{$u();iS();dS();_S();KS()});var XS={};rt(XS,{AWSSDKSigV4Signer:()=>Du,AwsSdkSigV4ASigner:()=>Lo,AwsSdkSigV4Signer:()=>Me,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xn,NODE_SIGV4A_CONFIG_OPTIONS:()=>yS,getBearerTokenEnvKey:()=>ha,resolveAWSSDKSigV4Config:()=>JS,resolveAwsSdkSigV4AConfig:()=>gS,resolveAwsSdkSigV4Config:()=>Wr,validateSigningProperties:()=>Pn});var Ku=b(()=>{YS();Lu()});var UM,jM,BM,QS=b(()=>{UM=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},jM=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},BM=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Fo=w((vJ,tE)=>{var Aa=Object.defineProperty,HM=Object.getOwnPropertyDescriptor,qM=Object.getOwnPropertyNames,zM=Object.prototype.hasOwnProperty,VM=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),WM=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},GM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qM(t))!zM.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=HM(t,o))||n.enumerable});return e},JM=e=>GM(Aa({},"__esModule",{value:!0}),e),eE={};WM(eE,{calculateBodyLength:()=>KM});tE.exports=JM(eE);var ZS=typeof TextEncoder=="function"?new TextEncoder:null,KM=VM(e=>{if(typeof e=="string"){if(ZS)return ZS.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ae,ur=b(()=>{Ae=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function rE(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Se(n,"bigDecimal"):BigInt(n)}return t}var nE=b(()=>{it()});var cE=w((TJ,aE)=>{var Ta=Object.defineProperty,YM=Object.getOwnPropertyDescriptor,XM=Object.getOwnPropertyNames,QM=Object.prototype.hasOwnProperty,We=(e,t)=>Ta(e,"name",{value:t,configurable:!0}),ZM=(e,t)=>{for(var r in t)Ta(e,r,{get:t[r],enumerable:!0})},eL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XM(t))!QM.call(e,o)&&o!==r&&Ta(e,o,{get:()=>t[o],enumerable:!(n=YM(t,o))||n.enumerable});return e},tL=e=>eL(Ta({},"__esModule",{value:!0}),e),iE={};ZM(iE,{constructStack:()=>Yu});aE.exports=tL(iE);var Gr=We((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),pr=We((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Yu=We(()=>{let e=[],t=[],r=!1,n=new Set,o=We(p=>p.sort((h,g)=>oE[g.step]-oE[h.step]||sE[g.priority||"normal"]-sE[h.priority||"normal"]),"sort"),s=We(p=>{let h=!1,g=We(y=>{let _=Gr(y.name,y.aliases);if(_.includes(p)){h=!0;for(let E of _)n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=We(p=>{let h=!1,g=We(y=>{if(y.middleware===p){h=!0;for(let _ of Gr(y.name,y.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=We(p=>(e.forEach(h=>{p.add(h.middleware,{...h})}),t.forEach(h=>{p.addRelativeTo(h.middleware,{...h})}),p.identifyOnResolve?.(u.identifyOnResolve()),p),"cloneTo"),c=We(p=>{let h=[];return p.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(p),p.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=We((p=!1)=>{let h=[],g=[],y={};return e.forEach(E=>{let C={...E,before:[],after:[]};for(let A of Gr(C.name,C.aliases))y[A]=C;h.push(C)}),t.forEach(E=>{let C={...E,before:[],after:[]};for(let A of Gr(C.name,C.aliases))y[A]=C;g.push(C)}),g.forEach(E=>{if(E.toMiddleware){let C=y[E.toMiddleware];if(C===void 0){if(p)return;throw new Error(`${E.toMiddleware} is not found when adding ${pr(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&C.after.push(E),E.relation==="before"&&C.before.push(E)}}),o(h).map(c).reduce((E,C)=>(E.push(...C),E),[])},"getMiddlewareList"),u={add:(p,h={})=>{let{name:g,override:y,aliases:_}=h,E={step:"initialize",priority:"normal",middleware:p,...h},C=Gr(g,_);if(C.length>0){if(C.some(A=>n.has(A))){if(!y)throw new Error(`Duplicate middleware name '${pr(g,_)}'`);for(let A of C){let O=e.findIndex(R=>R.name===A||R.aliases?.some(M=>M===A));if(O===-1)continue;let P=e[O];if(P.step!==E.step||E.priority!==P.priority)throw new Error(`"${pr(P.name,P.aliases)}" middleware with ${P.priority} priority in ${P.step} step cannot be overridden by "${pr(g,_)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(O,1)}}for(let A of C)n.add(A)}e.push(E)},addRelativeTo:(p,h)=>{let{name:g,override:y,aliases:_}=h,E={middleware:p,...h},C=Gr(g,_);if(C.length>0){if(C.some(A=>n.has(A))){if(!y)throw new Error(`Duplicate middleware name '${pr(g,_)}'`);for(let A of C){let O=t.findIndex(R=>R.name===A||R.aliases?.some(M=>M===A));if(O===-1)continue;let P=t[O];if(P.toMiddleware!==E.toMiddleware||P.relation!==E.relation)throw new Error(`"${pr(P.name,P.aliases)}" middleware ${P.relation} "${P.toMiddleware}" middleware cannot be overridden by "${pr(g,_)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(O,1)}}for(let A of C)n.add(A)}t.push(E)},clone:()=>a(Yu()),use:p=>{p.applyToStack(u)},remove:p=>typeof p=="string"?s(p):i(p),removeByTag:p=>{let h=!1,g=We(y=>{let{tags:_,name:E,aliases:C}=y;if(_&&_.includes(p)){let A=Gr(E,C);for(let O of A)n.delete(O);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:p=>{let h=a(Yu());return h.use(p),h.identifyOnResolve(r||h.identifyOnResolve()||(p.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(p=>{let h=p.step??p.relation+" "+p.toMiddleware;return pr(p.name,p.aliases)+" - "+h}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,h)=>{for(let g of l().map(y=>y.middleware).reverse())p=g(p,h);return r&&console.log(u.identify()),p}};return u},"constructStack"),oE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},sE={high:3,normal:2,low:1}});var F=w((PJ,np)=>{var Pa=Object.defineProperty,rL=Object.getOwnPropertyDescriptor,nL=Object.getOwnPropertyNames,oL=Object.prototype.hasOwnProperty,J=(e,t)=>Pa(e,"name",{value:t,configurable:!0}),sL=(e,t)=>{for(var r in t)Pa(e,r,{get:t[r],enumerable:!0})},Qu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nL(t))!oL.call(e,o)&&o!==r&&Pa(e,o,{get:()=>t[o],enumerable:!(n=rL(t,o))||n.enumerable});return e},iL=(e,t,r)=>(Qu(e,t,"default"),r&&Qu(r,t,"default")),aL=e=>Qu(Pa({},"__esModule",{value:!0}),e),tp={};sL(tp,{Client:()=>cL,Command:()=>uE,NoOpLogger:()=>AL,SENSITIVE_STRING:()=>dL,ServiceException:()=>pL,_json:()=>ep,collectBody:()=>Xu.collectBody,convertMap:()=>TL,createAggregatedClient:()=>uL,decorateServiceException:()=>pE,emitWarningIfUnsupportedVersion:()=>gL,extendedEncodeURIComponent:()=>Xu.extendedEncodeURIComponent,getArrayIfSingleItem:()=>wL,getDefaultClientConfiguration:()=>EL,getDefaultExtensionConfiguration:()=>mE,getValueFromTextNode:()=>hE,isSerializableHeaderValue:()=>CL,loadConfigsForDefaultMode:()=>hL,map:()=>rp,resolveDefaultRuntimeConfig:()=>vL,resolvedPath:()=>Xu.resolvedPath,serializeDateTime:()=>NL,serializeFloat:()=>OL,take:()=>PL,throwDefaultError:()=>fE,withBaseException:()=>fL});np.exports=aL(tp);var dE=cE(),cL=class{constructor(e){this.config=e,this.middlewareStack=(0,dE.constructStack)()}static{J(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Xu=(Lt(),V(ab)),Zu=ft(),uE=class{constructor(){this.middlewareStack=(0,dE.constructStack)()}static{J(this,"Command")}static classBuilder(){return new lL}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:u}){for(let _ of n.bind(this)(u,e,t,r))this.middlewareStack.use(_);let p=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[Zu.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:y}=t;return p.resolve(_=>y.handle(_.request,r||{}),g)}},lL=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{J(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends uE{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{J(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},dL="***SensitiveInformation***",uL=J((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=J(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),pL=class Uo extends Error{static{J(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return Uo.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===Uo?Uo.isInstance(t):Uo.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},pE=J((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),fE=J(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=mL(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw pE(i,t)},"throwDefaultError"),fL=J(e=>({output:t,parsedBody:r,errorCode:n})=>{fE({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),mL=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),hL=J(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),lE=!1,gL=J(e=>{e&&!lE&&parseInt(e.substring(1,e.indexOf(".")))<16&&(lE=!0)},"emitWarningIfUnsupportedVersion"),yL=J(e=>{let t=[];for(let r in Zu.AlgorithmId){let n=Zu.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),_L=J(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),bL=J(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),SL=J(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),mE=J(e=>Object.assign(yL(e),bL(e)),"getDefaultExtensionConfiguration"),EL=mE,vL=J(e=>Object.assign(_L(e),SL(e)),"resolveDefaultRuntimeConfig"),wL=J(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),hE=J(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=hE(e[r]));return e},"getValueFromTextNode"),CL=J(e=>e!=null,"isSerializableHeaderValue"),AL=class{static{J(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function rp(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,xL(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}gE(n,null,s,i)}return n}J(rp,"map");var TL=J(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),PL=J((e,t)=>{let r={};for(let n in t)gE(r,e,t,n);return r},"take"),xL=J((e,t,r)=>rp(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),gE=J((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=IL,c=RL,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),IL=J(e=>e!=null,"nonNullish"),RL=J(e=>e,"pass"),OL=J(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),NL=J(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),ep=J(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(ep);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=ep(e[r]));return t}return e},"_json");iL(tp,(it(),V(Y_)),np.exports)});var yE,xa,op=b(()=>{yE=v(F()),xa=(e,t)=>(0,yE.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Rn,sp,Jr,jo=b(()=>{op();Rn=(e,t)=>xa(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),sp=async(e,t)=>{let r=await Rn(e,t);return r.message=r.message??r.Message,r},Jr=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var _E,Bo,ip=b(()=>{me();it();_E=v(Pe());ur();nE();jo();Bo=class extends Ae{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,rE):await Rn(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=N.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(i,u));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._read(c,r[l]);u!=null&&(i[a]=u)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,_E.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ie.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===x.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return Ao(r);case x.TIMESTAMP_HTTP_DATE:return To(r);case x.TIMESTAMP_EPOCH_SECONDS:return Po(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Se?r:new Se(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var bE,Ia,SE=b(()=>{it();bE="\u039D",Ia=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Se){let n=`${bE+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${bE+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Ho,ap=b(()=>{me();it();ur();SE();Ho=class extends Ae{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=N.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Ia;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=N.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(i,u));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._write(c,r[a],s);u!==void 0&&(i[l]=u)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===x.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case x.TIMESTAMP_HTTP_DATE:return Co(r);case x.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return St();let i=s.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Ie.from(r)}return r}}}});var Kr,Ra=b(()=>{ur();ip();ap();Kr=class extends Ae{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ho(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Bo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var EE,Yr,Oa=b(()=>{Lt();me();EE=v(Fo());Ra();jo();Yr=class extends Ur{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Kr({timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${N.of(t).getName()}`}),(Mt(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,EE.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Jr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=xe.for(a),u;try{u=l.getSchema(i)}catch{let E=xe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let C=E.ctor;throw Object.assign(new C(c),o)}throw new Error(c)}let p=N.of(u),h=o.message??o.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,r,n,o);let y={};for(let[_,E]of p.structIterator()){let C=E.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(E,o[C])}throw Object.assign(g,{$metadata:s,$response:n,$fault:p.getMergedTraits().error,message:h,...y}),g}}});var cp,vE=b(()=>{Oa();cp=class extends Yr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var lp,wE=b(()=>{Oa();lp=class extends Yr{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var CE,dp,AE=b(()=>{Lt();me();CE=v(Fo());Ra();jo();dp=class extends Fr{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Kr(r),this.serializer=new qr(this.codec.createSerializer(),r),this.deserializer=new Hr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=N.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=l.getMergedTraits();return!u&&!p&&!h&&!g&&y===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,CE.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Jr(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=xe.for(a),u;try{u=l.getSchema(i)}catch{let E=xe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let C=E.ctor;throw Object.assign(new C(c),o)}throw new Error(c)}let p=N.of(u),h=o.message??o.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,r,n,o);let y={};for(let[_,E]of p.structIterator()){let C=E.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(E,o[C])}throw Object.assign(g,{$metadata:s,$response:n,$fault:p.getMergedTraits().error,message:h,...y}),g}getDefaultContentType(){return"application/json"}}});var TE,kL,PE=b(()=>{TE=v(F()),kL=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,TE.expectUnion)(e)}});function Na(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function IE(e){return typeof e<"u"}var xE,DL,$L,ML,qo,ka=b(()=>{"use strict";xE=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",DL=xE+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",$L="["+xE+"]["+DL+"]*",ML=new RegExp("^"+$L+"$");qo=function(e){let t=ML.exec(e);return!(t===null||typeof t>"u")}});function DE(e,t){t=Object.assign({},LL,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=OE(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=NE(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!VL(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",ce("InvalidTag",p,Oe(e,s))}let l=jL(e,s);if(l===!1)return ce("InvalidAttr","Attributes for '"+c+"' have open quote.",Oe(e,s));let u=l.value;if(s=l.index,u[u.length-1]==="/"){let p=s-u.length;u=u.substring(0,u.length-1);let h=kE(u,t);if(h===!0)n=!0;else return ce(h.err.code,h.err.msg,Oe(e,p+h.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return ce("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Oe(e,i));if(r.length===0)return ce("InvalidTag","Closing tag '"+c+"' has not been opened.",Oe(e,i));{let p=r.pop();if(c!==p.tagName){let h=Oe(e,p.tagStartPos);return ce("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Oe(e,i))}r.length==0&&(o=!0)}}else return ce("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Oe(e,s));else{let p=kE(u,t);if(p!==!0)return ce(p.err.code,p.err.msg,Oe(e,s-u.length+p.err.line));if(o===!0)return ce("InvalidXml","Multiple possible root nodes found.",Oe(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=NE(e,s);continue}else if(e[s+1]==="?"){if(s=OE(e,++s),s.err)return s}else break;else if(e[s]==="&"){let p=qL(e,s);if(p==-1)return ce("InvalidChar","char '&' is not expected.",Oe(e,s));s=p}else if(o===!0&&!RE(e[s]))return ce("InvalidXml","Extra text at the end",Oe(e,s));e[s]==="<"&&s--}}else{if(RE(e[s]))continue;return ce("InvalidChar","char '"+e[s]+"' is not expected.",Oe(e,s))}if(n){if(r.length==1)return ce("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Oe(e,r[0].tagStartPos));if(r.length>0)return ce("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ce("InvalidXml","Start tag expected.",1);return!0}function RE(e){return e===" "||e==="	"||e===`
`||e==="\r"}function OE(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ce("InvalidXml","XML declaration allowed only at the start of the document.",Oe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function NE(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function jL(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===FL||e[t]===UL)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function kE(e,t){let r=Na(e,BL),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",zo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",zo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ce("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",zo(r[o]));let s=r[o][2];if(!zL(s))return ce("InvalidAttr","Attribute '"+s+"' is an invalid name.",zo(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ce("InvalidAttr","Attribute '"+s+"' is repeated.",zo(r[o]))}return!0}function HL(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function qL(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,HL(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ce(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function zL(e){return qo(e)}function VL(e){return qo(e)}function Oe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function zo(e){return e.startIndex+e[1].length}var LL,FL,UL,BL,$E=b(()=>{"use strict";ka();LL={allowBooleanAttributes:!1,unpairedTags:[]};FL='"',UL="'";BL=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var WL,ME,LE=b(()=>{WL={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},ME=function(e){return Object.assign({},WL,e)}});var Da,He,$a=b(()=>{"use strict";typeof Symbol!="function"?Da="@@xmlMetadata":Da=Symbol("XML Node Metadata");He=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][Da]={startIndex:r})}static getMetaDataSymbol(){return Da}}});function up(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Xr(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=GL(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&Xr(e,"!ELEMENT",t)){t+=8;let{index:a}=KL(e,t+1);t=a}else if(o&&Xr(e,"!ATTLIST",t))t+=8;else if(o&&Xr(e,"!NOTATION",t)){t+=9;let{index:a}=JL(e,t+1);t=a}else if(Xr(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function GL(e,t){t=fr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(pp(r),t=fr(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Ma(e,t,"entity"),t--,[r,n,t]}function JL(e,t){t=fr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;pp(r),t=fr(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=fr(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Ma(e,t,"publicIdentifier"),t=fr(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Ma(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Ma(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Ma(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function KL(e,t){t=fr(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!pp(r))throw new Error(`Invalid element name: "${r}"`);t=fr(e,t);let n="";if(e[t]==="E"&&Xr(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Xr(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Xr(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function pp(e){if(qo(e))return e;throw new Error(`Invalid entity name ${e}`)}var fr,FE=b(()=>{ka();fr=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function fp(e,t={}){if(t=Object.assign({},QL,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&YL.test(r))return r2(r,16);if(r.search(/.+[eE].+/)!==-1)return e2(e,r,t);{let n=XL.exec(r);if(n){let o=n[1]||"",s=n[2],i=t2(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let u=s?i:r;return s?u===l||o+u===l?c:e:u===l||u===o+l?c:e}}else return e}}function e2(e,t,r){if(!r.eNotation)return e;let n=t.match(ZL);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function t2(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function r2(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var YL,XL,QL,ZL,UE=b(()=>{YL=/^[-+]?0x[a-fA-F0-9]+$/,XL=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,QL={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};ZL=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function mp(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var jE=b(()=>{});function n2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function o2(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?gp(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?gp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function s2(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function a2(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Na(e,i2),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,t);u==null?s[l]=c:typeof u!=typeof c||u!==c?s[l]=u:s[l]=gp(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function l2(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function u2(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function p2(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function f2(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Qr(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function hp(e,t,r,n=">"){let o=f2(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let u=c;if(r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==o.data.substr(p+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:u}}function m2(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Qr(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Qr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Qr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Qr(e,"]]>",r,"StopNode is not closed.")-2;else{let s=hp(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function gp(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:fp(e,r)}else return IE(e)?e:""}var Vo,i2,c2,d2,BE=b(()=>{"use strict";ka();$a();FE();UE();jE();Vo=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=n2,this.parseXml=c2,this.parseTextData=o2,this.resolveNameSpace=s2,this.buildAttributesMap=a2,this.isItStopNode=p2,this.replaceEntitiesValue=d2,this.readStopNodeData=m2,this.saveTextToParentTag=u2,this.addChild=l2,this.ignoreAttributesFn=mp(this.options.ignoreAttributes)}};i2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");c2=function(e){e=e.replace(/\r\n?/g,`
`);let t=new He("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Qr(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=hp(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new He(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Qr(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=up(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Qr(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=hp(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,p=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let y=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let _="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let C=this.readStopNodeData(e,l,h+1);if(!C)throw new Error(`Unexpected end of ${l}`);s=C.i,_=C.tagContent}let E=new He(c);c!==u&&p&&(E[":@"]=this.buildAttributesMap(u,o,c)),_&&(_=this.parseTextData(_,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),E.add(this.options.textNodeName,_),this.addChild(r,E,o,y)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let _=new He(c);c!==u&&p&&(_[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,_,o,y),o=o.substr(0,o.lastIndexOf("."))}else{let _=new He(c);this.tagsNodeStack.push(r),c!==u&&p&&(_[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,_,o,y),r=_}n="",s=h}}else n+=e[s];return t.child};d2=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function _p(e,t){return HE(e,t)}function HE(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=h2(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=HE(i[a],t,c),u=y2(l,t);i[yp]!==void 0&&(l[yp]=i[yp]),i[":@"]?g2(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,u)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function h2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function g2(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function y2(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var yp,qE=b(()=>{"use strict";$a();yp=He.getMetaDataSymbol()});var mr,zE=b(()=>{LE();BE();qE();$E();$a();mr=class{constructor(t){this.externalEntities={},this.options=ME(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=DE(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Vo(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:_p(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return He.getMetaDataSymbol()}}});var bp=b(()=>{"use strict";zE()});var VE,WE,Zr,La=b(()=>{Lt();me();VE=v(F()),WE=v(_e());bp();ur();Zr=class extends Ae{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Br(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=N.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(s)[0];return s[u].isBlobSchema()?l[u]=r:l[u]=this.read(s[u],r),l}let a=(this.serdeContext?.utf8Encoder??WE.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=N.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",p=i?r:(r[0]??r)[u],h=Array.isArray(p)?p:[p];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;i?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let p=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of u){let y=g[p],_=g[h];(_!=null||s)&&(a[y]=this.readSchema(l,_))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let u=l.getMergedTraits(),p=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[p]!=null&&(a[c]=this.readSchema(l,r[p]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new mr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,VE.getValueFromTextNode)(i)}return{}}}});var GE,JE,Fa,KE=b(()=>{Lt();me();it();GE=v(F()),JE=v(Pe());ur();Fa=class extends Ae{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=N.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??JE.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(St()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Se?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),jr(o,this.settings)){case x.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case x.TIMESTAMP_HTTP_DATE:this.writeValue((0,GE.dateToUtcString)(r));break;case x.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),u=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,u),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let p=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`,g=this.getKey("value",i.getMergedTraits().xmlName),y=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,u,y),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${yt(t)}=`}writeValue(t){this.buffer+=yt(t)}}});var YE,Wo,Sp=b(()=>{Lt();me();YE=v(Fo());La();KE();Wo=class extends Ur{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Fa(r),this.deserializer=new Zr(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Mt(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,YE.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=N.of(t.output),i={};if(n.statusCode>=300){let u=await st(n.body,r);u.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await st(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),u=xe.for(a),p;try{p=u.find(E=>N.of(E).getMergedTraits().awsQueryError?.[0]===c),p||(p=u.getSchema(i))}catch{let C=xe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(C){let A=C.ctor;throw Object.assign(new A(c),l)}throw new Error(c)}let h=N.of(p),g=this.loadQueryErrorMessage(o),y=new p.ctor(g),_={};for(let[E,C]of h.structIterator()){let A=C.getMergedTraits().xmlName??E,O=l[A]??o[A];_[E]=this.deserializer.readSchema(C,O)}throw Object.assign(y,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,..._}),y}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Ep,XE=b(()=>{Sp();Ep=class extends Wo{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var QE,Go,vp,wp,Cp=b(()=>{QE=v(F());bp();op();Go=(e,t)=>xa(e,t).then(r=>{if(r.length){let n=new mr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,QE.getValueFromTextNode)(a)}return{}}),vp=async(e,t)=>{let r=await Go(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},wp=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var sv=w((sY,ov)=>{"use strict";var ja=Object.defineProperty,_2=Object.getOwnPropertyDescriptor,b2=Object.getOwnPropertyNames,S2=Object.prototype.hasOwnProperty,Ba=(e,t)=>ja(e,"name",{value:t,configurable:!0}),E2=(e,t)=>{for(var r in t)ja(e,r,{get:t[r],enumerable:!0})},v2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b2(t))!S2.call(e,o)&&o!==r&&ja(e,o,{get:()=>t[o],enumerable:!(n=_2(t,o))||n.enumerable});return e},w2=e=>v2(ja({},"__esModule",{value:!0}),e),ZE={};E2(ZE,{XmlNode:()=>C2,XmlText:()=>rv});ov.exports=w2(ZE);function ev(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Ba(ev,"escapeAttribute");function tv(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Ba(tv,"escapeElement");var rv=class{constructor(e){this.value=e}static{Ba(this,"XmlText")}toString(){return tv(""+this.value)}},C2=class Ua{constructor(t,r=[]){this.name=t,this.children=r}static{Ba(this,"XmlNode")}attributes={};static of(t,r,n){let o=new Ua(t);return r!==void 0&&o.addChildNode(new rv(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=Ua.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new Ua(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${ev(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var Ge,Ap,Ha,Jo,Tp=b(()=>{Ge=v(sv());me();it();Ap=v(F()),Ha=v(Pe());ur();Jo=class extends Ae{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=N.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Ha.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Ge.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,u]of t.structIterator()){let p=r[l];if(p!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){i.addAttribute(u.getMergedTraits().xmlName??l,this.writeSimple(u,p));continue}if(u.isListSchema())this.writeList(u,p,i,c);else if(u.isMapSchema())this.writeMap(u,p,i,c);else if(u.isStructSchema())i.addChildNode(this.writeStruct(u,p,c));else{let h=Ge.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,p,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[u,p]=this.getXmlnsAttribute(t,o),h=(g,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],g,p);else if(i.isMapSchema())this.writeMap(i,y,g,p);else if(i.isStructSchema()){let _=this.writeStruct(i,y,p);g.addChildNode(_.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let _=Ge.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,_,p),g.addChildNode(_)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=Ge.XmlNode.of(s.xmlName??t.getMemberName());p&&g.addAttribute(u,p);for(let y of r)(c||y!=null)&&h(g,y);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",u=t.getValueSchema(),p=u.getMergedTraits(),h=p.xmlName??"value",g=!!p.sparse,y=!!i.xmlFlattened,[_,E]=this.getXmlnsAttribute(t,o),C=(A,O,P)=>{let R=Ge.XmlNode.of(l,O),[M,Ce]=this.getXmlnsAttribute(a,E);Ce&&R.addAttribute(M,Ce),A.addChildNode(R);let te=Ge.XmlNode.of(h);u.isListSchema()?this.writeList(u,P,te,E):u.isMapSchema()?this.writeMap(u,P,te,E,!0):u.isStructSchema()?te=this.writeStruct(u,P,E):this.writeSimpleInto(u,P,te,E),A.addChildNode(te)};if(y){for(let[A,O]of Object.entries(r))if(g||O!=null){let P=Ge.XmlNode.of(i.xmlName??t.getMemberName());C(P,A,O),n.addChildNode(P)}}else{let A;s||(A=Ge.XmlNode.of(i.xmlName??t.getMemberName()),E&&A.addAttribute(_,E),n.addChildNode(A));for(let[O,P]of Object.entries(r))if(g||P!=null){let R=Ge.XmlNode.of("entry");C(R,O,P),(s?n:A).addChildNode(R)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=N.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Ha.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===x.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case x.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:o=(0,Ap.dateToUtcString)(r);break;case x.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Ap.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Se?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=St():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=N.of(t),a=new Ge.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Ko,Pp=b(()=>{ur();La();Tp();Ko=class extends Ae{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Jo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Zr(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var iv,xp,av=b(()=>{Lt();me();iv=v(Fo());Cp();Pp();xp=class extends Fr{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ko(r),this.serializer=new qr(this.codec.createSerializer(),r),this.deserializer=new Hr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=N.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=l.getMergedTraits();return!u&&!p&&!h&&!g&&y===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,iv.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=wp(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=xe.for(a),u;try{u=l.getSchema(i)}catch{let E=xe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(E){let C=E.ctor;throw Object.assign(new C(c),o)}throw new Error(c)}let p=N.of(u),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,r,n,o);let y={};for(let[_,E]of p.structIterator()){let C=E.getMergedTraits().xmlName??_,A=o.Error?.[C]??o[C];y[_]=this.codec.createDeserializer().readSchema(E,A)}throw Object.assign(g,{$metadata:s,$response:n,$fault:p.getMergedTraits().error,message:h,...y}),g}getDefaultContentType(){return"application/xml"}}});var cv=b(()=>{QS();vE();wE();Oa();AE();Ra();ip();ap();PE();jo();XE();Sp();av();Pp();La();Tp();Cp()});var Et={};rt(Et,{AWSSDKSigV4Signer:()=>Du,AwsEc2QueryProtocol:()=>Ep,AwsJson1_0Protocol:()=>cp,AwsJson1_1Protocol:()=>lp,AwsJsonRpcProtocol:()=>Yr,AwsQueryProtocol:()=>Wo,AwsRestJsonProtocol:()=>dp,AwsRestXmlProtocol:()=>xp,AwsSdkSigV4ASigner:()=>Lo,AwsSdkSigV4Signer:()=>Me,JsonCodec:()=>Kr,JsonShapeDeserializer:()=>Bo,JsonShapeSerializer:()=>Ho,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xn,NODE_SIGV4A_CONFIG_OPTIONS:()=>yS,XmlCodec:()=>Ko,XmlShapeDeserializer:()=>Zr,XmlShapeSerializer:()=>Jo,_toBool:()=>jM,_toNum:()=>BM,_toStr:()=>UM,awsExpectUnion:()=>kL,emitWarningIfUnsupportedVersion:()=>An,getBearerTokenEnvKey:()=>ha,loadRestJsonErrorCode:()=>Jr,loadRestXmlErrorCode:()=>wp,parseJsonBody:()=>Rn,parseJsonErrorBody:()=>sp,parseXmlBody:()=>Go,parseXmlErrorBody:()=>vp,resolveAWSSDKSigV4Config:()=>JS,resolveAwsSdkSigV4AConfig:()=>gS,resolveAwsSdkSigV4Config:()=>Wr,setCredentialFeature:()=>cr,setFeature:()=>Kb,setTokenFeature:()=>Xb,state:()=>ma,validateSigningProperties:()=>Pn});var he=b(()=>{at();Ku();cv()});var On=w((BY,Sv)=>{"use strict";var za=Object.defineProperty,A2=Object.getOwnPropertyDescriptor,T2=Object.getOwnPropertyNames,P2=Object.prototype.hasOwnProperty,jt=(e,t)=>za(e,"name",{value:t,configurable:!0}),x2=(e,t)=>{for(var r in t)za(e,r,{get:t[r],enumerable:!0})},I2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T2(t))!P2.call(e,o)&&o!==r&&za(e,o,{get:()=>t[o],enumerable:!(n=A2(t,o))||n.enumerable});return e},R2=e=>I2(za({},"__esModule",{value:!0}),e),pv={};x2(pv,{DEFAULT_UA_APP_ID:()=>fv,getUserAgentMiddlewareOptions:()=>bv,getUserAgentPlugin:()=>F2,resolveUserAgentConfig:()=>hv,userAgentMiddleware:()=>_v});Sv.exports=R2(pv);var O2=(De(),V(vn)),fv=void 0;function mv(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}jt(mv,"isValidUserAgentAppId");function hv(e){let t=(0,O2.normalizeProvider)(e.userAgentAppId??fv),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:jt(async()=>{let n=await t();if(!mv(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}jt(hv,"resolveUserAgentConfig");var N2=Cn(),k2=ne(),vt=(he(),V(Et)),D2=/\d{12}\.ddb/;async function gv(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,vt.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,vt.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,vt.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,vt.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(D2)&&(0,vt.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,vt.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,vt.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,vt.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,vt.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,vt.setFeature)(e,i,a)}}jt(gv,"checkFeatures");var lv="user-agent",Ip="x-amz-user-agent",dv=" ",Rp="/",$2=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,M2=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,uv="-",L2=1024;function yv(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=L2){t.length?t+=","+n:t+=n;continue}break}return t}jt(yv,"encodeFeatures");var _v=jt(e=>(t,r)=>async n=>{let{request:o}=n;if(!k2.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(qa)||[],a=(await e.defaultUserAgentProvider()).map(qa);await gv(r,e,n);let c=r;a.push(`m/${yv(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(qa)||[],u=await e.userAgentAppId();u&&a.push(qa([`app/${u}`]));let p=(0,N2.getUserAgentPrefix)(),h=(p?[p]:[]).concat([...a,...i,...l]).join(dv),g=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(dv);return e.runtime!=="browser"?(g&&(s[Ip]=s[Ip]?`${s[lv]} ${g}`:g),s[lv]=h):s[Ip]=h,t({...n,request:o})},"userAgentMiddleware"),qa=jt(e=>{let t=e[0].split(Rp).map(i=>i.replace($2,uv)).join(Rp),r=e[1]?.replace(M2,uv),n=t.indexOf(Rp),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),bv={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},F2=jt(e=>({applyToStack:jt(t=>{t.add(_v(e),bv)},"applyToStack")}),"getUserAgentPlugin")});var Av=w((HY,Cv)=>{var Va=Object.defineProperty,U2=Object.getOwnPropertyDescriptor,j2=Object.getOwnPropertyNames,B2=Object.prototype.hasOwnProperty,Ev=(e,t)=>Va(e,"name",{value:t,configurable:!0}),H2=(e,t)=>{for(var r in t)Va(e,r,{get:t[r],enumerable:!0})},q2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j2(t))!B2.call(e,o)&&o!==r&&Va(e,o,{get:()=>t[o],enumerable:!(n=U2(t,o))||n.enumerable});return e},z2=e=>q2(Va({},"__esModule",{value:!0}),e),vv={};H2(vv,{SelectorType:()=>wv,booleanSelector:()=>V2,numberSelector:()=>W2});Cv.exports=z2(vv);var V2=Ev((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),W2=Ev((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),wv=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(wv||{})});var wt=w((qY,Mv)=>{var Ga=Object.defineProperty,G2=Object.getOwnPropertyDescriptor,J2=Object.getOwnPropertyNames,K2=Object.prototype.hasOwnProperty,ct=(e,t)=>Ga(e,"name",{value:t,configurable:!0}),Y2=(e,t)=>{for(var r in t)Ga(e,r,{get:t[r],enumerable:!0})},X2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J2(t))!K2.call(e,o)&&o!==r&&Ga(e,o,{get:()=>t[o],enumerable:!(n=G2(t,o))||n.enumerable});return e},Q2=e=>X2(Ga({},"__esModule",{value:!0}),e),xv={};Y2(xv,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Rv,CONFIG_USE_FIPS_ENDPOINT:()=>Nv,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Z2,DEFAULT_USE_FIPS_ENDPOINT:()=>tF,ENV_USE_DUALSTACK_ENDPOINT:()=>Iv,ENV_USE_FIPS_ENDPOINT:()=>Ov,NODE_REGION_CONFIG_FILE_OPTIONS:()=>aF,NODE_REGION_CONFIG_OPTIONS:()=>iF,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>eF,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>rF,REGION_ENV_NAME:()=>kv,REGION_INI_NAME:()=>Dv,getRegionInfo:()=>pF,resolveCustomEndpointsConfig:()=>nF,resolveEndpointsConfig:()=>sF,resolveRegionConfig:()=>cF});Mv.exports=Q2(xv);var hr=Av(),Iv="AWS_USE_DUALSTACK_ENDPOINT",Rv="use_dualstack_endpoint",Z2=!1,eF={environmentVariableSelector:e=>(0,hr.booleanSelector)(e,Iv,hr.SelectorType.ENV),configFileSelector:e=>(0,hr.booleanSelector)(e,Rv,hr.SelectorType.CONFIG),default:!1},Ov="AWS_USE_FIPS_ENDPOINT",Nv="use_fips_endpoint",tF=!1,rF={environmentVariableSelector:e=>(0,hr.booleanSelector)(e,Ov,hr.SelectorType.ENV),configFileSelector:e=>(0,hr.booleanSelector)(e,Nv,hr.SelectorType.CONFIG),default:!1},Wa=ot(),nF=ct(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Wa.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Wa.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),oF=ct(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),sF=ct(e=>{let t=(0,Wa.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Wa.normalizeProvider)(typeof r=="string"?o(r):r):()=>oF({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),kv="AWS_REGION",Dv="region",iF={environmentVariableSelector:e=>e[kv],configFileSelector:e=>e[Dv],default:()=>{throw new Error("Region is missing")}},aF={preferredFile:"credentials"},$v=ct(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Tv=ct(e=>$v(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),cF=ct(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Tv(t);let n=await t();return Tv(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return $v(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),Pv=ct((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),lF=ct((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),dF=ct((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),uF=ct((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),pF=ct((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=dF(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=Pv(o[a]?.variants,c),u=Pv(s[i]?.variants,c),p=lF(a,{regionHostname:l,partitionHostname:u});if(p===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=uF(p,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:p,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Yo=w((zY,Bv)=>{var Ja=Object.defineProperty,fF=Object.getOwnPropertyDescriptor,mF=Object.getOwnPropertyNames,hF=Object.prototype.hasOwnProperty,Fv=(e,t)=>Ja(e,"name",{value:t,configurable:!0}),gF=(e,t)=>{for(var r in t)Ja(e,r,{get:t[r],enumerable:!0})},yF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mF(t))!hF.call(e,o)&&o!==r&&Ja(e,o,{get:()=>t[o],enumerable:!(n=fF(t,o))||n.enumerable});return e},_F=e=>yF(Ja({},"__esModule",{value:!0}),e),Uv={};gF(Uv,{contentLengthMiddleware:()=>Op,contentLengthMiddlewareOptions:()=>jv,getContentLengthPlugin:()=>SF});Bv.exports=_F(Uv);var bF=ne(),Lv="content-length";function Op(e){return t=>async r=>{let n=r.request;if(bF.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Lv)===-1)try{let i=e(o);n.headers={...n.headers,[Lv]:String(i)}}catch{}}return t({...r,request:n})}}Fv(Op,"contentLengthMiddleware");var jv={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},SF=Fv(e=>({applyToStack:t=>{t.add(Op(e.bodyLengthChecker),jv)}}),"getContentLengthPlugin")});var Nn=w(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getHomeDir=void 0;var EF=require("os"),vF=require("path"),Np={},wF=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",CF=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${vF.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=wF();return Np[o]||(Np[o]=(0,EF.homedir)()),Np[o]};Ka.getHomeDir=CF});var kp=w(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getSSOTokenFilepath=void 0;var AF=require("crypto"),TF=require("path"),PF=Nn(),xF=e=>{let r=(0,AF.createHash)("sha1").update(e).digest("hex");return(0,TF.join)((0,PF.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ya.getSSOTokenFilepath=xF});var Hv=w(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.getSSOTokenFromFile=void 0;var IF=require("fs"),RF=kp(),{readFile:OF}=IF.promises,NF=async e=>{let t=(0,RF.getSSOTokenFilepath)(e),r=await OF(t,"utf8");return JSON.parse(r)};Xa.getSSOTokenFromFile=NF});var $p=w(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.slurpFile=void 0;var kF=require("fs"),{readFile:DF}=kF.promises,Dp={},$F=(e,t)=>((!Dp[e]||t?.ignoreCache)&&(Dp[e]=DF(e,"utf8")),Dp[e]);Qa.slurpFile=$F});var gr=w((KY,Qo)=>{var tc=Object.defineProperty,MF=Object.getOwnPropertyDescriptor,LF=Object.getOwnPropertyNames,FF=Object.prototype.hasOwnProperty,Je=(e,t)=>tc(e,"name",{value:t,configurable:!0}),UF=(e,t)=>{for(var r in t)tc(e,r,{get:t[r],enumerable:!0})},Mp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LF(t))!FF.call(e,o)&&o!==r&&tc(e,o,{get:()=>t[o],enumerable:!(n=MF(t,o))||n.enumerable});return e},Fp=(e,t,r)=>(Mp(e,t,"default"),r&&Mp(r,t,"default")),jF=e=>Mp(tc({},"__esModule",{value:!0}),e),Xo={};UF(Xo,{CONFIG_PREFIX_SEPARATOR:()=>en,DEFAULT_PROFILE:()=>Wv,ENV_PROFILE:()=>Vv,getProfileName:()=>BF,loadSharedConfigFiles:()=>Jv,loadSsoSessionData:()=>eU,parseKnownFiles:()=>rU});Qo.exports=jF(Xo);Fp(Xo,Nn(),Qo.exports);var Vv="AWS_PROFILE",Wv="default",BF=Je(e=>e.profile||process.env[Vv]||Wv,"getProfileName");Fp(Xo,kp(),Qo.exports);Fp(Xo,Hv(),Qo.exports);var Za=ft(),HF=Je(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(en);return r===-1?!1:Object.values(Za.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(en),s=r.substring(0,o)===Za.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),ec=require("path"),qF=Nn(),zF="AWS_CONFIG_FILE",Gv=Je(()=>process.env[zF]||(0,ec.join)((0,qF.getHomeDir)(),".aws","config"),"getConfigFilepath"),VF=Nn(),WF="AWS_SHARED_CREDENTIALS_FILE",GF=Je(()=>process.env[WF]||(0,ec.join)((0,VF.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),JF=Nn(),KF=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,YF=["__proto__","profile __proto__"],Lp=Je(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=KF.exec(a);if(c){let[,l,,u]=c;Object.values(Za.IniSectionType).includes(l)&&(r=[l,u].join(en))}else r=a;if(YF.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(en):c;t[r][u]=l}}}}return t},"parseIni"),qv=$p(),zv=Je(()=>({}),"swallowError"),en=".",Jv=Je(async(e={})=>{let{filepath:t=GF(),configFilepath:r=Gv()}=e,n=(0,JF.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,ec.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,ec.join)(n,r.slice(2)));let a=await Promise.all([(0,qv.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Lp).then(HF).catch(zv),(0,qv.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(Lp).catch(zv)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),XF=Je(e=>Object.entries(e).filter(([t])=>t.startsWith(Za.IniSectionType.SSO_SESSION+en)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(en)+1)]:n}),{}),"getSsoSessionData"),QF=$p(),ZF=Je(()=>({}),"swallowError"),eU=Je(async(e={})=>(0,QF.slurpFile)(e.configFilepath??Gv()).then(Lp).then(XF).catch(ZF),"loadSsoSessionData"),tU=Je((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),rU=Je(async e=>{let t=await Jv(e);return tU(t.configFile,t.credentialsFile)},"parseKnownFiles")});var yr=w((YY,Xv)=>{var rc=Object.defineProperty,nU=Object.getOwnPropertyDescriptor,oU=Object.getOwnPropertyNames,sU=Object.prototype.hasOwnProperty,kn=(e,t)=>rc(e,"name",{value:t,configurable:!0}),iU=(e,t)=>{for(var r in t)rc(e,r,{get:t[r],enumerable:!0})},aU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oU(t))!sU.call(e,o)&&o!==r&&rc(e,o,{get:()=>t[o],enumerable:!(n=nU(t,o))||n.enumerable});return e},cU=e=>aU(rc({},"__esModule",{value:!0}),e),Yv={};iU(Yv,{loadConfig:()=>fU});Xv.exports=cU(Yv);var Zo=Re();function Up(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}kn(Up,"getSelectorName");var lU=kn((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Zo.CredentialsProviderError(r.message||`Not found in ENV: ${Up(e.toString())}`,{logger:t?.logger})}},"fromEnv"),Kv=gr(),dU=kn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Kv.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,Kv.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let u=e(c,t==="config"?o:s);if(u===void 0)throw new Error;return u}catch(l){throw new Zo.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Up(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),uU=kn(e=>typeof e=="function","isFunction"),pU=kn(e=>uU(e)?async()=>await e():(0,Zo.fromStatic)(e),"fromStatic"),fU=kn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Zo.memoize)((0,Zo.chain)(lU(e,i),dU(t,n),pU(r)))},"loadConfig")});var tw=w(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.getEndpointUrlConfig=void 0;var Qv=gr(),Zv="AWS_ENDPOINT_URL",ew="endpoint_url",mU=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[Zv,...r].join("_")];if(n)return n;let o=t[Zv];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Qv.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),ew].join(Qv.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[ew];if(n)return n},default:void 0});nc.getEndpointUrlConfig=mU});var jp=w(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.getEndpointFromConfig=void 0;var hU=yr(),gU=tw(),yU=async e=>(0,hU.loadConfig)((0,gU.getEndpointUrlConfig)(e??""))();oc.getEndpointFromConfig=yU});var _r=w((ZY,cw)=>{var ic=Object.defineProperty,_U=Object.getOwnPropertyDescriptor,bU=Object.getOwnPropertyNames,SU=Object.prototype.hasOwnProperty,Ke=(e,t)=>ic(e,"name",{value:t,configurable:!0}),EU=(e,t)=>{for(var r in t)ic(e,r,{get:t[r],enumerable:!0})},vU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bU(t))!SU.call(e,o)&&o!==r&&ic(e,o,{get:()=>t[o],enumerable:!(n=_U(t,o))||n.enumerable});return e},wU=e=>vU(ic({},"__esModule",{value:!0}),e),nw={};EU(nw,{endpointMiddleware:()=>iw,endpointMiddlewareOptions:()=>aw,getEndpointFromInstructions:()=>ow,getEndpointPlugin:()=>DU,resolveEndpointConfig:()=>MU,resolveEndpointRequiredConfig:()=>LU,resolveParams:()=>sw,toEndpointV1:()=>Bp});cw.exports=wU(nw);var CU=Ke(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),IU(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!xU(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),AU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,TU=/(\d+\.){3}\d+/,PU=/\.\./,xU=Ke(e=>AU.test(e)&&!TU.test(e)&&!PU.test(e),"isDnsCompatibleBucketName"),IU=Ke(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),RU=Ke((e,t,r)=>{let n=Ke(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),OU=jp(),rw=ir(),Bp=Ke(e=>typeof e=="object"?"url"in e?(0,rw.parseUrl)(e.url):e:(0,rw.parseUrl)(e),"toEndpointV1"),ow=Ke(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,OU.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Bp(i)),r.isCustomEndpoint=!0)}let o=await sw(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),sw=Ke(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await RU(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await CU(n),n},"resolveParams"),NU=(De(),V(vn)),sc=ot(),iw=Ke(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,NU.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await ow(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,sc.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),kU=tr(),aw={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:kU.serializerMiddlewareOption.name},DU=Ke((e,t)=>({applyToStack:r=>{r.addRelativeTo(iw({config:e,instructions:t}),aw)}}),"getEndpointPlugin"),$U=jp(),MU=Ke(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Bp(await(0,sc.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,sc.normalizeProvider)(n??!1),useFipsEndpoint:(0,sc.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,$U.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),LU=Ke(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var qp=w((eX,pw)=>{var ac=Object.defineProperty,FU=Object.getOwnPropertyDescriptor,UU=Object.getOwnPropertyNames,jU=Object.prototype.hasOwnProperty,tn=(e,t)=>ac(e,"name",{value:t,configurable:!0}),BU=(e,t)=>{for(var r in t)ac(e,r,{get:t[r],enumerable:!0})},HU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UU(t))!jU.call(e,o)&&o!==r&&ac(e,o,{get:()=>t[o],enumerable:!(n=FU(t,o))||n.enumerable});return e},qU=e=>HU(ac({},"__esModule",{value:!0}),e),lw={};BU(lw,{isBrowserNetworkError:()=>uw,isClockSkewCorrectedError:()=>dw,isClockSkewError:()=>XU,isRetryableByTrait:()=>YU,isServerError:()=>ZU,isThrottlingError:()=>QU,isTransientError:()=>Hp});pw.exports=qU(lw);var zU=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],VU=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WU=["TimeoutError","RequestTimeout","RequestTimeoutException"],GU=[500,502,503,504],JU=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],KU=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],YU=tn(e=>e.$retryable!==void 0,"isRetryableByTrait"),XU=tn(e=>zU.includes(e.name),"isClockSkewError"),dw=tn(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),uw=tn(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),QU=tn(e=>e.$metadata?.httpStatusCode===429||VU.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Hp=tn((e,t=0)=>dw(e)||WU.includes(e.name)||JU.includes(e?.code||"")||KU.includes(e?.code||"")||GU.includes(e.$metadata?.httpStatusCode||0)||uw(e)||e.cause!==void 0&&t<=10&&Hp(e.cause,t+1),"isTransientError"),ZU=tn(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Hp(e)}return!1},"isServerError")});var Dn=w((tX,vw)=>{var cc=Object.defineProperty,ej=Object.getOwnPropertyDescriptor,tj=Object.getOwnPropertyNames,rj=Object.prototype.hasOwnProperty,lt=(e,t)=>cc(e,"name",{value:t,configurable:!0}),nj=(e,t)=>{for(var r in t)cc(e,r,{get:t[r],enumerable:!0})},oj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tj(t))!rj.call(e,o)&&o!==r&&cc(e,o,{get:()=>t[o],enumerable:!(n=ej(t,o))||n.enumerable});return e},sj=e=>oj(cc({},"__esModule",{value:!0}),e),mw={};nj(mw,{AdaptiveRetryStrategy:()=>uj,ConfiguredRetryStrategy:()=>pj,DEFAULT_MAX_ATTEMPTS:()=>zp,DEFAULT_RETRY_DELAY_BASE:()=>es,DEFAULT_RETRY_MODE:()=>ij,DefaultRateLimiter:()=>gw,INITIAL_RETRY_TOKENS:()=>Vp,INVOCATION_ID_HEADER:()=>cj,MAXIMUM_RETRY_DELAY:()=>Wp,NO_RETRY_INCREMENT:()=>Ew,REQUEST_HEADER:()=>lj,RETRY_COST:()=>bw,RETRY_MODES:()=>hw,StandardRetryStrategy:()=>Gp,THROTTLING_RETRY_DELAY_BASE:()=>_w,TIMEOUT_RETRY_COST:()=>Sw});vw.exports=sj(mw);var hw=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(hw||{}),zp=3,ij="standard",aj=qp(),gw=class yw{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{lt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>yw.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,aj.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},es=100,Wp=20*1e3,_w=500,Vp=500,bw=5,Sw=10,Ew=1,cj="amz-sdk-invocation-id",lj="amz-sdk-request",dj=lt(()=>{let e=es;return{computeNextBackoffDelay:lt(n=>Math.floor(Math.min(Wp,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:lt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),fw=lt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:lt(()=>t,"getRetryCount"),getRetryDelay:lt(()=>Math.min(Wp,e),"getRetryDelay"),getRetryCost:lt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Gp=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Vp,this.retryBackoffStrategy=dj(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{lt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return fw({retryDelay:es,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?_w:es);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,fw({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Vp,this.capacity+(e.getRetryCost()??Ew))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${zp}`),zp}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Sw:bw}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},uj=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new gw,this.standardRetryStrategy=new Gp(e)}static{lt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},pj=class extends Gp{static{lt(this,"ConfiguredRetryStrategy")}constructor(e,t=es){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var ww=w(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.isStreamingPayload=void 0;var fj=require("stream"),mj=e=>e?.body instanceof fj.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;lc.isStreamingPayload=mj});var Bt=w((iX,Fw)=>{var dc=Object.defineProperty,hj=Object.getOwnPropertyDescriptor,gj=Object.getOwnPropertyNames,yj=Object.prototype.hasOwnProperty,de=(e,t)=>dc(e,"name",{value:t,configurable:!0}),_j=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},bj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gj(t))!yj.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=hj(t,o))||n.enumerable});return e},Sj=e=>bj(dc({},"__esModule",{value:!0}),e),Aw={};_j(Aw,{AdaptiveRetryStrategy:()=>wj,CONFIG_MAX_ATTEMPTS:()=>Kp,CONFIG_RETRY_MODE:()=>Nw,ENV_MAX_ATTEMPTS:()=>Jp,ENV_RETRY_MODE:()=>Ow,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Cj,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Tj,StandardRetryStrategy:()=>Rw,defaultDelayDecider:()=>Pw,defaultRetryDecider:()=>xw,getOmitRetryHeadersPlugin:()=>Pj,getRetryAfterHint:()=>Lw,getRetryPlugin:()=>kj,omitRetryHeadersMiddleware:()=>kw,omitRetryHeadersMiddlewareOptions:()=>Dw,resolveRetryConfig:()=>Aj,retryMiddleware:()=>$w,retryMiddlewareOptions:()=>Mw});Fw.exports=Sj(Aw);var $n=ne(),Tw=(du(),V(q_)),ie=Dn(),Ej=de((e,t)=>{let r=e,n=t?.noRetryIncrement??ie.NO_RETRY_INCREMENT,o=t?.retryCost??ie.RETRY_COST,s=t?.timeoutRetryCost??ie.TIMEOUT_RETRY_COST,i=e,a=de(p=>p.name==="TimeoutError"?s:o,"getCapacityAmount"),c=de(p=>a(p)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:de(p=>{if(!c(p))throw new Error("No retry token available");let h=a(p);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:de(p=>{i+=p??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Pw=de((e,t)=>Math.floor(Math.min(ie.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),br=qp(),xw=de(e=>e?(0,br.isRetryableByTrait)(e)||(0,br.isClockSkewError)(e)||(0,br.isThrottlingError)(e)||(0,br.isTransientError)(e):!1,"defaultRetryDecider"),Iw=de(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Rw=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ie.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??xw,this.delayDecider=t?.delayDecider??Pw,this.retryQuota=t?.retryQuota??Ej(ie.INITIAL_RETRY_TOKENS)}static{de(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ie.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for($n.HttpRequest.isInstance(a)&&(a.headers[ie.INVOCATION_ID_HEADER]=(0,Tw.v4)());;)try{$n.HttpRequest.isInstance(a)&&(a.headers[ie.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=Iw(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let u=this.delayDecider((0,br.isThrottlingError)(l)?ie.THROTTLING_RETRY_DELAY_BASE:ie.DEFAULT_RETRY_DELAY_BASE,o),p=vj(l.$response),h=Math.max(p||0,u);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},vj=de(e=>{if(!$n.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),wj=class extends Rw{static{de(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ie.DefaultRateLimiter,this.mode=ie.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},Cw=ot(),Jp="AWS_MAX_ATTEMPTS",Kp="max_attempts",Cj={environmentVariableSelector:e=>{let t=e[Jp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Jp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Kp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Kp} mast be a number, got "${t}"`);return r},default:ie.DEFAULT_MAX_ATTEMPTS},Aj=de(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,Cw.normalizeProvider)(n??ie.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,Cw.normalizeProvider)(r)()===ie.RETRY_MODES.ADAPTIVE?new ie.AdaptiveRetryStrategy(o):new ie.StandardRetryStrategy(o))})},"resolveRetryConfig"),Ow="AWS_RETRY_MODE",Nw="retry_mode",Tj={environmentVariableSelector:e=>e[Ow],configFileSelector:e=>e[Nw],default:ie.DEFAULT_RETRY_MODE},kw=de(()=>e=>async t=>{let{request:r}=t;return $n.HttpRequest.isInstance(r)&&(delete r.headers[ie.INVOCATION_ID_HEADER],delete r.headers[ie.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Dw={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Pj=de(e=>({applyToStack:t=>{t.addRelativeTo(kw(),Dw)}}),"getOmitRetryHeadersPlugin"),xj=F(),Ij=ww(),$w=de(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Rj(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,p=$n.HttpRequest.isInstance(u);for(p&&(u.headers[ie.INVOCATION_ID_HEADER]=(0,Tw.v4)());;)try{p&&(u.headers[ie.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=Oj(h);if(a=Iw(h),p&&(0,Ij.isStreamingPayload)(u))throw(r.logger instanceof xj.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let y=i.getRetryDelay();l+=y,await new Promise(_=>setTimeout(_,y))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Rj=de(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),Oj=de(e=>{let t={error:e,errorType:Nj(e)},r=Lw(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Nj=de(e=>(0,br.isThrottlingError)(e)?"THROTTLING":(0,br.isTransientError)(e)?"TRANSIENT":(0,br.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Mw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},kj=de(e=>({applyToStack:t=>{t.add($w(e),Mw)}}),"getRetryPlugin"),Lw=de(e=>{if(!$n.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Xp=w(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.resolveHttpAuthSchemeConfig=Sr.defaultAmplifyHttpAuthSchemeProvider=Sr.defaultAmplifyHttpAuthSchemeParametersProvider=void 0;var Dj=(he(),V(Et)),Yp=ot(),$j=async(e,t,r)=>({operation:(0,Yp.getSmithyContext)(t).operation,region:await(0,Yp.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Sr.defaultAmplifyHttpAuthSchemeParametersProvider=$j;function Mj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"amplify",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Lj=e=>{let t=[];switch(e.operation){default:t.push(Mj(e))}return t};Sr.defaultAmplifyHttpAuthSchemeProvider=Lj;var Fj=e=>{let t=(0,Dj.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Yp.normalizeProvider)(e.authSchemePreference??[])})};Sr.resolveHttpAuthSchemeConfig=Fj});var Uw=w((dX,Uj)=>{Uj.exports={name:"@aws-sdk/client-amplify",description:"AWS SDK for JavaScript Amplify Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-amplify","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo amplify"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-amplify",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-amplify"}}});var Qp=w((uX,Gw)=>{"use strict";var uc=Object.defineProperty,jj=Object.getOwnPropertyDescriptor,Bj=Object.getOwnPropertyNames,Hj=Object.prototype.hasOwnProperty,qj=(e,t)=>uc(e,"name",{value:t,configurable:!0}),zj=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},Vj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bj(t))!Hj.call(e,o)&&o!==r&&uc(e,o,{get:()=>t[o],enumerable:!(n=jj(t,o))||n.enumerable});return e},Wj=e=>Vj(uc({},"__esModule",{value:!0}),e),jw={};zj(jw,{ENV_ACCOUNT_ID:()=>Ww,ENV_CREDENTIAL_SCOPE:()=>Vw,ENV_EXPIRATION:()=>zw,ENV_KEY:()=>Bw,ENV_SECRET:()=>Hw,ENV_SESSION:()=>qw,fromEnv:()=>Kj});Gw.exports=Wj(jw);var Gj=(at(),V(lr)),Jj=Re(),Bw="AWS_ACCESS_KEY_ID",Hw="AWS_SECRET_ACCESS_KEY",qw="AWS_SESSION_TOKEN",zw="AWS_CREDENTIAL_EXPIRATION",Vw="AWS_CREDENTIAL_SCOPE",Ww="AWS_ACCOUNT_ID",Kj=qj(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Bw],r=process.env[Hw],n=process.env[qw],o=process.env[zw],s=process.env[Vw],i=process.env[Ww];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,Gj.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Jj.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var ts=w((pX,a0)=>{var mc=Object.defineProperty,Yj=Object.getOwnPropertyDescriptor,Xj=Object.getOwnPropertyNames,Qj=Object.prototype.hasOwnProperty,ue=(e,t)=>mc(e,"name",{value:t,configurable:!0}),Zj=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},eB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xj(t))!Qj.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=Yj(t,o))||n.enumerable});return e},tB=e=>eB(mc({},"__esModule",{value:!0}),e),Xw={};Zj(Xw,{DEFAULT_MAX_RETRIES:()=>t0,DEFAULT_TIMEOUT:()=>e0,ENV_CMDS_AUTH_TOKEN:()=>tf,ENV_CMDS_FULL_URI:()=>pc,ENV_CMDS_RELATIVE_URI:()=>fc,Endpoint:()=>n0,fromContainerMetadata:()=>sB,fromInstanceMetadata:()=>TB,getInstanceMetadataEndpoint:()=>s0,httpRequest:()=>Mn,providerConfigFromInit:()=>rf});a0.exports=tB(Xw);var rB=require("url"),Ct=Re(),nB=require("buffer"),oB=require("http");function Mn(e){return new Promise((t,r)=>{let n=(0,oB.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Ct.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Ct.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Ct.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(nB.Buffer.concat(i)),n.destroy()})}),n.end()})}ue(Mn,"httpRequest");var Qw=ue(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Zw=ue(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),e0=1e3,t0=0,rf=ue(({maxRetries:e=t0,timeout:t=e0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),ef=ue((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),pc="AWS_CONTAINER_CREDENTIALS_FULL_URI",fc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",tf="AWS_CONTAINER_AUTHORIZATION_TOKEN",sB=ue((e={})=>{let{timeout:t,maxRetries:r}=rf(e);return()=>ef(async()=>{let n=await dB({logger:e.logger}),o=JSON.parse(await iB(t,n));if(!Qw(o))throw new Ct.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Zw(o)},r)},"fromContainerMetadata"),iB=ue(async(e,t)=>(process.env[tf]&&(t.headers={...t.headers,Authorization:process.env[tf]}),(await Mn({...t,timeout:e})).toString()),"requestFromEcsImds"),aB="169.254.170.2",cB={localhost:!0,"127.0.0.1":!0},lB={"http:":!0,"https:":!0},dB=ue(async({logger:e})=>{if(process.env[fc])return{hostname:aB,path:process.env[fc]};if(process.env[pc]){let t=(0,rB.parse)(process.env[pc]);if(!t.hostname||!(t.hostname in cB))throw new Ct.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in lB))throw new Ct.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Ct.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${fc} or ${pc} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),uB=class r0 extends Ct.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,r0.prototype)}static{ue(this,"InstanceMetadataV1FallbackError")}},nf=yr(),pB=ir(),n0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(n0||{}),fB="AWS_EC2_METADATA_SERVICE_ENDPOINT",mB="ec2_metadata_service_endpoint",hB={environmentVariableSelector:e=>e[fB],configFileSelector:e=>e[mB],default:void 0},o0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(o0||{}),gB="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",yB="ec2_metadata_service_endpoint_mode",_B={environmentVariableSelector:e=>e[gB],configFileSelector:e=>e[yB],default:"IPv4"},s0=ue(async()=>(0,pB.parseUrl)(await bB()||await SB()),"getInstanceMetadataEndpoint"),bB=ue(async()=>(0,nf.loadConfig)(hB)(),"getFromEndpointConfig"),SB=ue(async()=>{let e=await(0,nf.loadConfig)(_B)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(o0)}`)}},"getFromEndpointModeConfig"),EB=300,vB=300,wB="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Jw=ue((e,t)=>{let r=EB+Math.floor(Math.random()*vB),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+wB);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),CB=ue((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Jw(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Jw(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),i0="/latest/meta-data/iam/security-credentials/",AB="/latest/api/token",Zp="AWS_EC2_METADATA_V1_DISABLED",Kw="ec2_metadata_v1_disabled",Yw="x-aws-ec2-metadata-token",TB=ue((e={})=>CB(PB(e),{logger:e.logger}),"fromInstanceMetadata"),PB=ue((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=rf(e),i=ue(async(a,c)=>{if(t||c.headers?.[Yw]==null){let p=!1,h=!1,g=await(0,nf.loadConfig)({environmentVariableSelector:y=>{let _=y[Zp];if(h=!!_&&_!=="false",_===void 0)throw new Ct.CredentialsProviderError(`${Zp} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:y=>{let _=y[Kw];return p=!!_&&_!=="false",p},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),p&&y.push(`config file profile (${Kw})`),h&&y.push(`process environment variable (${Zp})`),new uB(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let u=(await ef(async()=>{let p;try{p=await IB(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return p},a)).trim();return ef(async()=>{let p;try{p=await RB(u,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return p},a)},"getCredentials");return async()=>{let a=await s0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await xB({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Yw]:c},timeout:o})}}},"getInstanceMetadataProvider"),xB=ue(async e=>Mn({...e,path:AB,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),IB=ue(async e=>(await Mn({...e,path:i0})).toString(),"getProfile"),RB=ue(async(e,t,r)=>{let n=JSON.parse((await Mn({...t,path:i0+e})).toString());if(!Qw(n))throw new Ct.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Zw(n)},"getCredentialsFromProfile")});var c0=w(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.checkUrl=void 0;var OB=Re(),NB="169.254.170.2",kB="169.254.170.23",DB="[fd00:ec2::23]",$B=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===NB||e.hostname===kB||e.hostname===DB)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new OB.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};hc.checkUrl=$B});var l0=w(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.createGetRequest=UB;gc.getCredentials=jB;var of=Re(),MB=ne(),LB=F(),FB=Gi();function UB(e){return new MB.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function jB(e,t){let n=await(0,FB.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new of.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,LB.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new of.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new of.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var d0=w(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.retryWrapper=void 0;var BB=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};yc.retryWrapper=BB});var f0=w(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromHttp=void 0;var HB=(pn(),V(un)),qB=(at(),V(lr)),zB=Dr(),u0=Re(),VB=HB.__importDefault(require("fs/promises")),WB=c0(),p0=l0(),GB=d0(),JB="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",KB="http://169.254.170.2",YB="AWS_CONTAINER_CREDENTIALS_FULL_URI",XB="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",QB="AWS_CONTAINER_AUTHORIZATION_TOKEN",ZB=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[JB],n=e.awsContainerCredentialsFullUri??process.env[YB],o=e.awsContainerAuthorizationToken??process.env[QB],s=e.awsContainerAuthorizationTokenFile??process.env[XB],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${KB}${r}`;else throw new u0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,WB.checkUrl)(a,e.logger);let c=new zB.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,GB.retryWrapper)(async()=>{let l=(0,p0.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await VB.default.readFile(s)).toString());try{let u=await c.handle(l);return(0,p0.getCredentials)(u.response).then(p=>(0,qB.setCredentialFeature)(p,"CREDENTIALS_HTTP","z"))}catch(u){throw new u0.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};_c.fromHttp=ZB});var sf=w(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.fromHttp=void 0;var e4=f0();Object.defineProperty(bc,"fromHttp",{enumerable:!0,get:function(){return e4.fromHttp}})});var cf=w(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.resolveHttpAuthSchemeConfig=Er.defaultSSOHttpAuthSchemeProvider=Er.defaultSSOHttpAuthSchemeParametersProvider=void 0;var t4=(he(),V(Et)),af=ot(),r4=async(e,t,r)=>({operation:(0,af.getSmithyContext)(t).operation,region:await(0,af.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Er.defaultSSOHttpAuthSchemeParametersProvider=r4;function n4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Sc(e){return{schemeId:"smithy.api#noAuth"}}var o4=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Sc(e));break}case"ListAccountRoles":{t.push(Sc(e));break}case"ListAccounts":{t.push(Sc(e));break}case"Logout":{t.push(Sc(e));break}default:t.push(n4(e))}return t};Er.defaultSSOHttpAuthSchemeProvider=o4;var s4=e=>{let t=(0,t4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,af.normalizeProvider)(e.authSchemePreference??[])})};Er.resolveHttpAuthSchemeConfig=s4});var m0=w((bX,i4)=>{i4.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var rs=w((SX,E0)=>{"use strict";var vc=Object.defineProperty,a4=Object.getOwnPropertyDescriptor,c4=Object.getOwnPropertyNames,l4=Object.prototype.hasOwnProperty,Ec=(e,t)=>vc(e,"name",{value:t,configurable:!0}),d4=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},u4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c4(t))!l4.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=a4(t,o))||n.enumerable});return e},p4=e=>u4(vc({},"__esModule",{value:!0}),e),g0={};d4(g0,{NODE_APP_ID_CONFIG_OPTIONS:()=>y4,UA_APP_ID_ENV_NAME:()=>b0,UA_APP_ID_INI_NAME:()=>S0,createDefaultUserAgentProvider:()=>_0,crtAvailability:()=>y0,defaultUserAgent:()=>m4});E0.exports=p4(g0);var h0=require("os"),lf=require("process"),y0={isCrtAvailable:!1},f4=Ec(()=>y0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),_0=Ec(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,h0.platform)()}`,(0,h0.release)()],["lang/js"],["md/nodejs",`${lf.versions.node}`]],o=f4();o&&n.push(o),e&&n.push([`api/${e}`,t]),lf.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${lf.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),m4=_0,h4=On(),b0="AWS_SDK_UA_APP_ID",S0="sdk_ua_app_id",g4="sdk-ua-app-id",y4={environmentVariableSelector:Ec(e=>e[b0],"environmentVariableSelector"),configFileSelector:Ec(e=>e[S0]??e[g4],"configFileSelector"),default:h4.DEFAULT_UA_APP_ID}});var ns=w((EX,A0)=>{var wc=Object.defineProperty,_4=Object.getOwnPropertyDescriptor,b4=Object.getOwnPropertyNames,S4=Object.prototype.hasOwnProperty,w0=(e,t)=>wc(e,"name",{value:t,configurable:!0}),E4=(e,t)=>{for(var r in t)wc(e,r,{get:t[r],enumerable:!0})},v4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b4(t))!S4.call(e,o)&&o!==r&&wc(e,o,{get:()=>t[o],enumerable:!(n=_4(t,o))||n.enumerable});return e},w4=e=>v4(wc({},"__esModule",{value:!0}),e),C0={};E4(C0,{Hash:()=>T4});A0.exports=w4(C0);var df=hn(),C4=_e(),A4=require("buffer"),v0=require("crypto"),T4=class{static{w0(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,C4.toUint8Array)(uf(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,v0.createHmac)(this.algorithmIdentifier,uf(this.secret)):(0,v0.createHash)(this.algorithmIdentifier)}};function uf(e,t){return A4.Buffer.isBuffer(e)?e:typeof e=="string"?(0,df.fromString)(e,t):ArrayBuffer.isView(e)?(0,df.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,df.fromArrayBuffer)(e)}w0(uf,"castSourceData")});var os=w((wX,x0)=>{var Cc=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,x4=Object.getOwnPropertyNames,I4=Object.prototype.hasOwnProperty,R4=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),O4=(e,t)=>{for(var r in t)Cc(e,r,{get:t[r],enumerable:!0})},N4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x4(t))!I4.call(e,o)&&o!==r&&Cc(e,o,{get:()=>t[o],enumerable:!(n=P4(t,o))||n.enumerable});return e},k4=e=>N4(Cc({},"__esModule",{value:!0}),e),P0={};O4(P0,{calculateBodyLength:()=>D4});x0.exports=k4(P0);var T0=require("fs"),D4=R4(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,T0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,T0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var q0=w(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.ruleSet=void 0;var U0="required",Xe="fn",Qe="argv",Un="ref",I0=!0,R0="isSet",ss="booleanEquals",Ln="error",Fn="endpoint",Ht="tree",pf="PartitionResult",ff="getAttr",O0={[U0]:!1,type:"String"},N0={[U0]:!0,default:!1,type:"Boolean"},k0={[Un]:"Endpoint"},j0={[Xe]:ss,[Qe]:[{[Un]:"UseFIPS"},!0]},B0={[Xe]:ss,[Qe]:[{[Un]:"UseDualStack"},!0]},Ye={},D0={[Xe]:ff,[Qe]:[{[Un]:pf},"supportsFIPS"]},H0={[Un]:pf},$0={[Xe]:ss,[Qe]:[!0,{[Xe]:ff,[Qe]:[H0,"supportsDualStack"]}]},M0=[j0],L0=[B0],F0=[{[Un]:"Region"}],$4={version:"1.0",parameters:{Region:O0,UseDualStack:N0,UseFIPS:N0,Endpoint:O0},rules:[{conditions:[{[Xe]:R0,[Qe]:[k0]}],rules:[{conditions:M0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ln},{conditions:L0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ln},{endpoint:{url:k0,properties:Ye,headers:Ye},type:Fn}],type:Ht},{conditions:[{[Xe]:R0,[Qe]:F0}],rules:[{conditions:[{[Xe]:"aws.partition",[Qe]:F0,assign:pf}],rules:[{conditions:[j0,B0],rules:[{conditions:[{[Xe]:ss,[Qe]:[I0,D0]},$0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Fn}],type:Ht},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ln}],type:Ht},{conditions:M0,rules:[{conditions:[{[Xe]:ss,[Qe]:[D0,I0]}],rules:[{conditions:[{[Xe]:"stringEquals",[Qe]:[{[Xe]:ff,[Qe]:[H0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ye,headers:Ye},type:Fn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Fn}],type:Ht},{error:"FIPS is enabled but this partition does not support FIPS",type:Ln}],type:Ht},{conditions:L0,rules:[{conditions:[$0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Fn}],type:Ht},{error:"DualStack is enabled but this partition does not support DualStack",type:Ln}],type:Ht},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Fn}],type:Ht}],type:Ht},{error:"Invalid Configuration: Missing Region",type:Ln}]};Ac.ruleSet=$4});var z0=w(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.defaultEndpointResolver=void 0;var M4=Cn(),mf=wn(),L4=q0(),F4=new mf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),U4=(e,t={})=>F4.get(e,()=>(0,mf.resolveEndpoint)(L4.ruleSet,{endpointParams:e,logger:t.logger}));Tc.defaultEndpointResolver=U4;mf.customEndpointFunctions.aws=M4.awsEndpointFunctions});var G0=w(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getRuntimeConfig=void 0;var j4=(he(),V(Et)),B4=(De(),V(vn)),H4=F(),q4=ir(),V0=Pe(),W0=_e(),z4=cf(),V4=z0(),W4=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??V0.fromBase64,base64Encoder:e?.base64Encoder??V0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??V4.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??z4.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new j4.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new B4.NoAuthSigner}],logger:e?.logger??new H4.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??q4.parseUrl,utf8Decoder:e?.utf8Decoder??W0.fromUtf8,utf8Encoder:e?.utf8Encoder??W0.toUtf8});Pc.getRuntimeConfig=W4});var as=w((PX,Z0)=>{var G4=Object.create,is=Object.defineProperty,J4=Object.getOwnPropertyDescriptor,K4=Object.getOwnPropertyNames,Y4=Object.getPrototypeOf,X4=Object.prototype.hasOwnProperty,hf=(e,t)=>is(e,"name",{value:t,configurable:!0}),Q4=(e,t)=>{for(var r in t)is(e,r,{get:t[r],enumerable:!0})},X0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K4(t))!X4.call(e,o)&&o!==r&&is(e,o,{get:()=>t[o],enumerable:!(n=J4(t,o))||n.enumerable});return e},Z4=(e,t,r)=>(r=e!=null?G4(Y4(e)):{},X0(t||!e||!e.__esModule?is(r,"default",{value:e,enumerable:!0}):r,e)),e3=e=>X0(is({},"__esModule",{value:!0}),e),Q0={};Q4(Q0,{resolveDefaultsModeConfig:()=>d3});Z0.exports=e3(Q0);var t3=wt(),J0=yr(),r3=Re(),n3="AWS_EXECUTION_ENV",K0="AWS_REGION",Y0="AWS_DEFAULT_REGION",o3="AWS_EC2_METADATA_DISABLED",s3=["in-region","cross-region","mobile","standard","legacy"],i3="/latest/meta-data/placement/region",a3="AWS_DEFAULTS_MODE",c3="defaults_mode",l3={environmentVariableSelector:e=>e[a3],configFileSelector:e=>e[c3],default:"legacy"},d3=hf(({region:e=(0,J0.loadConfig)(t3.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,J0.loadConfig)(l3)}={})=>(0,r3.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return u3(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${s3.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),u3=hf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await p3();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),p3=hf(async()=>{if(process.env[n3]&&(process.env[K0]||process.env[Y0]))return process.env[K0]??process.env[Y0];if(!process.env[o3])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Z4(ts())),r=await e();return(await t({...r,path:i3})).toString()}catch{}},"inferPhysicalRegion")});var oC=w(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.getRuntimeConfig=void 0;var f3=(pn(),V(un)),m3=f3.__importDefault(m0()),eC=(he(),V(Et)),tC=rs(),xc=wt(),h3=ns(),rC=Bt(),rn=yr(),nC=Dr(),g3=os(),y3=Dn(),_3=G0(),b3=F(),S3=as(),E3=F(),v3=e=>{(0,E3.emitWarningIfUnsupportedVersion)(process.version);let t=(0,S3.resolveDefaultsModeConfig)(e),r=()=>t().then(b3.loadConfigsForDefaultMode),n=(0,_3.getRuntimeConfig)(e);(0,eC.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,rn.loadConfig)(eC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??g3.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:m3.default.version}),maxAttempts:e?.maxAttempts??(0,rn.loadConfig)(rC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,rn.loadConfig)(xc.NODE_REGION_CONFIG_OPTIONS,{...xc.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:nC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,rn.loadConfig)({...rC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||y3.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??h3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??nC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,rn.loadConfig)(xc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,rn.loadConfig)(xc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,rn.loadConfig)(tC.NODE_APP_ID_CONFIG_OPTIONS,o)}};Ic.getRuntimeConfig=v3});var cs=w((IX,dC)=>{"use strict";var Rc=Object.defineProperty,w3=Object.getOwnPropertyDescriptor,C3=Object.getOwnPropertyNames,A3=Object.prototype.hasOwnProperty,At=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),T3=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},P3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of C3(t))!A3.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=w3(t,o))||n.enumerable});return e},x3=e=>P3(Rc({},"__esModule",{value:!0}),e),iC={};T3(iC,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>N3,NODE_REGION_CONFIG_OPTIONS:()=>O3,REGION_ENV_NAME:()=>aC,REGION_INI_NAME:()=>cC,getAwsRegionExtensionConfiguration:()=>I3,resolveAwsRegionExtensionConfiguration:()=>R3,resolveRegionConfig:()=>k3});dC.exports=x3(iC);var I3=At(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),R3=At(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),aC="AWS_REGION",cC="region",O3={environmentVariableSelector:At(e=>e[aC],"environmentVariableSelector"),configFileSelector:At(e=>e[cC],"configFileSelector"),default:At(()=>{throw new Error("Region is missing")},"default")},N3={preferredFile:"credentials"},lC=At(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),sC=At(e=>lC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),k3=At(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:At(async()=>{if(typeof t=="string")return sC(t);let n=await t();return sC(n)},"region"),useFipsEndpoint:At(async()=>{let n=typeof t=="string"?t:await t();return lC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var qC=w((RX,HC)=>{"use strict";var Oc=Object.defineProperty,D3=Object.getOwnPropertyDescriptor,$3=Object.getOwnPropertyNames,M3=Object.prototype.hasOwnProperty,z=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),L3=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},F3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $3(t))!M3.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=D3(t,o))||n.enumerable});return e},U3=e=>F3(Oc({},"__esModule",{value:!0}),e),yC={};L3(yC,{GetRoleCredentialsCommand:()=>UC,GetRoleCredentialsRequestFilterSensitiveLog:()=>PC,GetRoleCredentialsResponseFilterSensitiveLog:()=>IC,InvalidRequestException:()=>bC,ListAccountRolesCommand:()=>gf,ListAccountRolesRequestFilterSensitiveLog:()=>RC,ListAccountsCommand:()=>yf,ListAccountsRequestFilterSensitiveLog:()=>OC,LogoutCommand:()=>jC,LogoutRequestFilterSensitiveLog:()=>NC,ResourceNotFoundException:()=>EC,RoleCredentialsFilterSensitiveLog:()=>xC,SSO:()=>BC,SSOClient:()=>kc,SSOServiceException:()=>jn,TooManyRequestsException:()=>wC,UnauthorizedException:()=>AC,__Client:()=>I.Client,paginateListAccountRoles:()=>uH,paginateListAccounts:()=>pH});HC.exports=U3(yC);var uC=lo(),j3=uo(),B3=po(),pC=On(),H3=wt(),qt=(De(),V(vn)),q3=Yo(),ds=_r(),fC=Bt(),mC=cf(),z3=z(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Nc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},V3=oC(),hC=cs(),gC=ne(),I=F(),W3=z(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),G3=z(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),J3=z((e,t)=>{let r=Object.assign((0,hC.getAwsRegionExtensionConfiguration)(e),(0,I.getDefaultExtensionConfiguration)(e),(0,gC.getHttpHandlerExtensionConfiguration)(e),W3(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,hC.resolveAwsRegionExtensionConfiguration)(r),(0,I.resolveDefaultRuntimeConfig)(r),(0,gC.resolveHttpHandlerRuntimeConfig)(r),G3(r))},"resolveRuntimeExtensions"),kc=class extends I.Client{static{z(this,"SSOClient")}config;constructor(...[e]){let t=(0,V3.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=z3(t),n=(0,pC.resolveUserAgentConfig)(r),o=(0,fC.resolveRetryConfig)(n),s=(0,H3.resolveRegionConfig)(o),i=(0,uC.resolveHostHeaderConfig)(s),a=(0,ds.resolveEndpointConfig)(i),c=(0,mC.resolveHttpAuthSchemeConfig)(a),l=J3(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,pC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,fC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,q3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,uC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,j3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,B3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,qt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:mC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:z(async u=>new qt.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,qt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Dc=tr(),jn=class _C extends I.ServiceException{static{z(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,_C.prototype)}},bC=class SC extends jn{static{z(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,SC.prototype)}},EC=class vC extends jn{static{z(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,vC.prototype)}},wC=class CC extends jn{static{z(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,CC.prototype)}},AC=class TC extends jn{static{z(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,TC.prototype)}},PC=z(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),xC=z(e=>({...e,...e.secretAccessKey&&{secretAccessKey:I.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:I.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),IC=z(e=>({...e,...e.roleCredentials&&{roleCredentials:xC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),RC=z(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),OC=z(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),NC=z(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),ls=(he(),V(Et)),K3=z(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[Lc]:e[Mc]});r.bp("/federation/credentials");let o=(0,I.map)({[lH]:[,(0,I.expectNonNull)(e[cH],"roleName")],[DC]:[,(0,I.expectNonNull)(e[kC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Y3=z(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[Lc]:e[Mc]});r.bp("/assignment/roles");let o=(0,I.map)({[FC]:[,e[LC]],[MC]:[()=>e.maxResults!==void 0,()=>e[$C].toString()],[DC]:[,(0,I.expectNonNull)(e[kC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),X3=z(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[Lc]:e[Mc]});r.bp("/assignment/accounts");let o=(0,I.map)({[FC]:[,e[LC]],[MC]:[()=>e.maxResults!==void 0,()=>e[$C].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Q3=z(async(e,t)=>{let r=(0,qt.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[Lc]:e[Mc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Z3=z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $c(e,t);let r=(0,I.map)({$metadata:vr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,ls.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{roleCredentials:I._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),eH=z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $c(e,t);let r=(0,I.map)({$metadata:vr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,ls.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{nextToken:I.expectString,roleList:I._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),tH=z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $c(e,t);let r=(0,I.map)({$metadata:vr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,ls.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{accountList:I._json,nextToken:I.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),rH=z(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $c(e,t);let r=(0,I.map)({$metadata:vr(e)});return await(0,I.collectBody)(e.body,t),r},"de_LogoutCommand"),$c=z(async(e,t)=>{let r={...e,body:await(0,ls.parseJsonErrorBody)(e.body,t)},n=(0,ls.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await oH(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await sH(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await iH(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await aH(r,t);default:let o=r.body;return nH({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),nH=(0,I.withBaseException)(jn),oH=z(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new bC({$metadata:vr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),sH=z(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new EC({$metadata:vr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),iH=z(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new wC({$metadata:vr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),aH=z(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new AC({$metadata:vr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),vr=z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),kC="accountId",Mc="accessToken",DC="account_id",$C="maxResults",MC="max_result",LC="nextToken",FC="next_token",cH="roleName",lH="role_name",Lc="x-amz-sso_bearer_token",UC=class extends I.Command.classBuilder().ep(Nc).m(function(e,t,r,n){return[(0,Dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ds.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(PC,IC).ser(K3).de(Z3).build(){static{z(this,"GetRoleCredentialsCommand")}},gf=class extends I.Command.classBuilder().ep(Nc).m(function(e,t,r,n){return[(0,Dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ds.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(RC,void 0).ser(Y3).de(eH).build(){static{z(this,"ListAccountRolesCommand")}},yf=class extends I.Command.classBuilder().ep(Nc).m(function(e,t,r,n){return[(0,Dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ds.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(OC,void 0).ser(X3).de(tH).build(){static{z(this,"ListAccountsCommand")}},jC=class extends I.Command.classBuilder().ep(Nc).m(function(e,t,r,n){return[(0,Dc.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ds.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(NC,void 0).ser(Q3).de(rH).build(){static{z(this,"LogoutCommand")}},dH={GetRoleCredentialsCommand:UC,ListAccountRolesCommand:gf,ListAccountsCommand:yf,LogoutCommand:jC},BC=class extends kc{static{z(this,"SSO")}};(0,I.createAggregatedClient)(dH,BC);var uH=(0,qt.createPaginator)(kc,gf,"nextToken","nextToken","maxResults"),pH=(0,qt.createPaginator)(kc,yf,"nextToken","nextToken","maxResults")});function fH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function mH(e){return{schemeId:"smithy.api#noAuth"}}var us,zC,VC,WC,_f=b(()=>{he();us=v(ot()),zC=async(e,t,r)=>({operation:(0,us.getSmithyContext)(t).operation,region:await(0,us.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});VC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(mH(e));break}default:t.push(fH(e))}return t},WC=e=>{let t=Wr(e);return Object.assign(t,{authSchemePreference:(0,us.normalizeProvider)(e.authSchemePreference??[])})}});var GC,JC,bf=b(()=>{GC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),JC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Fc,Sf=b(()=>{Fc={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var oA,et,KC,ps,Bn,Hn,zt,Ef,vf,YC,XC,QC,sA,iA,Ze,ZC,aA,eA,tA,rA,nA,gH,cA,lA=b(()=>{oA="required",et="argv",KC="isSet",ps="booleanEquals",Bn="error",Hn="endpoint",zt="tree",Ef="PartitionResult",vf="getAttr",YC={[oA]:!1,type:"String"},XC={[oA]:!0,default:!1,type:"Boolean"},QC={ref:"Endpoint"},sA={fn:ps,[et]:[{ref:"UseFIPS"},!0]},iA={fn:ps,[et]:[{ref:"UseDualStack"},!0]},Ze={},ZC={fn:vf,[et]:[{ref:Ef},"supportsFIPS"]},aA={ref:Ef},eA={fn:ps,[et]:[!0,{fn:vf,[et]:[aA,"supportsDualStack"]}]},tA=[sA],rA=[iA],nA=[{ref:"Region"}],gH={version:"1.0",parameters:{Region:YC,UseDualStack:XC,UseFIPS:XC,Endpoint:YC},rules:[{conditions:[{fn:KC,[et]:[QC]}],rules:[{conditions:tA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bn},{conditions:rA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bn},{endpoint:{url:QC,properties:Ze,headers:Ze},type:Hn}],type:zt},{conditions:[{fn:KC,[et]:nA}],rules:[{conditions:[{fn:"aws.partition",[et]:nA,assign:Ef}],rules:[{conditions:[sA,iA],rules:[{conditions:[{fn:ps,[et]:[!0,ZC]},eA],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Hn}],type:zt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bn}],type:zt},{conditions:tA,rules:[{conditions:[{fn:ps,[et]:[ZC,!0]}],rules:[{conditions:[{fn:"stringEquals",[et]:[{fn:vf,[et]:[aA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ze,headers:Ze},type:Hn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Hn}],type:zt},{error:"FIPS is enabled but this partition does not support FIPS",type:Bn}],type:zt},{conditions:rA,rules:[{conditions:[eA],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:Hn}],type:zt},{error:"DualStack is enabled but this partition does not support DualStack",type:Bn}],type:zt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:Hn}],type:zt}],type:zt},{error:"Invalid Configuration: Missing Region",type:Bn}]},cA=gH});var dA,qn,yH,uA,pA=b(()=>{dA=v(Cn()),qn=v(wn());lA();yH=new qn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),uA=(e,t={})=>yH.get(e,()=>(0,qn.resolveEndpoint)(cA,{endpointParams:e,logger:t.logger}));qn.customEndpointFunctions.aws=dA.awsEndpointFunctions});var fA,mA,Uc,jc,hA,gA=b(()=>{he();De();fA=v(F()),mA=v(ir()),Uc=v(Pe()),jc=v(_e());_f();pA();hA=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Uc.fromBase64,base64Encoder:e?.base64Encoder??Uc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??VC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Me},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],logger:e?.logger??new fA.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??mA.parseUrl,utf8Decoder:e?.utf8Decoder??jc.fromUtf8,utf8Encoder:e?.utf8Encoder??jc.toUtf8})});var Bc,Cr,yA,Hc,wr,qc,_A,bA,SA,EA,vA,wA,CA=b(()=>{Sf();he();Bc=v(rs()),Cr=v(wt()),yA=v(ns()),Hc=v(Bt()),wr=v(yr()),qc=v(Dr()),_A=v(os()),bA=v(Dn());gA();SA=v(F()),EA=v(as()),vA=v(F()),wA=e=>{(0,vA.emitWarningIfUnsupportedVersion)(process.version);let t=(0,EA.resolveDefaultsModeConfig)(e),r=()=>t().then(SA.loadConfigsForDefaultMode),n=hA(e);An(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,wr.loadConfig)(xn,o),bodyLengthChecker:e?.bodyLengthChecker??_A.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Bc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fc.version}),maxAttempts:e?.maxAttempts??(0,wr.loadConfig)(Hc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,wr.loadConfig)(Cr.NODE_REGION_CONFIG_OPTIONS,{...Cr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:qc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,wr.loadConfig)({...Hc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??yA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,wr.loadConfig)(Cr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,wr.loadConfig)(Cr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,wr.loadConfig)(Bc.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var AA,TA,PA=b(()=>{AA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},TA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var zc,Vc,Wc,xA,IA=b(()=>{zc=v(cs()),Vc=v(ne()),Wc=v(F());PA();xA=(e,t)=>{let r=Object.assign((0,zc.getAwsRegionExtensionConfiguration)(e),(0,Wc.getDefaultExtensionConfiguration)(e),(0,Vc.getHttpHandlerExtensionConfiguration)(e),AA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,zc.resolveAwsRegionExtensionConfiguration)(r),(0,Wc.resolveDefaultRuntimeConfig)(r),(0,Vc.resolveHttpHandlerRuntimeConfig)(r),TA(r))}});var Gc,RA,OA,Jc,NA,kA,DA,Kc,wf,fs,Cf=b(()=>{Gc=v(lo()),RA=v(uo()),OA=v(po()),Jc=v(On()),NA=v(wt());De();kA=v(Yo()),DA=v(_r()),Kc=v(Bt()),wf=v(F());_f();bf();CA();IA();fs=class extends wf.Client{config;constructor(...[t]){let r=wA(t||{});super(r),this.initConfig=r;let n=GC(r),o=(0,Jc.resolveUserAgentConfig)(n),s=(0,Kc.resolveRetryConfig)(o),i=(0,NA.resolveRegionConfig)(s),a=(0,Gc.resolveHostHeaderConfig)(i),c=(0,DA.resolveEndpointConfig)(a),l=WC(c),u=xA(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,Jc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Kc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,kA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Gc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,RA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,OA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(mo(this.config,{httpAuthSchemeParametersProvider:zC,identityProviderConfigProvider:async p=>new zr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(ho(this.config))}destroy(){super.destroy()}}});var $A,ge,Yc=b(()=>{$A=v(F()),ge=class e extends $A.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var nn,ms,hs,Af,Tf,gs,ys,_s,bs,Ss,Es,vs,ws,Cs,Xc=b(()=>{nn=v(F());Yc();ms=class e extends ge{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},hs=class e extends ge{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Af=e=>({...e,...e.clientSecret&&{clientSecret:nn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:nn.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:nn.SENSITIVE_STRING}}),Tf=e=>({...e,...e.accessToken&&{accessToken:nn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:nn.SENSITIVE_STRING},...e.idToken&&{idToken:nn.SENSITIVE_STRING}}),gs=class e extends ge{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ys=class e extends ge{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_s=class e extends ge{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},bs=class e extends ge{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ss=class e extends ge{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Es=class e extends ge{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vs=class e extends ge{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ws=class e extends ge{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Cs=class e extends ge{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var T,MA,LA,_H,bH,SH,EH,vH,wH,CH,AH,TH,PH,xH,IH,RH,tt,FA=b(()=>{he();De();T=v(F());Xc();Yc();MA=async(e,t)=>{let r=ko(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,T.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,T._json)(s)})),r.m("POST").h(n).b(o),r.build()},LA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _H(e,t);let r=(0,T.map)({$metadata:tt(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await Rn(e.body,t)),"body"),o=(0,T.take)(n,{accessToken:T.expectString,expiresIn:T.expectInt32,idToken:T.expectString,refreshToken:T.expectString,tokenType:T.expectString});return Object.assign(r,o),r},_H=async(e,t)=>{let r={...e,body:await sp(e.body,t)},n=Jr(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await SH(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await EH(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await vH(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await wH(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await CH(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await AH(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await TH(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await PH(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await xH(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await IH(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await RH(r,t);default:let o=r.body;return bH({output:e,parsedBody:o,errorCode:n})}},bH=(0,T.withBaseException)(ge),SH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new ms({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},EH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new hs({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},vH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new gs({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},wH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new ys({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},CH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new _s({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},AH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new bs({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},TH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Ss({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},PH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Es({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},xH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new vs({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},IH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new ws({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},RH=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Cs({$metadata:tt(e),...r});return(0,T.decorateServiceException)(s,e.body)},tt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var UA,jA,Pf,As,xf=b(()=>{UA=v(_r()),jA=v(tr()),Pf=v(F());bf();Xc();FA();As=class extends Pf.Command.classBuilder().ep(JC).m(function(t,r,n,o){return[(0,jA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,UA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Af,Tf).ser(MA).de(LA).build(){}});var BA,OH,Qc,HA=b(()=>{BA=v(F());xf();Cf();OH={CreateTokenCommand:As},Qc=class extends fs{};(0,BA.createAggregatedClient)(OH,Qc)});var qA=b(()=>{xf()});var zA=b(()=>{Xc()});var If={};rt(If,{$Command:()=>Pf.Command,AccessDeniedException:()=>ms,AuthorizationPendingException:()=>hs,CreateTokenCommand:()=>As,CreateTokenRequestFilterSensitiveLog:()=>Af,CreateTokenResponseFilterSensitiveLog:()=>Tf,ExpiredTokenException:()=>gs,InternalServerException:()=>ys,InvalidClientException:()=>_s,InvalidGrantException:()=>bs,InvalidRequestException:()=>Ss,InvalidScopeException:()=>Es,SSOOIDC:()=>Qc,SSOOIDCClient:()=>fs,SSOOIDCServiceException:()=>ge,SlowDownException:()=>vs,UnauthorizedClientException:()=>ws,UnsupportedGrantTypeException:()=>Cs,__Client:()=>wf.Client});var Rf=b(()=>{Cf();HA();qA();zA();Yc()});var QA=w((NQ,XA)=>{"use strict";var NH=Object.create,Ps=Object.defineProperty,kH=Object.getOwnPropertyDescriptor,DH=Object.getOwnPropertyNames,$H=Object.getPrototypeOf,MH=Object.prototype.hasOwnProperty,Vt=(e,t)=>Ps(e,"name",{value:t,configurable:!0}),LH=(e,t)=>{for(var r in t)Ps(e,r,{get:t[r],enumerable:!0})},GA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DH(t))!MH.call(e,o)&&o!==r&&Ps(e,o,{get:()=>t[o],enumerable:!(n=kH(t,o))||n.enumerable});return e},JA=(e,t,r)=>(r=e!=null?NH($H(e)):{},GA(t||!e||!e.__esModule?Ps(r,"default",{value:e,enumerable:!0}):r,e)),FH=e=>GA(Ps({},"__esModule",{value:!0}),e),KA={};LH(KA,{fromEnvSigningName:()=>BH,fromSso:()=>YA,fromStatic:()=>JH,nodeProvider:()=>KH});XA.exports=FH(KA);var UH=(at(),V(lr)),jH=(Ku(),V(XS)),qe=Re(),BH=Vt(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new qe.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,jH.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new qe.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,UH.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),HH=300*1e3,Of="To refresh this SSO session run 'aws sso login' with the corresponding profile.",qH=Vt(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>JA((Rf(),V(If))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),zH=Vt(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>JA((Rf(),V(If))));return(await qH(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),VA=Vt(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new qe.TokenProviderError(`Token is expired. ${Of}`,!1)},"validateTokenExpiry"),on=Vt((e,t,r=!1)=>{if(typeof t>"u")throw new qe.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Of}`,!1)},"validateTokenKey"),Ts=gr(),VH=require("fs"),{writeFile:WH}=VH.promises,GH=Vt((e,t)=>{let r=(0,Ts.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return WH(r,n)},"writeSSOTokenToFile"),WA=new Date(0),YA=Vt((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Ts.parseKnownFiles)(r),o=(0,Ts.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new qe.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new qe.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,Ts.loadSsoSessionData)(r))[i];if(!c)throw new qe.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!c[_])throw new qe.TokenProviderError(`Sso session '${i}' is missing required property '${_}'.`,!1);let l=c.sso_start_url,u=c.sso_region,p;try{p=await(0,Ts.getSSOTokenFromFile)(i)}catch{throw new qe.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${Of}`,!1)}on("accessToken",p.accessToken),on("expiresAt",p.expiresAt);let{accessToken:h,expiresAt:g}=p,y={token:h,expiration:new Date(g)};if(y.expiration.getTime()-Date.now()>HH)return y;if(Date.now()-WA.getTime()<30*1e3)return VA(y),y;on("clientId",p.clientId,!0),on("clientSecret",p.clientSecret,!0),on("refreshToken",p.refreshToken,!0);try{WA.setTime(Date.now());let _=await zH(p,u,r);on("accessToken",_.accessToken),on("expiresIn",_.expiresIn);let E=new Date(Date.now()+_.expiresIn*1e3);try{await GH(i,{...p,accessToken:_.accessToken,expiresAt:E.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:E}}catch{return VA(y),y}},"fromSso"),JH=Vt(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new qe.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),KH=Vt((e={})=>(0,qe.memoize)((0,qe.chain)(YA(e),async()=>{throw new qe.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var kf=w((kQ,aT)=>{"use strict";var el=Object.defineProperty,YH=Object.getOwnPropertyDescriptor,tT=Object.getOwnPropertyNames,XH=Object.prototype.hasOwnProperty,tl=(e,t)=>el(e,"name",{value:t,configurable:!0}),QH=(e,t)=>function(){return e&&(t=(0,e[tT(e)[0]])(e=0)),t},rT=(e,t)=>{for(var r in t)el(e,r,{get:t[r],enumerable:!0})},ZH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tT(t))!XH.call(e,o)&&o!==r&&el(e,o,{get:()=>t[o],enumerable:!(n=YH(t,o))||n.enumerable});return e},e8=e=>ZH(el({},"__esModule",{value:!0}),e),nT={};rT(nT,{GetRoleCredentialsCommand:()=>Nf.GetRoleCredentialsCommand,SSOClient:()=>Nf.SSOClient});var Nf,t8=QH({"src/loadSso.ts"(){"use strict";Nf=qC()}}),oT={};rT(oT,{fromSSO:()=>n8,isSsoProfile:()=>sT,validateSsoProfile:()=>iT});aT.exports=e8(oT);var sT=tl(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),ZA=(at(),V(lr)),r8=QA(),dt=Re(),Zc=gr(),xs=!1,eT=tl(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let u,p="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let te=await(0,r8.fromSso)({profile:c})();u={accessToken:te.token,expiresAt:new Date(te.expiration).toISOString()}}catch(te){throw new dt.CredentialsProviderError(te.message,{tryNextLink:xs,logger:l})}else try{u=await(0,Zc.getSSOTokenFromFile)(e)}catch{throw new dt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${p}`,{tryNextLink:xs,logger:l})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new dt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${p}`,{tryNextLink:xs,logger:l});let{accessToken:h}=u,{SSOClient:g,GetRoleCredentialsCommand:y}=await Promise.resolve().then(()=>(t8(),nT)),_=s||new g(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),E;try{E=await _.send(new y({accountId:r,roleName:o,accessToken:h}))}catch(te){throw new dt.CredentialsProviderError(te,{tryNextLink:xs,logger:l})}let{roleCredentials:{accessKeyId:C,secretAccessKey:A,sessionToken:O,expiration:P,credentialScope:R,accountId:M}={}}=E;if(!C||!A||!O||!P)throw new dt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:xs,logger:l});let Ce={accessKeyId:C,secretAccessKey:A,sessionToken:O,expiration:new Date(P),...R&&{credentialScope:R},...M&&{accountId:M}};return t?(0,ZA.setCredentialFeature)(Ce,"CREDENTIALS_SSO","s"):(0,ZA.setCredentialFeature)(Ce,"CREDENTIALS_SSO_LEGACY","u"),Ce},"resolveSSOCredentials"),iT=tl((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new dt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),n8=tl((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Zc.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let u=(await(0,Zc.parseKnownFiles)(e))[c];if(!u)throw new dt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!sT(u))throw new dt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let C=(await(0,Zc.loadSsoSessionData)(e))[u.sso_session],A=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==C.sso_region)throw new dt.CredentialsProviderError("Conflicting SSO region"+A,{tryNextLink:!1,logger:e.logger});if(r&&r!==C.sso_start_url)throw new dt.CredentialsProviderError("Conflicting SSO start_url"+A,{tryNextLink:!1,logger:e.logger});u.sso_region=C.sso_region,u.sso_start_url=C.sso_start_url}let{sso_start_url:p,sso_account_id:h,sso_region:g,sso_role_name:y,sso_session:_}=iT(u,e.logger);return eT({ssoStartUrl:p,ssoSession:_,ssoAccountId:h,ssoRegion:g,ssoRoleName:y,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new dt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return eT({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function o8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function s8(e){return{schemeId:"smithy.api#noAuth"}}var Is,cT,lT,i8,dT,Df=b(()=>{he();Is=v(ot());Rs();cT=async(e,t,r)=>({operation:(0,Is.getSmithyContext)(t).operation,region:await(0,Is.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});lT=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(s8(e));break}default:t.push(o8(e))}return t},i8=e=>Object.assign(e,{stsClientCtor:Tt}),dT=e=>{let t=i8(e),r=Wr(t);return Object.assign(r,{authSchemePreference:(0,Is.normalizeProvider)(e.authSchemePreference??[])})}});var uT,rl,nl=b(()=>{uT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),rl={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var vT,$,Y,Ar,ve,wT,CT,se,pT,Pt,zn,Mf,fT,$f,AT,mT,we,hT,TT,PT,Te,ze,gT,xT,IT,yT,RT,_T,bT,ST,ET,a8,OT,NT=b(()=>{vT="required",$="type",Y="argv",Ar="booleanEquals",ve="stringEquals",wT="sigv4",CT="us-east-1",se="endpoint",pT="https://sts.{Region}.{PartitionResult#dnsSuffix}",Pt="tree",zn="error",Mf="getAttr",fT={[vT]:!1,[$]:"String"},$f={[vT]:!0,default:!1,[$]:"Boolean"},AT={ref:"Endpoint"},mT={fn:"isSet",[Y]:[{ref:"Region"}]},we={ref:"Region"},hT={fn:"aws.partition",[Y]:[we],assign:"PartitionResult"},TT={ref:"UseFIPS"},PT={ref:"UseDualStack"},Te={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:wT,signingName:"sts",signingRegion:CT}]},headers:{}},ze={},gT={conditions:[{fn:ve,[Y]:[we,"aws-global"]}],[se]:Te,[$]:se},xT={fn:Ar,[Y]:[TT,!0]},IT={fn:Ar,[Y]:[PT,!0]},yT={fn:Mf,[Y]:[{ref:"PartitionResult"},"supportsFIPS"]},RT={ref:"PartitionResult"},_T={fn:Ar,[Y]:[!0,{fn:Mf,[Y]:[RT,"supportsDualStack"]}]},bT=[{fn:"isSet",[Y]:[AT]}],ST=[xT],ET=[IT],a8={version:"1.0",parameters:{Region:fT,UseDualStack:$f,UseFIPS:$f,Endpoint:fT,UseGlobalEndpoint:$f},rules:[{conditions:[{fn:Ar,[Y]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Y]:bT},mT,hT,{fn:Ar,[Y]:[TT,!1]},{fn:Ar,[Y]:[PT,!1]}],rules:[{conditions:[{fn:ve,[Y]:[we,"ap-northeast-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"ap-south-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"ap-southeast-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"ap-southeast-2"]}],endpoint:Te,[$]:se},gT,{conditions:[{fn:ve,[Y]:[we,"ca-central-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"eu-central-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"eu-north-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"eu-west-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"eu-west-2"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"eu-west-3"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"sa-east-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,CT]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"us-east-2"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"us-west-1"]}],endpoint:Te,[$]:se},{conditions:[{fn:ve,[Y]:[we,"us-west-2"]}],endpoint:Te,[$]:se},{endpoint:{url:pT,properties:{authSchemes:[{name:wT,signingName:"sts",signingRegion:"{Region}"}]},headers:ze},[$]:se}],[$]:Pt},{conditions:bT,rules:[{conditions:ST,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[$]:zn},{conditions:ET,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[$]:zn},{endpoint:{url:AT,properties:ze,headers:ze},[$]:se}],[$]:Pt},{conditions:[mT],rules:[{conditions:[hT],rules:[{conditions:[xT,IT],rules:[{conditions:[{fn:Ar,[Y]:[!0,yT]},_T],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[$]:se}],[$]:Pt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[$]:zn}],[$]:Pt},{conditions:ST,rules:[{conditions:[{fn:Ar,[Y]:[yT,!0]}],rules:[{conditions:[{fn:ve,[Y]:[{fn:Mf,[Y]:[RT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ze,headers:ze},[$]:se},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},[$]:se}],[$]:Pt},{error:"FIPS is enabled but this partition does not support FIPS",[$]:zn}],[$]:Pt},{conditions:ET,rules:[{conditions:[_T],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[$]:se}],[$]:Pt},{error:"DualStack is enabled but this partition does not support DualStack",[$]:zn}],[$]:Pt},gT,{endpoint:{url:pT,properties:ze,headers:ze},[$]:se}],[$]:Pt}],[$]:Pt},{error:"Invalid Configuration: Missing Region",[$]:zn}]},OT=a8});var kT,Vn,c8,DT,$T=b(()=>{kT=v(Cn()),Vn=v(wn());NT();c8=new Vn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),DT=(e,t={})=>c8.get(e,()=>(0,Vn.resolveEndpoint)(OT,{endpointParams:e,logger:t.logger}));Vn.customEndpointFunctions.aws=kT.awsEndpointFunctions});var MT,LT,ol,sl,FT,UT=b(()=>{he();De();MT=v(F()),LT=v(ir()),ol=v(Pe()),sl=v(_e());Df();$T();FT=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??ol.fromBase64,base64Encoder:e?.base64Encoder??ol.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??DT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??lT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Me},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],logger:e?.logger??new MT.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??LT.parseUrl,utf8Decoder:e?.utf8Decoder??sl.fromUtf8,utf8Encoder:e?.utf8Encoder??sl.toUtf8})});var il,Pr,jT,al,Tr,cl,BT,HT,qT,zT,VT,WT,GT=b(()=>{Sf();he();il=v(rs()),Pr=v(wt());De();jT=v(ns()),al=v(Bt()),Tr=v(yr()),cl=v(Dr()),BT=v(os()),HT=v(Dn());UT();qT=v(F()),zT=v(as()),VT=v(F()),WT=e=>{(0,VT.emitWarningIfUnsupportedVersion)(process.version);let t=(0,zT.resolveDefaultsModeConfig)(e),r=()=>t().then(qT.loadConfigsForDefaultMode),n=FT(e);An(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Tr.loadConfig)(xn,o),bodyLengthChecker:e?.bodyLengthChecker??BT.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,il.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Me},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],maxAttempts:e?.maxAttempts??(0,Tr.loadConfig)(al.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Tr.loadConfig)(Pr.NODE_REGION_CONFIG_OPTIONS,{...Pr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:cl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Tr.loadConfig)({...al.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||HT.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??jT.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Tr.loadConfig)(Pr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Tr.loadConfig)(Pr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Tr.loadConfig)(il.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var JT,KT,YT=b(()=>{JT=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},KT=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ll,dl,ul,XT,QT=b(()=>{ll=v(cs()),dl=v(ne()),ul=v(F());YT();XT=(e,t)=>{let r=Object.assign((0,ll.getAwsRegionExtensionConfiguration)(e),(0,ul.getDefaultExtensionConfiguration)(e),(0,dl.getHttpHandlerExtensionConfiguration)(e),JT(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ll.resolveAwsRegionExtensionConfiguration)(r),(0,ul.resolveDefaultRuntimeConfig)(r),(0,dl.resolveHttpHandlerRuntimeConfig)(r),KT(r))}});var pl,ZT,eP,fl,tP,rP,nP,ml,Lf,Tt,Rs=b(()=>{pl=v(lo()),ZT=v(uo()),eP=v(po()),fl=v(On()),tP=v(wt());De();rP=v(Yo()),nP=v(_r()),ml=v(Bt()),Lf=v(F());Df();nl();GT();QT();Tt=class extends Lf.Client{config;constructor(...[t]){let r=WT(t||{});super(r),this.initConfig=r;let n=uT(r),o=(0,fl.resolveUserAgentConfig)(n),s=(0,ml.resolveRetryConfig)(o),i=(0,tP.resolveRegionConfig)(s),a=(0,pl.resolveHostHeaderConfig)(i),c=(0,nP.resolveEndpointConfig)(a),l=dT(c),u=XT(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,fl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ml.getRetryPlugin)(this.config)),this.middlewareStack.use((0,rP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,pl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ZT.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,eP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(mo(this.config,{httpAuthSchemeParametersProvider:cT,identityProviderConfigProvider:async p=>new zr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(ho(this.config))}destroy(){super.destroy()}}});var oP,Le,hl=b(()=>{oP=v(F()),Le=class e extends oP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ff,Uf,jf,Os,Ns,ks,Ds,$s,Ms,Bf,Hf,Ls,Fs=b(()=>{Ff=v(F());hl();Uf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ff.SENSITIVE_STRING}}),jf=e=>({...e,...e.Credentials&&{Credentials:Uf(e.Credentials)}}),Os=class e extends Le{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ns=class e extends Le{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ks=class e extends Le{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ds=class e extends Le{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$s=class e extends Le{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ms=class e extends Le{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Ff.SENSITIVE_STRING}}),Hf=e=>({...e,...e.Credentials&&{Credentials:Uf(e.Credentials)}}),Ls=class e extends Le{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var sP,L,iP,aP,cP,lP,dP,l8,d8,u8,p8,f8,m8,h8,g8,y8,uP,_8,b8,S8,E8,v8,w8,pP,C8,A8,fP,T8,P8,x8,I8,R8,O8,N8,Gt,k8,mP,hP,gP,yP,qf,D8,zf,Wn,$8,Vf,Wf,Gn,Gf,Jn,Jf,Kf,Yf,Kn,Yn,Xf,Qf,Zf,Xn,em,Qn,Zn,tm,rm,Wt,nm,om,sm,im,am,_P,cm,lm,dm,le,bP,M8,um=b(()=>{he();sP=v(ne()),L=v(F());Fs();hl();iP=async(e,t)=>{let r=hP,n;return n=bP({...g8(e,t),[yP]:D8,[_P]:gP}),mP(t,r,"/",void 0,n)},aP=async(e,t)=>{let r=hP,n;return n=bP({...y8(e,t),[yP]:$8,[_P]:gP}),mP(t,r,"/",void 0,n)},cP=async(e,t)=>{if(e.statusCode>=300)return dP(e,t);let r=await Go(e.body,t),n={};return n=C8(r.AssumeRoleResult,t),{$metadata:Gt(e),...n}},lP=async(e,t)=>{if(e.statusCode>=300)return dP(e,t);let r=await Go(e.body,t),n={};return n=A8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Gt(e),...n}},dP=async(e,t)=>{let r={...e,body:await vp(e.body,t)},n=M8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await l8(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await f8(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await m8(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await h8(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await d8(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await u8(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await p8(r,t);default:let o=r.body;return k8({output:e,parsedBody:o.Error,errorCode:n})}},l8=async(e,t)=>{let r=e.body,n=T8(r.Error,t),o=new Os({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},d8=async(e,t)=>{let r=e.body,n=P8(r.Error,t),o=new Ls({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},u8=async(e,t)=>{let r=e.body,n=x8(r.Error,t),o=new $s({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},p8=async(e,t)=>{let r=e.body,n=I8(r.Error,t),o=new Ms({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},f8=async(e,t)=>{let r=e.body,n=R8(r.Error,t),o=new Ns({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},m8=async(e,t)=>{let r=e.body,n=O8(r.Error,t),o=new ks({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},h8=async(e,t)=>{let r=e.body,n=N8(r.Error,t),o=new Ds({$metadata:Gt(e),...n});return(0,L.decorateServiceException)(o,r)},g8=(e,t)=>{let r={};if(e[Qn]!=null&&(r[Qn]=e[Qn]),e[Zn]!=null&&(r[Zn]=e[Zn]),e[Yn]!=null){let n=uP(e[Yn],t);e[Yn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Kn]!=null&&(r[Kn]=e[Kn]),e[Jn]!=null&&(r[Jn]=e[Jn]),e[sm]!=null){let n=w8(e[sm],t);e[sm]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[am]!=null){let n=v8(e[am],t);e[am]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Kf]!=null&&(r[Kf]=e[Kf]),e[nm]!=null&&(r[nm]=e[nm]),e[im]!=null&&(r[im]=e[im]),e[Wt]!=null&&(r[Wt]=e[Wt]),e[Qf]!=null){let n=S8(e[Qf],t);e[Qf]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},y8=(e,t)=>{let r={};if(e[Qn]!=null&&(r[Qn]=e[Qn]),e[Zn]!=null&&(r[Zn]=e[Zn]),e[lm]!=null&&(r[lm]=e[lm]),e[Zf]!=null&&(r[Zf]=e[Zf]),e[Yn]!=null){let n=uP(e[Yn],t);e[Yn]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Kn]!=null&&(r[Kn]=e[Kn]),e[Jn]!=null&&(r[Jn]=e[Jn]),r},uP=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=_8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},_8=(e,t)=>{let r={};return e[dm]!=null&&(r[dm]=e[dm]),r},b8=(e,t)=>{let r={};return e[Xf]!=null&&(r[Xf]=e[Xf]),e[Gf]!=null&&(r[Gf]=e[Gf]),r},S8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=b8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},E8=(e,t)=>{let r={};return e[Yf]!=null&&(r[Yf]=e[Yf]),e[cm]!=null&&(r[cm]=e[cm]),r},v8=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},w8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=E8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},pP=(e,t)=>{let r={};return e[zf]!=null&&(r[zf]=(0,L.expectString)(e[zf])),e[Vf]!=null&&(r[Vf]=(0,L.expectString)(e[Vf])),r},C8=(e,t)=>{let r={};return e[Gn]!=null&&(r[Gn]=fP(e[Gn],t)),e[Wn]!=null&&(r[Wn]=pP(e[Wn],t)),e[Xn]!=null&&(r[Xn]=(0,L.strictParseInt32)(e[Xn])),e[Wt]!=null&&(r[Wt]=(0,L.expectString)(e[Wt])),r},A8=(e,t)=>{let r={};return e[Gn]!=null&&(r[Gn]=fP(e[Gn],t)),e[rm]!=null&&(r[rm]=(0,L.expectString)(e[rm])),e[Wn]!=null&&(r[Wn]=pP(e[Wn],t)),e[Xn]!=null&&(r[Xn]=(0,L.strictParseInt32)(e[Xn])),e[em]!=null&&(r[em]=(0,L.expectString)(e[em])),e[Wf]!=null&&(r[Wf]=(0,L.expectString)(e[Wf])),e[Wt]!=null&&(r[Wt]=(0,L.expectString)(e[Wt])),r},fP=(e,t)=>{let r={};return e[qf]!=null&&(r[qf]=(0,L.expectString)(e[qf])),e[tm]!=null&&(r[tm]=(0,L.expectString)(e[tm])),e[om]!=null&&(r[om]=(0,L.expectString)(e[om])),e[Jf]!=null&&(r[Jf]=(0,L.expectNonNull)((0,L.parseRfc3339DateTimeWithOffset)(e[Jf]))),r},T8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},P8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},x8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},I8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},R8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},O8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},N8=(e,t)=>{let r={};return e[le]!=null&&(r[le]=(0,L.expectString)(e[le])),r},Gt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),k8=(0,L.withBaseException)(Le),mP=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new sP.HttpRequest(l)},hP={"content-type":"application/x-www-form-urlencoded"},gP="2011-06-15",yP="Action",qf="AccessKeyId",D8="AssumeRole",zf="AssumedRoleId",Wn="AssumedRoleUser",$8="AssumeRoleWithWebIdentity",Vf="Arn",Wf="Audience",Gn="Credentials",Gf="ContextAssertion",Jn="DurationSeconds",Jf="Expiration",Kf="ExternalId",Yf="Key",Kn="Policy",Yn="PolicyArns",Xf="ProviderArn",Qf="ProvidedContexts",Zf="ProviderId",Xn="PackedPolicySize",em="Provider",Qn="RoleArn",Zn="RoleSessionName",tm="SecretAccessKey",rm="SubjectFromWebIdentityToken",Wt="SourceIdentity",nm="SerialNumber",om="SessionToken",sm="Tags",im="TokenCode",am="TransitiveTagKeys",_P="Version",cm="Value",lm="WebIdentityToken",dm="arn",le="message",bP=e=>Object.entries(e).map(([t,r])=>(0,L.extendedEncodeURIComponent)(t)+"="+(0,L.extendedEncodeURIComponent)(r)).join("&"),M8=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var SP,EP,vP,sn,gl=b(()=>{SP=v(_r()),EP=v(tr()),vP=v(F());nl();Fs();um();sn=class extends vP.Command.classBuilder().ep(rl).m(function(t,r,n,o){return[(0,EP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,SP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,jf).ser(iP).de(cP).build(){}});var wP,CP,AP,an,yl=b(()=>{wP=v(_r()),CP=v(tr()),AP=v(F());nl();Fs();um();an=class extends AP.Command.classBuilder().ep(rl).m(function(t,r,n,o){return[(0,CP.getSerdePlugin)(n,this.serialize,this.deserialize),(0,wP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Bf,Hf).ser(aP).de(lP).build(){}});var TP,L8,_l,PP=b(()=>{TP=v(F());gl();yl();Rs();L8={AssumeRoleCommand:sn,AssumeRoleWithWebIdentityCommand:an},_l=class extends Tt{};(0,TP.createAggregatedClient)(L8,_l)});var xP=b(()=>{gl();yl()});var IP=b(()=>{Fs()});var RP,OP,NP,kP,DP,$P,MP=b(()=>{at();gl();yl();RP="us-east-1",OP=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},NP=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${RP} (STS default)`),n??o??RP},kP=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:u=e?.parentClientConfig?.logger,region:p,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await NP(p,e?.parentClientConfig?.region,g),_=!$P(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:_?h:void 0,logger:u})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new sn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=OP(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return cr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},DP=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:u=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,h=await NP(l,e?.parentClientConfig?.region,p),g=!$P(u);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:g?u:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new an(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=OP(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&cr(a,"RESOLVED_ACCOUNT_ID","T"),cr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},$P=e=>e?.metadata?.handlerProtocol==="h2"});var LP,FP,UP,F8,jP=b(()=>{MP();Rs();LP=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,FP=(e={},t)=>kP(e,LP(Tt,t)),UP=(e={},t)=>DP(e,LP(Tt,t)),F8=e=>t=>e({roleAssumer:FP(t),roleAssumerWithWebIdentity:UP(t),...t})});var pm={};rt(pm,{AssumeRoleCommand:()=>sn,AssumeRoleResponseFilterSensitiveLog:()=>jf,AssumeRoleWithWebIdentityCommand:()=>an,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Bf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Hf,CredentialsFilterSensitiveLog:()=>Uf,ExpiredTokenException:()=>Os,IDPCommunicationErrorException:()=>Ls,IDPRejectedClaimException:()=>$s,InvalidIdentityTokenException:()=>Ms,MalformedPolicyDocumentException:()=>Ns,PackedPolicyTooLargeException:()=>ks,RegionDisabledException:()=>Ds,STS:()=>_l,STSClient:()=>Tt,STSServiceException:()=>Le,__Client:()=>Lf.Client,decorateDefaultCredentialProvider:()=>F8,getDefaultRoleAssumer:()=>FP,getDefaultRoleAssumerWithWebIdentity:()=>UP});var fm=b(()=>{Rs();PP();xP();IP();jP();hl()});var gm=w((zZ,qP)=>{"use strict";var bl=Object.defineProperty,U8=Object.getOwnPropertyDescriptor,j8=Object.getOwnPropertyNames,B8=Object.prototype.hasOwnProperty,hm=(e,t)=>bl(e,"name",{value:t,configurable:!0}),H8=(e,t)=>{for(var r in t)bl(e,r,{get:t[r],enumerable:!0})},q8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j8(t))!B8.call(e,o)&&o!==r&&bl(e,o,{get:()=>t[o],enumerable:!(n=U8(t,o))||n.enumerable});return e},z8=e=>q8(bl({},"__esModule",{value:!0}),e),HP={};H8(HP,{fromProcess:()=>Y8});qP.exports=z8(HP);var BP=gr(),mm=Re(),V8=require("child_process"),W8=require("util"),G8=(at(),V(lr)),J8=hm((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,G8.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),K8=hm(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,W8.promisify)(V8.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return J8(e,a,t)}catch(i){throw new mm.CredentialsProviderError(i.message,{logger:r})}}else throw new mm.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new mm.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Y8=hm((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,BP.parseKnownFiles)(e);return K8((0,BP.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var ym=w(xt=>{"use strict";var X8=xt&&xt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Q8=xt&&xt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Z8=xt&&xt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&X8(r,t,n[o]);return Q8(r,t),r}})();Object.defineProperty(xt,"__esModule",{value:!0});xt.fromWebToken=void 0;var e5=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>Z8((fm(),V(pm))));l=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};xt.fromWebToken=e5});var VP=w(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.fromTokenFile=void 0;var t5=(at(),V(lr)),r5=Re(),n5=require("fs"),o5=ym(),zP="AWS_WEB_IDENTITY_TOKEN_FILE",s5="AWS_ROLE_ARN",i5="AWS_ROLE_SESSION_NAME",a5=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[zP],r=e?.roleArn??process.env[s5],n=e?.roleSessionName??process.env[i5];if(!t||!r)throw new r5.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,o5.fromWebToken)({...e,webIdentityToken:(0,n5.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[zP]&&(0,t5.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Sl.fromTokenFile=a5});var Sm=w((GZ,El)=>{"use strict";var WP=Object.defineProperty,c5=Object.getOwnPropertyDescriptor,l5=Object.getOwnPropertyNames,d5=Object.prototype.hasOwnProperty,_m=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l5(t))!d5.call(e,o)&&o!==r&&WP(e,o,{get:()=>t[o],enumerable:!(n=c5(t,o))||n.enumerable});return e},GP=(e,t,r)=>(_m(e,t,"default"),r&&_m(r,t,"default")),u5=e=>_m(WP({},"__esModule",{value:!0}),e),bm={};El.exports=u5(bm);GP(bm,VP(),El.exports);GP(bm,ym(),El.exports)});var tx=w((JZ,ex)=>{"use strict";var p5=Object.create,js=Object.defineProperty,f5=Object.getOwnPropertyDescriptor,m5=Object.getOwnPropertyNames,h5=Object.getPrototypeOf,g5=Object.prototype.hasOwnProperty,pe=(e,t)=>js(e,"name",{value:t,configurable:!0}),y5=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})},XP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m5(t))!g5.call(e,o)&&o!==r&&js(e,o,{get:()=>t[o],enumerable:!(n=f5(t,o))||n.enumerable});return e},xr=(e,t,r)=>(r=e!=null?p5(h5(e)):{},XP(t||!e||!e.__esModule?js(r,"default",{value:e,enumerable:!0}):r,e)),_5=e=>XP(js({},"__esModule",{value:!0}),e),QP={};y5(QP,{fromIni:()=>R5});ex.exports=_5(QP);var vm=gr(),Ir=(at(),V(lr)),Us=Re(),b5=pe((e,t,r)=>{let n={EcsContainer:pe(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>xr(sf())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>xr(ts()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Us.chain)(s(o??{}),i(o))().then(Em)},"EcsContainer"),Ec2InstanceMetadata:pe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>xr(ts()));return async()=>s(o)().then(Em)},"Ec2InstanceMetadata"),Environment:pe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>xr(Qp()));return async()=>s(o)().then(Em)},"Environment")};if(e in n)return n[e];throw new Us.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Em=pe(e=>(0,Ir.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),S5=pe((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(E5(e,{profile:t,logger:r})||v5(e,{profile:t,logger:r})),"isAssumeRoleProfile"),E5=pe((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),v5=pe((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),w5=pe(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>xr((fm(),V(pm))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new Us.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,vm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?ZP(s,t,r,{...n,[s]:!0},JP(t[s]??{})):(await b5(o.credential_source,e,r.logger)(r))();if(JP(o))return a.then(c=>(0,Ir.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new Us.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let u=await a;return r.roleAssumer(u,c).then(p=>(0,Ir.setCredentialFeature)(p,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),JP=pe(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),C5=pe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),A5=pe(async(e,t)=>Promise.resolve().then(()=>xr(gm())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Ir.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),T5=pe(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>xr(kf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Ir.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Ir.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),P5=pe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),KP=pe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),YP=pe(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Ir.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),x5=pe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),I5=pe(async(e,t)=>Promise.resolve().then(()=>xr(Sm())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Ir.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),ZP=pe(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&KP(s))return YP(s,r);if(o||S5(s,{profile:e,logger:r.logger}))return w5(e,t,r,n);if(KP(s))return YP(s,r);if(x5(s))return I5(s,r);if(C5(s))return A5(r,e);if(P5(s))return await T5(e,s,r);throw new Us.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),R5=pe((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,vm.parseKnownFiles)(r);return ZP((0,vm.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var lx=w((KZ,cx)=>{"use strict";var O5=Object.create,Bs=Object.defineProperty,N5=Object.getOwnPropertyDescriptor,k5=Object.getOwnPropertyNames,D5=Object.getPrototypeOf,$5=Object.prototype.hasOwnProperty,vl=(e,t)=>Bs(e,"name",{value:t,configurable:!0}),M5=(e,t)=>{for(var r in t)Bs(e,r,{get:t[r],enumerable:!0})},ox=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k5(t))!$5.call(e,o)&&o!==r&&Bs(e,o,{get:()=>t[o],enumerable:!(n=N5(t,o))||n.enumerable});return e},eo=(e,t,r)=>(r=e!=null?O5(D5(e)):{},ox(t||!e||!e.__esModule?Bs(r,"default",{value:e,enumerable:!0}):r,e)),L5=e=>ox(Bs({},"__esModule",{value:!0}),e),sx={};M5(sx,{credentialsTreatedAsExpired:()=>ax,credentialsWillNeedRefresh:()=>ix,defaultProvider:()=>j5});cx.exports=L5(sx);var wm=Qp(),F5=gr(),cn=Re(),rx="AWS_EC2_METADATA_DISABLED",U5=vl(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>eo(ts()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>eo(sf()));return(0,cn.chain)(s(e),n(e))}return process.env[rx]&&process.env[rx]!=="false"?async()=>{throw new cn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),nx=!1,j5=vl((e={})=>(0,cn.memoize)((0,cn.chain)(async()=>{if(e.profile??process.env[F5.ENV_PROFILE])throw process.env[wm.ENV_KEY]&&process.env[wm.ENV_SECRET]&&(nx||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),nx=!0)),new cn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,wm.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new cn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>eo(kf()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>eo(tx()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>eo(gm()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>eo(Sm()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await U5(e))()),async()=>{throw new cn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),ax,ix),"defaultProvider"),ix=vl(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),ax=vl(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var wx=w(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.ruleSet=void 0;var Sx="required",Rt="fn",Ot="argv",ro="ref",dx=!0,ux="isSet",qs="booleanEquals",to="error",Hs="endpoint",Jt="tree",Cm="PartitionResult",px={[Sx]:!1,type:"String"},fx={[Sx]:!0,default:!1,type:"Boolean"},mx={[ro]:"Endpoint"},Ex={[Rt]:qs,[Ot]:[{[ro]:"UseFIPS"},!0]},vx={[Rt]:qs,[Ot]:[{[ro]:"UseDualStack"},!0]},It={},hx={[Rt]:"getAttr",[Ot]:[{[ro]:Cm},"supportsFIPS"]},gx={[Rt]:qs,[Ot]:[!0,{[Rt]:"getAttr",[Ot]:[{[ro]:Cm},"supportsDualStack"]}]},yx=[Ex],_x=[vx],bx=[{[ro]:"Region"}],B5={version:"1.0",parameters:{Region:px,UseDualStack:fx,UseFIPS:fx,Endpoint:px},rules:[{conditions:[{[Rt]:ux,[Ot]:[mx]}],rules:[{conditions:yx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:to},{conditions:_x,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:to},{endpoint:{url:mx,properties:It,headers:It},type:Hs}],type:Jt},{conditions:[{[Rt]:ux,[Ot]:bx}],rules:[{conditions:[{[Rt]:"aws.partition",[Ot]:bx,assign:Cm}],rules:[{conditions:[Ex,vx],rules:[{conditions:[{[Rt]:qs,[Ot]:[dx,hx]},gx],rules:[{endpoint:{url:"https://amplify-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:It,headers:It},type:Hs}],type:Jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:to}],type:Jt},{conditions:yx,rules:[{conditions:[{[Rt]:qs,[Ot]:[hx,dx]}],rules:[{endpoint:{url:"https://amplify-fips.{Region}.{PartitionResult#dnsSuffix}",properties:It,headers:It},type:Hs}],type:Jt},{error:"FIPS is enabled but this partition does not support FIPS",type:to}],type:Jt},{conditions:_x,rules:[{conditions:[gx],rules:[{endpoint:{url:"https://amplify.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:It,headers:It},type:Hs}],type:Jt},{error:"DualStack is enabled but this partition does not support DualStack",type:to}],type:Jt},{endpoint:{url:"https://amplify.{Region}.{PartitionResult#dnsSuffix}",properties:It,headers:It},type:Hs}],type:Jt}],type:Jt},{error:"Invalid Configuration: Missing Region",type:to}]};wl.ruleSet=B5});var Cx=w(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.defaultEndpointResolver=void 0;var H5=Cn(),Am=wn(),q5=wx(),z5=new Am.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),V5=(e,t={})=>z5.get(e,()=>(0,Am.resolveEndpoint)(q5.ruleSet,{endpointParams:e,logger:t.logger}));Cl.defaultEndpointResolver=V5;Am.customEndpointFunctions.aws=H5.awsEndpointFunctions});var Px=w(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getRuntimeConfig=void 0;var W5=(he(),V(Et)),G5=F(),J5=ir(),Ax=Pe(),Tx=_e(),K5=Xp(),Y5=Cx(),X5=e=>({apiVersion:"2017-07-25",base64Decoder:e?.base64Decoder??Ax.fromBase64,base64Encoder:e?.base64Encoder??Ax.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Y5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??K5.defaultAmplifyHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new W5.AwsSdkSigV4Signer}],logger:e?.logger??new G5.NoOpLogger,serviceId:e?.serviceId??"Amplify",urlParser:e?.urlParser??J5.parseUrl,utf8Decoder:e?.utf8Decoder??Tx.fromUtf8,utf8Encoder:e?.utf8Encoder??Tx.toUtf8});Al.getRuntimeConfig=X5});var Nx=w(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.getRuntimeConfig=void 0;var Q5=(pn(),V(un)),Z5=Q5.__importDefault(Uw()),xx=(he(),V(Et)),e6=lx(),Ix=rs(),Tl=wt(),t6=ns(),Rx=Bt(),ln=yr(),Ox=Dr(),r6=os(),n6=Dn(),o6=Px(),s6=F(),i6=as(),a6=F(),c6=e=>{(0,a6.emitWarningIfUnsupportedVersion)(process.version);let t=(0,i6.resolveDefaultsModeConfig)(e),r=()=>t().then(s6.loadConfigsForDefaultMode),n=(0,o6.getRuntimeConfig)(e);(0,xx.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ln.loadConfig)(xx.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??r6.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??e6.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ix.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Z5.default.version}),maxAttempts:e?.maxAttempts??(0,ln.loadConfig)(Rx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ln.loadConfig)(Tl.NODE_REGION_CONFIG_OPTIONS,{...Tl.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Ox.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ln.loadConfig)({...Rx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||n6.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??t6.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ox.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ln.loadConfig)(Tl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,ln.loadConfig)(Tl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,ln.loadConfig)(Ix.NODE_APP_ID_CONFIG_OPTIONS,o)}};Pl.getRuntimeConfig=c6});var QI=w((eee,XI)=>{"use strict";var xl=Object.defineProperty,l6=Object.getOwnPropertyDescriptor,d6=Object.getOwnPropertyNames,u6=Object.prototype.hasOwnProperty,m=(e,t)=>xl(e,"name",{value:t,configurable:!0}),p6=(e,t)=>{for(var r in t)xl(e,r,{get:t[r],enumerable:!0})},f6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d6(t))!u6.call(e,o)&&o!==r&&xl(e,o,{get:()=>t[o],enumerable:!(n=l6(t,o))||n.enumerable});return e},m6=e=>f6(xl({},"__esModule",{value:!0}),e),Bx={};p6(Bx,{Amplify:()=>YI,AmplifyClient:()=>no,AmplifyServiceException:()=>Kt,AppFilterSensitiveLog:()=>oo,AutoBranchCreationConfigFilterSensitiveLog:()=>Il,BadRequestException:()=>qx,BranchFilterSensitiveLog:()=>so,BuildComputeType:()=>T6,CacheConfigType:()=>A6,CertificateType:()=>R6,CreateAppCommand:()=>yI,CreateAppRequestFilterSensitiveLog:()=>nI,CreateAppResultFilterSensitiveLog:()=>oI,CreateBackendEnvironmentCommand:()=>_I,CreateBranchCommand:()=>bI,CreateBranchRequestFilterSensitiveLog:()=>sI,CreateBranchResultFilterSensitiveLog:()=>iI,CreateDeploymentCommand:()=>SI,CreateDomainAssociationCommand:()=>EI,CreateWebhookCommand:()=>vI,DeleteAppCommand:()=>wI,DeleteAppResultFilterSensitiveLog:()=>aI,DeleteBackendEnvironmentCommand:()=>CI,DeleteBranchCommand:()=>AI,DeleteBranchResultFilterSensitiveLog:()=>cI,DeleteDomainAssociationCommand:()=>TI,DeleteJobCommand:()=>PI,DeleteWebhookCommand:()=>xI,DependentServiceFailureException:()=>Vx,DomainStatus:()=>O6,GenerateAccessLogsCommand:()=>II,GetAppCommand:()=>RI,GetAppResultFilterSensitiveLog:()=>lI,GetArtifactUrlCommand:()=>OI,GetBackendEnvironmentCommand:()=>NI,GetBranchCommand:()=>kI,GetBranchResultFilterSensitiveLog:()=>dI,GetDomainAssociationCommand:()=>DI,GetJobCommand:()=>$I,GetWebhookCommand:()=>MI,InternalFailureException:()=>Gx,JobStatus:()=>$6,JobType:()=>k6,LimitExceededException:()=>Kx,ListAppsCommand:()=>Tm,ListAppsResultFilterSensitiveLog:()=>uI,ListArtifactsCommand:()=>LI,ListBackendEnvironmentsCommand:()=>FI,ListBranchesCommand:()=>Pm,ListBranchesResultFilterSensitiveLog:()=>pI,ListDomainAssociationsCommand:()=>xm,ListJobsCommand:()=>Im,ListTagsForResourceCommand:()=>UI,ListWebhooksCommand:()=>jI,NotFoundException:()=>Zx,Platform:()=>P6,RepositoryCloneMethod:()=>x6,ResourceNotFoundException:()=>tI,SourceUrlType:()=>D6,Stage:()=>C6,StartDeploymentCommand:()=>BI,StartJobCommand:()=>HI,StopJobCommand:()=>qI,TagResourceCommand:()=>zI,UnauthorizedException:()=>Xx,UntagResourceCommand:()=>VI,UpdateAppCommand:()=>WI,UpdateAppRequestFilterSensitiveLog:()=>fI,UpdateAppResultFilterSensitiveLog:()=>mI,UpdateBranchCommand:()=>GI,UpdateBranchRequestFilterSensitiveLog:()=>hI,UpdateBranchResultFilterSensitiveLog:()=>gI,UpdateDomainAssociationCommand:()=>JI,UpdateStatus:()=>N6,UpdateWebhookCommand:()=>KI,WafStatus:()=>I6,__Client:()=>d.Client,paginateListApps:()=>Sz,paginateListBranches:()=>Ez,paginateListDomainAssociations:()=>vz,paginateListJobs:()=>wz});XI.exports=m6(Bx);var kx=lo(),h6=uo(),g6=po(),Dx=On(),y6=wt(),k=(De(),V(vn)),_6=Yo(),U=_r(),$x=Bt(),Mx=Xp(),b6=m(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"amplify"}),"resolveClientEndpointParameters"),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},S6=Nx(),Lx=cs(),Fx=ne(),d=F(),E6=m(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),v6=m(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),w6=m((e,t)=>{let r=Object.assign((0,Lx.getAwsRegionExtensionConfiguration)(e),(0,d.getDefaultExtensionConfiguration)(e),(0,Fx.getHttpHandlerExtensionConfiguration)(e),E6(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Lx.resolveAwsRegionExtensionConfiguration)(r),(0,d.resolveDefaultRuntimeConfig)(r),(0,Fx.resolveHttpHandlerRuntimeConfig)(r),v6(r))},"resolveRuntimeExtensions"),no=class extends d.Client{static{m(this,"AmplifyClient")}config;constructor(...[e]){let t=(0,S6.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=b6(t),n=(0,Dx.resolveUserAgentConfig)(r),o=(0,$x.resolveRetryConfig)(n),s=(0,y6.resolveRegionConfig)(o),i=(0,kx.resolveHostHeaderConfig)(s),a=(0,U.resolveEndpointConfig)(i),c=(0,Mx.resolveHttpAuthSchemeConfig)(a),l=w6(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,Dx.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,$x.getRetryPlugin)(this.config)),this.middlewareStack.use((0,_6.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,kx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,h6.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,g6.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,k.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Mx.defaultAmplifyHttpAuthSchemeParametersProvider,identityProviderConfigProvider:m(async u=>new k.DefaultIdentityProviderConfig({"aws.auth#sigv4":u.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,k.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},H=tr(),Kt=class Hx extends d.ServiceException{static{m(this,"AmplifyServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Hx.prototype)}},qx=class zx extends Kt{static{m(this,"BadRequestException")}name="BadRequestException";$fault="client";constructor(t){super({name:"BadRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,zx.prototype)}},C6={BETA:"BETA",DEVELOPMENT:"DEVELOPMENT",EXPERIMENTAL:"EXPERIMENTAL",PRODUCTION:"PRODUCTION",PULL_REQUEST:"PULL_REQUEST"},A6={AMPLIFY_MANAGED:"AMPLIFY_MANAGED",AMPLIFY_MANAGED_NO_COOKIES:"AMPLIFY_MANAGED_NO_COOKIES"},T6={LARGE_16GB:"LARGE_16GB",STANDARD_8GB:"STANDARD_8GB",XLARGE_72GB:"XLARGE_72GB"},P6={WEB:"WEB",WEB_COMPUTE:"WEB_COMPUTE",WEB_DYNAMIC:"WEB_DYNAMIC"},x6={SIGV4:"SIGV4",SSH:"SSH",TOKEN:"TOKEN"},I6={ASSOCIATING:"ASSOCIATING",ASSOCIATION_FAILED:"ASSOCIATION_FAILED",ASSOCIATION_SUCCESS:"ASSOCIATION_SUCCESS",DISASSOCIATING:"DISASSOCIATING",DISASSOCIATION_FAILED:"DISASSOCIATION_FAILED"},Vx=class Wx extends Kt{static{m(this,"DependentServiceFailureException")}name="DependentServiceFailureException";$fault="server";constructor(t){super({name:"DependentServiceFailureException",$fault:"server",...t}),Object.setPrototypeOf(this,Wx.prototype)}},Gx=class Jx extends Kt{static{m(this,"InternalFailureException")}name="InternalFailureException";$fault="server";constructor(t){super({name:"InternalFailureException",$fault:"server",...t}),Object.setPrototypeOf(this,Jx.prototype)}},Kx=class Yx extends Kt{static{m(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Yx.prototype)}},Xx=class Qx extends Kt{static{m(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,Qx.prototype)}},Zx=class eI extends Kt{static{m(this,"NotFoundException")}name="NotFoundException";$fault="client";constructor(t){super({name:"NotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,eI.prototype)}},R6={AMPLIFY_MANAGED:"AMPLIFY_MANAGED",CUSTOM:"CUSTOM"},O6={AVAILABLE:"AVAILABLE",AWAITING_APP_CNAME:"AWAITING_APP_CNAME",CREATING:"CREATING",FAILED:"FAILED",IMPORTING_CUSTOM_CERTIFICATE:"IMPORTING_CUSTOM_CERTIFICATE",IN_PROGRESS:"IN_PROGRESS",PENDING_DEPLOYMENT:"PENDING_DEPLOYMENT",PENDING_VERIFICATION:"PENDING_VERIFICATION",REQUESTING_CERTIFICATE:"REQUESTING_CERTIFICATE",UPDATING:"UPDATING"},N6={AWAITING_APP_CNAME:"AWAITING_APP_CNAME",IMPORTING_CUSTOM_CERTIFICATE:"IMPORTING_CUSTOM_CERTIFICATE",PENDING_DEPLOYMENT:"PENDING_DEPLOYMENT",PENDING_VERIFICATION:"PENDING_VERIFICATION",REQUESTING_CERTIFICATE:"REQUESTING_CERTIFICATE",UPDATE_COMPLETE:"UPDATE_COMPLETE",UPDATE_FAILED:"UPDATE_FAILED"},k6={MANUAL:"MANUAL",RELEASE:"RELEASE",RETRY:"RETRY",WEB_HOOK:"WEB_HOOK"},D6={BUCKET_PREFIX:"BUCKET_PREFIX",ZIP:"ZIP"},$6={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",CREATED:"CREATED",FAILED:"FAILED",PENDING:"PENDING",PROVISIONING:"PROVISIONING",RUNNING:"RUNNING",SUCCEED:"SUCCEED"},tI=class rI extends Kt{static{m(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";code;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,rI.prototype),this.code=t.code}},Il=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING}}),"AutoBranchCreationConfigFilterSensitiveLog"),nI=m(e=>({...e,...e.oauthToken&&{oauthToken:d.SENSITIVE_STRING},...e.accessToken&&{accessToken:d.SENSITIVE_STRING},...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING},...e.autoBranchCreationConfig&&{autoBranchCreationConfig:Il(e.autoBranchCreationConfig)}}),"CreateAppRequestFilterSensitiveLog"),oo=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING},...e.autoBranchCreationConfig&&{autoBranchCreationConfig:Il(e.autoBranchCreationConfig)}}),"AppFilterSensitiveLog"),oI=m(e=>({...e,...e.app&&{app:oo(e.app)}}),"CreateAppResultFilterSensitiveLog"),sI=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING}}),"CreateBranchRequestFilterSensitiveLog"),so=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING}}),"BranchFilterSensitiveLog"),iI=m(e=>({...e,...e.branch&&{branch:so(e.branch)}}),"CreateBranchResultFilterSensitiveLog"),aI=m(e=>({...e,...e.app&&{app:oo(e.app)}}),"DeleteAppResultFilterSensitiveLog"),cI=m(e=>({...e,...e.branch&&{branch:so(e.branch)}}),"DeleteBranchResultFilterSensitiveLog"),lI=m(e=>({...e,...e.app&&{app:oo(e.app)}}),"GetAppResultFilterSensitiveLog"),dI=m(e=>({...e,...e.branch&&{branch:so(e.branch)}}),"GetBranchResultFilterSensitiveLog"),uI=m(e=>({...e,...e.apps&&{apps:e.apps.map(t=>oo(t))}}),"ListAppsResultFilterSensitiveLog"),pI=m(e=>({...e,...e.branches&&{branches:e.branches.map(t=>so(t))}}),"ListBranchesResultFilterSensitiveLog"),fI=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING},...e.autoBranchCreationConfig&&{autoBranchCreationConfig:Il(e.autoBranchCreationConfig)},...e.oauthToken&&{oauthToken:d.SENSITIVE_STRING},...e.accessToken&&{accessToken:d.SENSITIVE_STRING}}),"UpdateAppRequestFilterSensitiveLog"),mI=m(e=>({...e,...e.app&&{app:oo(e.app)}}),"UpdateAppResultFilterSensitiveLog"),hI=m(e=>({...e,...e.basicAuthCredentials&&{basicAuthCredentials:d.SENSITIVE_STRING},...e.buildSpec&&{buildSpec:d.SENSITIVE_STRING}}),"UpdateBranchRequestFilterSensitiveLog"),gI=m(e=>({...e,...e.branch&&{branch:so(e.branch)}}),"UpdateBranchResultFilterSensitiveLog"),j=(he(),V(Et)),M6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps");let o;return o=JSON.stringify((0,d.take)(e,{accessToken:[],autoBranchCreationConfig:m(s=>(0,d._json)(s),"autoBranchCreationConfig"),autoBranchCreationPatterns:m(s=>(0,d._json)(s),"autoBranchCreationPatterns"),basicAuthCredentials:[],buildSpec:[],cacheConfig:m(s=>(0,d._json)(s),"cacheConfig"),computeRoleArn:[],customHeaders:[],customRules:m(s=>(0,d._json)(s),"customRules"),description:[],enableAutoBranchCreation:[],enableBasicAuth:[],enableBranchAutoBuild:[],enableBranchAutoDeletion:[],environmentVariables:m(s=>(0,d._json)(s),"environmentVariables"),iamServiceRoleArn:[],jobConfig:m(s=>(0,d._json)(s),"jobConfig"),name:[],oauthToken:[],platform:[],repository:[],tags:m(s=>(0,d._json)(s),"tags")})),r.m("POST").h(n).b(o),r.build()},"se_CreateAppCommand"),L6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/backendenvironments"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{deploymentArtifacts:[],environmentName:[],stackName:[]})),r.m("POST").h(n).b(o),r.build()},"se_CreateBackendEnvironmentCommand"),F6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/branches"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{backend:m(s=>(0,d._json)(s),"backend"),backendEnvironmentArn:[],basicAuthCredentials:[],branchName:[],buildSpec:[],computeRoleArn:[],description:[],displayName:[],enableAutoBuild:[],enableBasicAuth:[],enableNotification:[],enablePerformanceMode:[],enablePullRequestPreview:[],enableSkewProtection:[],environmentVariables:m(s=>(0,d._json)(s),"environmentVariables"),framework:[],pullRequestEnvironmentName:[],stage:[],tags:m(s=>(0,d._json)(s),"tags"),ttl:[]})),r.m("POST").h(n).b(o),r.build()},"se_CreateBranchCommand"),U6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/branches/{branchName}/deployments"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1);let o;return o=JSON.stringify((0,d.take)(e,{fileMap:m(s=>(0,d._json)(s),"fileMap")})),r.m("POST").h(n).b(o),r.build()},"se_CreateDeploymentCommand"),j6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/domains"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{autoSubDomainCreationPatterns:m(s=>(0,d._json)(s),"autoSubDomainCreationPatterns"),autoSubDomainIAMRole:[],certificateSettings:m(s=>(0,d._json)(s),"certificateSettings"),domainName:[],enableAutoSubDomain:[],subDomainSettings:m(s=>(0,d._json)(s),"subDomainSettings")})),r.m("POST").h(n).b(o),r.build()},"se_CreateDomainAssociationCommand"),B6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/webhooks"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{branchName:[],description:[]})),r.m("POST").h(n).b(o),r.build()},"se_CreateWebhookCommand"),H6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}"),r.p("appId",()=>e.appId,"{appId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteAppCommand"),q6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/backendenvironments/{environmentName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("environmentName",()=>e.environmentName,"{environmentName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteBackendEnvironmentCommand"),z6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/branches/{branchName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteBranchCommand"),V6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/domains/{domainName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("domainName",()=>e.domainName,"{domainName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteDomainAssociationCommand"),W6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/branches/{branchName}/jobs/{jobId}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.p("jobId",()=>e.jobId,"{jobId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteJobCommand"),G6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/webhooks/{webhookId}"),r.p("webhookId",()=>e.webhookId,"{webhookId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteWebhookCommand"),J6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/accesslogs"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{domainName:[],endTime:m(s=>s.getTime()/1e3,"endTime"),startTime:m(s=>s.getTime()/1e3,"startTime")})),r.m("POST").h(n).b(o),r.build()},"se_GenerateAccessLogsCommand"),K6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}"),r.p("appId",()=>e.appId,"{appId}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetAppCommand"),Y6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/artifacts/{artifactId}"),r.p("artifactId",()=>e.artifactId,"{artifactId}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetArtifactUrlCommand"),X6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/backendenvironments/{environmentName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("environmentName",()=>e.environmentName,"{environmentName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetBackendEnvironmentCommand"),Q6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/branches/{branchName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetBranchCommand"),Z6=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/domains/{domainName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("domainName",()=>e.domainName,"{domainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetDomainAssociationCommand"),eq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/branches/{branchName}/jobs/{jobId}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.p("jobId",()=>e.jobId,"{jobId}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetJobCommand"),tq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/webhooks/{webhookId}"),r.p("webhookId",()=>e.webhookId,"{webhookId}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetWebhookCommand"),rq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps");let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAppsCommand"),nq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/branches/{branchName}/jobs/{jobId}/artifacts"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.p("jobId",()=>e.jobId,"{jobId}",!1);let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListArtifactsCommand"),oq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/backendenvironments"),r.p("appId",()=>e.appId,"{appId}",!1);let o=(0,d.map)({[Ux]:[,e[Ux]],[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListBackendEnvironmentsCommand"),sq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/branches"),r.p("appId",()=>e.appId,"{appId}",!1);let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListBranchesCommand"),iq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/domains"),r.p("appId",()=>e.appId,"{appId}",!1);let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListDomainAssociationsCommand"),aq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/branches/{branchName}/jobs"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1);let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListJobsCommand"),cq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/tags/{resourceArn}"),r.p("resourceArn",()=>e.resourceArn,"{resourceArn}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_ListTagsForResourceCommand"),lq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/apps/{appId}/webhooks"),r.p("appId",()=>e.appId,"{appId}",!1);let o=(0,d.map)({[Ue]:[,e[Ue]],[Fe]:[()=>e.maxResults!==void 0,()=>e[Fe].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListWebhooksCommand"),dq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/branches/{branchName}/deployments/start"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1);let o;return o=JSON.stringify((0,d.take)(e,{jobId:[],sourceUrl:[],sourceUrlType:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeploymentCommand"),uq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/branches/{branchName}/jobs"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1);let o;return o=JSON.stringify((0,d.take)(e,{commitId:[],commitMessage:[],commitTime:m(s=>s.getTime()/1e3,"commitTime"),jobId:[],jobReason:[],jobType:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartJobCommand"),pq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};return r.bp("/apps/{appId}/branches/{branchName}/jobs/{jobId}/stop"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1),r.p("jobId",()=>e.jobId,"{jobId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_StopJobCommand"),fq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/tags/{resourceArn}"),r.p("resourceArn",()=>e.resourceArn,"{resourceArn}",!1);let o;return o=JSON.stringify((0,d.take)(e,{tags:m(s=>(0,d._json)(s),"tags")})),r.m("POST").h(n).b(o),r.build()},"se_TagResourceCommand"),mq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={};r.bp("/tags/{resourceArn}"),r.p("resourceArn",()=>e.resourceArn,"{resourceArn}",!1);let o=(0,d.map)({[jx]:[(0,d.expectNonNull)(e.tagKeys,"tagKeys")!=null,()=>e[jx]||[]]});return r.m("DELETE").h(n).q(o).b(void 0),r.build()},"se_UntagResourceCommand"),hq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}"),r.p("appId",()=>e.appId,"{appId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{accessToken:[],autoBranchCreationConfig:m(s=>(0,d._json)(s),"autoBranchCreationConfig"),autoBranchCreationPatterns:m(s=>(0,d._json)(s),"autoBranchCreationPatterns"),basicAuthCredentials:[],buildSpec:[],cacheConfig:m(s=>(0,d._json)(s),"cacheConfig"),computeRoleArn:[],customHeaders:[],customRules:m(s=>(0,d._json)(s),"customRules"),description:[],enableAutoBranchCreation:[],enableBasicAuth:[],enableBranchAutoBuild:[],enableBranchAutoDeletion:[],environmentVariables:m(s=>(0,d._json)(s),"environmentVariables"),iamServiceRoleArn:[],jobConfig:m(s=>(0,d._json)(s),"jobConfig"),name:[],oauthToken:[],platform:[],repository:[]})),r.m("POST").h(n).b(o),r.build()},"se_UpdateAppCommand"),gq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/branches/{branchName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("branchName",()=>e.branchName,"{branchName}",!1);let o;return o=JSON.stringify((0,d.take)(e,{backend:m(s=>(0,d._json)(s),"backend"),backendEnvironmentArn:[],basicAuthCredentials:[],buildSpec:[],computeRoleArn:[],description:[],displayName:[],enableAutoBuild:[],enableBasicAuth:[],enableNotification:[],enablePerformanceMode:[],enablePullRequestPreview:[],enableSkewProtection:[],environmentVariables:m(s=>(0,d._json)(s),"environmentVariables"),framework:[],pullRequestEnvironmentName:[],stage:[],ttl:[]})),r.m("POST").h(n).b(o),r.build()},"se_UpdateBranchCommand"),yq=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/apps/{appId}/domains/{domainName}"),r.p("appId",()=>e.appId,"{appId}",!1),r.p("domainName",()=>e.domainName,"{domainName}",!1);let o;return o=JSON.stringify((0,d.take)(e,{autoSubDomainCreationPatterns:m(s=>(0,d._json)(s),"autoSubDomainCreationPatterns"),autoSubDomainIAMRole:[],certificateSettings:m(s=>(0,d._json)(s),"certificateSettings"),enableAutoSubDomain:[],subDomainSettings:m(s=>(0,d._json)(s),"subDomainSettings")})),r.m("POST").h(n).b(o),r.build()},"se_UpdateDomainAssociationCommand"),_q=m(async(e,t)=>{let r=(0,k.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/webhooks/{webhookId}"),r.p("webhookId",()=>e.webhookId,"{webhookId}",!1);let o;return o=JSON.stringify((0,d.take)(e,{branchName:[],description:[]})),r.m("POST").h(n).b(o),r.build()},"se_UpdateWebhookCommand"),bq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{app:m(s=>zs(s,t),"app")});return Object.assign(r,o),r},"de_CreateAppCommand"),Sq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{backendEnvironment:m(s=>Rl(s,t),"backendEnvironment")});return Object.assign(r,o),r},"de_CreateBackendEnvironmentCommand"),Eq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{branch:m(s=>Vs(s,t),"branch")});return Object.assign(r,o),r},"de_CreateBranchCommand"),vq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{fileUploadUrls:d._json,jobId:d.expectString,zipUploadUrl:d.expectString});return Object.assign(r,o),r},"de_CreateDeploymentCommand"),wq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{domainAssociation:d._json});return Object.assign(r,o),r},"de_CreateDomainAssociationCommand"),Cq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{webhook:m(s=>Ws(s,t),"webhook")});return Object.assign(r,o),r},"de_CreateWebhookCommand"),Aq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{app:m(s=>zs(s,t),"app")});return Object.assign(r,o),r},"de_DeleteAppCommand"),Tq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{backendEnvironment:m(s=>Rl(s,t),"backendEnvironment")});return Object.assign(r,o),r},"de_DeleteBackendEnvironmentCommand"),Pq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{branch:m(s=>Vs(s,t),"branch")});return Object.assign(r,o),r},"de_DeleteBranchCommand"),xq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{domainAssociation:d._json});return Object.assign(r,o),r},"de_DeleteDomainAssociationCommand"),Iq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{jobSummary:m(s=>io(s,t),"jobSummary")});return Object.assign(r,o),r},"de_DeleteJobCommand"),Rq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{webhook:m(s=>Ws(s,t),"webhook")});return Object.assign(r,o),r},"de_DeleteWebhookCommand"),Oq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{logUrl:d.expectString});return Object.assign(r,o),r},"de_GenerateAccessLogsCommand"),Nq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{app:m(s=>zs(s,t),"app")});return Object.assign(r,o),r},"de_GetAppCommand"),kq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{artifactId:d.expectString,artifactUrl:d.expectString});return Object.assign(r,o),r},"de_GetArtifactUrlCommand"),Dq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{backendEnvironment:m(s=>Rl(s,t),"backendEnvironment")});return Object.assign(r,o),r},"de_GetBackendEnvironmentCommand"),$q=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{branch:m(s=>Vs(s,t),"branch")});return Object.assign(r,o),r},"de_GetBranchCommand"),Mq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{domainAssociation:d._json});return Object.assign(r,o),r},"de_GetDomainAssociationCommand"),Lq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{job:m(s=>fz(s,t),"job")});return Object.assign(r,o),r},"de_GetJobCommand"),Fq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{webhook:m(s=>Ws(s,t),"webhook")});return Object.assign(r,o),r},"de_GetWebhookCommand"),Uq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{apps:m(s=>dz(s,t),"apps"),nextToken:d.expectString});return Object.assign(r,o),r},"de_ListAppsCommand"),jq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{artifacts:d._json,nextToken:d.expectString});return Object.assign(r,o),r},"de_ListArtifactsCommand"),Bq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{backendEnvironments:m(s=>uz(s,t),"backendEnvironments"),nextToken:d.expectString});return Object.assign(r,o),r},"de_ListBackendEnvironmentsCommand"),Hq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{branches:m(s=>pz(s,t),"branches"),nextToken:d.expectString});return Object.assign(r,o),r},"de_ListBranchesCommand"),qq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{domainAssociations:d._json,nextToken:d.expectString});return Object.assign(r,o),r},"de_ListDomainAssociationsCommand"),zq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{jobSummaries:m(s=>mz(s,t),"jobSummaries"),nextToken:d.expectString});return Object.assign(r,o),r},"de_ListJobsCommand"),Vq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{tags:d._json});return Object.assign(r,o),r},"de_ListTagsForResourceCommand"),Wq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{nextToken:d.expectString,webhooks:m(s=>_z(s,t),"webhooks")});return Object.assign(r,o),r},"de_ListWebhooksCommand"),Gq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{jobSummary:m(s=>io(s,t),"jobSummary")});return Object.assign(r,o),r},"de_StartDeploymentCommand"),Jq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{jobSummary:m(s=>io(s,t),"jobSummary")});return Object.assign(r,o),r},"de_StartJobCommand"),Kq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{jobSummary:m(s=>io(s,t),"jobSummary")});return Object.assign(r,o),r},"de_StopJobCommand"),Yq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)});return await(0,d.collectBody)(e.body,t),r},"de_TagResourceCommand"),Xq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)});return await(0,d.collectBody)(e.body,t),r},"de_UntagResourceCommand"),Qq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{app:m(s=>zs(s,t),"app")});return Object.assign(r,o),r},"de_UpdateAppCommand"),Zq=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{branch:m(s=>Vs(s,t),"branch")});return Object.assign(r,o),r},"de_UpdateBranchCommand"),ez=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{domainAssociation:d._json});return Object.assign(r,o),r},"de_UpdateDomainAssociationCommand"),tz=m(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,d.map)({$metadata:D(e)}),n=(0,d.expectNonNull)((0,d.expectObject)(await(0,j.parseJsonBody)(e.body,t)),"body"),o=(0,d.take)(n,{webhook:m(s=>Ws(s,t),"webhook")});return Object.assign(r,o),r},"de_UpdateWebhookCommand"),q=m(async(e,t)=>{let r={...e,body:await(0,j.parseJsonErrorBody)(e.body,t)},n=(0,j.loadRestJsonErrorCode)(e,r.body);switch(n){case"BadRequestException":case"com.amazonaws.amplify#BadRequestException":throw await nz(r,t);case"DependentServiceFailureException":case"com.amazonaws.amplify#DependentServiceFailureException":throw await oz(r,t);case"InternalFailureException":case"com.amazonaws.amplify#InternalFailureException":throw await sz(r,t);case"LimitExceededException":case"com.amazonaws.amplify#LimitExceededException":throw await iz(r,t);case"UnauthorizedException":case"com.amazonaws.amplify#UnauthorizedException":throw await lz(r,t);case"NotFoundException":case"com.amazonaws.amplify#NotFoundException":throw await az(r,t);case"ResourceNotFoundException":case"com.amazonaws.amplify#ResourceNotFoundException":throw await cz(r,t);default:let o=r.body;return rz({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),rz=(0,d.withBaseException)(Kt),nz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new qx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_BadRequestExceptionRes"),oz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new Vx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_DependentServiceFailureExceptionRes"),sz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new Gx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_InternalFailureExceptionRes"),iz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new Kx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_LimitExceededExceptionRes"),az=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new Zx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_NotFoundExceptionRes"),cz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{code:d.expectString,message:d.expectString});Object.assign(r,o);let s=new tI({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),lz=m(async(e,t)=>{let r=(0,d.map)({}),n=e.body,o=(0,d.take)(n,{message:d.expectString});Object.assign(r,o);let s=new Xx({$metadata:D(e),...r});return(0,d.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),zs=m((e,t)=>(0,d.take)(e,{appArn:d.expectString,appId:d.expectString,autoBranchCreationConfig:d._json,autoBranchCreationPatterns:d._json,basicAuthCredentials:d.expectString,buildSpec:d.expectString,cacheConfig:d._json,computeRoleArn:d.expectString,createTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createTime"),customHeaders:d.expectString,customRules:d._json,defaultDomain:d.expectString,description:d.expectString,enableAutoBranchCreation:d.expectBoolean,enableBasicAuth:d.expectBoolean,enableBranchAutoBuild:d.expectBoolean,enableBranchAutoDeletion:d.expectBoolean,environmentVariables:d._json,iamServiceRoleArn:d.expectString,jobConfig:d._json,name:d.expectString,platform:d.expectString,productionBranch:m(r=>hz(r,t),"productionBranch"),repository:d.expectString,repositoryCloneMethod:d.expectString,tags:d._json,updateTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateTime"),wafConfiguration:d._json,webhookCreateTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"webhookCreateTime")}),"de_App"),dz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zs(n,t)),"de_Apps"),Rl=m((e,t)=>(0,d.take)(e,{backendEnvironmentArn:d.expectString,createTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createTime"),deploymentArtifacts:d.expectString,environmentName:d.expectString,stackName:d.expectString,updateTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateTime")}),"de_BackendEnvironment"),uz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Rl(n,t)),"de_BackendEnvironments"),Vs=m((e,t)=>(0,d.take)(e,{activeJobId:d.expectString,associatedResources:d._json,backend:d._json,backendEnvironmentArn:d.expectString,basicAuthCredentials:d.expectString,branchArn:d.expectString,branchName:d.expectString,buildSpec:d.expectString,computeRoleArn:d.expectString,createTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createTime"),customDomains:d._json,description:d.expectString,destinationBranch:d.expectString,displayName:d.expectString,enableAutoBuild:d.expectBoolean,enableBasicAuth:d.expectBoolean,enableNotification:d.expectBoolean,enablePerformanceMode:d.expectBoolean,enablePullRequestPreview:d.expectBoolean,enableSkewProtection:d.expectBoolean,environmentVariables:d._json,framework:d.expectString,pullRequestEnvironmentName:d.expectString,sourceBranch:d.expectString,stage:d.expectString,tags:d._json,thumbnailUrl:d.expectString,totalNumberOfJobs:d.expectString,ttl:d.expectString,updateTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateTime")}),"de_Branch"),pz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Vs(n,t)),"de_Branches"),fz=m((e,t)=>(0,d.take)(e,{steps:m(r=>yz(r,t),"steps"),summary:m(r=>io(r,t),"summary")}),"de_Job"),mz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>io(n,t)),"de_JobSummaries"),io=m((e,t)=>(0,d.take)(e,{commitId:d.expectString,commitMessage:d.expectString,commitTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"commitTime"),endTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"endTime"),jobArn:d.expectString,jobId:d.expectString,jobType:d.expectString,sourceUrl:d.expectString,sourceUrlType:d.expectString,startTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startTime"),status:d.expectString}),"de_JobSummary"),hz=m((e,t)=>(0,d.take)(e,{branchName:d.expectString,lastDeployTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"lastDeployTime"),status:d.expectString,thumbnailUrl:d.expectString}),"de_ProductionBranch"),gz=m((e,t)=>(0,d.take)(e,{artifactsUrl:d.expectString,context:d.expectString,endTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"endTime"),logUrl:d.expectString,screenshots:d._json,startTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"startTime"),status:d.expectString,statusReason:d.expectString,stepName:d.expectString,testArtifactsUrl:d.expectString,testConfigUrl:d.expectString}),"de_Step"),yz=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>gz(n,t)),"de_Steps"),Ws=m((e,t)=>(0,d.take)(e,{appId:d.expectString,branchName:d.expectString,createTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"createTime"),description:d.expectString,updateTime:m(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"updateTime"),webhookArn:d.expectString,webhookId:d.expectString,webhookUrl:d.expectString}),"de_Webhook"),_z=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ws(n,t)),"de_Webhooks"),D=m(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Ux="environmentName",Fe="maxResults",Ue="nextToken",jx="tagKeys",yI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateApp",{}).n("AmplifyClient","CreateAppCommand").f(nI,oI).ser(M6).de(bq).build(){static{m(this,"CreateAppCommand")}},_I=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateBackendEnvironment",{}).n("AmplifyClient","CreateBackendEnvironmentCommand").f(void 0,void 0).ser(L6).de(Sq).build(){static{m(this,"CreateBackendEnvironmentCommand")}},bI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateBranch",{}).n("AmplifyClient","CreateBranchCommand").f(sI,iI).ser(F6).de(Eq).build(){static{m(this,"CreateBranchCommand")}},SI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateDeployment",{}).n("AmplifyClient","CreateDeploymentCommand").f(void 0,void 0).ser(U6).de(vq).build(){static{m(this,"CreateDeploymentCommand")}},EI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateDomainAssociation",{}).n("AmplifyClient","CreateDomainAssociationCommand").f(void 0,void 0).ser(j6).de(wq).build(){static{m(this,"CreateDomainAssociationCommand")}},vI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","CreateWebhook",{}).n("AmplifyClient","CreateWebhookCommand").f(void 0,void 0).ser(B6).de(Cq).build(){static{m(this,"CreateWebhookCommand")}},wI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteApp",{}).n("AmplifyClient","DeleteAppCommand").f(void 0,aI).ser(H6).de(Aq).build(){static{m(this,"DeleteAppCommand")}},CI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteBackendEnvironment",{}).n("AmplifyClient","DeleteBackendEnvironmentCommand").f(void 0,void 0).ser(q6).de(Tq).build(){static{m(this,"DeleteBackendEnvironmentCommand")}},AI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteBranch",{}).n("AmplifyClient","DeleteBranchCommand").f(void 0,cI).ser(z6).de(Pq).build(){static{m(this,"DeleteBranchCommand")}},TI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteDomainAssociation",{}).n("AmplifyClient","DeleteDomainAssociationCommand").f(void 0,void 0).ser(V6).de(xq).build(){static{m(this,"DeleteDomainAssociationCommand")}},PI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteJob",{}).n("AmplifyClient","DeleteJobCommand").f(void 0,void 0).ser(W6).de(Iq).build(){static{m(this,"DeleteJobCommand")}},xI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","DeleteWebhook",{}).n("AmplifyClient","DeleteWebhookCommand").f(void 0,void 0).ser(G6).de(Rq).build(){static{m(this,"DeleteWebhookCommand")}},II=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GenerateAccessLogs",{}).n("AmplifyClient","GenerateAccessLogsCommand").f(void 0,void 0).ser(J6).de(Oq).build(){static{m(this,"GenerateAccessLogsCommand")}},RI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetApp",{}).n("AmplifyClient","GetAppCommand").f(void 0,lI).ser(K6).de(Nq).build(){static{m(this,"GetAppCommand")}},OI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetArtifactUrl",{}).n("AmplifyClient","GetArtifactUrlCommand").f(void 0,void 0).ser(Y6).de(kq).build(){static{m(this,"GetArtifactUrlCommand")}},NI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetBackendEnvironment",{}).n("AmplifyClient","GetBackendEnvironmentCommand").f(void 0,void 0).ser(X6).de(Dq).build(){static{m(this,"GetBackendEnvironmentCommand")}},kI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetBranch",{}).n("AmplifyClient","GetBranchCommand").f(void 0,dI).ser(Q6).de($q).build(){static{m(this,"GetBranchCommand")}},DI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetDomainAssociation",{}).n("AmplifyClient","GetDomainAssociationCommand").f(void 0,void 0).ser(Z6).de(Mq).build(){static{m(this,"GetDomainAssociationCommand")}},$I=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetJob",{}).n("AmplifyClient","GetJobCommand").f(void 0,void 0).ser(eq).de(Lq).build(){static{m(this,"GetJobCommand")}},MI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","GetWebhook",{}).n("AmplifyClient","GetWebhookCommand").f(void 0,void 0).ser(tq).de(Fq).build(){static{m(this,"GetWebhookCommand")}},Tm=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListApps",{}).n("AmplifyClient","ListAppsCommand").f(void 0,uI).ser(rq).de(Uq).build(){static{m(this,"ListAppsCommand")}},LI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListArtifacts",{}).n("AmplifyClient","ListArtifactsCommand").f(void 0,void 0).ser(nq).de(jq).build(){static{m(this,"ListArtifactsCommand")}},FI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListBackendEnvironments",{}).n("AmplifyClient","ListBackendEnvironmentsCommand").f(void 0,void 0).ser(oq).de(Bq).build(){static{m(this,"ListBackendEnvironmentsCommand")}},Pm=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListBranches",{}).n("AmplifyClient","ListBranchesCommand").f(void 0,pI).ser(sq).de(Hq).build(){static{m(this,"ListBranchesCommand")}},xm=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListDomainAssociations",{}).n("AmplifyClient","ListDomainAssociationsCommand").f(void 0,void 0).ser(iq).de(qq).build(){static{m(this,"ListDomainAssociationsCommand")}},Im=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListJobs",{}).n("AmplifyClient","ListJobsCommand").f(void 0,void 0).ser(aq).de(zq).build(){static{m(this,"ListJobsCommand")}},UI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListTagsForResource",{}).n("AmplifyClient","ListTagsForResourceCommand").f(void 0,void 0).ser(cq).de(Vq).build(){static{m(this,"ListTagsForResourceCommand")}},jI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","ListWebhooks",{}).n("AmplifyClient","ListWebhooksCommand").f(void 0,void 0).ser(lq).de(Wq).build(){static{m(this,"ListWebhooksCommand")}},BI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","StartDeployment",{}).n("AmplifyClient","StartDeploymentCommand").f(void 0,void 0).ser(dq).de(Gq).build(){static{m(this,"StartDeploymentCommand")}},HI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","StartJob",{}).n("AmplifyClient","StartJobCommand").f(void 0,void 0).ser(uq).de(Jq).build(){static{m(this,"StartJobCommand")}},qI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","StopJob",{}).n("AmplifyClient","StopJobCommand").f(void 0,void 0).ser(pq).de(Kq).build(){static{m(this,"StopJobCommand")}},zI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","TagResource",{}).n("AmplifyClient","TagResourceCommand").f(void 0,void 0).ser(fq).de(Yq).build(){static{m(this,"TagResourceCommand")}},VI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","UntagResource",{}).n("AmplifyClient","UntagResourceCommand").f(void 0,void 0).ser(mq).de(Xq).build(){static{m(this,"UntagResourceCommand")}},WI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","UpdateApp",{}).n("AmplifyClient","UpdateAppCommand").f(fI,mI).ser(hq).de(Qq).build(){static{m(this,"UpdateAppCommand")}},GI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","UpdateBranch",{}).n("AmplifyClient","UpdateBranchCommand").f(hI,gI).ser(gq).de(Zq).build(){static{m(this,"UpdateBranchCommand")}},JI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","UpdateDomainAssociation",{}).n("AmplifyClient","UpdateDomainAssociationCommand").f(void 0,void 0).ser(yq).de(ez).build(){static{m(this,"UpdateDomainAssociationCommand")}},KI=class extends d.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,H.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Amplify","UpdateWebhook",{}).n("AmplifyClient","UpdateWebhookCommand").f(void 0,void 0).ser(_q).de(tz).build(){static{m(this,"UpdateWebhookCommand")}},bz={CreateAppCommand:yI,CreateBackendEnvironmentCommand:_I,CreateBranchCommand:bI,CreateDeploymentCommand:SI,CreateDomainAssociationCommand:EI,CreateWebhookCommand:vI,DeleteAppCommand:wI,DeleteBackendEnvironmentCommand:CI,DeleteBranchCommand:AI,DeleteDomainAssociationCommand:TI,DeleteJobCommand:PI,DeleteWebhookCommand:xI,GenerateAccessLogsCommand:II,GetAppCommand:RI,GetArtifactUrlCommand:OI,GetBackendEnvironmentCommand:NI,GetBranchCommand:kI,GetDomainAssociationCommand:DI,GetJobCommand:$I,GetWebhookCommand:MI,ListAppsCommand:Tm,ListArtifactsCommand:LI,ListBackendEnvironmentsCommand:FI,ListBranchesCommand:Pm,ListDomainAssociationsCommand:xm,ListJobsCommand:Im,ListTagsForResourceCommand:UI,ListWebhooksCommand:jI,StartDeploymentCommand:BI,StartJobCommand:HI,StopJobCommand:qI,TagResourceCommand:zI,UntagResourceCommand:VI,UpdateAppCommand:WI,UpdateBranchCommand:GI,UpdateDomainAssociationCommand:JI,UpdateWebhookCommand:KI},YI=class extends no{static{m(this,"Amplify")}};(0,d.createAggregatedClient)(bz,YI);var Sz=(0,k.createPaginator)(no,Tm,"nextToken","nextToken","maxResults"),Ez=(0,k.createPaginator)(no,Pm,"nextToken","nextToken","maxResults"),vz=(0,k.createPaginator)(no,xm,"nextToken","nextToken","maxResults"),wz=(0,k.createPaginator)(no,Im,"nextToken","nextToken","maxResults")});var Mz={};rt(Mz,{default:()=>uR});module.exports=V(Mz);var f=require("@raycast/api"),Ve=require("react");var Ne=require("@raycast/api");var je="https://console.aws.amazon.com";function Rr(){let e=!!process.env.AWS_PROFILE,t=!!process.env.AWS_VAULT;return e||t}function $l(e,t,r=void 0){let{AWS_REGION:n}=process.env;if(!e)return"";switch(t){case"AWS::SSM::Parameter":return`${je}/systems-manager/parameters/${e}/description?region=${n}`;case"AWS::SecretsManager::Secret":return`https://${n}.console.aws.amazon.com/secretsmanager/secret?name=${encodeURI(e)}&region=${n}`;case"AWS::EC2::Instance":return`${je}/ec2/v2/home?region=${n}#InstanceDetails:instanceId=${e}`;case"AWS::Logs::LogGroup":return`${je}/cloudwatch/home?region=${n}#logsV2:log-groups/log-group/${encodeURIComponent(e)}`;case"AWS::CloudFormation::Stack":return`${je}/cloudformation/home?region=${n}#/stacks/stackinfo?stackId=${e}`;case"AWS::Lambda::Function":return`${je}/lambda/home?region=${n}#/functions/${e}?tab=monitoring`;case"AWS::Glue::JobRun":return`${je}/gluestudio/home?region=eu-central-1#/job/${e}/run/${r}`;case"AWS::Glue::JobRuns":return`${je}/gluestudio/home?region=eu-central-1#/editor/job/${e}/runs`;case"AWS::CodePipeline::Pipeline":return`${je}/codesuite/codepipeline/pipelines/${e}/view?region=${n}`;case"AWS::S3::Bucket":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}`;case"AWS::S3::Object":{let[o,...s]=e.split("/");return`https://s3.console.aws.amazon.com/s3/object/${o}?&prefix=${s.join("/")}`}case"AWS::S3::BucketPolicy":return`https://s3.console.aws.amazon.com/s3/buckets/${e}?region=${n}&tab=permissions`;case"AWS::SQS::Queue":return`${je}/sqs/v2/home?region=${n}#/queues/${encodeURIComponent(e)}`;case"AWS::SNS::Topic":return`${je}/sns/v3/home?region=${n}#/topic/${e}`;case"AWS::DynamoDB::Table":return`${je}/dynamodb/home?region=${n}#tables:selected=${e}`;case"AWS::StepFunctions::StateMachine":return`${je}/states/home?region=${n}#/statemachines/view/${e}`;case"AWS::Amplify::App":return`https://${n}.console.aws.amazon.com/amplify/home?region=${n}#/apps/${e}`;case"AWS::Amplify::Branch":{let o=e.split("/branches/"),s=o[0],i=o[1]||"main";return`https://${n}.console.aws.amazon.com/amplify/apps/${s}/branches/${i}/deployments`}case"AWS::AppSync::GraphQLApi":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/home`;case"AWS::AppSync::GraphQLApi::Playground":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/queries`;case"AWS::AppSync::DataSource":{let o=e.split("/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/datasources/${i}/edit`}case"AWS::AppSync::Resolver":{let o=e.split("/"),s=o[0],i=o[1],a=o[2];return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${s}/v1/schema/resolver/${i}/${a}`}case"AWS::AppSync::Schema":return`https://${n}.console.aws.amazon.com/appsync/home?region=${n}#/${e}/v1/schema`;case"AWS::ApiGateway::RestApi":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/resources`;case"AWS::ApiGateway::RestApi::Documentation":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${e}/documentation`;case"AWS::ApiGateway::Resource":{let o=e.split("/resources/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}`}case"AWS::ApiGateway::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/stages/${i}`}case"AWS::ApiGateway::ApiKey":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/api-keys/${e}`;case"AWS::ApiGateway::UsagePlan":return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/usage-plans/${e}`;case"AWS::ApiGateway::Deployment":{let o=e.split("/deployments/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/deployments/${i}`}case"AWS::ApiGateway::Method":{let o=e.split("/"),s=o[0],i=o.slice(2,-2).join("/"),a=o[o.length-1];return`https://${n}.console.aws.amazon.com/apigateway/home?region=${n}#/apis/${s}/resources/${i}/methods/${a}`}case"AWS::ApiGatewayV2::Api":return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${e}?region=${n}`;case"AWS::ApiGatewayV2::Route":{let o=e.split("/routes/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/routes/${i}?region=${n}`}case"AWS::ApiGatewayV2::Stage":{let o=e.split("/stages/"),s=o[0],i=o[1];return`https://${n}.console.aws.amazon.com/apigateway/main/apis/${s}/stages/${i}?region=${n}`}default:return""}}var yR=e=>Object.keys(e).filter(t=>isNaN(Number(t))),km=(e,t)=>yR(e).filter(r=>e[r]!==t);var kt=require("react/jsx-runtime"),ao=class{static Console=({url:t,onAction:r})=>(0,kt.jsxs)(Ne.ActionPanel.Section,{title:"Console",children:[(0,kt.jsx)(Ne.Action.OpenInBrowser,{title:"Open in Browser",url:Dm(t),onOpen:()=>r?.()},"openConsoleLink"),(0,kt.jsx)(Ne.Action.CopyToClipboard,{title:"Copy Link",content:Dm(t),shortcut:Ne.Keyboard.Shortcut.Common.Copy,onCopy:()=>r?.()},"copyConsoleLink")]});static ExportResponse=({response:t})=>(0,kt.jsx)(Ne.Action.CopyToClipboard,{title:"Copy Service Response",content:JSON.stringify(t,null,2),shortcut:{modifiers:["opt"],key:"e"}});static SwitchResourceType({setResourceType:t,current:r,enumType:n}){let o=km(n,r);return(0,kt.jsx)(Ne.ActionPanel.Section,{children:(0,kt.jsx)(Ne.ActionPanel.Submenu,{title:"Switch Resource Type",shortcut:{modifiers:["cmd","shift"],key:"r"},filtering:!0,icon:Ne.Icon.Box,children:o.map(s=>(0,kt.jsx)(Ne.Action,{title:`Show ${s.toString()}`,onAction:()=>t(n[s]),icon:Ne.Icon.Box},s.toString()))})})}};function Dm(e){let t="";if(process.env.AWS_SSO_ACCOUNT_ID&&process.env.AWS_SSO_ROLE_NAME&&process.env.AWS_SSO_START_URL){if(process.env.AWS_SSO_START_URL.endsWith("start"))t=process.env.AWS_SSO_START_URL+"/#";else if(process.env.AWS_SSO_START_URL.endsWith("start/"))t=process.env.AWS_SSO_START_URL+"#";else if(process.env.AWS_SSO_START_URL.endsWith("start/#"))t=process.env.AWS_SSO_START_URL;else return e;return`${t}/console?account_id=${encodeURI(process.env.AWS_SSO_ACCOUNT_ID)}&role_name=${encodeURI(process.env.AWS_SSO_ROLE_NAME)}&destination=${encodeURIComponent(e)}`}return e}var Zt=require("@raycast/api"),pi=require("react"),fi=v(Ch());var W=v(require("react")),Z=require("@raycast/api");var Ah=Object.prototype.hasOwnProperty;function li(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&li(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Ah.call(e,r)&&++n&&!Ah.call(t,r)||!(r in t)||!li(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var kr=v(require("node:fs")),ui=v(require("node:path")),kh=v(require("node:crypto")),Dh=v(require("node:child_process")),$h=require("node:buffer"),mn=v(require("node:stream")),Mh=require("node:util");var Lh=require("react/jsx-runtime");var Wl=globalThis;function aO(e){let t=(0,W.useRef)(e),r=(0,W.useRef)(0);return li(e,t.current)||(t.current=e,r.current+=1),(0,W.useMemo)(()=>t.current,[r.current])}function Be(e){let t=(0,W.useRef)(e);return t.current=e,t}function cO(e,t){let r=e instanceof Error?e.message:String(e);return(0,Z.showToast)({style:Z.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??Th(e),secondaryAction:t?.primaryAction?Th(e):void 0})}var Th=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,kr.readFileSync)((0,ui.join)(Z.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let o=Z.environment.isDevelopment||t,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:o?"Copy Logs":"Report Error",onAction(i){i.hide(),o?Z.Clipboard.copy(s):(0,Z.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function lO(e,t,r){let n=(0,W.useRef)(0),[o,s]=(0,W.useState)({isLoading:!0}),i=Be(e),a=Be(r?.abortable),c=Be(t||[]),l=Be(r?.onError),u=Be(r?.onData),p=Be(r?.onWillExecute),h=Be(r?.failureToastOptions),g=Be(o.data),y=(0,W.useRef)(null),_=(0,W.useRef)({page:0}),E=(0,W.useRef)(!1),C=(0,W.useRef)(!0),A=(0,W.useRef)(50),O=(0,W.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),P=(0,W.useCallback)((...ae)=>{let ye=O();p.current?.(ae),s(X=>({...X,isLoading:!0}));let Yt=dO(i.current)(...ae);function Xt(X){return X.name=="AbortError"||ye===n.current&&(l.current?l.current(X):Z.environment.launchType!==Z.LaunchType.Background&&cO(X,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(Nt){Nt.hide(),y.current?.(...c.current||[])}},...h.current}),s({error:X,isLoading:!1})),X}return typeof Yt=="function"?(E.current=!0,Yt(_.current).then(({data:X,hasMore:Nt,cursor:kl})=>(ye===n.current&&(_.current&&(_.current.cursor=kl,_.current.lastItem=X?.[X.length-1]),u.current&&u.current(X,_.current),Nt&&(A.current=X.length),C.current=Nt,s(Dl=>_.current.page===0?{data:X,isLoading:!1}:{data:(Dl.data||[])?.concat(X),isLoading:!1})),X),X=>(C.current=!1,Xt(X)))):(E.current=!1,Yt.then(X=>(ye===n.current&&(u.current&&u.current(X),s({data:X,isLoading:!1})),X),Xt))},[u,l,c,i,s,y,p,_,h,O]);y.current=P;let R=(0,W.useCallback)(()=>{_.current={page:0};let ae=c.current||[];return P(...ae)},[P,c]),M=(0,W.useCallback)(async(ae,ye)=>{let Yt;try{if(ye?.optimisticUpdate){O(),typeof ye?.rollbackOnError!="function"&&ye?.rollbackOnError!==!1&&(Yt=structuredClone(g.current?.value));let Xt=ye.optimisticUpdate;s(X=>({...X,data:Xt(X.data)}))}return await ae}catch(Xt){if(typeof ye?.rollbackOnError=="function"){let X=ye.rollbackOnError;s(Nt=>({...Nt,data:X(Nt.data)}))}else ye?.optimisticUpdate&&ye?.rollbackOnError!==!1&&s(X=>({...X,data:Yt}));throw Xt}finally{ye?.shouldRevalidateAfter!==!1&&(Z.environment.launchType===Z.LaunchType.Background||Z.environment.commandMode==="menu-bar"?await R():R())}},[R,g,s,O]),Ce=(0,W.useCallback)(()=>{_.current.page+=1;let ae=c.current||[];P(...ae)},[_,c,P]);(0,W.useEffect)(()=>{_.current={page:0},r?.execute!==!1?P(...t||[]):O()},[aO([t,r?.execute,P]),a,_]),(0,W.useEffect)(()=>()=>{O()},[O]);let te=r?.execute!==!1?o.isLoading:!1,fe={...o,isLoading:te},re=E.current?{pageSize:A.current,hasMore:C.current,onLoadMore:Ce}:void 0;return{...fe,revalidate:R,mutate:M,pagination:re}}function dO(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Ph(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function uO(e){return e instanceof URLSearchParams?e.toString():e}function Fh(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=uO(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let o=/\[object (.*)\]/i,s=Object.prototype.toString.call(n),i=o.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let a=null;if((a=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+a+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),Ph(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let l=this;return c.forEach(function(u){l.dispatch(u),r(":"),l.dispatch(n[u]),r(",")})}},_array:function(n,o){o=typeof o<"u"?o:!1;let s=this;if(r("array:"+n.length+":"),!o||n.length<=1){n.forEach(function(c){s.dispatch(c)});return}let i=[],a=n.map(function(c){let l=pO(),u=t.slice();return Fh(l,u).dispatch(c),i=i.concat(u.slice(t.length)),l.read().toString()});t=t.concat(i),a.sort(),this._array(a,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Ph(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let o=Array.from(n);this._array(o,!0)},_set:function(n){r("set:");let o=Array.from(n);this._array(o,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function pO(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function fO(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function mO(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function xh(e){let t=kh.default.createHash("sha1");return Fh(t).dispatch(e),t.digest("hex")}var hO=Symbol("cache without namespace"),Ih=new Map;function Zl(e,t,r){let n=r?.cacheNamespace||hO,o=Ih.get(n)||Ih.set(n,new Z.Cache({namespace:r?.cacheNamespace})).get(n);if(!o)throw new Error("Missing cache");let s=Be(e),i=Be(t),a=(0,W.useSyncExternalStore)(o.subscribe,()=>{try{return o.get(s.current)}catch(p){console.error("Could not get Cache data:",p);return}}),c=(0,W.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,mO)}catch(p){return console.warn("The cached data is corrupted",p),i.current}}else return i.current},[a,i]),l=Be(c),u=(0,W.useCallback)(p=>{let h=typeof p=="function"?p(l.current):p;if(typeof h>"u")o.set(s.current,"undefined");else{let g=JSON.stringify(h,fO);o.set(s.current,g)}return h},[o,s,l]);return[c,u]}var fn=Symbol();function nt(e,t,r){let{initialData:n,keepPreviousData:o,internal_cacheKeySuffix:s,...i}=r||{},a=(0,W.useRef)(null),[c,l]=Zl(xh(t||[])+s,fn,{cacheNamespace:xh(e)}),u=(0,W.useRef)(c!==fn?c:n),p=(0,W.useRef)(void 0),{mutate:h,revalidate:g,...y}=lO(e,t||[],{...i,onData(O,P){p.current=P,i.onData&&i.onData(O,P),!(P&&P.page>0)&&(a.current="promise",u.current=O,l(O))}}),_,E=y.pagination;p.current&&p.current.page>0&&y.data?_=y.data:a.current==="promise"?_=u.current:o&&c!==fn?(_=c,E&&(E.hasMore=!0,E.pageSize=c.length)):o&&c===fn?_=u.current:c!==fn?(_=c,E&&(E.hasMore=!0,E.pageSize=c.length)):_=n;let C=Be(_),A=(0,W.useCallback)(async(O,P)=>{let R;try{if(P?.optimisticUpdate){typeof P?.rollbackOnError!="function"&&P?.rollbackOnError!==!1&&(R=structuredClone(C.current));let M=P.optimisticUpdate(C.current);a.current="cache",u.current=M,l(M)}return await h(O,{shouldRevalidateAfter:P?.shouldRevalidateAfter})}catch(M){if(typeof P?.rollbackOnError=="function"){let Ce=P.rollbackOnError(C.current);a.current="cache",u.current=Ce,l(Ce)}else P?.optimisticUpdate&&P?.rollbackOnError!==!1&&(a.current="cache",u.current=R,l(R));throw M}},[l,h,C,u,a]);return(0,W.useEffect)(()=>{c!==fn&&(a.current="cache",u.current=c)},[c]),{data:_,isLoading:y.isLoading,error:y.error,mutate:p.current&&p.current.page>0?h:A,pagination:E,revalidate:g}}var di=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Gl=Symbol.for("signal-exit emitter"),Kl=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Wl[Gl])return Wl[Gl];Object.defineProperty(Wl,Gl,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let s of this.listeners[t])o=s(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},Yl=class{onExit(){return()=>{}}load(){}unload(){}},Xl=class{#a;#t;#e;#s;#i;#o;#n;#r;constructor(t){this.#a=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Kl,this.#o={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#o={};for(let r of this.#r)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#t,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#a:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#s=t.emit}onExit(t,r){if(!di(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#l(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(t){return di(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(t,...r){let n=this.#s;if(t==="exit"&&di(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},Jl=null,gO=(e,t)=>(Jl||(Jl=di(process)?new Xl(process):new Yl),Jl.onExit(e,t));function yO(e,{timeout:t}={}){let r=new Promise((a,c)=>{e.on("exit",(l,u)=>{a({exitCode:l,signal:u,timedOut:!1})}),e.on("error",l=>{c(l)}),e.stdin&&e.stdin.on("error",l=>{c(l)})}),n=gO(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let o,s=new Promise((a,c)=>{o=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(o)});return Promise.race([s,i]).finally(()=>n())}var Ql=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function _O(e){let{encoding:t}=e,r=t==="buffer",n=new mn.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let o=0,s=[];return n.on("data",i=>{s.push(i),o+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(s,o):s.join(""),n.getBufferedLength=()=>o,n}async function Rh(e,t){let r=_O(t);return await new Promise((n,o)=>{let s=i=>{i&&r.getBufferedLength()<=$h.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),o(i)};(async()=>{try{await(0,Mh.promisify)(mn.default.pipeline)(e,r),n()}catch(i){s(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&s(new Ql)})}),r.getBufferedValue()}async function Oh(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function bO({stdout:e,stderr:t},{encoding:r},n){let o=Rh(e,{encoding:r}),s=Rh(t,{encoding:r});try{return await Promise.all([n,o,s])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Oh(e,o),Oh(t,s)])}}function SO(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function Nh(e,t){return e.stripFinalNewline?SO(t):t}function EO({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function vO({stdout:e,stderr:t,error:r,signal:n,exitCode:o,command:s,timedOut:i,options:a,parentError:c}){let u=`Command ${EO({timedOut:i,timeout:a?.timeout,signal:n,exitCode:o})}: ${s}`,p=r?`${u}
${r.message}`:u,h=[p,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=h,r.shortMessage=p,r.command=s,r.exitCode=o,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function wO({stdout:e,stderr:t,error:r,exitCode:n,signal:o,timedOut:s,command:i,options:a,parentError:c}){if(r||n!==0||o!==null)throw vO({error:r,exitCode:n,signal:o,stdout:e,stderr:t,command:i,timedOut:s,options:a,parentError:c});return e}var CO=/ +/g;function AO(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(CO)){let o=r[r.length-1];o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r}function ed(e,t,r){let{parseOutput:n,input:o,onData:s,onWillExecute:i,initialData:a,execute:c,keepPreviousData:l,onError:u,failureToastOptions:p,...h}=Array.isArray(t)?r||{}:t||{},g={initialData:a,execute:c,keepPreviousData:l,onError:u,onData:s,onWillExecute:i,failureToastOptions:p},y=(0,W.useRef)(null),_=Be(n||wO),E=(0,W.useCallback)(async(C,A,O,P)=>{let[R,...M]=AO(C,A),Ce=[R,...M].join(" "),te={stripFinalNewline:!0,...O,timeout:O?.timeout||1e4,signal:y.current?.signal,encoding:O?.encoding===null?"buffer":O?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...O?.env}},fe=Dh.default.spawn(R,M,te),re=yO(fe,te);P&&fe.stdin.end(P);let[{error:ae,exitCode:ye,signal:Yt,timedOut:Xt},X,Nt]=await bO(fe,te,re),kl=Nh(te,X),Dl=Nh(te,Nt);return _.current({stdout:kl,stderr:Dl,error:ae,exitCode:ye,signal:Yt,timedOut:Xt,command:Ce,options:te,parentError:new Error})},[_]);return nt(E,[e,Array.isArray(t)?t:[],h,o],{...g,abortable:y})}var td=require("react/jsx-runtime");function rd({onProfileSelected:e}){let t=(0,Zt.getPreferenceValues)(),[r,n]=Zl("aws_profile"),o=xO();(0,pi.useEffect)(()=>{let a=r&&!o.some(c=>c.name===r);(!r||a)&&n(o[0]?.name)},[o]);let{isUsingAwsVault:s,vaultSessions:i}=PO({shouldUseAwsVault:t.useAWSVault,selectedProfile:r,profileOptions:o,onProfileSelected:e});return(0,pi.useEffect)(()=>{if(r&&!s?process.env.AWS_PROFILE=r:delete process.env.AWS_PROFILE,r){let a=o.find(c=>c.name===r);a?.region&&(process.env.AWS_REGION=a.region),a?.sso_start_url&&(process.env.AWS_SSO_START_URL=a.sso_start_url),a?.sso_account_id&&(process.env.AWS_SSO_ACCOUNT_ID=a.sso_account_id),a?.sso_role_name&&(process.env.AWS_SSO_ROLE_NAME=a.sso_role_name)}i?.includes(r||"")||delete process.env.AWS_VAULT,e?.()},[r,s]),!o||o.length<2?null:(0,td.jsx)(Zt.List.Dropdown,{tooltip:"Select AWS Profile",value:r,onChange:n,children:o.map(a=>(0,td.jsx)(Zt.List.Dropdown.Item,{value:a.name,title:a.name,icon:s?i?.some(c=>c===a.name)?Zt.Icon.LockUnlocked:Zt.Icon.LockDisabled:void 0},a.name))})}var TO=e=>{let{data:t}=ed("aws-vault",["list"],{env:{PATH:"/opt/homebrew/bin"},onError:()=>{}}),r=t?.split(/\r?\n/).filter(IO).map(o=>o.split(" ")[0]),n=e.filter(o=>o.source_profile&&r?.includes(o.source_profile)).map(o=>o.name);return r&&[...r,...n]},PO=({shouldUseAwsVault:e,selectedProfile:t,profileOptions:r,onProfileSelected:n})=>{if(!e)return{isUsingAwsVault:!1,vaultSessions:void 0};let o=TO(r),s=!!o,i=s&&o?.includes(t||"")?t:void 0,{revalidate:a}=ed("aws-vault",["exec",i,"--json"],{execute:!!i,env:{PATH:"/opt/homebrew/bin"},onError:()=>{},onData:c=>{if(c){let{AccessKeyId:l,SecretAccessKey:u,SessionToken:p}=JSON.parse(c);process.env.AWS_VAULT=i,process.env.AWS_ACCESS_KEY_ID=l,process.env.AWS_SECRET_ACCESS_KEY=u,process.env.AWS_SESSION_TOKEN=p,n?.()}}});return(0,pi.useEffect)(()=>{delete process.env.AWS_VAULT,a()},[i]),{isUsingAwsVault:s,vaultSessions:o}},xO=()=>{let{data:e={configFile:{},credentialsFile:{}}}=nt(fi.loadSharedConfigFiles),{data:t={}}=nt(fi.loadSsoSessionData),{configFile:r,credentialsFile:n}=e;return(Object.keys(r).length>0?Object.entries(r):Object.entries(n)).map(([s,i])=>{let a=r[s]?.include_profile,c=r[s]?.region||a&&r[a]?.region,l=r[s]?.sso_start_url||r[s]?.sso_session&&t[r[s].sso_session]?.sso_start_url,u=r[s]?.sso_account_id||a&&r[a]?.sso_account_id,p=r[s]?.sso_role_name||a&&r[a]?.sso_role_name;return{...i,region:c,name:s,sso_start_url:l,sso_account_id:u,sso_role_name:p}})},IO=e=>e.includes("sts.AssumeRole:")&&!e.includes("sts.AssumeRole:-")||e.includes("sts.GetSessionToken:")&&!e.includes("sts.GetSessionToken:-");var K=v(QI()),G=require("@raycast/api");function ZI(){let{data:e,error:t,isLoading:r,revalidate:n}=nt(async()=>{let o=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Loading Amplify apps"});return await eR(o)},[],{execute:Rr(),failureToastOptions:{title:"\u274C Failed to load Amplify apps"}});return{apps:e,error:t,isLoading:!e&&!t||r,revalidate:n}}async function eR(e,t,r){let n=new K.AmplifyClient({}),{apps:o,nextToken:s}=await n.send(new K.ListAppsCommand({nextToken:t})),i=o??[],a=[...r??[],...i];return e.message=`${a.length} apps`,s?await eR(e,s,a):(e.style=G.Toast.Style.Success,e.title="\u2705 Loaded Amplify apps",e.message=`${a.length} apps`,a)}function tR(e){let{data:t,error:r,isLoading:n}=nt(async o=>{let s=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Loading branches"});return await rR(o,s)},[e],{execute:Rr()&&!!e,failureToastOptions:{title:"\u274C Failed to load branches"}});return{branches:t,error:r,isLoading:!t&&!r||n}}async function rR(e,t,r,n){let o=new K.AmplifyClient({}),{branches:s,nextToken:i}=await o.send(new K.ListBranchesCommand({appId:e,nextToken:r})),a=s??[],c=[...n??[],...a];return t.message=`${c.length} branches`,i?await rR(e,t,i,c):(t.style=G.Toast.Style.Success,t.title="\u2705 Loaded branches",t.message=`${c.length} branches`,c)}function Rm(e){let{data:t,error:r,isLoading:n}=nt(async o=>{let s=new K.AmplifyClient({}),{app:i}=await s.send(new K.GetAppCommand({appId:o}));return i},[e],{execute:Rr()&&!!e,failureToastOptions:{title:"\u274C Failed to load app details"}});return{app:t,error:r,isLoading:!t&&!r||n}}function nR(e){let{data:t,error:r,isLoading:n}=nt(async o=>{let s=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Loading webhooks"});return await oR(o,s)},[e],{execute:Rr()&&!!e,failureToastOptions:{title:"\u274C Failed to load webhooks"}});return{webhooks:t,error:r,isLoading:!t&&!r||n}}async function oR(e,t,r,n){let o=new K.AmplifyClient({}),{webhooks:s,nextToken:i}=await o.send(new K.ListWebhooksCommand({appId:e,nextToken:r})),a=s??[],c=[...n??[],...a];return t.message=`${c.length} webhooks`,i?await oR(e,t,i,c):(t.style=G.Toast.Style.Success,t.title="\u2705 Loaded webhooks",t.message=`${c.length} webhooks`,c)}function sR(e,t){let{data:r,error:n,isLoading:o,revalidate:s}=nt(async(i,a)=>{let c=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Loading build history"});return await iR(i,a,c)},[e,t],{execute:Rr()&&!!e&&!!t,failureToastOptions:{title:"\u274C Failed to load build history"}});return{jobs:r,error:n,isLoading:!r&&!n||o,revalidate:s}}async function iR(e,t,r,n,o){let s=new K.AmplifyClient({}),{jobSummaries:i,nextToken:a}=await s.send(new K.ListJobsCommand({appId:e,branchName:t,nextToken:n,maxResults:50})),c=i??[],l=[...o??[],...c];return r.message=`${l.length} builds`,a?await iR(e,t,r,a,l):(r.style=G.Toast.Style.Success,r.title="\u2705 Loaded build history",r.message=`${l.length} builds`,l)}function aR(e,t,r){let{data:n,error:o,isLoading:s}=nt(async(i,a,c)=>{let l=new K.AmplifyClient({}),{artifacts:u}=await l.send(new K.ListArtifactsCommand({appId:i,branchName:a,jobId:c}));return u},[e,t,r],{execute:Rr()&&!!e&&!!t&&!!r,failureToastOptions:{title:"\u274C Failed to load artifacts"}});return{artifacts:n,error:o,isLoading:!n&&!o||s}}async function Gs(e,t,r,n,o){let s=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Starting build",message:`Branch: ${t}`});try{let i=new K.AmplifyClient({}),{jobSummary:a}=await i.send(new K.StartJobCommand({appId:e,branchName:t,jobType:"RELEASE",...r&&{sourceUrl:r},...n&&{commitId:n},...o&&{commitMessage:o}}));return s.style=G.Toast.Style.Success,s.title="\u2705 Build started",s.message=`Job ID: ${a?.jobId}`,a}catch(i){throw s.style=G.Toast.Style.Failure,s.title="\u274C Failed to start build",s.message=i instanceof Error?i.message:"Unknown error",i}}async function cR(e,t,r){let n=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Cancelling build",message:`Job ID: ${r}`});try{let o=new K.AmplifyClient({}),{jobSummary:s}=await o.send(new K.StopJobCommand({appId:e,branchName:t,jobId:r}));return n.style=G.Toast.Style.Success,n.title="\u2705 Build cancelled",n.message=`Job ID: ${r}`,s}catch(o){throw n.style=G.Toast.Style.Failure,n.title="\u274C Failed to cancel build",n.message=o instanceof Error?o.message:"Unknown error",o}}async function Ol(e,t){let r=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Updating custom rules"});try{let n=new K.AmplifyClient({}),{app:o}=await n.send(new K.UpdateAppCommand({appId:e,customRules:t}));return r.style=G.Toast.Style.Success,r.title="\u2705 Custom rules updated",o}catch(n){throw r.style=G.Toast.Style.Failure,r.title="\u274C Failed to update custom rules",r.message=n instanceof Error?n.message:"Unknown error",n}}async function Nl(e,t){let r=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Updating environment variables"});try{let n=new K.AmplifyClient({}),{app:o}=await n.send(new K.UpdateAppCommand({appId:e,environmentVariables:t}));return r.style=G.Toast.Style.Success,r.title="\u2705 Environment variables updated",o}catch(n){throw r.style=G.Toast.Style.Failure,r.title="\u274C Failed to update environment variables",r.message=n instanceof Error?n.message:"Unknown error",n}}async function Om(e,t,r){let n=await(0,G.showToast)({style:G.Toast.Style.Animated,title:"Downloading build logs",message:`Job ID: ${r}`});try{let o=new K.AmplifyClient({}),{job:s}=await o.send(new K.GetJobCommand({appId:e,branchName:t,jobId:r}));if(!s||!s.steps)throw new Error("No job details or steps found");let i=s.steps.filter(g=>g.logUrl).map((g,y)=>({stepName:g.stepName||`step-${y}`,logUrl:g.logUrl,status:g.status}));if(i.length===0)throw new Error("No log URLs found for this job");let{writeFile:a,mkdir:c}=await import("fs/promises"),{join:l}=await import("path"),{homedir:u}=await import("os"),p=l(u(),"Downloads","amplify-logs");await c(p,{recursive:!0});for(let g of i)try{let y=await fetch(g.logUrl);if(!y.ok){console.warn(`Failed to download log for ${g.stepName}: ${y.status}`);continue}let _=await y.text(),E=`${r}-${g.stepName}.log`,C=l(p,E);await a(C,_)}catch{}let{showInFinder:h}=await import("@raycast/api");await h(p),n.style=G.Toast.Style.Success,n.title="\u2705 Build logs downloaded",n.message=`${i.length} log files saved`}catch(o){throw n.style=G.Toast.Style.Failure,n.title="\u274C Failed to download build logs",n.message=o instanceof Error?o.message:"Unknown error",o}}var S=require("react/jsx-runtime");function uR(){let{apps:e,error:t,isLoading:r,revalidate:n}=ZI();return(0,S.jsx)(f.List,{isLoading:r,searchBarPlaceholder:"Filter Amplify apps by name...",searchBarAccessory:(0,S.jsx)(rd,{onProfileSelected:n}),children:t?(0,S.jsx)(f.List.EmptyView,{title:t.name,description:t.message,icon:f.Icon.Warning}):e?.map(o=>(0,S.jsx)(Cz,{app:o},o.appId))})}function Cz({app:e}){let t=`https://${e.defaultDomain}`,r=e.environmentVariables&&Object.keys(e.environmentVariables).length>0,n=process.env.AWS_REGION;if(!e.appId)return(0,S.jsx)(f.List.Item,{title:e.name||"Unknown App",subtitle:"Invalid app - missing App ID",icon:{source:"aws-icons/amplify.png",mask:f.Image.Mask.RoundedRectangle},accessories:[{text:"Error",icon:f.Icon.Warning}]});let o={accessLogs:`https://${n}.console.aws.amazon.com/amplify/apps/${e.appId}/access-logs`,alarms:`https://${n}.console.aws.amazon.com/amplify/apps/${e.appId}/alarms`,hostingComputeLogs:`https://${n}.console.aws.amazon.com/amplify/apps/${e.appId}/hosting-logs`,metrics:`https://${n}.console.aws.amazon.com/amplify/apps/${e.appId}/metrics`};return(0,S.jsx)(f.List.Item,{title:e.name||"",subtitle:e.description||"",icon:{source:"aws-icons/amplify.png",mask:f.Image.Mask.RoundedRectangle},actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{target:(0,S.jsx)(Az,{app:e}),title:"View Branches",icon:f.Icon.List}),(0,S.jsx)(f.Action.Push,{target:(0,S.jsx)(Pz,{appId:e.appId}),title:"View Environment Variables",icon:f.Icon.Code}),(0,S.jsx)(f.Action.Push,{target:(0,S.jsx)(kz,{app:e}),title:"Manage Redirects & Rewrites",icon:f.Icon.Link}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Manage Notifications",url:`https://${n}.console.aws.amazon.com/amplify/apps/${e.appId}/notifications`,icon:f.Icon.Bell}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open App",url:t,icon:f.Icon.Globe}),(0,S.jsx)(ao.Console,{url:$l(e.appId,"AWS::Amplify::App")}),(0,S.jsxs)(f.ActionPanel.Submenu,{title:"Monitoring",icon:f.Icon.BarChart,children:[(0,S.jsx)(f.Action.OpenInBrowser,{title:"Access Logs",url:o.accessLogs,icon:f.Icon.Document}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Alarms",url:o.alarms,icon:f.Icon.Bell}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Hosting Compute Logs",url:o.hostingComputeLogs,icon:f.Icon.Terminal}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Metrics",url:o.metrics,icon:f.Icon.LineChart})]}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy App ID",content:e.appId||""}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy App URL",content:t}),e.repository&&(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Repository",content:e.repository})]}),accessories:[{text:e.platform||""},...r?[{icon:f.Icon.Code,tooltip:"Has environment variables"}]:[],...e.updateTime?[{date:new Date(e.updateTime)}]:[]]},e.appId)}function Az({app:e}){if(!e.appId)return(0,S.jsx)(f.List,{isLoading:!1,navigationTitle:"Branches",children:(0,S.jsx)(f.List.EmptyView,{title:"Invalid App",description:"App ID is missing",icon:f.Icon.Warning})});let{branches:t,error:r,isLoading:n}=tR(e.appId),{webhooks:o}=nR(e.appId);return(0,S.jsx)(f.List,{isLoading:n,navigationTitle:`${e.name} Branches`,searchBarPlaceholder:"Filter branches by name...",children:r?(0,S.jsx)(f.List.EmptyView,{title:r.name,description:r.message,icon:f.Icon.Warning}):t?.map(s=>(0,S.jsx)(Tz,{branch:s,app:e,webhooks:o},s.branchArn))})}function Tz({branch:e,app:t,webhooks:r}){let n=`https://${e.branchName?.replaceAll("/","-")}.${t.defaultDomain}`,o=r?.filter(c=>c.branchName===e.branchName)||[],s=process.env.AWS_REGION,i={buildLogs:`https://${s}.console.aws.amazon.com/amplify/apps/${t.appId}/branches/${e.branchName}/deployments`,accessLogs:`https://${s}.console.aws.amazon.com/amplify/apps/${t.appId}/branches/${e.branchName}/access-logs`},a=(0,Ve.useCallback)(async(c,l)=>{let u=await(0,f.showToast)({style:f.Toast.Style.Animated,title:`Triggering webhook${l?`: ${l}`:""}`});try{let p=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"}});if(p.ok)u.style=f.Toast.Style.Success,u.title="\u2705 Webhook triggered successfully",u.message="Build has been initiated";else throw new Error(`HTTP ${p.status}: ${p.statusText}`)}catch(p){u.style=f.Toast.Style.Failure,u.title="\u274C Failed to trigger webhook",u.message=p instanceof Error?p.message:"Unknown error occurred"}},[]);return(0,S.jsx)(f.List.Item,{title:e.branchName||"",subtitle:e.displayName||"",icon:{source:"aws-icons/amplify.png",mask:f.Image.Mask.RoundedRectangle},actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{target:(0,S.jsx)(Rz,{app:t,branch:e}),title:"View Build History",icon:f.Icon.Hammer}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open Branch",url:n,icon:f.Icon.Globe}),(0,S.jsx)(f.Action,{title:"Start New Build",icon:f.Icon.Play,onAction:async()=>{t.appId&&e.branchName&&await Gs(t.appId,e.branchName)},shortcut:{modifiers:["cmd"],key:"b"}}),(0,S.jsx)(ao.Console,{url:$l(`${t.appId}/branches/${e.branchName}`,"AWS::Amplify::Branch")}),(0,S.jsxs)(f.ActionPanel.Submenu,{title:"Monitoring",icon:f.Icon.BarChart,children:[(0,S.jsx)(f.Action.OpenInBrowser,{title:"Build & Deploy Logs",url:i.buildLogs,icon:f.Icon.Terminal}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Access Logs",url:i.accessLogs,icon:f.Icon.Document})]}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Branch Name",content:e.branchName||""}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Branch URL",content:n}),o.length>0&&(0,S.jsx)(f.ActionPanel.Submenu,{title:"Webhooks",icon:f.Icon.Link,children:o.flatMap(c=>[(0,S.jsx)(f.Action,{title:`Trigger: ${c.description||`Webhook ${c.webhookId}`}`,icon:f.Icon.Play,onAction:()=>{c.webhookUrl&&a(c.webhookUrl,c.description)}},`trigger-${c.webhookId}`),(0,S.jsx)(f.Action.CopyToClipboard,{title:`Copy URL: ${c.description||`Webhook ${c.webhookId}`}`,content:c.webhookUrl||""},`copy-${c.webhookId}`)])}),e.activeJobId&&(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Active Job ID",content:e.activeJobId})]}),accessories:[{text:e.stage||""},{tag:{value:e.enableAutoBuild?"Auto Build":"Manual",color:e.enableAutoBuild?"green":"orange"}},...e.enableNotification?[{icon:f.Icon.Bell,tooltip:"Notifications enabled"}]:[],...o.length>0?[{icon:f.Icon.Link,tooltip:`${o.length} webhook(s)`}]:[],...e.updateTime?[{date:new Date(e.updateTime)}]:[]]},e.branchArn)}function Pz({appId:e}){let{app:t,error:r,isLoading:n}=Rm(e),o=t?.environmentVariables||{},s=Object.entries(o),a=`https://${process.env.AWS_REGION}.console.aws.amazon.com/amplify/apps/${e}/variables`;return(0,S.jsx)(f.List,{isLoading:n,navigationTitle:`${t?.name} - Environment Variables`,searchBarPlaceholder:"Filter environment variables...",children:r?(0,S.jsx)(f.List.EmptyView,{title:r.name,description:r.message,icon:f.Icon.Warning}):s.length===0?(0,S.jsx)(f.List.EmptyView,{title:"No Environment Variables",description:"No environment variables configured for this app",icon:f.Icon.Code,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{title:"Add New Variable",icon:f.Icon.Plus,target:(0,S.jsx)(lR,{appId:e,allVariables:o})}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open in AWS Console",url:a,icon:f.Icon.Globe})]})}):s.map(([c,l])=>(0,S.jsx)(f.List.Item,{title:c,subtitle:l,icon:f.Icon.Code,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Value",content:l}),(0,S.jsx)(f.Action.Push,{title:"Edit Variable",icon:f.Icon.Pencil,target:(0,S.jsx)(Iz,{appId:e,variableKey:c,currentValue:l,allVariables:o})}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy as Export",content:`export ${c}="${l}"`}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Key",content:c}),(0,S.jsx)(f.Action,{title:"Delete Variable",icon:f.Icon.Trash,style:f.Action.Style.Destructive,onAction:()=>xz(e,c,o),shortcut:{modifiers:["cmd"],key:"delete"}}),(0,S.jsxs)(f.ActionPanel.Section,{children:[(0,S.jsx)(f.Action.Push,{title:"Add New Variable",icon:f.Icon.Plus,target:(0,S.jsx)(lR,{appId:e,allVariables:o}),shortcut:{modifiers:["cmd"],key:"n"}}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy All as JSON",content:JSON.stringify(o,null,2),icon:f.Icon.Document}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy All as .env Format",content:s.map(([u,p])=>`${u}="${p}"`).join(`
`),icon:f.Icon.Document})]}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open in AWS Console",url:a,icon:f.Icon.Globe})]}),accessories:[{text:`${l.length} chars`}]},c))})}async function xz(e,t,r){let n={...r};delete n[t];try{await Nl(e,n),(0,f.showToast)({style:f.Toast.Style.Success,title:"Variable deleted",message:`Deleted ${t}`})}catch{}}function lR({appId:e,allVariables:t}){let{pop:r}=(0,f.useNavigation)(),[n,o]=(0,Ve.useState)(!1),s=(0,Ve.useCallback)(async i=>{if(!i.key||!i.value){(0,f.showToast)({style:f.Toast.Style.Failure,title:"Missing fields",message:"Both key and value are required"});return}if(t[i.key]){(0,f.showToast)({style:f.Toast.Style.Failure,title:"Variable exists",message:`Variable ${i.key} already exists. Use edit instead.`});return}o(!0);try{let a={...t,[i.key]:i.value};await Nl(e,a),r()}catch{}finally{o(!1)}},[t,e,r]);return(0,S.jsxs)(f.Form,{isLoading:n,navigationTitle:"Add Environment Variable",actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.SubmitForm,{title:"Add Variable",onSubmit:s})}),children:[(0,S.jsx)(f.Form.TextField,{id:"key",title:"Variable Name",placeholder:"REACT_APP_API_URL"}),(0,S.jsx)(f.Form.TextArea,{id:"value",title:"Variable Value",placeholder:"https://api.example.com"})]})}function Iz({appId:e,variableKey:t,currentValue:r,allVariables:n}){let{pop:o}=(0,f.useNavigation)(),[s,i]=(0,Ve.useState)(!1),a=(0,Ve.useCallback)(async c=>{if(!c.value){(0,f.showToast)({style:f.Toast.Style.Failure,title:"Missing value",message:"Value is required"});return}i(!0);try{let l={...n,[t]:c.value};await Nl(e,l),o()}catch{}finally{i(!1)}},[n,t,e,o]);return(0,S.jsxs)(f.Form,{isLoading:s,navigationTitle:`Edit ${t}`,actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.SubmitForm,{title:"Update Variable",onSubmit:a})}),children:[(0,S.jsx)(f.Form.Description,{text:`Variable Name: ${t}`}),(0,S.jsx)(f.Form.TextArea,{id:"value",title:"Variable Value",defaultValue:r})]})}function Rz({app:e,branch:t}){if(!e.appId||!t.branchName)return(0,S.jsx)(f.List,{isLoading:!1,navigationTitle:"Build History",children:(0,S.jsx)(f.List.EmptyView,{title:"Invalid Parameters",description:"App ID or branch name is missing",icon:f.Icon.Warning})});let{jobs:r,error:n,isLoading:o,revalidate:s}=sR(e.appId,t.branchName);function i(u){switch(u){case"PENDING":return{source:f.Icon.Clock,tintColor:f.Color.Yellow};case"PROVISIONING":return{source:f.Icon.Cog,tintColor:f.Color.Blue};case"RUNNING":return{source:f.Icon.Play,tintColor:f.Color.Blue};case"SUCCEED":return{source:f.Icon.CheckCircle,tintColor:f.Color.Green};case"FAILED":return{source:f.Icon.XMarkCircle,tintColor:f.Color.Red};case"CANCELLING":return{source:f.Icon.Stop,tintColor:f.Color.Orange};case"CANCELLED":return{source:f.Icon.MinusCircle,tintColor:f.Color.SecondaryText};default:return{source:f.Icon.QuestionMark,tintColor:f.Color.SecondaryText}}}function a(u,p){if(!u)return"";let h=new Date(u).getTime(),g=p?new Date(p).getTime():Date.now(),y=Math.floor((g-h)/1e3);if(y<60)return`${y}s`;let _=Math.floor(y/60),E=y%60;if(_<60)return`${_}m ${E}s`;let C=Math.floor(_/60),A=_%60;return`${C}h ${A}m`}let c=(0,Ve.useCallback)(async u=>{e.appId&&t.branchName&&(await Gs(e.appId,t.branchName,void 0,u.commitId,u.commitMessage),s())},[e.appId,t.branchName,s]),l=(0,Ve.useCallback)(async u=>{e.appId&&t.branchName&&u.jobId&&(await cR(e.appId,t.branchName,u.jobId),s())},[e.appId,t.branchName,s]);return(0,S.jsx)(f.List,{isLoading:o,navigationTitle:`${e.name} - ${t.branchName} - Build History`,searchBarPlaceholder:"Filter builds...",children:n?(0,S.jsx)(f.List.EmptyView,{title:n.name,description:n.message,icon:f.Icon.Warning}):r?.length===0?(0,S.jsx)(f.List.EmptyView,{title:"No Builds",description:"No build history for this branch",icon:f.Icon.Hammer,actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action,{title:"Start New Build",icon:f.Icon.Play,onAction:async()=>{e.appId&&t.branchName&&(await Gs(e.appId,t.branchName),s())}})})}):r?.map(u=>(0,S.jsx)(Oz,{job:u,app:e,branch:t,onRetry:()=>c(u),onCancel:()=>l(u),getJobStatusIcon:i,formatDuration:a},u.jobId))})}function Oz({job:e,app:t,branch:r,onRetry:n,onCancel:o,getJobStatusIcon:s,formatDuration:i}){let a=process.env.AWS_REGION,c=e.status==="RUNNING"||e.status==="PROVISIONING"||e.status==="PENDING",l=e.status==="FAILED",u=`https://${a}.console.aws.amazon.com/amplify/apps/${t.appId}/branches/${r.branchName}/deployments/${e.jobId}`,p=s(e.status);return(0,S.jsx)(f.List.Item,{title:`Build #${e.jobId}`,subtitle:e.commitMessage||"No commit message",icon:p,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{title:"View Build Details",icon:f.Icon.Eye,target:(0,S.jsx)(Nz,{job:e,app:t,branch:r})}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"View Build Logs",url:u,icon:f.Icon.Terminal}),(0,S.jsx)(f.Action,{title:"Download Build Logs",icon:f.Icon.Download,onAction:async()=>{if(!t.appId||!r.branchName||!e.jobId){await(0,f.showToast)({style:f.Toast.Style.Failure,title:"Cannot download logs",message:"Missing required parameters"});return}try{await Om(t.appId,r.branchName,e.jobId)}catch{}},shortcut:{modifiers:["cmd"],key:"d"}}),c&&(0,S.jsx)(f.Action,{title:"Cancel Build",icon:f.Icon.Stop,style:f.Action.Style.Destructive,onAction:o,shortcut:{modifiers:["cmd"],key:"."}}),l&&(0,S.jsx)(f.Action,{title:"Retry Build",icon:f.Icon.RotateClockwise,onAction:n,shortcut:{modifiers:["cmd"],key:"r"}}),(0,S.jsx)(f.Action,{title:"Start New Build",icon:f.Icon.Play,onAction:async()=>{t.appId&&r.branchName&&await Gs(t.appId,r.branchName)},shortcut:{modifiers:["cmd"],key:"b"}}),(0,S.jsxs)(f.ActionPanel.Section,{children:[(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Job ID",content:e.jobId||""}),e.commitId&&(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Commit ID",content:e.commitId})]})]}),accessories:[{text:e.status},{text:i(e.startTime,e.endTime)},...e.commitId?[{text:e.commitId.substring(0,7),tooltip:e.commitId}]:[],...e.startTime?[{date:new Date(e.startTime)}]:[]]},e.jobId)}function Nz({job:e,app:t,branch:r}){if(!t.appId||!r.branchName||!e.jobId)return(0,S.jsx)(f.List,{isLoading:!1,navigationTitle:"Build Details",children:(0,S.jsx)(f.List.EmptyView,{title:"Invalid Parameters",description:"Missing required parameters",icon:f.Icon.Warning})});let{artifacts:n,isLoading:o}=aR(t.appId,r.branchName,e.jobId),i=`https://${process.env.AWS_REGION}.console.aws.amazon.com/amplify/apps/${t.appId}/branches/${r.branchName}/deployments/${e.jobId}`;return(0,S.jsxs)(f.List,{isLoading:o,navigationTitle:`Build #${e.jobId} Details`,searchBarPlaceholder:"Filter artifacts...",children:[(0,S.jsxs)(f.List.Section,{title:"Build Information",children:[(0,S.jsx)(f.List.Item,{title:"Status",subtitle:e.status,icon:f.Icon.Info,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.OpenInBrowser,{title:"View Build Logs",url:i,icon:f.Icon.Terminal}),(0,S.jsx)(f.Action,{title:"Download Build Logs",icon:f.Icon.Download,onAction:async()=>{if(!t.appId||!r.branchName||!e.jobId){await(0,f.showToast)({style:f.Toast.Style.Failure,title:"Cannot download logs",message:"Missing required parameters"});return}try{await Om(t.appId,r.branchName,e.jobId)}catch{}},shortcut:{modifiers:["cmd"],key:"d"}})]}),accessories:[{text:e.status}]}),e.commitId&&(0,S.jsx)(f.List.Item,{title:"Commit",subtitle:e.commitMessage||"No message",icon:f.Icon.Code,actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Commit ID",content:e.commitId})}),accessories:[{text:e.commitId.substring(0,7)}]}),e.startTime&&(0,S.jsx)(f.List.Item,{title:"Started",subtitle:new Date(e.startTime).toLocaleString(),icon:f.Icon.Clock,accessories:[{date:new Date(e.startTime)}]}),e.endTime&&(0,S.jsx)(f.List.Item,{title:"Completed",subtitle:new Date(e.endTime).toLocaleString(),icon:f.Icon.CheckCircle,accessories:[{date:new Date(e.endTime)}]})]}),n&&n.length>0&&(0,S.jsx)(f.List.Section,{title:"Build Artifacts",children:n.map(a=>(0,S.jsx)(f.List.Item,{title:a.artifactFileName||"Unnamed artifact",subtitle:a.artifactId,icon:f.Icon.Document,actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Artifact ID",content:a.artifactId||""})})},a.artifactId))})]})}function kz({app:e}){if(!e.appId)return(0,S.jsx)(f.List,{isLoading:!1,navigationTitle:"Custom Rules & Redirects",children:(0,S.jsx)(f.List.EmptyView,{title:"Invalid App",description:"App ID is missing",icon:f.Icon.Warning})});let{app:t,error:r,isLoading:n}=Rm(e.appId),o=t?.customRules||[],i=`https://${process.env.AWS_REGION}.console.aws.amazon.com/amplify/apps/${e.appId}/settings/rewrites`;return(0,S.jsx)(f.List,{isLoading:n,navigationTitle:`${e.name} - Custom Rules & Redirects`,searchBarPlaceholder:"Filter rules...",children:r?(0,S.jsx)(f.List.EmptyView,{title:r.name,description:r.message,icon:f.Icon.Warning}):o.length===0?(0,S.jsx)(f.List.EmptyView,{title:"No custom rules configured",description:"Add redirects, rewrites, or custom headers",icon:f.Icon.Document,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{title:"Add Custom Rule",icon:f.Icon.Plus,target:(0,S.jsx)(dR,{appId:e.appId,currentRules:o})}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open in AWS Console",url:i,icon:f.Icon.Globe})]})}):o.map((a,c)=>(0,S.jsx)(f.List.Item,{title:a.source||"No source",subtitle:a.target?`\u2192 ${a.target}`:`Status: ${a.status}`,icon:f.Icon.Link,actions:(0,S.jsxs)(f.ActionPanel,{children:[(0,S.jsx)(f.Action.Push,{title:"Edit Rule",icon:f.Icon.Pencil,target:e.appId?(0,S.jsx)($z,{appId:e.appId,rule:a,index:c,currentRules:o}):(0,S.jsx)(S.Fragment,{})}),(0,S.jsx)(f.Action,{title:"Delete Rule",icon:f.Icon.Trash,style:f.Action.Style.Destructive,onAction:()=>{e.appId&&Dz(e.appId,c,o)}}),(0,S.jsx)(f.Action.Push,{title:"Add Custom Rule",icon:f.Icon.Plus,target:e.appId?(0,S.jsx)(dR,{appId:e.appId,currentRules:o}):(0,S.jsx)(S.Fragment,{}),shortcut:{modifiers:["cmd"],key:"n"}}),(0,S.jsx)(f.Action.CopyToClipboard,{title:"Copy Rule as JSON",content:JSON.stringify(a,null,2)}),(0,S.jsx)(f.Action.OpenInBrowser,{title:"Open in AWS Console",url:i,icon:f.Icon.Globe})]}),accessories:[{text:a.status||"200"},...a.condition?[{text:a.condition,tooltip:"Condition"}]:[]]},c))})}async function Dz(e,t,r){let n=r.filter((o,s)=>s!==t);try{await Ol(e,n),(0,f.showToast)({style:f.Toast.Style.Success,title:"Rule deleted",message:"Custom rule removed successfully"})}catch{}}function dR({appId:e,currentRules:t}){let{pop:r}=(0,f.useNavigation)(),[n,o]=(0,Ve.useState)(!1),s=(0,Ve.useCallback)(async i=>{if(!i.source){(0,f.showToast)({style:f.Toast.Style.Failure,title:"Missing source",message:"Source pattern is required"});return}o(!0);try{let a={source:i.source,target:i.target||void 0,status:i.status||"200",condition:i.condition||void 0},c=[...t,a];await Ol(e,c),r()}catch{}finally{o(!1)}},[t,e,r]);return(0,S.jsxs)(f.Form,{isLoading:n,navigationTitle:"Add Custom Rule",actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.SubmitForm,{title:"Add Rule",onSubmit:s})}),children:[(0,S.jsx)(f.Form.TextField,{id:"source",title:"Source Pattern",placeholder:"/<*>",info:"URL pattern to match (e.g., /<*>, /api/<*>, /images/<*>)"}),(0,S.jsx)(f.Form.TextField,{id:"target",title:"Target (Optional)",placeholder:"/index.html",info:"Target URL for redirects/rewrites (leave empty for headers only)"}),(0,S.jsxs)(f.Form.Dropdown,{id:"status",title:"HTTP Status",children:[(0,S.jsx)(f.Form.Dropdown.Item,{value:"200",title:"200 - OK (Rewrite)"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"301",title:"301 - Permanent Redirect"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"302",title:"302 - Temporary Redirect"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"404",title:"404 - Not Found"})]}),(0,S.jsx)(f.Form.TextField,{id:"condition",title:"Condition (Optional)",placeholder:"Header name or condition",info:"Optional condition for the rule"}),(0,S.jsx)(f.Form.Description,{text:"Note: Custom response headers can be configured through the AWS Console."})]})}function $z({appId:e,rule:t,index:r,currentRules:n}){let{pop:o}=(0,f.useNavigation)(),[s,i]=(0,Ve.useState)(!1),a=(0,Ve.useCallback)(async c=>{if(!c.source){(0,f.showToast)({style:f.Toast.Style.Failure,title:"Missing source",message:"Source pattern is required"});return}i(!0);try{let l={source:c.source,target:c.target||void 0,status:c.status||"200",condition:c.condition||void 0},u=[...n];u[r]=l,await Ol(e,u),o()}catch{}finally{i(!1)}},[n,r,e,o]);return(0,S.jsxs)(f.Form,{isLoading:s,navigationTitle:"Edit Custom Rule",actions:(0,S.jsx)(f.ActionPanel,{children:(0,S.jsx)(f.Action.SubmitForm,{title:"Update Rule",onSubmit:a})}),children:[(0,S.jsx)(f.Form.TextField,{id:"source",title:"Source Pattern",defaultValue:t.source,placeholder:"/<*>",info:"URL pattern to match (e.g., /<*>, /api/<*>, /images/<*>)"}),(0,S.jsx)(f.Form.TextField,{id:"target",title:"Target (Optional)",defaultValue:t.target||"",placeholder:"/index.html",info:"Target URL for redirects/rewrites (leave empty for headers only)"}),(0,S.jsxs)(f.Form.Dropdown,{id:"status",title:"HTTP Status",defaultValue:t.status||"200",children:[(0,S.jsx)(f.Form.Dropdown.Item,{value:"200",title:"200 - OK (Rewrite)"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"301",title:"301 - Permanent Redirect"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"302",title:"302 - Temporary Redirect"}),(0,S.jsx)(f.Form.Dropdown.Item,{value:"404",title:"404 - Not Found"})]}),(0,S.jsx)(f.Form.TextField,{id:"condition",title:"Condition (Optional)",defaultValue:t.condition||"",placeholder:"Header name or condition",info:"Optional condition for the rule"})]})}
