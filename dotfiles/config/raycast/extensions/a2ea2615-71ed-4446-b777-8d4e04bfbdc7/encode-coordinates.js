"use strict";var gr=Object.create;var B=Object.defineProperty;var Ar=Object.getOwnPropertyDescriptor;var hr=Object.getOwnPropertyNames;var _r=Object.getPrototypeOf,Er=Object.prototype.hasOwnProperty;var D=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),Sr=(r,n)=>{for(var e in n)B(r,e,{get:n[e],enumerable:!0})},Y=(r,n,e,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of hr(n))!Er.call(r,i)&&i!==e&&B(r,i,{get:()=>n[i],enumerable:!(a=Ar(n,i))||a.enumerable});return r};var Q=(r,n,e)=>(e=r!=null?gr(_r(r)):{},Y(n||!r||!r.__esModule?B(e,"default",{value:r,enumerable:!0}):e,r)),Lr=r=>Y(B({},"__esModule",{value:!0}),r);var ir=D((Jr,or)=>{var $="0123456789bcdefghjkmnpqrstuvwxyz",rr={};for(j=0;j<$.length;j++)rr[$.charAt(j)]=j;var j,tr="auto",w=-90,x=90,T=-180,_=180,Ir=[0,5,7,8,11,12,13,15,16,17,18],N=function(r,n,e){if(e===tr){if(typeof r=="number"||typeof n=="number")throw new Error("string notation required for auto precision.");var a=r.split(".")[1].length,i=n.split(".")[1].length,s=Math.max(a,i);e=Ir[s]}else e===void 0&&(e=9);for(var c=[],f=0,y=0,u=0,d=x,l=w,b=_,O=T,p;c.length<e;)if(y%2===0?(p=(b+O)/2,n>p?(u=(u<<1)+1,O=p):(u=(u<<1)+0,b=p)):(p=(d+l)/2,r>p?(u=(u<<1)+1,l=p):(u=(u<<1)+0,d=p)),f++,y++,f===5){var g=$[u];c.push(g),f=0,u=0}return c.join("")},M=function(r,n,e){e=e||52;for(var a=0,i=x,s=w,c=_,f=T,y,u=0;a<e;)u*=2,a%2===0?(y=(c+f)/2,n>y?(u+=1,f=y):c=y):(y=(i+s)/2,r>y?(u+=1,s=y):i=y),a++;return u},k=function(r){for(var n=!0,e=x,a=w,i=_,s=T,c,f=0,y=0,u=r.length;y<u;y++){var d=r[y].toLowerCase();f=rr[d];for(var l=4;l>=0;l--){var b=f>>l&1;n?(c=(i+s)/2,b===1?s=c:i=c):(c=(e+a)/2,b===1?a=c:e=c),n=!n}}return[a,s,e,i]},F=function(r,n){n=n||52;for(var e=x,a=w,i=_,s=T,c=0,f=0,y=n/2,u=0;u<y;u++)f=Z(r,(y-u)*2-1),c=Z(r,(y-u)*2-2),c===0?e=(e+a)/2:a=(e+a)/2,f===0?i=(i+s)/2:s=(i+s)/2;return[a,s,e,i]};function Z(r,n){return r/Math.pow(2,n)&1}var G=function(r){var n=k(r),e=(n[0]+n[2])/2,a=(n[1]+n[3])/2,i=n[2]-e,s=n[3]-a;return{latitude:e,longitude:a,error:{latitude:i,longitude:s}}},v=function(r,n){var e=F(r,n),a=(e[0]+e[2])/2,i=(e[1]+e[3])/2,s=e[2]-a,c=e[3]-i;return{latitude:a,longitude:i,error:{latitude:s,longitude:c}}},nr=function(r,n){var e=G(r),a=e.latitude+n[0]*e.error.latitude*2,i=e.longitude+n[1]*e.error.longitude*2;return i=C(i),a=R(a),N(a,i,r.length)},er=function(r,n,e){e=e||52;var a=v(r,e),i=a.latitude+n[0]*a.error.latitude*2,s=a.longitude+n[1]*a.error.longitude*2;return s=C(s),i=R(i),M(i,s,e)},Or=function(r){var n=r.length,e=G(r),a=e.latitude,i=e.longitude,s=e.error.latitude*2,c=e.error.longitude*2,f,y,u=[d(1,0),d(1,1),d(0,1),d(-1,1),d(-1,0),d(-1,-1),d(0,-1),d(1,-1)];function d(l,b){return f=a+l*s,y=i+b*c,y=C(y),f=R(f),N(f,y,n)}return u},wr=function(r,n){n=n||52;var e=v(r,n),a=e.latitude,i=e.longitude,s=e.error.latitude*2,c=e.error.longitude*2,f,y,u=[d(1,0),d(1,1),d(0,1),d(-1,1),d(-1,0),d(-1,-1),d(0,-1),d(1,-1)];function d(l,b){return f=a+l*s,y=i+b*c,y=C(y),f=R(f),M(f,y,n)}return u},xr=function(r,n,e,a,i){i=i||9;for(var s=N(r,n,i),c=N(e,a,i),f=G(s),y=f.error.latitude*2,u=f.error.longitude*2,d=k(s),l=k(c),b=Math.round((l[0]-d[0])/y),O=Math.round((l[1]-d[1])/u),p=[],g=0;g<=b;g++)for(var S=0;S<=O;S++)p.push(nr(s,[g,S]));return p},Tr=function(r,n,e,a,i){i=i||52;for(var s=M(r,n,i),c=M(e,a,i),f=v(s,i),y=f.error.latitude*2,u=f.error.longitude*2,d=F(s,i),l=F(c,i),b=Math.round((l[0]-d[0])/y),O=Math.round((l[1]-d[1])/u),p=[],g=0;g<=b;g++)for(var S=0;S<=O;S++)p.push(er(s,[g,S],i));return p};function C(r){return r>_?T+r%_:r<T?_+r%_:r}function R(r){return r>x?x:r<w?w:r}var Mr={ENCODE_AUTO:tr,encode:N,encode_uint64:M,encode_int:M,decode:G,decode_int:v,decode_uint64:v,decode_bbox:k,decode_bbox_uint64:F,decode_bbox_int:F,neighbor:nr,neighbor_int:er,neighbors:Or,neighbors_int:wr,bboxes:xr,bboxes_int:Tr};or.exports=Mr});var fr=D((A,W)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var ar=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Pr(r){return ar.includes(r)}var jr=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...ar];function Nr(r){return jr.includes(r)}var Fr=["null","undefined","string","number","bigint","boolean","symbol"];function vr(r){return Fr.includes(r)}function P(r){return n=>typeof n===r}var{toString:sr}=Object.prototype,U=r=>{let n=sr.call(r).slice(8,-1);if(/HTML\w+Element/.test(n)&&t.domElement(r))return"HTMLElement";if(Nr(n))return n},m=r=>n=>U(n)===r;function t(r){if(r===null)return"null";switch(typeof r){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(t.observable(r))return"Observable";if(t.array(r))return"Array";if(t.buffer(r))return"Buffer";let n=U(r);if(n)return n;if(r instanceof String||r instanceof Boolean||r instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}t.undefined=P("undefined");t.string=P("string");var Ur=P("number");t.number=r=>Ur(r)&&!t.nan(r);t.bigint=P("bigint");t.function_=P("function");t.null_=r=>r===null;t.class_=r=>t.function_(r)&&r.toString().startsWith("class ");t.boolean=r=>r===!0||r===!1;t.symbol=P("symbol");t.numericString=r=>t.string(r)&&!t.emptyStringOrWhitespace(r)&&!Number.isNaN(Number(r));t.array=(r,n)=>Array.isArray(r)?t.function_(n)?r.every(n):!0:!1;t.buffer=r=>{var n,e,a,i;return(i=(a=(e=(n=r)===null||n===void 0?void 0:n.constructor)===null||e===void 0?void 0:e.isBuffer)===null||a===void 0?void 0:a.call(e,r))!==null&&i!==void 0?i:!1};t.nullOrUndefined=r=>t.null_(r)||t.undefined(r);t.object=r=>!t.null_(r)&&(typeof r=="object"||t.function_(r));t.iterable=r=>{var n;return t.function_((n=r)===null||n===void 0?void 0:n[Symbol.iterator])};t.asyncIterable=r=>{var n;return t.function_((n=r)===null||n===void 0?void 0:n[Symbol.asyncIterator])};t.generator=r=>{var n,e;return t.iterable(r)&&t.function_((n=r)===null||n===void 0?void 0:n.next)&&t.function_((e=r)===null||e===void 0?void 0:e.throw)};t.asyncGenerator=r=>t.asyncIterable(r)&&t.function_(r.next)&&t.function_(r.throw);t.nativePromise=r=>m("Promise")(r);var Br=r=>{var n,e;return t.function_((n=r)===null||n===void 0?void 0:n.then)&&t.function_((e=r)===null||e===void 0?void 0:e.catch)};t.promise=r=>t.nativePromise(r)||Br(r);t.generatorFunction=m("GeneratorFunction");t.asyncGeneratorFunction=r=>U(r)==="AsyncGeneratorFunction";t.asyncFunction=r=>U(r)==="AsyncFunction";t.boundFunction=r=>t.function_(r)&&!r.hasOwnProperty("prototype");t.regExp=m("RegExp");t.date=m("Date");t.error=m("Error");t.map=r=>m("Map")(r);t.set=r=>m("Set")(r);t.weakMap=r=>m("WeakMap")(r);t.weakSet=r=>m("WeakSet")(r);t.int8Array=m("Int8Array");t.uint8Array=m("Uint8Array");t.uint8ClampedArray=m("Uint8ClampedArray");t.int16Array=m("Int16Array");t.uint16Array=m("Uint16Array");t.int32Array=m("Int32Array");t.uint32Array=m("Uint32Array");t.float32Array=m("Float32Array");t.float64Array=m("Float64Array");t.bigInt64Array=m("BigInt64Array");t.bigUint64Array=m("BigUint64Array");t.arrayBuffer=m("ArrayBuffer");t.sharedArrayBuffer=m("SharedArrayBuffer");t.dataView=m("DataView");t.directInstanceOf=(r,n)=>Object.getPrototypeOf(r)===n.prototype;t.urlInstance=r=>m("URL")(r);t.urlString=r=>{if(!t.string(r))return!1;try{return new URL(r),!0}catch{return!1}};t.truthy=r=>Boolean(r);t.falsy=r=>!r;t.nan=r=>Number.isNaN(r);t.primitive=r=>t.null_(r)||vr(typeof r);t.integer=r=>Number.isInteger(r);t.safeInteger=r=>Number.isSafeInteger(r);t.plainObject=r=>{if(sr.call(r)!=="[object Object]")return!1;let n=Object.getPrototypeOf(r);return n===null||n===Object.getPrototypeOf({})};t.typedArray=r=>Pr(U(r));var kr=r=>t.safeInteger(r)&&r>=0;t.arrayLike=r=>!t.nullOrUndefined(r)&&!t.function_(r)&&kr(r.length);t.inRange=(r,n)=>{if(t.number(n))return r>=Math.min(0,n)&&r<=Math.max(n,0);if(t.array(n)&&n.length===2)return r>=Math.min(...n)&&r<=Math.max(...n);throw new TypeError(`Invalid range: ${JSON.stringify(n)}`)};var Gr=1,Cr=["innerHTML","ownerDocument","style","attributes","nodeValue"];t.domElement=r=>t.object(r)&&r.nodeType===Gr&&t.string(r.nodeName)&&!t.plainObject(r)&&Cr.every(n=>n in r);t.observable=r=>{var n,e,a,i;return r?r===((e=(n=r)[Symbol.observable])===null||e===void 0?void 0:e.call(n))||r===((i=(a=r)["@@observable"])===null||i===void 0?void 0:i.call(a)):!1};t.nodeStream=r=>t.object(r)&&t.function_(r.pipe)&&!t.observable(r);t.infinite=r=>r===1/0||r===-1/0;var cr=r=>n=>t.integer(n)&&Math.abs(n%2)===r;t.evenInteger=cr(0);t.oddInteger=cr(1);t.emptyArray=r=>t.array(r)&&r.length===0;t.nonEmptyArray=r=>t.array(r)&&r.length>0;t.emptyString=r=>t.string(r)&&r.length===0;t.nonEmptyString=r=>t.string(r)&&r.length>0;var Rr=r=>t.string(r)&&!/\S/.test(r);t.emptyStringOrWhitespace=r=>t.emptyString(r)||Rr(r);t.emptyObject=r=>t.object(r)&&!t.map(r)&&!t.set(r)&&Object.keys(r).length===0;t.nonEmptyObject=r=>t.object(r)&&!t.map(r)&&!t.set(r)&&Object.keys(r).length>0;t.emptySet=r=>t.set(r)&&r.size===0;t.nonEmptySet=r=>t.set(r)&&r.size>0;t.emptyMap=r=>t.map(r)&&r.size===0;t.nonEmptyMap=r=>t.map(r)&&r.size>0;t.propertyKey=r=>t.any([t.string,t.number,t.symbol],r);t.formData=r=>m("FormData")(r);t.urlSearchParams=r=>m("URLSearchParams")(r);var yr=(r,n,e)=>{if(!t.function_(n))throw new TypeError(`Invalid predicate: ${JSON.stringify(n)}`);if(e.length===0)throw new TypeError("Invalid number of values");return r.call(e,n)};t.any=(r,...n)=>(t.array(r)?r:[r]).some(a=>yr(Array.prototype.some,a,n));t.all=(r,...n)=>yr(Array.prototype.every,r,n);var o=(r,n,e,a={})=>{if(!r){let{multipleValues:i}=a,s=i?`received values of types ${[...new Set(e.map(c=>`\`${t(c)}\``))].join(", ")}`:`received value of type \`${t(e)}\``;throw new TypeError(`Expected value which is \`${n}\`, ${s}.`)}};A.assert={undefined:r=>o(t.undefined(r),"undefined",r),string:r=>o(t.string(r),"string",r),number:r=>o(t.number(r),"number",r),bigint:r=>o(t.bigint(r),"bigint",r),function_:r=>o(t.function_(r),"Function",r),null_:r=>o(t.null_(r),"null",r),class_:r=>o(t.class_(r),"Class",r),boolean:r=>o(t.boolean(r),"boolean",r),symbol:r=>o(t.symbol(r),"symbol",r),numericString:r=>o(t.numericString(r),"string with a number",r),array:(r,n)=>{o(t.array(r),"Array",r),n&&r.forEach(n)},buffer:r=>o(t.buffer(r),"Buffer",r),nullOrUndefined:r=>o(t.nullOrUndefined(r),"null or undefined",r),object:r=>o(t.object(r),"Object",r),iterable:r=>o(t.iterable(r),"Iterable",r),asyncIterable:r=>o(t.asyncIterable(r),"AsyncIterable",r),generator:r=>o(t.generator(r),"Generator",r),asyncGenerator:r=>o(t.asyncGenerator(r),"AsyncGenerator",r),nativePromise:r=>o(t.nativePromise(r),"native Promise",r),promise:r=>o(t.promise(r),"Promise",r),generatorFunction:r=>o(t.generatorFunction(r),"GeneratorFunction",r),asyncGeneratorFunction:r=>o(t.asyncGeneratorFunction(r),"AsyncGeneratorFunction",r),asyncFunction:r=>o(t.asyncFunction(r),"AsyncFunction",r),boundFunction:r=>o(t.boundFunction(r),"Function",r),regExp:r=>o(t.regExp(r),"RegExp",r),date:r=>o(t.date(r),"Date",r),error:r=>o(t.error(r),"Error",r),map:r=>o(t.map(r),"Map",r),set:r=>o(t.set(r),"Set",r),weakMap:r=>o(t.weakMap(r),"WeakMap",r),weakSet:r=>o(t.weakSet(r),"WeakSet",r),int8Array:r=>o(t.int8Array(r),"Int8Array",r),uint8Array:r=>o(t.uint8Array(r),"Uint8Array",r),uint8ClampedArray:r=>o(t.uint8ClampedArray(r),"Uint8ClampedArray",r),int16Array:r=>o(t.int16Array(r),"Int16Array",r),uint16Array:r=>o(t.uint16Array(r),"Uint16Array",r),int32Array:r=>o(t.int32Array(r),"Int32Array",r),uint32Array:r=>o(t.uint32Array(r),"Uint32Array",r),float32Array:r=>o(t.float32Array(r),"Float32Array",r),float64Array:r=>o(t.float64Array(r),"Float64Array",r),bigInt64Array:r=>o(t.bigInt64Array(r),"BigInt64Array",r),bigUint64Array:r=>o(t.bigUint64Array(r),"BigUint64Array",r),arrayBuffer:r=>o(t.arrayBuffer(r),"ArrayBuffer",r),sharedArrayBuffer:r=>o(t.sharedArrayBuffer(r),"SharedArrayBuffer",r),dataView:r=>o(t.dataView(r),"DataView",r),urlInstance:r=>o(t.urlInstance(r),"URL",r),urlString:r=>o(t.urlString(r),"string with a URL",r),truthy:r=>o(t.truthy(r),"truthy",r),falsy:r=>o(t.falsy(r),"falsy",r),nan:r=>o(t.nan(r),"NaN",r),primitive:r=>o(t.primitive(r),"primitive",r),integer:r=>o(t.integer(r),"integer",r),safeInteger:r=>o(t.safeInteger(r),"integer",r),plainObject:r=>o(t.plainObject(r),"plain object",r),typedArray:r=>o(t.typedArray(r),"TypedArray",r),arrayLike:r=>o(t.arrayLike(r),"array-like",r),domElement:r=>o(t.domElement(r),"HTMLElement",r),observable:r=>o(t.observable(r),"Observable",r),nodeStream:r=>o(t.nodeStream(r),"Node.js Stream",r),infinite:r=>o(t.infinite(r),"infinite number",r),emptyArray:r=>o(t.emptyArray(r),"empty array",r),nonEmptyArray:r=>o(t.nonEmptyArray(r),"non-empty array",r),emptyString:r=>o(t.emptyString(r),"empty string",r),nonEmptyString:r=>o(t.nonEmptyString(r),"non-empty string",r),emptyStringOrWhitespace:r=>o(t.emptyStringOrWhitespace(r),"empty string or whitespace",r),emptyObject:r=>o(t.emptyObject(r),"empty object",r),nonEmptyObject:r=>o(t.nonEmptyObject(r),"non-empty object",r),emptySet:r=>o(t.emptySet(r),"empty set",r),nonEmptySet:r=>o(t.nonEmptySet(r),"non-empty set",r),emptyMap:r=>o(t.emptyMap(r),"empty map",r),nonEmptyMap:r=>o(t.nonEmptyMap(r),"non-empty map",r),propertyKey:r=>o(t.propertyKey(r),"PropertyKey",r),formData:r=>o(t.formData(r),"FormData",r),urlSearchParams:r=>o(t.urlSearchParams(r),"URLSearchParams",r),evenInteger:r=>o(t.evenInteger(r),"even integer",r),oddInteger:r=>o(t.oddInteger(r),"odd integer",r),directInstanceOf:(r,n)=>o(t.directInstanceOf(r,n),"T",r),inRange:(r,n)=>o(t.inRange(r,n),"in range",r),any:(r,...n)=>o(t.any(r,...n),"predicate returns truthy for any value",n,{multipleValues:!0}),all:(r,...n)=>o(t.all(r,...n),"predicate returns truthy for all values",n,{multipleValues:!0})};Object.defineProperties(t,{class:{value:t.class_},function:{value:t.function_},null:{value:t.null_}});Object.defineProperties(A.assert,{class:{value:A.assert.class_},function:{value:A.assert.function_},null:{value:A.assert.null_}});A.default=t;W.exports=t;W.exports.default=t;W.exports.assert=A.assert});var zr={};Sr(zr,{default:()=>br});module.exports=Lr(zr);var E=require("@raycast/api"),q=require("react");var J=require("react"),lr=Q(ir()),h=require("@raycast/api"),pr=Q(fr());var V=require("@raycast/api"),Wr=require("react/jsx-runtime");function z(){return(0,Wr.jsx)(V.List.Item,{title:"Invalid coordinates entered",icon:V.Icon.ExclamationMark})}function ur(r){return`https://www.geohash.es/decode?geohash=${r}`}var dr=require("@raycast/api");function Vr(){return(0,dr.getPreferenceValues)()}function mr(){return Vr().closeOnAction}var H=require("@raycast/api");function K(){mr()&&((0,H.closeMainWindow)(),(0,H.popToRoot)())}var L=require("react/jsx-runtime");function Hr(r){return Array.from(new Array(r),(n,e)=>e+1)}function $r(r){if(pr.default.numericString(r)){let n=Number(r);return n<=180&&n>=-180}else return!1}function X({latitude:r,longitude:n}){let e=Hr(12),a=(0,J.useMemo)(()=>[r,n].every($r),[r,n]),i;return a?i=(0,J.useMemo)(()=>e.map(c=>(0,lr.encode)(r,n,c)),[r,n]).map(c=>{let f=(0,L.jsxs)(h.ActionPanel,{children:[(0,L.jsx)(h.CopyToClipboardAction,{content:c,onCopy:K}),(0,L.jsx)(h.OpenInBrowserAction,{url:ur(c),onOpen:K})]});return(0,L.jsx)(h.List.Item,{title:c,accessoryTitle:`Precision ${c.length}`,actions:f},c)}):i=(0,L.jsx)(z,{}),(0,L.jsx)(h.List,{children:i})}var I=require("react/jsx-runtime");function br(){let[r,n]=(0,q.useState)(""),[e,a]=(0,q.useState)("");return(0,I.jsxs)(E.Form,{actions:(0,I.jsx)(E.ActionPanel,{children:(0,I.jsx)(E.PushAction,{title:"Encode Coordinates",target:(0,I.jsx)(X,{latitude:r,longitude:e})})}),children:[(0,I.jsx)(E.Form.TextField,{id:"latitude",title:"Latitude",value:r,onChange:n,placeholder:"E.g., 40.4169"}),(0,I.jsx)(E.Form.TextField,{id:"longitude",title:"Longitude",value:e,onChange:a,placeholder:"E.g., -3.7035"})]})}0&&(module.exports={});
