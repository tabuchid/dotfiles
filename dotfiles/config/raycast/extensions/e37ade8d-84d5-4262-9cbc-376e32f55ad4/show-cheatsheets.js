"use strict";var $e=Object.create;var F=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var we=Object.getOwnPropertyNames;var ke=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var ve=(e,n)=>{for(var t in n)F(e,t,{get:n[t],enumerable:!0})},Q=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of we(n))!xe.call(e,a)&&a!==t&&F(e,a,{get:()=>n[a],enumerable:!(r=ye(n,a))||r.enumerable});return e};var j=(e,n,t)=>(t=e!=null?$e(ke(e)):{},Q(n||!e||!e.__esModule?F(t,"default",{value:e,enumerable:!0}):t,e)),Se=e=>Q(F({},"__esModule",{value:!0}),e);var Fe={};ve(Fe,{default:()=>me});module.exports=Se(Fe);var A=require("@raycast/api");var c=j(require("react")),f=require("@raycast/api");var ee=Object.prototype.hasOwnProperty;function B(e,n){var t,r;if(e===n)return!0;if(e&&n&&(t=e.constructor)===n.constructor){if(t===Date)return e.getTime()===n.getTime();if(t===RegExp)return e.toString()===n.toString();if(t===Array){if((r=e.length)===n.length)for(;r--&&B(e[r],n[r]););return r===-1}if(!t||typeof e=="object"){r=0;for(t in e)if(ee.call(e,t)&&++r&&!ee.call(n,t)||!(t in n)||!B(e[t],n[t]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}var I=j(require("node:fs")),H=j(require("node:path")),ae=j(require("node:crypto"));var se=require("react/jsx-runtime");function Ee(e){let n=(0,c.useRef)(e),t=(0,c.useRef)(0);return B(e,n.current)||(n.current=e,t.current+=1),(0,c.useMemo)(()=>n.current,[t.current])}function w(e){let n=(0,c.useRef)(e);return n.current=e,n}function Re(e,n){let t=e instanceof Error?e.message:String(e);return(0,f.showToast)({style:f.Toast.Style.Failure,title:n?.title??"Something went wrong",message:n?.message??t,primaryAction:n?.primaryAction??te(e),secondaryAction:n?.primaryAction?te(e):void 0})}var te=e=>{let n=!0,t="[Extension Name]...",r="";try{let s=JSON.parse((0,I.readFileSync)((0,H.join)(f.environment.assetsPath,"..","package.json"),"utf8"));t=`[${s.title}]...`,r=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(n=!1)}catch{}let a=f.environment.isDevelopment||n,o=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:a?"Copy Logs":"Report Error",onAction(s){s.hide(),a?f.Clipboard.copy(o):(0,f.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(r)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function Ae(e,n,t){let r=(0,c.useRef)(0),[a,o]=(0,c.useState)({isLoading:!0}),s=w(e),l=w(t?.abortable),i=w(n||[]),m=w(t?.onError),p=w(t?.onData),g=w(t?.onWillExecute),x=w(t?.failureToastOptions),v=w(a.data),y=(0,c.useRef)(null),d=(0,c.useRef)({page:0}),b=(0,c.useRef)(!1),S=(0,c.useRef)(!0),T=(0,c.useRef)(50),$=(0,c.useCallback)(()=>(l.current&&(l.current.current?.abort(),l.current.current=new AbortController),++r.current),[l]),h=(0,c.useCallback)((...U)=>{let k=$();g.current?.(U),o(u=>({...u,isLoading:!0}));let L=Te(s.current)(...U);function D(u){return u.name=="AbortError"||k===r.current&&(m.current?m.current(u):f.environment.launchType!==f.LaunchType.Background&&Re(u,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(C){C.hide(),y.current?.(...i.current||[])}},...x.current}),o({error:u,isLoading:!1})),u}return typeof L=="function"?(b.current=!0,L(d.current).then(({data:u,hasMore:C,cursor:ge})=>(k===r.current&&(d.current&&(d.current.cursor=ge,d.current.lastItem=u?.[u.length-1]),p.current&&p.current(u,d.current),C&&(T.current=u.length),S.current=C,o(be=>d.current.page===0?{data:u,isLoading:!1}:{data:(be.data||[])?.concat(u),isLoading:!1})),u),u=>(S.current=!1,D(u)))):(b.current=!1,L.then(u=>(k===r.current&&(p.current&&p.current(u),o({data:u,isLoading:!1})),u),D))},[p,m,i,s,o,y,g,d,x,$]);y.current=h;let E=(0,c.useCallback)(()=>{d.current={page:0};let U=i.current||[];return h(...U)},[h,i]),R=(0,c.useCallback)(async(U,k)=>{let L;try{if(k?.optimisticUpdate){$(),typeof k?.rollbackOnError!="function"&&k?.rollbackOnError!==!1&&(L=structuredClone(v.current?.value));let D=k.optimisticUpdate;o(u=>({...u,data:D(u.data)}))}return await U}catch(D){if(typeof k?.rollbackOnError=="function"){let u=k.rollbackOnError;o(C=>({...C,data:u(C.data)}))}else k?.optimisticUpdate&&k?.rollbackOnError!==!1&&o(u=>({...u,data:L}));throw D}finally{k?.shouldRevalidateAfter!==!1&&(f.environment.launchType===f.LaunchType.Background||f.environment.commandMode==="menu-bar"?await E():E())}},[E,v,o,$]),_=(0,c.useCallback)(()=>{d.current.page+=1;let U=i.current||[];h(...U)},[d,i,h]);(0,c.useEffect)(()=>{d.current={page:0},t?.execute!==!1?h(...n||[]):$()},[Ee([n,t?.execute,h]),l,d]),(0,c.useEffect)(()=>()=>{$()},[$]);let N=t?.execute!==!1?a.isLoading:!1,V={...a,isLoading:N},z=b.current?{pageSize:T.current,hasMore:S.current,onLoadMore:_}:void 0;return{...V,revalidate:E,mutate:R,pagination:z}}function Te(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function re(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function _e(e){return e instanceof URLSearchParams?e.toString():e}function ie(e,n=[]){function t(r){return"update"in e?e.update(r,"utf8"):e.write(r)}return{dispatch:function(r){r=_e(r),r===null?this._null():this["_"+typeof r](r)},_object:function(r){let a=/\[object (.*)\]/i,o=Object.prototype.toString.call(r),s=a.exec(o)?.[1]??"unknown:["+o+"]";s=s.toLowerCase();let l=null;if((l=n.indexOf(r))>=0){this.dispatch("[CIRCULAR:"+l+"]");return}else n.push(r);if(Buffer.isBuffer(r))return t("buffer:"),t(r.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")if(this["_"+s])this["_"+s](r);else throw new Error('Unknown object type "'+s+'"');else{let i=Object.keys(r);i=i.sort(),re(r)||i.splice(0,0,"prototype","__proto__","constructor"),t("object:"+i.length+":");let m=this;return i.forEach(function(p){m.dispatch(p),t(":"),m.dispatch(r[p]),t(",")})}},_array:function(r,a){a=typeof a<"u"?a:!1;let o=this;if(t("array:"+r.length+":"),!a||r.length<=1){r.forEach(function(i){o.dispatch(i)});return}let s=[],l=r.map(function(i){let m=Ue(),p=n.slice();return ie(m,p).dispatch(i),s=s.concat(p.slice(n.length)),m.read().toString()});n=n.concat(s),l.sort(),this._array(l,!1)},_date:function(r){t("date:"+r.toJSON())},_symbol:function(r){t("symbol:"+r.toString())},_error:function(r){t("error:"+r.toString())},_boolean:function(r){t("bool:"+r.toString())},_string:function(r){t("string:"+r.length+":"),t(r.toString())},_function:function(r){t("fn:"),re(r)?this.dispatch("[native]"):this.dispatch(r.toString()),this.dispatch("function-name:"+String(r.name)),this._object(r)},_number:function(r){t("number:"+r.toString())},_xml:function(r){t("xml:"+r.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(r){t("regex:"+r.toString())},_uint8array:function(r){t("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint8clampedarray:function(r){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},_int8array:function(r){t("int8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint16array:function(r){t("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},_int16array:function(r){t("int16array:"),this.dispatch(Array.prototype.slice.call(r))},_uint32array:function(r){t("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},_int32array:function(r){t("int32array:"),this.dispatch(Array.prototype.slice.call(r))},_float32array:function(r){t("float32array:"),this.dispatch(Array.prototype.slice.call(r))},_float64array:function(r){t("float64array:"),this.dispatch(Array.prototype.slice.call(r))},_arraybuffer:function(r){t("arraybuffer:"),this.dispatch(new Uint8Array(r))},_url:function(r){t("url:"+r.toString())},_map:function(r){t("map:");let a=Array.from(r);this._array(a,!0)},_set:function(r){t("set:");let a=Array.from(r);this._array(a,!0)},_file:function(r){t("file:"),this.dispatch([r.name,r.size,r.type,r.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(r){t("bigint:"+r.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function Ue(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Pe(e,n){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:n}function Ce(e,n){return typeof n=="string"&&n.startsWith("__raycast_cached_date__")?new Date(n.replace("__raycast_cached_date__","")):typeof n=="string"&&n.startsWith("__raycast_cached_buffer__")?Buffer.from(n.replace("__raycast_cached_buffer__",""),"base64"):n}function G(e){let n=ae.default.createHash("sha1");return ie(n).dispatch(e),n.digest("hex")}var Ie=Symbol("cache without namespace"),ne=new Map;function Oe(e,n,t){let r=t?.cacheNamespace||Ie,a=ne.get(r)||ne.set(r,new f.Cache({namespace:t?.cacheNamespace})).get(r);if(!a)throw new Error("Missing cache");let o=w(e),s=w(n),l=(0,c.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(o.current)}catch(g){console.error("Could not get Cache data:",g);return}}),i=(0,c.useMemo)(()=>{if(typeof l<"u"){if(l==="undefined")return;try{return JSON.parse(l,Ce)}catch(g){return console.warn("The cached data is corrupted",g),s.current}}else return s.current},[l,s]),m=w(i),p=(0,c.useCallback)(g=>{let x=typeof g=="function"?g(m.current):g;if(typeof x>"u")a.set(o.current,"undefined");else{let v=JSON.stringify(x,Pe);a.set(o.current,v)}return x},[a,o,m]);return[i,p]}var M=Symbol();function Le(e,n,t){let{initialData:r,keepPreviousData:a,internal_cacheKeySuffix:o,...s}=t||{},l=(0,c.useRef)(null),[i,m]=Oe(G(n||[])+o,M,{cacheNamespace:G(e)}),p=(0,c.useRef)(i!==M?i:r),g=(0,c.useRef)(void 0),{mutate:x,revalidate:v,...y}=Ae(e,n||[],{...s,onData($,h){g.current=h,s.onData&&s.onData($,h),!(h&&h.page>0)&&(l.current="promise",p.current=$,m($))}}),d,b=y.pagination;g.current&&g.current.page>0&&y.data?d=y.data:l.current==="promise"?d=p.current:a&&i!==M?(d=i,b&&(b.hasMore=!0,b.pageSize=i.length)):a&&i===M?d=p.current:i!==M?(d=i,b&&(b.hasMore=!0,b.pageSize=i.length)):d=r;let S=w(d),T=(0,c.useCallback)(async($,h)=>{let E;try{if(h?.optimisticUpdate){typeof h?.rollbackOnError!="function"&&h?.rollbackOnError!==!1&&(E=structuredClone(S.current));let R=h.optimisticUpdate(S.current);l.current="cache",p.current=R,m(R)}return await x($,{shouldRevalidateAfter:h?.shouldRevalidateAfter})}catch(R){if(typeof h?.rollbackOnError=="function"){let _=h.rollbackOnError(S.current);l.current="cache",p.current=_,m(_)}else h?.optimisticUpdate&&h?.rollbackOnError!==!1&&(l.current="cache",p.current=E,m(E));throw R}},[m,x,S,p,l]);return(0,c.useEffect)(()=>{i!==M&&(l.current="cache",p.current=i)},[i]),{data:d,isLoading:y.isLoading,error:y.error,mutate:g.current&&g.current.page>0?x:T,pagination:b,revalidate:v}}function De(e){if(e){let n=We(e);if(!n)return!1;if(n.subtype==="json"||n.suffix==="json"||n.suffix&&/\bjson\b/i.test(n.suffix)||n.subtype&&/\bjson\b/i.test(n.subtype))return!0}return!1}var Me=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function We(e){let n=e.indexOf(";"),t=n!==-1?e.slice(0,n).trim():e.trim(),r=Me.exec(t.toLowerCase().toLowerCase());if(!r)return;let a=r[1],o=r[2],s,l=o.lastIndexOf("+");return l!==-1&&(s=o.substring(l+1),o=o.substring(0,l)),{type:a,subtype:o,suffix:s}}async function Ne(e){if(!e.ok)throw new Error(e.statusText);let n=e.headers.get("content-type");return n&&De(n)?await e.json():await e.text()}function Ve(e){return{data:e,hasMore:!1}}function K(e,n){let{parseResponse:t,mapResult:r,initialData:a,execute:o,keepPreviousData:s,onError:l,onData:i,onWillExecute:m,failureToastOptions:p,...g}=n||{},x={initialData:a,execute:o,keepPreviousData:s,onError:l,onData:i,onWillExecute:m,failureToastOptions:p},v=w(t||Ne),y=w(r||Ve),d=(0,c.useRef)(null),b=(0,c.useRef)(null),S=typeof e=="function"?e({page:0}):void 0;(!d.current||typeof b.current>"u"||b.current!==S)&&(d.current=e),b.current=S;let T=(0,c.useRef)(null),$=(0,c.useCallback)((R,_)=>async N=>{let V=await fetch(R(N),{signal:T.current?.signal,..._}),z=await v.current(V);return y.current?.(z)},[v,y]),h=(0,c.useCallback)(async(R,_)=>{let N=await fetch(R,{signal:T.current?.signal,..._}),V=await v.current(N);return y.current(V)?.data},[v,y]),E=(0,c.useMemo)(()=>b.current?$:h,[b,h,$]);return Le(E,[d.current,g],{...x,internal_cacheKeySuffix:b.current+G(y.current)+G(v.current),abortable:T})}var O={OWNER:"rstacruz",REPO:"cheatsheets",BRANCH:"master"},oe=`https://api.github.com/repos/${O.OWNER}/${O.REPO}`,ce=`https://raw.githubusercontent.com/${O.OWNER}/${O.REPO}/${O.BRANCH}`,le="https://devhints.io";function ue(e){let n=e.lastIndexOf(".");return n===-1?e:e.substring(0,n)}function ze(e){let n=e.lastIndexOf(".");return n===-1?"":e.substring(n+1)}function fe(e){return e.filter(n=>{let t=n.type==="tree",r=ze(n.path)==="md",o=["CONTRIBUTING","README","index","index@2016"].includes(ue(n.path));return!t&&r&&!o}).map(n=>ue(n.path))}function de(e){let n=e.indexOf("---");if(n===-1)return e;let t=e.indexOf("---",n+3);return t===-1?e:e.substring(t+3)}function he(e){return e.split(`
`).filter(n=>n.length<2?!0:!(n[0]==="{"&&n[1]===":"||n[1]==="%"&&n[n.length-1]==="}")).join(`
`)}function pe(e){let n=e.split(`
`);return n.map((t,r)=>{if(t.length===0)return t;let a=r>0?n[r-1]:"",o=r<n.length-1?n[r+1]:"",s=a.trim().length===0,l=o.trim().length===0,i=t[0]==="|"&&t[t.length-1]==="|";return i&&s&&l?`\`\`\`
${t}
\`\`\``:i&&s?`\`\`\`
${t}`:i&&l?`${t}
\`\`\``:t}).join(`
`)}function J(e){return`${le}/${e}`}function q(){let e=`${oe}/git/trees/${O.BRANCH}`,{isLoading:n,data:t,error:r}=K(e,{mapResult(a){return{data:fe(a.tree)}}});return{isLoading:n,data:t??[],error:r}}function Y(e){let n=`${ce}/${e}.md`,{isLoading:t,data:r,error:a}=K(n,{parseResponse:async o=>o.text(),mapResult(o){let s=pe(he(de(o)));return{data:`# ${e.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}

${s}`}}});return{isLoading:t,data:r??"",error:a}}var W=require("@raycast/api");var Z=require("react/jsx-runtime");function X(e){let{isLoading:n,data:t}=Y(e.slug);return(0,Z.jsx)(W.Detail,{navigationTitle:`Cheatsheet: ${e.slug}`,isLoading:n,markdown:t,actions:(0,Z.jsx)(W.ActionPanel,{children:(0,Z.jsx)(W.Action.OpenInBrowser,{url:J(e.slug)})})})}var P=require("react/jsx-runtime");function me(){let{isLoading:e,data:n}=q();return(0,P.jsx)(A.List,{isLoading:e,children:n.map(t=>(0,P.jsx)(A.List.Item,{actions:(0,P.jsxs)(A.ActionPanel,{children:[(0,P.jsx)(A.Action.Push,{title:"Open Cheatsheet",icon:A.Icon.Window,target:(0,P.jsx)(X,{slug:t})}),(0,P.jsx)(A.Action.OpenInBrowser,{url:J(t)})]}),title:t},t))})}
