"use strict";var m=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var g=(e,t)=>{for(var r in t)m(e,r,{get:t[r],enumerable:!0})},y=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of I(t))!p.call(e,a)&&a!==r&&m(e,a,{get:()=>t[a],enumerable:!(o=f(t,a))||o.enumerable});return e};var h=e=>y(m({},"__esModule",{value:!0}),e);var w={};g(w,{default:()=>u});module.exports=h(w);var s=require("@raycast/api");async function i(){let{items:e}=await s.LocalStorage.allItems();return e?JSON.parse(e):[]}async function c(e){await s.LocalStorage.setItem("items",JSON.stringify(e))}var n=require("@raycast/api");async function d(){try{await(0,n.launchCommand)({name:"menu-bar",type:n.LaunchType.Background})}catch(e){console.error("An error occurred while updating the menu bar",e)}try{await(0,n.launchCommand)({name:"up-next",type:n.LaunchType.Background})}catch(e){console.error("An error occurred while updating the up-next command",e)}}async function u(e){let t=await i(),r=t.findIndex(l=>l.id===e.id);if(r===-1)return{success:!1,message:`Date with ID "${e.id}" not found.`};let o=t[r],a={...o,name:e.name??o.name,subtitle:e.subtitle??o.subtitle,date:e.date??o.date};return t[r]=a,await c(t),await d(),{success:!0,message:`Updated "${a.name}"${e.date?` to ${e.date}`:""}${e.name?` name to "${e.name}"`:""}${e.subtitle!==void 0?` description to "${e.subtitle}"`:""}`}}
