{
  "version": 3,
  "sources": ["../../src/tools/edit-date.ts", "../../src/storage.ts", "../../src/utils.ts"],
  "sourcesContent": ["import { getItems, saveItems } from \"../storage\";\nimport { Item } from \"../types\";\nimport { refreshCommands } from \"../utils\";\n\ntype EditDateInput = {\n  /**\n   * The ID of the date to edit\n   */\n  id: string;\n  /**\n   * The new name of the date\n   */\n  name?: string;\n  /**\n   * The new description or subtitle\n   */\n  subtitle?: string;\n  /**\n   * The new date in YYYY-MM-DD format\n   */\n  date?: string;\n};\n\n/**\n * Edit an existing remembered date\n */\nexport default async function editDate(input: EditDateInput) {\n  const items = await getItems();\n  const itemIndex = items.findIndex((item) => item.id === input.id);\n\n  if (itemIndex === -1) {\n    return {\n      success: false,\n      message: `Date with ID \"${input.id}\" not found.`,\n    };\n  }\n\n  const originalItem = items[itemIndex];\n  const updatedItem: Item = {\n    ...originalItem,\n    name: input.name ?? originalItem.name,\n    subtitle: input.subtitle ?? originalItem.subtitle,\n    date: input.date ?? originalItem.date,\n  };\n\n  items[itemIndex] = updatedItem;\n  await saveItems(items);\n  await refreshCommands();\n\n  return {\n    success: true,\n    message: `Updated \"${updatedItem.name}\"${input.date ? ` to ${input.date}` : \"\"}${input.name ? ` name to \"${input.name}\"` : \"\"}${input.subtitle !== undefined ? ` description to \"${input.subtitle}\"` : \"\"}`,\n  };\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport { Item } from \"./types\";\n\nexport async function getItems(): Promise<Item[]> {\n  const { items } = await LocalStorage.allItems();\n  if (!items) return [];\n\n  return JSON.parse(items);\n}\n\nexport async function saveItems(items: Item[]) {\n  await LocalStorage.setItem(\"items\", JSON.stringify(items));\n}\n", "import { launchCommand, LaunchType, showToast, Toast } from \"@raycast/api\";\nimport { Item } from \"./types\";\n\nexport function pluralize(length: number): string {\n  return `item${length > 1 ? \"s\" : \"\"}`;\n}\n\nexport function validateItem(item: Item) {\n  if (item.name === \"\") {\n    showToast(Toast.Style.Failure, \"An error occurred\", \"Name can not be empty\");\n    return false;\n  }\n\n  if (item.date === null) {\n    showToast(Toast.Style.Failure, \"An error occurred\", \"Please select a date\");\n    return false;\n  }\n\n  return true;\n}\n\nexport async function refreshCommands() {\n  try {\n    await launchCommand({ name: \"menu-bar\", type: LaunchType.Background });\n  } catch (e) {\n    console.error(\"An error occurred while updating the menu bar\", e);\n  }\n  try {\n    await launchCommand({ name: \"up-next\", type: LaunchType.Background });\n  } catch (e) {\n    console.error(\"An error occurred while updating the up-next command\", e);\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCAA,IAAAI,EAA6B,wBAG7B,eAAsBC,GAA4B,CAChD,GAAM,CAAE,MAAAC,CAAM,EAAI,MAAM,eAAa,SAAS,EAC9C,OAAKA,EAEE,KAAK,MAAMA,CAAK,EAFJ,CAAC,CAGtB,CAEA,eAAsBC,EAAUD,EAAe,CAC7C,MAAM,eAAa,QAAQ,QAAS,KAAK,UAAUA,CAAK,CAAC,CAC3D,CCZA,IAAAE,EAA4D,wBAqB5D,eAAsBC,GAAkB,CACtC,GAAI,CACF,QAAM,iBAAc,CAAE,KAAM,WAAY,KAAM,aAAW,UAAW,CAAC,CACvE,OAAS,EAAG,CACV,QAAQ,MAAM,gDAAiD,CAAC,CAClE,CACA,GAAI,CACF,QAAM,iBAAc,CAAE,KAAM,UAAW,KAAM,aAAW,UAAW,CAAC,CACtE,OAAS,EAAG,CACV,QAAQ,MAAM,uDAAwD,CAAC,CACzE,CACF,CFNA,eAAOC,EAAgCC,EAAsB,CAC3D,IAAMC,EAAQ,MAAMC,EAAS,EACvBC,EAAYF,EAAM,UAAWG,GAASA,EAAK,KAAOJ,EAAM,EAAE,EAEhE,GAAIG,IAAc,GAChB,MAAO,CACL,QAAS,GACT,QAAS,iBAAiBH,EAAM,EAAE,cACpC,EAGF,IAAMK,EAAeJ,EAAME,CAAS,EAC9BG,EAAoB,CACxB,GAAGD,EACH,KAAML,EAAM,MAAQK,EAAa,KACjC,SAAUL,EAAM,UAAYK,EAAa,SACzC,KAAML,EAAM,MAAQK,EAAa,IACnC,EAEA,OAAAJ,EAAME,CAAS,EAAIG,EACnB,MAAMC,EAAUN,CAAK,EACrB,MAAMO,EAAgB,EAEf,CACL,QAAS,GACT,QAAS,YAAYF,EAAY,IAAI,IAAIN,EAAM,KAAO,OAAOA,EAAM,IAAI,GAAK,EAAE,GAAGA,EAAM,KAAO,aAAaA,EAAM,IAAI,IAAM,EAAE,GAAGA,EAAM,WAAa,OAAY,oBAAoBA,EAAM,QAAQ,IAAM,EAAE,EAC3M,CACF",
  "names": ["edit_date_exports", "__export", "editDate", "__toCommonJS", "import_api", "getItems", "items", "saveItems", "import_api", "refreshCommands", "editDate", "input", "items", "getItems", "itemIndex", "item", "originalItem", "updatedItem", "saveItems", "refreshCommands"]
}
