{
  "version": 3,
  "sources": ["../../src/tools/add-date.ts", "../../node_modules/nanoid/index.js", "../../node_modules/nanoid/url-alphabet/index.js", "../../src/storage.ts", "../../src/utils.ts"],
  "sourcesContent": ["import { Icon, Color } from \"@raycast/api\";\nimport { nanoid } from \"nanoid\";\nimport { getItems, saveItems } from \"../storage\";\nimport { Item } from \"../types\";\nimport { refreshCommands } from \"../utils\";\n\ntype AddDateInput = {\n  /**\n   * The name of the date to remember\n   */\n  name: string;\n  /**\n   * Optional description or subtitle\n   */\n  subtitle?: string;\n  /**\n   * The date in YYYY-MM-DD format\n   */\n  date: string;\n};\n\n/**\n * Add a new date to remember\n */\nexport default async function addDate(input: AddDateInput) {\n  const items = await getItems();\n\n  const newItem: Item = {\n    id: nanoid(),\n    name: input.name,\n    subtitle: input.subtitle || \"\",\n    date: input.date,\n    icon: Icon.Calendar,\n    color: Color.Blue,\n  };\n\n  items.push(newItem);\n  await saveItems(items);\n  await refreshCommands();\n\n  return {\n    success: true,\n    message: `Added \"${input.name}\" on ${input.date}${input.subtitle ? ` (${input.subtitle})` : \"\"}`,\n  };\n}\n", "import { webcrypto as crypto } from 'node:crypto'\nimport { urlAlphabet as scopedUrlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nconst POOL_SIZE_MULTIPLIER = 128\nlet pool, poolOffset\nfunction fillPool(bytes) {\n  if (!pool || pool.length < bytes) {\n    pool = Buffer.allocUnsafe(bytes * POOL_SIZE_MULTIPLIER)\n    crypto.getRandomValues(pool)\n    poolOffset = 0\n  } else if (poolOffset + bytes > pool.length) {\n    crypto.getRandomValues(pool)\n    poolOffset = 0\n  }\n  poolOffset += bytes\n}\nexport function random(bytes) {\n  fillPool((bytes |= 0))\n  return pool.subarray(poolOffset - bytes, poolOffset)\n}\nexport function customRandom(alphabet, defaultSize, getRandom) {\n  let mask = (2 << (31 - Math.clz32((alphabet.length - 1) | 1))) - 1\n  let step = Math.ceil((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    if (!size) return ''\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let i = step\n      while (i--) {\n        id += alphabet[bytes[i] & mask] || ''\n        if (id.length >= size) return id\n      }\n    }\n  }\n}\nexport function customAlphabet(alphabet, size = 21) {\n  return customRandom(alphabet, size, random)\n}\nexport function nanoid(size = 21) {\n  fillPool((size |= 0))\n  let id = ''\n  for (let i = poolOffset - size; i < poolOffset; i++) {\n    id += scopedUrlAlphabet[pool[i] & 63]\n  }\n  return id\n}\n", "export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n", "import { LocalStorage } from \"@raycast/api\";\nimport { Item } from \"./types\";\n\nexport async function getItems(): Promise<Item[]> {\n  const { items } = await LocalStorage.allItems();\n  if (!items) return [];\n\n  return JSON.parse(items);\n}\n\nexport async function saveItems(items: Item[]) {\n  await LocalStorage.setItem(\"items\", JSON.stringify(items));\n}\n", "import { launchCommand, LaunchType, showToast, Toast } from \"@raycast/api\";\nimport { Item } from \"./types\";\n\nexport function pluralize(length: number): string {\n  return `item${length > 1 ? \"s\" : \"\"}`;\n}\n\nexport function validateItem(item: Item) {\n  if (item.name === \"\") {\n    showToast(Toast.Style.Failure, \"An error occurred\", \"Name can not be empty\");\n    return false;\n  }\n\n  if (item.date === null) {\n    showToast(Toast.Style.Failure, \"An error occurred\", \"Please select a date\");\n    return false;\n  }\n\n  return true;\n}\n\nexport async function refreshCommands() {\n  try {\n    await launchCommand({ name: \"menu-bar\", type: LaunchType.Background });\n  } catch (e) {\n    console.error(\"An error occurred while updating the menu bar\", e);\n  }\n  try {\n    await launchCommand({ name: \"up-next\", type: LaunchType.Background });\n  } catch (e) {\n    console.error(\"An error occurred while updating the up-next command\", e);\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAA4B,wBCA5B,IAAAC,EAAoC,uBCA7B,IAAMC,EACX,mEDEF,IAAMC,EAAuB,IACzBC,EAAMC,EACV,SAASC,EAASC,EAAO,CACnB,CAACH,GAAQA,EAAK,OAASG,GACzBH,EAAO,OAAO,YAAYG,EAAQJ,CAAoB,EACtD,EAAAK,UAAO,gBAAgBJ,CAAI,EAC3BC,EAAa,GACJA,EAAaE,EAAQH,EAAK,SACnC,EAAAI,UAAO,gBAAgBJ,CAAI,EAC3BC,EAAa,GAEfA,GAAcE,CAChB,CAwBO,SAASE,EAAOC,EAAO,GAAI,CAChCC,EAAUD,GAAQ,CAAE,EACpB,IAAIE,EAAK,GACT,QAASC,EAAIC,EAAaJ,EAAMG,EAAIC,EAAYD,IAC9CD,GAAMG,EAAkBC,EAAKH,CAAC,EAAI,EAAE,EAEtC,OAAOD,CACT,CE9CA,IAAAK,EAA6B,wBAG7B,eAAsBC,GAA4B,CAChD,GAAM,CAAE,MAAAC,CAAM,EAAI,MAAM,eAAa,SAAS,EAC9C,OAAKA,EAEE,KAAK,MAAMA,CAAK,EAFJ,CAAC,CAGtB,CAEA,eAAsBC,EAAUD,EAAe,CAC7C,MAAM,eAAa,QAAQ,QAAS,KAAK,UAAUA,CAAK,CAAC,CAC3D,CCZA,IAAAE,EAA4D,wBAqB5D,eAAsBC,GAAkB,CACtC,GAAI,CACF,QAAM,iBAAc,CAAE,KAAM,WAAY,KAAM,aAAW,UAAW,CAAC,CACvE,OAAS,EAAG,CACV,QAAQ,MAAM,gDAAiD,CAAC,CAClE,CACA,GAAI,CACF,QAAM,iBAAc,CAAE,KAAM,UAAW,KAAM,aAAW,UAAW,CAAC,CACtE,OAAS,EAAG,CACV,QAAQ,MAAM,uDAAwD,CAAC,CACzE,CACF,CJRA,eAAOC,EAA+BC,EAAqB,CACzD,IAAMC,EAAQ,MAAMC,EAAS,EAEvBC,EAAgB,CACpB,GAAIC,EAAO,EACX,KAAMJ,EAAM,KACZ,SAAUA,EAAM,UAAY,GAC5B,KAAMA,EAAM,KACZ,KAAM,OAAK,SACX,MAAO,QAAM,IACf,EAEA,OAAAC,EAAM,KAAKE,CAAO,EAClB,MAAME,EAAUJ,CAAK,EACrB,MAAMK,EAAgB,EAEf,CACL,QAAS,GACT,QAAS,UAAUN,EAAM,IAAI,QAAQA,EAAM,IAAI,GAAGA,EAAM,SAAW,KAAKA,EAAM,QAAQ,IAAM,EAAE,EAChG,CACF",
  "names": ["add_date_exports", "__export", "addDate", "__toCommonJS", "import_api", "import_node_crypto", "urlAlphabet", "POOL_SIZE_MULTIPLIER", "pool", "poolOffset", "fillPool", "bytes", "crypto", "nanoid", "size", "fillPool", "id", "i", "poolOffset", "urlAlphabet", "pool", "import_api", "getItems", "items", "saveItems", "import_api", "refreshCommands", "addDate", "input", "items", "getItems", "newItem", "nanoid", "saveItems", "refreshCommands"]
}
