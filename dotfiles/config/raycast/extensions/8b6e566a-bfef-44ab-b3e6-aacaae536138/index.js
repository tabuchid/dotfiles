"use strict";var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var w=(e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})},g=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m(t))!u.call(e,o)&&o!==r&&c(e,o,{get:()=>t[o],enumerable:!(i=p(t,o))||i.enumerable});return e};var f=e=>g(c({},"__esModule",{value:!0}),e);var P={};w(P,{default:()=>l});module.exports=f(P);var n=require("@raycast/api");async function l(e){let t=(0,n.getPreferenceValues)(),r=parseInt(e.arguments.ttl||t.ttl)||null,i=e.arguments.title||"Untitled",o=await(0,n.showToast)(n.Toast.Style.Animated,"Reading from Clipboard");try{let s=await n.Clipboard.readText();if(!s)throw new Error("No text found in Clipboard");let a=JSON.parse(s);o.title="Uploading JSON";let d=await y(i,a,r);await o.hide(),await(0,n.showHUD)("\u2705 Uploaded"),await(0,n.open)(d.location)}catch(s){let a=s instanceof Error?s.message:"Unknown error";o.style=n.Toast.Style.Failure,o.title="Something went wrong",o.message=a}}var h=()=>{let t=(0,n.getPreferenceValues)().domain||"https://jsonhero.io",r=new URL(t);return r.pathname="/api/create.json",r.searchParams.append("utm_source","raycast"),r.toString()};async function y(e,t,r){let i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,content:t,ttl:r})},o=h(),s=await fetch(o,i);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(!a.id||!a.location)throw new Error("Invalid response format");return a}
