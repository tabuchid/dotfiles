"use strict";var ht=Object.create;var K=Object.defineProperty;var mt=Object.getOwnPropertyDescriptor;var pt=Object.getOwnPropertyNames;var gt=Object.getPrototypeOf,bt=Object.prototype.hasOwnProperty;var yt=(e,r)=>{for(var t in r)K(e,t,{get:r[t],enumerable:!0})},be=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of pt(r))!bt.call(e,a)&&a!==t&&K(e,a,{get:()=>r[a],enumerable:!(n=mt(r,a))||n.enumerable});return e};var Q=(e,r,t)=>(t=e!=null?ht(gt(e)):{},be(r||!e||!e.__esModule?K(t,"default",{value:e,enumerable:!0}):t,e)),wt=e=>be(K({},"__esModule",{value:!0}),e);var kr={};yt(kr,{default:()=>it});module.exports=wt(kr);var u=require("@raycast/api");var he=require("@raycast/api");var ye=require("@raycast/api"),{itemLayout:Sr,columns:Tr,showClock:Er,rememberTag:Pr,showFirstTimezone:se,hour24:G,dateFormat:ie}=(0,ye.getPreferenceValues)();var H=require("@raycast/api"),X="https://www.timeapi.io",_r=X+"/api/timezone/availabletimezones",Ir=X+"/api/time/current/zone",$t=X+"/api/timezone/zone",Mr=X+"/api/timezone/ip";var Ar=[{title:"All",value:"All",icon:H.Icon.Globe},{title:"Starred",value:"Starred",icon:H.Icon.Stars},{title:"Other",value:"Other",icon:H.Icon.Ellipsis}],Dr=Object.values(H.Icon);var xt=Math.pow(10,8)*24*60*60*1e3,Rr=-xt,ee=6048e5,we=864e5;var kt=3600;var $e=kt*24,Wr=$e*7,vt=$e*365.2425,St=vt/12,Ur=St*3,ce=Symbol.for("constructDateFrom");function k(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&ce in e?e[ce](r):e instanceof Date?new e.constructor(r):new Date(r)}function y(e,r){return k(r||e,e)}var Tt={};function D(){return Tt}function O(e,r){let t=D(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=y(e,r?.in),o=a.getDay(),s=(o<n?7:0)+o-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function R(e,r){return O(e,{...r,weekStartsOn:1})}function te(e,r){let t=y(e,r?.in),n=t.getFullYear(),a=k(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);let o=R(a),s=k(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);let i=R(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function ue(e){let r=y(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function xe(e,...r){let t=k.bind(null,e||r.find(n=>typeof n=="object"));return r.map(t)}function le(e,r){let t=y(e,r?.in);return t.setHours(0,0,0,0),t}function ke(e,r,t){let[n,a]=xe(t?.in,e,r),o=le(n),s=le(a),i=+o-ue(o),c=+s-ue(s);return Math.round((i-c)/we)}function ve(e,r){let t=te(e,r),n=k(r?.in||e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R(n)}function Se(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Te(e){return!(!Se(e)&&typeof e!="number"||isNaN(+y(e)))}function Ee(e,r){let t=y(e,r?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Et={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pe=(e,r,t)=>{let n,a=Et[e];return typeof a=="string"?n=a:r===1?n=a.one:n=a.other.replace("{{count}}",r.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function re(e){return(r={})=>{let t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}var Pt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ot={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oe={date:re({formats:Pt,defaultWidth:"full"}),time:re({formats:Ot,defaultWidth:"full"}),dateTime:re({formats:_t,defaultWidth:"full"})};var It={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_e=(e,r,t,n)=>It[e];function V(e){return(r,t)=>{let n=t?.context?String(t.context):"standalone",a;if(n==="formatting"&&e.formattingValues){let s=e.defaultFormattingWidth||e.defaultWidth,i=t?.width?String(t.width):s;a=e.formattingValues[i]||e.formattingValues[s]}else{let s=e.defaultWidth,i=t?.width?String(t.width):e.defaultWidth;a=e.values[i]||e.values[s]}let o=e.argumentCallback?e.argumentCallback(r):r;return a[o]}}var Mt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},At={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ct={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ut=(e,r)=>{let t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ie={ordinalNumber:Ut,era:V({values:Mt,defaultWidth:"wide"}),quarter:V({values:At,defaultWidth:"wide",argumentCallback:e=>e-1}),month:V({values:Dt,defaultWidth:"wide"}),day:V({values:Ct,defaultWidth:"wide"}),dayPeriod:V({values:Rt,defaultWidth:"wide",formattingValues:Wt,defaultFormattingWidth:"wide"})};function j(e){return(r,t={})=>{let n=t.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=r.match(a);if(!o)return null;let s=o[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?Lt(i,f=>f.test(s)):Ft(i,f=>f.test(s)),p;p=e.valueCallback?e.valueCallback(c):c,p=t.valueCallback?t.valueCallback(p):p;let l=r.slice(s.length);return{value:p,rest:l}}}function Ft(e,r){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function Lt(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function Me(e){return(r,t={})=>{let n=r.match(e.matchPattern);if(!n)return null;let a=n[0],o=r.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;let i=r.slice(a.length);return{value:s,rest:i}}}var Nt=/^(\d+)(th|st|nd|rd)?/i,zt=/\d+/i,Vt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jt={any:[/^b/i,/^(a|c)/i]},Yt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bt={any:[/1/i,/2/i,/3/i,/4/i]},Gt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ht={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ae={ordinalNumber:Me({matchPattern:Nt,parsePattern:zt,valueCallback:e=>parseInt(e,10)}),era:j({matchPatterns:Vt,defaultMatchWidth:"wide",parsePatterns:jt,defaultParseWidth:"any"}),quarter:j({matchPatterns:Yt,defaultMatchWidth:"wide",parsePatterns:Bt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:j({matchPatterns:Gt,defaultMatchWidth:"wide",parsePatterns:Ht,defaultParseWidth:"any"}),day:j({matchPatterns:qt,defaultMatchWidth:"wide",parsePatterns:Zt,defaultParseWidth:"any"}),dayPeriod:j({matchPatterns:Jt,defaultMatchWidth:"any",parsePatterns:Kt,defaultParseWidth:"any"})};var fe={code:"en-US",formatDistance:Pe,formatLong:Oe,formatRelative:_e,localize:Ie,match:Ae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function De(e,r){let t=y(e,r?.in);return ke(t,Ee(t))+1}function Ce(e,r){let t=y(e,r?.in),n=+R(t)-+ve(t);return Math.round(n/ee)+1}function ne(e,r){let t=y(e,r?.in),n=t.getFullYear(),a=D(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=k(r?.in||e,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);let i=O(s,r),c=k(r?.in||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);let p=O(c,r);return+t>=+i?n+1:+t>=+p?n:n-1}function Re(e,r){let t=D(),n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=ne(e,r),o=k(r?.in||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),O(o,r)}function We(e,r){let t=y(e,r?.in),n=+O(t,r)-+Re(t,r);return Math.round(n/ee)+1}function h(e,r){let t=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return t+n}var _={y(e,r){let t=e.getFullYear(),n=t>0?t:1-t;return h(r==="yy"?n%100:n,r.length)},M(e,r){let t=e.getMonth();return r==="M"?String(t+1):h(t+1,2)},d(e,r){return h(e.getDate(),r.length)},a(e,r){let t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return h(e.getHours()%12||12,r.length)},H(e,r){return h(e.getHours(),r.length)},m(e,r){return h(e.getMinutes(),r.length)},s(e,r){return h(e.getSeconds(),r.length)},S(e,r){let t=r.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return h(a,r.length)}};var Y={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},de={G:function(e,r,t){let n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){let n=e.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return _.y(e,r)},Y:function(e,r,t,n){let a=ne(e,n),o=a>0?a:1-a;if(r==="YY"){let s=o%100;return h(s,2)}return r==="Yo"?t.ordinalNumber(o,{unit:"year"}):h(o,r.length)},R:function(e,r){let t=te(e);return h(t,r.length)},u:function(e,r){let t=e.getFullYear();return h(t,r.length)},Q:function(e,r,t){let n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return h(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){let n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return h(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){let n=e.getMonth();switch(r){case"M":case"MM":return _.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){let n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return h(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){let a=We(e,n);return r==="wo"?t.ordinalNumber(a,{unit:"week"}):h(a,r.length)},I:function(e,r,t){let n=Ce(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):h(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):_.d(e,r)},D:function(e,r,t){let n=De(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):h(n,r.length)},E:function(e,r,t){let n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){let a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return h(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){let a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return h(o,r.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,t){let n=e.getDay(),a=n===0?7:n;switch(r){case"i":return String(a);case"ii":return h(a,r.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){let a=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,t){let n=e.getHours(),a;switch(n===12?a=Y.noon:n===0?a=Y.midnight:a=n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,t){let n=e.getHours(),a;switch(n>=17?a=Y.evening:n>=12?a=Y.afternoon:n>=4?a=Y.morning:a=Y.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return _.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):_.H(e,r)},K:function(e,r,t){let n=e.getHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):h(n,r.length)},k:function(e,r,t){let n=e.getHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):h(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):_.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):_.s(e,r)},S:function(e,r){return _.S(e,r)},X:function(e,r,t){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return Fe(n);case"XXXX":case"XX":return W(n);case"XXXXX":case"XXX":default:return W(n,":")}},x:function(e,r,t){let n=e.getTimezoneOffset();switch(r){case"x":return Fe(n);case"xxxx":case"xx":return W(n);case"xxxxx":case"xxx":default:return W(n,":")}},O:function(e,r,t){let n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ue(n,":");case"OOOO":default:return"GMT"+W(n,":")}},z:function(e,r,t){let n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ue(n,":");case"zzzz":default:return"GMT"+W(n,":")}},t:function(e,r,t){let n=Math.trunc(+e/1e3);return h(n,r.length)},T:function(e,r,t){return h(+e,r.length)}};function Ue(e,r=""){let t=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+r+h(o,2)}function Fe(e,r){return e%60===0?(e>0?"-":"+")+h(Math.abs(e)/60,2):W(e,r)}function W(e,r=""){let t=e>0?"-":"+",n=Math.abs(e),a=h(Math.trunc(n/60),2),o=h(n%60,2);return t+a+r+o}var Le=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ne=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Qt=(e,r)=>{let t=e.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return Le(e,r);let o;switch(n){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Le(n,r)).replace("{{time}}",Ne(a,r))},ze={p:Ne,P:Qt};var Xt=/^D+$/,er=/^Y+$/,tr=["D","DD","YY","YYYY"];function Ve(e){return Xt.test(e)}function je(e){return er.test(e)}function Ye(e,r,t){let n=rr(e,r,t);if(console.warn(n),tr.includes(e))throw new RangeError(n)}function rr(e,r,t){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var nr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ar=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,or=/^'([^]*?)'?$/,sr=/''/g,ir=/[a-zA-Z]/;function Be(e,r,t){let n=D(),a=t?.locale??n.locale??fe,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=y(e,t?.in);if(!Te(i))throw new RangeError("Invalid time value");let c=r.match(ar).map(l=>{let f=l[0];if(f==="p"||f==="P"){let x=ze[f];return x(l,a.formatLong)}return l}).join("").match(nr).map(l=>{if(l==="''")return{isToken:!1,value:"'"};let f=l[0];if(f==="'")return{isToken:!1,value:cr(l)};if(de[f])return{isToken:!0,value:l};if(f.match(ir))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:l}});a.localize.preprocessor&&(c=a.localize.preprocessor(i,c));let p={firstWeekContainsDate:o,weekStartsOn:s,locale:a};return c.map(l=>{if(!l.isToken)return l.value;let f=l.value;(!t?.useAdditionalWeekYearTokens&&je(f)||!t?.useAdditionalDayOfYearTokens&&Ve(f))&&Ye(f,r,String(e));let x=de[f[0]];return x(i,f,a.localize,p)}).join("")}function cr(e){let r=e.match(or);return r?r[1].replace(sr,"'"):e}var lr=he.Image.Mask,q=e=>!(e!=null&&String(e).length>0);function qe(e){let r;switch(ie){case"en":{r="MM/dd/yyyy";break}case"en-GB":{r="dd/MM/yyyy";break}default:r="yyyy-MM-dd"}let t=r.replace(/y+\/?|\/?y+/gi,"").trim();t=t.replace(/^\/|\/$/g,"").replace(/^\.|\.$/g,"").replace(/^-|-$/g,"");let n=e.toLocaleTimeString("en-US",{hour12:!G,hour:"2-digit",minute:"2-digit"});return new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(e)+" "+Be(e,t)+" "+n}var Ge=(e,r)=>{let n=new Date(e).getHours();return n<6||n>=18?r?"night-icon.svg":"night-icon@dark.svg":r?"day-icon.svg":"day-icon@dark.svg"};var He=e=>e.toLocaleDateString(ie)+" "+e.toLocaleTimeString("en-US",{hour12:!G,hour:"2-digit",minute:"2-digit"}),Ze=e=>{let r=parseFloat(e),t=Math.round(r*60),n=new Date,o=n.getTime()+n.getTimezoneOffset()*6e4+t*6e4,s=new Date(o);return{date_time:s.toLocaleTimeString("en-US",{hour12:!G,hour:"2-digit",minute:"2-digit"}),unixtime:s.getTime()}},me=(e,r)=>{let t=e+"";t=t.length===10?t+"000":t;let n=new Date(parseInt(t));n.setDate(n.getUTCDate()),n.setHours(n.getUTCHours()+parseInt(r)),n.setMinutes(n.getUTCMinutes());let a=new Date(parseInt(t));return a.setDate(a.getDate()),a.setHours(a.getUTCHours()),{time:n.toLocaleTimeString("en-US",{hour12:!G,hour:"2-digit",minute:"2-digit"}),dateTime:He(n),utc_datetime:He(a),dateRaw:n}};var pe=e=>e.avatar&&e.avatar.length>0?{source:e.avatar[0],mask:lr.RoundedRectangle}:{source:{light:Ge(e.unixtime,!0),dark:Ge(e.unixtime,!1)}};var ge=require("react");var d=Q(require("react")),g=require("@raycast/api");var Je=Object.prototype.hasOwnProperty;function ae(e,r){var t,n;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((n=e.length)===r.length)for(;n--&&ae(e[n],r[n]););return n===-1}if(!t||typeof e=="object"){n=0;for(t in e)if(Je.call(e,t)&&++n&&!Je.call(r,t)||!(t in r)||!ae(e[t],r[t]))return!1;return Object.keys(r).length===n}}return e!==e&&r!==r}var U=Q(require("node:fs")),oe=Q(require("node:path")),tt=Q(require("node:crypto"));var rt=require("react/jsx-runtime");function fr(e){let r=(0,d.useRef)(e),t=(0,d.useRef)(0);return ae(e,r.current)||(r.current=e,t.current+=1),(0,d.useMemo)(()=>r.current,[t.current])}function T(e){let r=(0,d.useRef)(e);return r.current=e,r}function dr(e,r){let t=e instanceof Error?e.message:String(e);return(0,g.showToast)({style:g.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??t,primaryAction:r?.primaryAction??Ke(e),secondaryAction:r?.primaryAction?Ke(e):void 0})}var Ke=e=>{let r=!0,t="[Extension Name]...",n="";try{let s=JSON.parse((0,U.readFileSync)((0,oe.join)(g.environment.assetsPath,"..","package.json"),"utf8"));t=`[${s.title}]...`,n=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(r=!1)}catch{}let a=g.environment.isDevelopment||r,o=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:a?"Copy Logs":"Report Error",onAction(s){s.hide(),a?g.Clipboard.copy(o):(0,g.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function hr(e,r,t){let n=(0,d.useRef)(0),[a,o]=(0,d.useState)({isLoading:!0}),s=T(e),i=T(t?.abortable),c=T(r||[]),p=T(t?.onError),l=T(t?.onData),f=T(t?.onWillExecute),x=T(t?.failureToastOptions),F=T(a.data),P=(0,d.useRef)(null),w=(0,d.useRef)({page:0}),E=(0,d.useRef)(!1),I=(0,d.useRef)(!0),Z=(0,d.useRef)(50),v=(0,d.useCallback)(()=>(i.current&&(i.current.current?.abort(),i.current.current=new AbortController),++n.current),[i]),b=(0,d.useCallback)((...A)=>{let S=v();f.current?.(A),o(m=>({...m,isLoading:!0}));let N=mr(s.current)(...A);function z(m){return m.name=="AbortError"||S===n.current&&(p.current?p.current(m):g.environment.launchType!==g.LaunchType.Background&&dr(m,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(C){C.hide(),P.current?.(...c.current||[])}},...x.current}),o({error:m,isLoading:!1})),m}return typeof N=="function"?(E.current=!0,N(w.current).then(({data:m,hasMore:C,cursor:ft})=>(S===n.current&&(w.current&&(w.current.cursor=ft,w.current.lastItem=m?.[m.length-1]),l.current&&l.current(m,w.current),C&&(Z.current=m.length),I.current=C,o(dt=>w.current.page===0?{data:m,isLoading:!1}:{data:(dt.data||[])?.concat(m),isLoading:!1})),m),m=>(I.current=!1,z(m)))):(E.current=!1,N.then(m=>(S===n.current&&(l.current&&l.current(m),o({data:m,isLoading:!1})),m),z))},[l,p,c,s,o,P,f,w,x,v]);P.current=b;let M=(0,d.useCallback)(()=>{w.current={page:0};let A=c.current||[];return b(...A)},[b,c]),L=(0,d.useCallback)(async(A,S)=>{let N;try{if(S?.optimisticUpdate){v(),typeof S?.rollbackOnError!="function"&&S?.rollbackOnError!==!1&&(N=structuredClone(F.current?.value));let z=S.optimisticUpdate;o(m=>({...m,data:z(m.data)}))}return await A}catch(z){if(typeof S?.rollbackOnError=="function"){let m=S.rollbackOnError;o(C=>({...C,data:m(C.data)}))}else S?.optimisticUpdate&&S?.rollbackOnError!==!1&&o(m=>({...m,data:N}));throw z}finally{S?.shouldRevalidateAfter!==!1&&(g.environment.launchType===g.LaunchType.Background||g.environment.commandMode==="menu-bar"?await M():M())}},[M,F,o,v]),J=(0,d.useCallback)(()=>{w.current.page+=1;let A=c.current||[];b(...A)},[w,c,b]);(0,d.useEffect)(()=>{w.current={page:0},t?.execute!==!1?b(...r||[]):v()},[fr([r,t?.execute,b]),i,w]),(0,d.useEffect)(()=>()=>{v()},[v]);let ct=t?.execute!==!1?a.isLoading:!1,ut={...a,isLoading:ct},lt=E.current?{pageSize:Z.current,hasMore:I.current,onLoadMore:J}:void 0;return{...ut,revalidate:M,mutate:L,pagination:lt}}function mr(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Qe(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function pr(e){return e instanceof URLSearchParams?e.toString():e}function nt(e,r=[]){function t(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=pr(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let a=/\[object (.*)\]/i,o=Object.prototype.toString.call(n),s=a.exec(o)?.[1]??"unknown:["+o+"]";s=s.toLowerCase();let i=null;if((i=r.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+i+"]");return}else r.push(n);if(Buffer.isBuffer(n))return t("buffer:"),t(n.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")if(this["_"+s])this["_"+s](n);else throw new Error('Unknown object type "'+s+'"');else{let c=Object.keys(n);c=c.sort(),Qe(n)||c.splice(0,0,"prototype","__proto__","constructor"),t("object:"+c.length+":");let p=this;return c.forEach(function(l){p.dispatch(l),t(":"),p.dispatch(n[l]),t(",")})}},_array:function(n,a){a=typeof a<"u"?a:!1;let o=this;if(t("array:"+n.length+":"),!a||n.length<=1){n.forEach(function(c){o.dispatch(c)});return}let s=[],i=n.map(function(c){let p=gr(),l=r.slice();return nt(p,l).dispatch(c),s=s.concat(l.slice(r.length)),p.read().toString()});r=r.concat(s),i.sort(),this._array(i,!1)},_date:function(n){t("date:"+n.toJSON())},_symbol:function(n){t("symbol:"+n.toString())},_error:function(n){t("error:"+n.toString())},_boolean:function(n){t("bool:"+n.toString())},_string:function(n){t("string:"+n.length+":"),t(n.toString())},_function:function(n){t("fn:"),Qe(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){t("number:"+n.toString())},_xml:function(n){t("xml:"+n.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(n){t("regex:"+n.toString())},_uint8array:function(n){t("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){t("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){t("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){t("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){t("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){t("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){t("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){t("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){t("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){t("url:"+n.toString())},_map:function(n){t("map:");let a=Array.from(n);this._array(a,!0)},_set:function(n){t("set:");let a=Array.from(n);this._array(a,!0)},_file:function(n){t("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(n){t("bigint:"+n.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function gr(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function br(e,r){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:r}function yr(e,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function Xe(e){let r=tt.default.createHash("sha1");return nt(r).dispatch(e),r.digest("hex")}var wr=Symbol("cache without namespace"),et=new Map;function $r(e,r,t){let n=t?.cacheNamespace||wr,a=et.get(n)||et.set(n,new g.Cache({namespace:t?.cacheNamespace})).get(n);if(!a)throw new Error("Missing cache");let o=T(e),s=T(r),i=(0,d.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(o.current)}catch(f){console.error("Could not get Cache data:",f);return}}),c=(0,d.useMemo)(()=>{if(typeof i<"u"){if(i==="undefined")return;try{return JSON.parse(i,yr)}catch(f){return console.warn("The cached data is corrupted",f),s.current}}else return s.current},[i,s]),p=T(c),l=(0,d.useCallback)(f=>{let x=typeof f=="function"?f(p.current):f;if(typeof x>"u")a.set(o.current,"undefined");else{let F=JSON.stringify(x,br);a.set(o.current,F)}return x},[a,o,p]);return[c,l]}var B=Symbol();function at(e,r,t){let{initialData:n,keepPreviousData:a,internal_cacheKeySuffix:o,...s}=t||{},i=(0,d.useRef)(null),[c,p]=$r(Xe(r||[])+o,B,{cacheNamespace:Xe(e)}),l=(0,d.useRef)(c!==B?c:n),f=(0,d.useRef)(void 0),{mutate:x,revalidate:F,...P}=hr(e,r||[],{...s,onData(v,b){f.current=b,s.onData&&s.onData(v,b),!(b&&b.page>0)&&(i.current="promise",l.current=v,p(v))}}),w,E=P.pagination;f.current&&f.current.page>0&&P.data?w=P.data:i.current==="promise"?w=l.current:a&&c!==B?(w=c,E&&(E.hasMore=!0,E.pageSize=c.length)):a&&c===B?w=l.current:c!==B?(w=c,E&&(E.hasMore=!0,E.pageSize=c.length)):w=n;let I=T(w),Z=(0,d.useCallback)(async(v,b)=>{let M;try{if(b?.optimisticUpdate){typeof b?.rollbackOnError!="function"&&b?.rollbackOnError!==!1&&(M=structuredClone(I.current));let L=b.optimisticUpdate(I.current);i.current="cache",l.current=L,p(L)}return await x(v,{shouldRevalidateAfter:b?.shouldRevalidateAfter})}catch(L){if(typeof b?.rollbackOnError=="function"){let J=b.rollbackOnError(I.current);i.current="cache",l.current=J,p(J)}else b?.optimisticUpdate&&b?.rollbackOnError!==!1&&(i.current="cache",l.current=M,p(M));throw L}},[p,x,I,l,i]);return(0,d.useEffect)(()=>{c!==B&&(i.current="cache",l.current=c)},[c]),{data:w,isLoading:P.isLoading,error:P.error,mutate:f.current&&f.current.page>0?x:Z,pagination:E,revalidate:F}}var ot=require("@raycast/api");var xr=async()=>{let e=await ot.LocalStorage.getItem("StarTimeZone"),r=e?JSON.parse(e):[];return r.forEach(t=>{let{date_time:n,unixtime:a}=Ze(t.utc_offset);t.date_time=n,t.unixtime=a}),r};function st(){return at(()=>xr())}var $=require("react/jsx-runtime");function it(){let{data:e,isLoading:r}=st(),t=Array.isArray(e)?e:[],n=(0,ge.useMemo)(()=>{if(se&&t.length>0){let o=me(Date.now(),t[0].utc_offset);return(q(t[0].alias)?t[0].timezone:t[0].alias+"")+" "+qe(o.dateRaw)}else return""},[t]),a=(0,ge.useMemo)(()=>se&&t.length>0?pe(t[0]):u.Icon.Globe,[t]);return(0,$.jsxs)(u.MenuBarExtra,{isLoading:r,icon:a,title:n,children:[t.length===0&&(0,$.jsx)(u.MenuBarExtra.Item,{title:"No star timezone"}),t.map((o,s)=>{let i=me(Date.now(),o.utc_offset);return(0,$.jsxs)(u.MenuBarExtra.Submenu,{icon:pe(o),title:(q(o.alias)?o.timezone:o.alias+"")+"   "+o.date_time,children:[(0,$.jsx)(u.MenuBarExtra.Item,{icon:u.Icon.Geopin,title:"Timezone",subtitle:o.timezone,onAction:async()=>{await(0,u.showHUD)("Timezone is copied to clipboard"),await u.Clipboard.copy(o.timezone)}}),(0,$.jsx)(u.MenuBarExtra.Item,{icon:u.Icon.Clock,title:"Date Time",subtitle:i.dateTime,onAction:async()=>{await(0,u.showHUD)("Date Time is copied to clipboard"),await u.Clipboard.copy(i.dateTime)}}),(0,$.jsx)(u.MenuBarExtra.Item,{icon:u.Icon.CricketBall,title:"UTC Time",subtitle:i.utc_datetime,onAction:async()=>{await(0,u.showHUD)("UTC Time is copied to clipboard"),await u.Clipboard.copy(i.utc_datetime)}}),(0,$.jsx)(u.MenuBarExtra.Item,{icon:u.Icon.BandAid,title:"UTC Offset",subtitle:o.utc_offset,onAction:async()=>{await(0,u.showHUD)("UTC Offset is copied to clipboard"),await u.Clipboard.copy(o.utc_offset)}}),!q(o.alias)&&(0,$.jsx)(u.MenuBarExtra.Item,{icon:u.Icon.Text,title:"Alias",subtitle:o.alias,onAction:async()=>{await(0,u.showHUD)("Alias is copied to clipboard"),await u.Clipboard.copy(o.alias+"")}}),!q(o.memo)&&(0,$.jsx)(u.MenuBarExtra.Item,{icon:o.memoIcon,title:"Memo",subtitle:o.memo,onAction:async()=>{await(0,u.showHUD)("Memo is copied to clipboard"),await u.Clipboard.copy(o.memo+"")}})]},o.timezone+s)}),(0,$.jsx)(u.MenuBarExtra.Section,{children:(0,$.jsx)(u.MenuBarExtra.Item,{title:"Query World Time",icon:u.Icon.Clock,shortcut:{modifiers:["cmd"],key:"k"},onAction:async()=>{await(0,u.launchCommand)({name:"query-world-time",type:u.LaunchType.UserInitiated})}})}),(0,$.jsx)(u.MenuBarExtra.Section,{children:(0,$.jsx)(u.MenuBarExtra.Item,{title:"Settings...",icon:u.Icon.Gear,shortcut:{modifiers:["cmd"],key:","},onAction:()=>{(0,u.openCommandPreferences)().then()}})})]})}
