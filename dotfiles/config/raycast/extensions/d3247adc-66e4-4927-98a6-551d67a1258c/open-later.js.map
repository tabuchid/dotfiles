{
  "version": 3,
  "sources": ["../src/open-later.tsx", "../src/utils.ts"],
  "sourcesContent": ["import { open } from \"@raycast/api\";\nimport { getOpenUrl } from \"./utils\";\n\nexport default async function Later() {\n  await open(getOpenUrl(\"later\"));\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\n\nconst BASE_URL = new URL(\"https://read.readwise.io/\");\nconst WISEREAD_SCHEME = \"wiseread:\";\n\ninterface Preferences {\n  token: string;\n  openInDesktopApp: boolean;\n}\n\n/**\n * Constructs a URL for opening a resource in either the desktop app or web browser.\n *\n * @param path - The path to append to the base URL.\n * @returns A properly formatted URL string.\n */\nexport function getOpenUrl(path: string): string {\n  const preferences = getPreferenceValues<Preferences>();\n\n  // Ensure path starts with / for proper URL construction\n  const normalizedPath = path.startsWith(\"/\") ? path : `/${path}`;\n\n  if (preferences.openInDesktopApp) {\n    return `${WISEREAD_SCHEME}//${normalizedPath.slice(1)}`;\n  } else {\n    const url = new URL(normalizedPath, BASE_URL);\n    return url.toString();\n  }\n}\n\n/**\n * Converts a full URL to the appropriate format for opening.\n *\n * @param fullUrl - The complete URL to convert.\n * @returns A URL string formatted for the user's preferred app.\n * @throws Error if the provided URL is invalid.\n */\nexport function getOpenUrlFromFullUrl(fullUrl: string): string {\n  try {\n    const url = new URL(fullUrl);\n\n    // Construct the path with search params and hash\n    const pathWithParams = url.pathname + url.search + url.hash;\n\n    return getOpenUrl(pathWithParams);\n  } catch {\n    throw new Error(`Invalid URL provided: ${fullUrl}`);\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAqB,wBCArB,IAAAC,EAAoC,wBAE9BC,EAAW,IAAI,IAAI,2BAA2B,EAC9CC,EAAkB,YAajB,SAASC,EAAWC,EAAsB,CAC/C,IAAMC,KAAc,uBAAiC,EAG/CC,EAAiBF,EAAK,WAAW,GAAG,EAAIA,EAAO,IAAIA,CAAI,GAE7D,OAAIC,EAAY,iBACP,GAAGH,CAAe,KAAKI,EAAe,MAAM,CAAC,CAAC,GAEzC,IAAI,IAAIA,EAAgBL,CAAQ,EACjC,SAAS,CAExB,CDzBA,eAAOM,GAA+B,CACpC,QAAM,QAAKC,EAAW,OAAO,CAAC,CAChC",
  "names": ["open_later_exports", "__export", "Later", "__toCommonJS", "import_api", "import_api", "BASE_URL", "WISEREAD_SCHEME", "getOpenUrl", "path", "preferences", "normalizedPath", "Later", "getOpenUrl"]
}
